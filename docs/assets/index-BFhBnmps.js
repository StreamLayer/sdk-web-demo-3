function KX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sM={exports:{}},zv={},aM={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=Symbol.for("react.element"),YX=Symbol.for("react.portal"),QX=Symbol.for("react.fragment"),XX=Symbol.for("react.strict_mode"),ZX=Symbol.for("react.profiler"),JX=Symbol.for("react.provider"),eZ=Symbol.for("react.context"),tZ=Symbol.for("react.forward_ref"),nZ=Symbol.for("react.suspense"),rZ=Symbol.for("react.memo"),iZ=Symbol.for("react.lazy"),k7=Symbol.iterator;function sZ(t){return t===null||typeof t!="object"?null:(t=k7&&t[k7]||t["@@iterator"],typeof t=="function"?t:null)}var oM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lM=Object.assign,cM={};function Rm(t,e,n){this.props=t,this.context=e,this.refs=cM,this.updater=n||oM}Rm.prototype.isReactComponent={};Rm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uM(){}uM.prototype=Rm.prototype;function g6(t,e,n){this.props=t,this.context=e,this.refs=cM,this.updater=n||oM}var y6=g6.prototype=new uM;y6.constructor=g6;lM(y6,Rm.prototype);y6.isPureReactComponent=!0;var A7=Array.isArray,dM=Object.prototype.hasOwnProperty,T6={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function mM(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)dM.call(e,r)&&!hM.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:tg,type:t,key:s,ref:a,props:i,_owner:T6.current}}function aZ(t,e){return{$$typeof:tg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v6(t){return typeof t=="object"&&t!==null&&t.$$typeof===tg}function oZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w7=/\/+/g;function X_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oZ(""+t.key):e.toString(36)}function Ay(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tg:case YX:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+X_(a,0):r,A7(i)?(n="",t!=null&&(n=t.replace(w7,"$&/")+"/"),Ay(i,e,n,"",function(c){return c})):i!=null&&(v6(i)&&(i=aZ(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(w7,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",A7(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+X_(s,o);a+=Ay(s,e,n,l,i)}else if(l=sZ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+X_(s,o++),a+=Ay(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function o0(t,e,n){if(t==null)return t;var r=[],i=0;return Ay(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kr={current:null},wy={transition:null},cZ={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:wy,ReactCurrentOwner:T6};function pM(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:o0,forEach:function(t,e,n){o0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o0(t,function(){e++}),e},toArray:function(t){return o0(t,function(e){return e})||[]},only:function(t){if(!v6(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=Rm;nt.Fragment=QX;nt.Profiler=ZX;nt.PureComponent=g6;nt.StrictMode=XX;nt.Suspense=nZ;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cZ;nt.act=pM;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lM({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=T6.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)dM.call(e,l)&&!hM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:tg,type:t.type,key:i,ref:s,props:r,_owner:a}};nt.createContext=function(t){return t={$$typeof:eZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JX,_context:t},t.Consumer=t};nt.createElement=mM;nt.createFactory=function(t){var e=mM.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:tZ,render:t}};nt.isValidElement=v6;nt.lazy=function(t){return{$$typeof:iZ,_payload:{_status:-1,_result:t},_init:lZ}};nt.memo=function(t,e){return{$$typeof:rZ,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=wy.transition;wy.transition={};try{t()}finally{wy.transition=e}};nt.unstable_act=pM;nt.useCallback=function(t,e){return Kr.current.useCallback(t,e)};nt.useContext=function(t){return Kr.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return Kr.current.useDeferredValue(t)};nt.useEffect=function(t,e){return Kr.current.useEffect(t,e)};nt.useId=function(){return Kr.current.useId()};nt.useImperativeHandle=function(t,e,n){return Kr.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Kr.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Kr.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Kr.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return Kr.current.useReducer(t,e,n)};nt.useRef=function(t){return Kr.current.useRef(t)};nt.useState=function(t){return Kr.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Kr.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Kr.current.useTransition()};nt.version="18.3.1";aM.exports=nt;var N=aM.exports;const ci=iM(N),C7=KX({__proto__:null,default:ci},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uZ=N,dZ=Symbol.for("react.element"),hZ=Symbol.for("react.fragment"),mZ=Object.prototype.hasOwnProperty,pZ=uZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fZ={key:!0,ref:!0,__self:!0,__source:!0};function fM(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)mZ.call(e,r)&&!fZ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dZ,type:t,key:s,ref:a,props:i,_owner:pZ.current}}zv.Fragment=hZ;zv.jsx=fM;zv.jsxs=fM;sM.exports=zv;var S=sM.exports,qS={},gM={exports:{}},ji={},yM={exports:{}},TM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var Ae=re-1>>>1,W=Y[Ae];if(0<i(W,te))Y[Ae]=te,Y[re]=W,re=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var Ae=0,W=Y.length,J=W>>>1;Ae<J;){var le=2*(Ae+1)-1,ve=Y[le],Re=le+1,Me=Y[Re];if(0>i(ve,re))Re<W&&0>i(Me,ve)?(Y[Ae]=Me,Y[Re]=re,Ae=Re):(Y[Ae]=ve,Y[le]=re,Ae=le);else if(Re<W&&0>i(Me,re))Y[Ae]=Me,Y[Re]=re,Ae=Re;else break e}}return te}function i(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=Y)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function x(Y){if(p=!1,E(Y),!g)if(n(l)!==null)g=!0,oe(C);else{var te=n(c);te!==null&&_e(x,te.startTime-Y)}}function C(Y,te){g=!1,p&&(p=!1,y(U),U=-1),m=!0;var re=h;try{for(E(te),d=n(l);d!==null&&(!(d.expirationTime>te)||Y&&!X());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,h=d.priorityLevel;var W=Ae(d.expirationTime<=te);te=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),E(te)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var le=n(c);le!==null&&_e(x,le.startTime-te),J=!1}return J}finally{d=null,h=re,m=!1}}var R=!1,D=null,U=-1,K=5,V=-1;function X(){return!(t.unstable_now()-V<K)}function he(){if(D!==null){var Y=t.unstable_now();V=Y;var te=!0;try{te=D(!0,Y)}finally{te?ie():(R=!1,D=null)}}else R=!1}var ie;if(typeof v=="function")ie=function(){v(he)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ne=pe.port2;pe.port1.onmessage=he,ie=function(){ne.postMessage(null)}}else ie=function(){_(he,0)};function oe(Y){D=Y,R||(R=!0,ie())}function _e(Y,te){U=_(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,oe(C))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var re=h;h=te;try{return Y()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=h;h=Y;try{return te()}finally{h=re}},t.unstable_scheduleCallback=function(Y,te,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,Y={id:u++,callback:te,priorityLevel:Y,startTime:re,expirationTime:W,sortIndex:-1},re>Ae?(Y.sortIndex=re,e(c,Y),n(l)===null&&Y===n(c)&&(p?(y(U),U=-1):p=!0,_e(x,re-Ae))):(Y.sortIndex=W,e(l,Y),g||m||(g=!0,oe(C))),Y},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Y){var te=h;return function(){var re=h;h=te;try{return Y.apply(this,arguments)}finally{h=re}}}})(TM);yM.exports=TM;var gZ=yM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yZ=N,$i=gZ;function Ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vM=new Set,e1={};function ju(t,e){Gh(t,e),Gh(t+"Capture",e)}function Gh(t,e){for(e1[t]=e,t=0;t<e.length;t++)vM.add(e[t])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zS=Object.prototype.hasOwnProperty,TZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I7={},x7={};function vZ(t){return zS.call(x7,t)?!0:zS.call(I7,t)?!1:TZ.test(t)?x7[t]=!0:(I7[t]=!0,!1)}function _Z(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bZ(t,e,n,r){if(e===null||typeof e>"u"||_Z(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _6=/[\-:]([a-z])/g;function b6(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_6,b6);mr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_6,b6);mr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_6,b6);mr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function S6(t,e,n,r){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bZ(e,n,i,r)&&(n=null),r||i===null?vZ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ko=yZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l0=Symbol.for("react.element"),Dd=Symbol.for("react.portal"),Pd=Symbol.for("react.fragment"),E6=Symbol.for("react.strict_mode"),WS=Symbol.for("react.profiler"),_M=Symbol.for("react.provider"),bM=Symbol.for("react.context"),k6=Symbol.for("react.forward_ref"),KS=Symbol.for("react.suspense"),YS=Symbol.for("react.suspense_list"),A6=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),SM=Symbol.for("react.offscreen"),L7=Symbol.iterator;function gp(t){return t===null||typeof t!="object"?null:(t=L7&&t[L7]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,Z_;function Kp(t){if(Z_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z_=e&&e[1]||""}return`
`+Z_+t}var J_=!1;function e4(t,e){if(!t||J_)return"";J_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{J_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kp(t):""}function SZ(t){switch(t.tag){case 5:return Kp(t.type);case 16:return Kp("Lazy");case 13:return Kp("Suspense");case 19:return Kp("SuspenseList");case 0:case 2:case 15:return t=e4(t.type,!1),t;case 11:return t=e4(t.type.render,!1),t;case 1:return t=e4(t.type,!0),t;default:return""}}function QS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pd:return"Fragment";case Dd:return"Portal";case WS:return"Profiler";case E6:return"StrictMode";case KS:return"Suspense";case YS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bM:return(t.displayName||"Context")+".Consumer";case _M:return(t._context.displayName||"Context")+".Provider";case k6:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A6:return e=t.displayName||null,e!==null?e:QS(t.type)||"Memo";case _l:e=t._payload,t=t._init;try{return QS(t(e))}catch{}}return null}function EZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QS(e);case 8:return e===E6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kZ(t){var e=EM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function c0(t){t._valueTracker||(t._valueTracker=kZ(t))}function kM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XS(t,e){var n=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R7(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AM(t,e){e=e.checked,e!=null&&S6(t,"checked",e,!1)}function ZS(t,e){AM(t,e);var n=rc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?JS(t,e.type,n):e.hasOwnProperty("defaultValue")&&JS(t,e.type,rc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N7(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function JS(t,e,n){(e!=="number"||$2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yp=Array.isArray;function mh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O7(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ce(92));if(Yp(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rc(n)}}function wM(t,e){var n=rc(e.value),r=rc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D7(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var u0,IM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(u0=u0||document.createElement("div"),u0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=u0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function t1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AZ=["Webkit","ms","Moz","O"];Object.keys(bf).forEach(function(t){AZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bf[e]=bf[t]})});function xM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bf.hasOwnProperty(t)&&bf[t]?(""+e).trim():e+"px"}function LM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wZ=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nE(t,e){if(e){if(wZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function rE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iE=null;function w6(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sE=null,ph=null,fh=null;function P7(t){if(t=ig(t)){if(typeof sE!="function")throw Error(Ce(280));var e=t.stateNode;e&&(e=Xv(e),sE(t.stateNode,t.type,e))}}function RM(t){ph?fh?fh.push(t):fh=[t]:ph=t}function NM(){if(ph){var t=ph,e=fh;if(fh=ph=null,P7(t),e)for(t=0;t<e.length;t++)P7(e[t])}}function OM(t,e){return t(e)}function DM(){}var t4=!1;function PM(t,e,n){if(t4)return t(e,n);t4=!0;try{return OM(t,e,n)}finally{t4=!1,(ph!==null||fh!==null)&&(DM(),NM())}}function n1(t,e){var n=t.stateNode;if(n===null)return null;var r=Xv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ce(231,e,typeof n));return n}var aE=!1;if(Do)try{var yp={};Object.defineProperty(yp,"passive",{get:function(){aE=!0}}),window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,yp)}catch{aE=!1}function CZ(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Sf=!1,U2=null,F2=!1,oE=null,IZ={onError:function(t){Sf=!0,U2=t}};function xZ(t,e,n,r,i,s,a,o,l){Sf=!1,U2=null,CZ.apply(IZ,arguments)}function LZ(t,e,n,r,i,s,a,o,l){if(xZ.apply(this,arguments),Sf){if(Sf){var c=U2;Sf=!1,U2=null}else throw Error(Ce(198));F2||(F2=!0,oE=c)}}function Vu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M7(t){if(Vu(t)!==t)throw Error(Ce(188))}function RZ(t){var e=t.alternate;if(!e){if(e=Vu(t),e===null)throw Error(Ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return M7(i),t;if(s===r)return M7(i),e;s=s.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?t:e}function $M(t){return t=RZ(t),t!==null?UM(t):null}function UM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UM(t);if(e!==null)return e;t=t.sibling}return null}var FM=$i.unstable_scheduleCallback,$7=$i.unstable_cancelCallback,NZ=$i.unstable_shouldYield,OZ=$i.unstable_requestPaint,gn=$i.unstable_now,DZ=$i.unstable_getCurrentPriorityLevel,C6=$i.unstable_ImmediatePriority,BM=$i.unstable_UserBlockingPriority,B2=$i.unstable_NormalPriority,PZ=$i.unstable_LowPriority,jM=$i.unstable_IdlePriority,Wv=null,Ra=null;function MZ(t){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(Wv,t,void 0,(t.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:FZ,$Z=Math.log,UZ=Math.LN2;function FZ(t){return t>>>=0,t===0?32:31-($Z(t)/UZ|0)|0}var d0=64,h0=4194304;function Qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Qp(o):(s&=a,s!==0&&(r=Qp(s)))}else a=n&~i,a!==0?r=Qp(a):s!==0&&(r=Qp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bs(e),i=1<<n,r|=t[n],e&=~i;return r}function BZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jZ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Bs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=BZ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function lE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VM(){var t=d0;return d0<<=1,!(d0&4194240)&&(d0=64),t}function n4(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ng(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bs(e),t[e]=n}function VZ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function I6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Tt=0;function HM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GM,x6,qM,zM,WM,cE=!1,m0=[],Fl=null,Bl=null,jl=null,r1=new Map,i1=new Map,Cl=[],HZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U7(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":r1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":i1.delete(e.pointerId)}}function Tp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ig(e),e!==null&&x6(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GZ(t,e,n,r,i){switch(e){case"focusin":return Fl=Tp(Fl,t,e,n,r,i),!0;case"dragenter":return Bl=Tp(Bl,t,e,n,r,i),!0;case"mouseover":return jl=Tp(jl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return r1.set(s,Tp(r1.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,i1.set(s,Tp(i1.get(s)||null,t,e,n,r,i)),!0}return!1}function KM(t){var e=Jc(t.target);if(e!==null){var n=Vu(e);if(n!==null){if(e=n.tag,e===13){if(e=MM(n),e!==null){t.blockedOn=e,WM(t.priority,function(){qM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iE=r,n.target.dispatchEvent(r),iE=null}else return e=ig(n),e!==null&&x6(e),t.blockedOn=n,!1;e.shift()}return!0}function F7(t,e,n){Cy(t)&&n.delete(e)}function qZ(){cE=!1,Fl!==null&&Cy(Fl)&&(Fl=null),Bl!==null&&Cy(Bl)&&(Bl=null),jl!==null&&Cy(jl)&&(jl=null),r1.forEach(F7),i1.forEach(F7)}function vp(t,e){t.blockedOn===e&&(t.blockedOn=null,cE||(cE=!0,$i.unstable_scheduleCallback($i.unstable_NormalPriority,qZ)))}function s1(t){function e(i){return vp(i,t)}if(0<m0.length){vp(m0[0],t);for(var n=1;n<m0.length;n++){var r=m0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fl!==null&&vp(Fl,t),Bl!==null&&vp(Bl,t),jl!==null&&vp(jl,t),r1.forEach(e),i1.forEach(e),n=0;n<Cl.length;n++)r=Cl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cl.length&&(n=Cl[0],n.blockedOn===null);)KM(n),n.blockedOn===null&&Cl.shift()}var gh=Ko.ReactCurrentBatchConfig,V2=!0;function zZ(t,e,n,r){var i=Tt,s=gh.transition;gh.transition=null;try{Tt=1,L6(t,e,n,r)}finally{Tt=i,gh.transition=s}}function WZ(t,e,n,r){var i=Tt,s=gh.transition;gh.transition=null;try{Tt=4,L6(t,e,n,r)}finally{Tt=i,gh.transition=s}}function L6(t,e,n,r){if(V2){var i=uE(t,e,n,r);if(i===null)h4(t,e,r,H2,n),U7(t,r);else if(GZ(i,t,e,n,r))r.stopPropagation();else if(U7(t,r),e&4&&-1<HZ.indexOf(t)){for(;i!==null;){var s=ig(i);if(s!==null&&GM(s),s=uE(t,e,n,r),s===null&&h4(t,e,r,H2,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else h4(t,e,r,null,n)}}var H2=null;function uE(t,e,n,r){if(H2=null,t=w6(r),t=Jc(t),t!==null)if(e=Vu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return H2=t,null}function YM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DZ()){case C6:return 1;case BM:return 4;case B2:case PZ:return 16;case jM:return 536870912;default:return 16}default:return 16}}var Nl=null,R6=null,Iy=null;function QM(){if(Iy)return Iy;var t,e=R6,n=e.length,r,i="value"in Nl?Nl.value:Nl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Iy=i.slice(t,1<r?1-r:void 0)}function xy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function p0(){return!0}function B7(){return!1}function Vi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?p0:B7,this.isPropagationStopped=B7,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=p0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=p0)},persist:function(){},isPersistent:p0}),e}var Nm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N6=Vi(Nm),rg=Jt({},Nm,{view:0,detail:0}),KZ=Vi(rg),r4,i4,_p,Kv=Jt({},rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O6,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_p&&(_p&&t.type==="mousemove"?(r4=t.screenX-_p.screenX,i4=t.screenY-_p.screenY):i4=r4=0,_p=t),r4)},movementY:function(t){return"movementY"in t?t.movementY:i4}}),j7=Vi(Kv),YZ=Jt({},Kv,{dataTransfer:0}),QZ=Vi(YZ),XZ=Jt({},rg,{relatedTarget:0}),s4=Vi(XZ),ZZ=Jt({},Nm,{animationName:0,elapsedTime:0,pseudoElement:0}),JZ=Vi(ZZ),eJ=Jt({},Nm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tJ=Vi(eJ),nJ=Jt({},Nm,{data:0}),V7=Vi(nJ),rJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sJ[t])?!!e[t]:!1}function O6(){return aJ}var oJ=Jt({},rg,{key:function(t){if(t.key){var e=rJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O6,charCode:function(t){return t.type==="keypress"?xy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lJ=Vi(oJ),cJ=Jt({},Kv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H7=Vi(cJ),uJ=Jt({},rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O6}),dJ=Vi(uJ),hJ=Jt({},Nm,{propertyName:0,elapsedTime:0,pseudoElement:0}),mJ=Vi(hJ),pJ=Jt({},Kv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fJ=Vi(pJ),gJ=[9,13,27,32],D6=Do&&"CompositionEvent"in window,Ef=null;Do&&"documentMode"in document&&(Ef=document.documentMode);var yJ=Do&&"TextEvent"in window&&!Ef,XM=Do&&(!D6||Ef&&8<Ef&&11>=Ef),G7=" ",q7=!1;function ZM(t,e){switch(t){case"keyup":return gJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Md=!1;function TJ(t,e){switch(t){case"compositionend":return JM(e);case"keypress":return e.which!==32?null:(q7=!0,G7);case"textInput":return t=e.data,t===G7&&q7?null:t;default:return null}}function vJ(t,e){if(Md)return t==="compositionend"||!D6&&ZM(t,e)?(t=QM(),Iy=R6=Nl=null,Md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XM&&e.locale!=="ko"?null:e.data;default:return null}}var _J={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_J[t.type]:e==="textarea"}function e$(t,e,n,r){RM(r),e=G2(e,"onChange"),0<e.length&&(n=new N6("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kf=null,a1=null;function bJ(t){d$(t,0)}function Yv(t){var e=Fd(t);if(kM(e))return t}function SJ(t,e){if(t==="change")return e}var t$=!1;if(Do){var a4;if(Do){var o4="oninput"in document;if(!o4){var W7=document.createElement("div");W7.setAttribute("oninput","return;"),o4=typeof W7.oninput=="function"}a4=o4}else a4=!1;t$=a4&&(!document.documentMode||9<document.documentMode)}function K7(){kf&&(kf.detachEvent("onpropertychange",n$),a1=kf=null)}function n$(t){if(t.propertyName==="value"&&Yv(a1)){var e=[];e$(e,a1,t,w6(t)),PM(bJ,e)}}function EJ(t,e,n){t==="focusin"?(K7(),kf=e,a1=n,kf.attachEvent("onpropertychange",n$)):t==="focusout"&&K7()}function kJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yv(a1)}function AJ(t,e){if(t==="click")return Yv(e)}function wJ(t,e){if(t==="input"||t==="change")return Yv(e)}function CJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:CJ;function o1(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zS.call(e,i)||!Ks(t[i],e[i]))return!1}return!0}function Y7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q7(t,e){var n=Y7(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y7(n)}}function r$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i$(){for(var t=window,e=$2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$2(t.document)}return e}function P6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IJ(t){var e=i$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r$(n.ownerDocument.documentElement,n)){if(r!==null&&P6(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q7(n,s);var a=Q7(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xJ=Do&&"documentMode"in document&&11>=document.documentMode,$d=null,dE=null,Af=null,hE=!1;function X7(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hE||$d==null||$d!==$2(r)||(r=$d,"selectionStart"in r&&P6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Af&&o1(Af,r)||(Af=r,r=G2(dE,"onSelect"),0<r.length&&(e=new N6("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$d)))}function f0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ud={animationend:f0("Animation","AnimationEnd"),animationiteration:f0("Animation","AnimationIteration"),animationstart:f0("Animation","AnimationStart"),transitionend:f0("Transition","TransitionEnd")},l4={},s$={};Do&&(s$=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function Qv(t){if(l4[t])return l4[t];if(!Ud[t])return t;var e=Ud[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s$)return l4[t]=e[n];return t}var a$=Qv("animationend"),o$=Qv("animationiteration"),l$=Qv("animationstart"),c$=Qv("transitionend"),u$=new Map,Z7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(t,e){u$.set(t,e),ju(e,[t])}for(var c4=0;c4<Z7.length;c4++){var u4=Z7[c4],LJ=u4.toLowerCase(),RJ=u4[0].toUpperCase()+u4.slice(1);Tc(LJ,"on"+RJ)}Tc(a$,"onAnimationEnd");Tc(o$,"onAnimationIteration");Tc(l$,"onAnimationStart");Tc("dblclick","onDoubleClick");Tc("focusin","onFocus");Tc("focusout","onBlur");Tc(c$,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xp));function J7(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LZ(r,e,void 0,t),t.currentTarget=null}function d$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;J7(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;J7(i,o,c),s=l}}}if(F2)throw t=oE,F2=!1,oE=null,t}function Mt(t,e){var n=e[yE];n===void 0&&(n=e[yE]=new Set);var r=t+"__bubble";n.has(r)||(h$(e,t,2,!1),n.add(r))}function d4(t,e,n){var r=0;e&&(r|=4),h$(n,t,r,e)}var g0="_reactListening"+Math.random().toString(36).slice(2);function l1(t){if(!t[g0]){t[g0]=!0,vM.forEach(function(n){n!=="selectionchange"&&(NJ.has(n)||d4(n,!1,t),d4(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[g0]||(e[g0]=!0,d4("selectionchange",!1,e))}}function h$(t,e,n,r){switch(YM(e)){case 1:var i=zZ;break;case 4:i=WZ;break;default:i=L6}n=i.bind(null,e,n,t),i=void 0,!aE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function h4(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Jc(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}PM(function(){var c=s,u=w6(n),d=[];e:{var h=u$.get(t);if(h!==void 0){var m=N6,g=t;switch(t){case"keypress":if(xy(n)===0)break e;case"keydown":case"keyup":m=lJ;break;case"focusin":g="focus",m=s4;break;case"focusout":g="blur",m=s4;break;case"beforeblur":case"afterblur":m=s4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dJ;break;case a$:case o$:case l$:m=JZ;break;case c$:m=mJ;break;case"scroll":m=KZ;break;case"wheel":m=fJ;break;case"copy":case"cut":case"paste":m=tJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H7}var p=(e&4)!==0,_=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=c,E;v!==null;){E=v;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,y!==null&&(x=n1(v,y),x!=null&&p.push(c1(v,x,E)))),_)break;v=v.return}0<p.length&&(h=new m(h,g,null,n,u),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==iE&&(g=n.relatedTarget||n.fromElement)&&(Jc(g)||g[Po]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Jc(g):null,g!==null&&(_=Vu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(p=j7,x="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=H7,x="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:Fd(m),E=g==null?h:Fd(g),h=new p(x,v+"leave",m,n,u),h.target=_,h.relatedTarget=E,x=null,Jc(u)===c&&(p=new p(y,v+"enter",g,n,u),p.target=E,p.relatedTarget=_,x=p),_=x,m&&g)t:{for(p=m,y=g,v=0,E=p;E;E=rd(E))v++;for(E=0,x=y;x;x=rd(x))E++;for(;0<v-E;)p=rd(p),v--;for(;0<E-v;)y=rd(y),E--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=rd(p),y=rd(y)}p=null}else p=null;m!==null&&eC(d,h,m,p,!1),g!==null&&_!==null&&eC(d,_,g,p,!0)}}e:{if(h=c?Fd(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=SJ;else if(z7(h))if(t$)C=wJ;else{C=kJ;var R=EJ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=AJ);if(C&&(C=C(t,c))){e$(d,C,n,u);break e}R&&R(t,h,c),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&JS(h,"number",h.value)}switch(R=c?Fd(c):window,t){case"focusin":(z7(R)||R.contentEditable==="true")&&($d=R,dE=c,Af=null);break;case"focusout":Af=dE=$d=null;break;case"mousedown":hE=!0;break;case"contextmenu":case"mouseup":case"dragend":hE=!1,X7(d,n,u);break;case"selectionchange":if(xJ)break;case"keydown":case"keyup":X7(d,n,u)}var D;if(D6)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Md?ZM(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(XM&&n.locale!=="ko"&&(Md||U!=="onCompositionStart"?U==="onCompositionEnd"&&Md&&(D=QM()):(Nl=u,R6="value"in Nl?Nl.value:Nl.textContent,Md=!0)),R=G2(c,U),0<R.length&&(U=new V7(U,t,null,n,u),d.push({event:U,listeners:R}),D?U.data=D:(D=JM(n),D!==null&&(U.data=D)))),(D=yJ?TJ(t,n):vJ(t,n))&&(c=G2(c,"onBeforeInput"),0<c.length&&(u=new V7("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=D))}d$(d,e)})}function c1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function G2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=n1(t,n),s!=null&&r.unshift(c1(t,s,i)),s=n1(t,e),s!=null&&r.push(c1(t,s,i))),t=t.return}return r}function rd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eC(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=n1(n,s),l!=null&&a.unshift(c1(n,l,o))):i||(l=n1(n,s),l!=null&&a.push(c1(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var OJ=/\r\n?/g,DJ=/\u0000|\uFFFD/g;function tC(t){return(typeof t=="string"?t:""+t).replace(OJ,`
`).replace(DJ,"")}function y0(t,e,n){if(e=tC(e),tC(t)!==e&&n)throw Error(Ce(425))}function q2(){}var mE=null,pE=null;function fE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gE=typeof setTimeout=="function"?setTimeout:void 0,PJ=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,MJ=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(t){return nC.resolve(null).then(t).catch($J)}:gE;function $J(t){setTimeout(function(){throw t})}function m4(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),s1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);s1(e)}function Vl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Om=Math.random().toString(36).slice(2),Sa="__reactFiber$"+Om,u1="__reactProps$"+Om,Po="__reactContainer$"+Om,yE="__reactEvents$"+Om,UJ="__reactListeners$"+Om,FJ="__reactHandles$"+Om;function Jc(t){var e=t[Sa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Po]||n[Sa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rC(t);t!==null;){if(n=t[Sa])return n;t=rC(t)}return e}t=n,n=t.parentNode}return null}function ig(t){return t=t[Sa]||t[Po],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ce(33))}function Xv(t){return t[u1]||null}var TE=[],Bd=-1;function vc(t){return{current:t}}function Ft(t){0>Bd||(t.current=TE[Bd],TE[Bd]=null,Bd--)}function Nt(t,e){Bd++,TE[Bd]=t.current,t.current=e}var ic={},Rr=vc(ic),mi=vc(!1),wu=ic;function qh(t,e){var n=t.type.contextTypes;if(!n)return ic;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pi(t){return t=t.childContextTypes,t!=null}function z2(){Ft(mi),Ft(Rr)}function iC(t,e,n){if(Rr.current!==ic)throw Error(Ce(168));Nt(Rr,e),Nt(mi,n)}function m$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,EZ(t)||"Unknown",i));return Jt({},n,r)}function W2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ic,wu=Rr.current,Nt(Rr,t),Nt(mi,mi.current),!0}function sC(t,e,n){var r=t.stateNode;if(!r)throw Error(Ce(169));n?(t=m$(t,e,wu),r.__reactInternalMemoizedMergedChildContext=t,Ft(mi),Ft(Rr),Nt(Rr,t)):Ft(mi),Nt(mi,n)}var co=null,Zv=!1,p4=!1;function p$(t){co===null?co=[t]:co.push(t)}function BJ(t){Zv=!0,p$(t)}function _c(){if(!p4&&co!==null){p4=!0;var t=0,e=Tt;try{var n=co;for(Tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}co=null,Zv=!1}catch(i){throw co!==null&&(co=co.slice(t+1)),FM(C6,_c),i}finally{Tt=e,p4=!1}}return null}var jd=[],Vd=0,K2=null,Y2=0,ts=[],ns=0,Cu=null,bo=1,So="";function Vc(t,e){jd[Vd++]=Y2,jd[Vd++]=K2,K2=t,Y2=e}function f$(t,e,n){ts[ns++]=bo,ts[ns++]=So,ts[ns++]=Cu,Cu=t;var r=bo;t=So;var i=32-Bs(r)-1;r&=~(1<<i),n+=1;var s=32-Bs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,bo=1<<32-Bs(e)+i|n<<i|r,So=s+t}else bo=1<<s|n<<i|r,So=t}function M6(t){t.return!==null&&(Vc(t,1),f$(t,1,0))}function $6(t){for(;t===K2;)K2=jd[--Vd],jd[Vd]=null,Y2=jd[--Vd],jd[Vd]=null;for(;t===Cu;)Cu=ts[--ns],ts[ns]=null,So=ts[--ns],ts[ns]=null,bo=ts[--ns],ts[ns]=null}var Oi=null,Li=null,Gt=!1,$s=null;function g$(t,e){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,Li=Vl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,Li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cu!==null?{id:bo,overflow:So}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=as(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oi=t,Li=null,!0):!1;default:return!1}}function vE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _E(t){if(Gt){var e=Li;if(e){var n=e;if(!aC(t,e)){if(vE(t))throw Error(Ce(418));e=Vl(n.nextSibling);var r=Oi;e&&aC(t,e)?g$(r,n):(t.flags=t.flags&-4097|2,Gt=!1,Oi=t)}}else{if(vE(t))throw Error(Ce(418));t.flags=t.flags&-4097|2,Gt=!1,Oi=t}}}function oC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function T0(t){if(t!==Oi)return!1;if(!Gt)return oC(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fE(t.type,t.memoizedProps)),e&&(e=Li)){if(vE(t))throw y$(),Error(Ce(418));for(;e;)g$(t,e),e=Vl(e.nextSibling)}if(oC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Li=Vl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Li=null}}else Li=Oi?Vl(t.stateNode.nextSibling):null;return!0}function y$(){for(var t=Li;t;)t=Vl(t.nextSibling)}function zh(){Li=Oi=null,Gt=!1}function U6(t){$s===null?$s=[t]:$s.push(t)}var jJ=Ko.ReactCurrentBatchConfig;function bp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,t))}return t}function v0(t,e){throw t=Object.prototype.toString.call(e),Error(Ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lC(t){var e=t._init;return e(t._payload)}function T$(t){function e(y,v){if(t){var E=y.deletions;E===null?(y.deletions=[v],y.flags|=16):E.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=zl(y,v),y.index=0,y.sibling=null,y}function s(y,v,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<v?(y.flags|=2,v):E):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,v,E,x){return v===null||v.tag!==6?(v=b4(E,y.mode,x),v.return=y,v):(v=i(v,E),v.return=y,v)}function l(y,v,E,x){var C=E.type;return C===Pd?u(y,v,E.props.children,x,E.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_l&&lC(C)===v.type)?(x=i(v,E.props),x.ref=bp(y,v,E),x.return=y,x):(x=My(E.type,E.key,E.props,null,y.mode,x),x.ref=bp(y,v,E),x.return=y,x)}function c(y,v,E,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=S4(E,y.mode,x),v.return=y,v):(v=i(v,E.children||[]),v.return=y,v)}function u(y,v,E,x,C){return v===null||v.tag!==7?(v=hu(E,y.mode,x,C),v.return=y,v):(v=i(v,E),v.return=y,v)}function d(y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=b4(""+v,y.mode,E),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case l0:return E=My(v.type,v.key,v.props,null,y.mode,E),E.ref=bp(y,null,v),E.return=y,E;case Dd:return v=S4(v,y.mode,E),v.return=y,v;case _l:var x=v._init;return d(y,x(v._payload),E)}if(Yp(v)||gp(v))return v=hu(v,y.mode,E,null),v.return=y,v;v0(y,v)}return null}function h(y,v,E,x){var C=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:o(y,v,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case l0:return E.key===C?l(y,v,E,x):null;case Dd:return E.key===C?c(y,v,E,x):null;case _l:return C=E._init,h(y,v,C(E._payload),x)}if(Yp(E)||gp(E))return C!==null?null:u(y,v,E,x,null);v0(y,E)}return null}function m(y,v,E,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(E)||null,o(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case l0:return y=y.get(x.key===null?E:x.key)||null,l(v,y,x,C);case Dd:return y=y.get(x.key===null?E:x.key)||null,c(v,y,x,C);case _l:var R=x._init;return m(y,v,E,R(x._payload),C)}if(Yp(x)||gp(x))return y=y.get(E)||null,u(v,y,x,C,null);v0(v,x)}return null}function g(y,v,E,x){for(var C=null,R=null,D=v,U=v=0,K=null;D!==null&&U<E.length;U++){D.index>U?(K=D,D=null):K=D.sibling;var V=h(y,D,E[U],x);if(V===null){D===null&&(D=K);break}t&&D&&V.alternate===null&&e(y,D),v=s(V,v,U),R===null?C=V:R.sibling=V,R=V,D=K}if(U===E.length)return n(y,D),Gt&&Vc(y,U),C;if(D===null){for(;U<E.length;U++)D=d(y,E[U],x),D!==null&&(v=s(D,v,U),R===null?C=D:R.sibling=D,R=D);return Gt&&Vc(y,U),C}for(D=r(y,D);U<E.length;U++)K=m(D,y,U,E[U],x),K!==null&&(t&&K.alternate!==null&&D.delete(K.key===null?U:K.key),v=s(K,v,U),R===null?C=K:R.sibling=K,R=K);return t&&D.forEach(function(X){return e(y,X)}),Gt&&Vc(y,U),C}function p(y,v,E,x){var C=gp(E);if(typeof C!="function")throw Error(Ce(150));if(E=C.call(E),E==null)throw Error(Ce(151));for(var R=C=null,D=v,U=v=0,K=null,V=E.next();D!==null&&!V.done;U++,V=E.next()){D.index>U?(K=D,D=null):K=D.sibling;var X=h(y,D,V.value,x);if(X===null){D===null&&(D=K);break}t&&D&&X.alternate===null&&e(y,D),v=s(X,v,U),R===null?C=X:R.sibling=X,R=X,D=K}if(V.done)return n(y,D),Gt&&Vc(y,U),C;if(D===null){for(;!V.done;U++,V=E.next())V=d(y,V.value,x),V!==null&&(v=s(V,v,U),R===null?C=V:R.sibling=V,R=V);return Gt&&Vc(y,U),C}for(D=r(y,D);!V.done;U++,V=E.next())V=m(D,y,U,V.value,x),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?U:V.key),v=s(V,v,U),R===null?C=V:R.sibling=V,R=V);return t&&D.forEach(function(he){return e(y,he)}),Gt&&Vc(y,U),C}function _(y,v,E,x){if(typeof E=="object"&&E!==null&&E.type===Pd&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case l0:e:{for(var C=E.key,R=v;R!==null;){if(R.key===C){if(C=E.type,C===Pd){if(R.tag===7){n(y,R.sibling),v=i(R,E.props.children),v.return=y,y=v;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===_l&&lC(C)===R.type){n(y,R.sibling),v=i(R,E.props),v.ref=bp(y,R,E),v.return=y,y=v;break e}n(y,R);break}else e(y,R);R=R.sibling}E.type===Pd?(v=hu(E.props.children,y.mode,x,E.key),v.return=y,y=v):(x=My(E.type,E.key,E.props,null,y.mode,x),x.ref=bp(y,v,E),x.return=y,y=x)}return a(y);case Dd:e:{for(R=E.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(y,v.sibling),v=i(v,E.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=S4(E,y.mode,x),v.return=y,y=v}return a(y);case _l:return R=E._init,_(y,v,R(E._payload),x)}if(Yp(E))return g(y,v,E,x);if(gp(E))return p(y,v,E,x);v0(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,E),v.return=y,y=v):(n(y,v),v=b4(E,y.mode,x),v.return=y,y=v),a(y)):n(y,v)}return _}var Wh=T$(!0),v$=T$(!1),Q2=vc(null),X2=null,Hd=null,F6=null;function B6(){F6=Hd=X2=null}function j6(t){var e=Q2.current;Ft(Q2),t._currentValue=e}function bE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yh(t,e){X2=t,F6=Hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(di=!0),t.firstContext=null)}function ms(t){var e=t._currentValue;if(F6!==t)if(t={context:t,memoizedValue:e,next:null},Hd===null){if(X2===null)throw Error(Ce(308));Hd=t,X2.dependencies={lanes:0,firstContext:t}}else Hd=Hd.next=t;return e}var eu=null;function V6(t){eu===null?eu=[t]:eu.push(t)}function _$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V6(e)):(n.next=i.next,i.next=n),e.interleaved=n,Mo(t,r)}function Mo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bl=!1;function H6(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mo(t,n)}return i=r.interleaved,i===null?(e.next=e,V6(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mo(t,n)}function Ly(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I6(t,n)}}function cC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Z2(t,e,n,r){var i=t.updateQueue;bl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(h=e,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Jt({},d,h);break e;case 2:bl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xu|=a,t.lanes=a,t.memoizedState=d}}function uC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var sg={},Na=vc(sg),d1=vc(sg),h1=vc(sg);function tu(t){if(t===sg)throw Error(Ce(174));return t}function G6(t,e){switch(Nt(h1,e),Nt(d1,t),Nt(Na,sg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tE(e,t)}Ft(Na),Nt(Na,e)}function Kh(){Ft(Na),Ft(d1),Ft(h1)}function S$(t){tu(h1.current);var e=tu(Na.current),n=tE(e,t.type);e!==n&&(Nt(d1,t),Nt(Na,n))}function q6(t){d1.current===t&&(Ft(Na),Ft(d1))}var Kt=vc(0);function J2(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var f4=[];function z6(){for(var t=0;t<f4.length;t++)f4[t]._workInProgressVersionPrimary=null;f4.length=0}var Ry=Ko.ReactCurrentDispatcher,g4=Ko.ReactCurrentBatchConfig,Iu=0,Xt=null,Dn=null,Gn=null,eT=!1,wf=!1,m1=0,VJ=0;function yr(){throw Error(Ce(321))}function W6(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ks(t[n],e[n]))return!1;return!0}function K6(t,e,n,r,i,s){if(Iu=s,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ry.current=t===null||t.memoizedState===null?zJ:WJ,t=n(r,i),wf){s=0;do{if(wf=!1,m1=0,25<=s)throw Error(Ce(301));s+=1,Gn=Dn=null,e.updateQueue=null,Ry.current=KJ,t=n(r,i)}while(wf)}if(Ry.current=tT,e=Dn!==null&&Dn.next!==null,Iu=0,Gn=Dn=Xt=null,eT=!1,e)throw Error(Ce(300));return t}function Y6(){var t=m1!==0;return m1=0,t}function sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Xt.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function ps(){if(Dn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var e=Gn===null?Xt.memoizedState:Gn.next;if(e!==null)Gn=e,Dn=t;else{if(t===null)throw Error(Ce(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Gn===null?Xt.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function p1(t,e){return typeof e=="function"?e(t):e}function y4(t){var e=ps(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=Dn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Iu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Xt.lanes|=u,xu|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Ks(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xt.lanes|=s,xu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function T4(t){var e=ps(),n=e.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ks(s,e.memoizedState)||(di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function E$(){}function k$(t,e){var n=Xt,r=ps(),i=e(),s=!Ks(r.memoizedState,i);if(s&&(r.memoizedState=i,di=!0),r=r.queue,Q6(C$.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,f1(9,w$.bind(null,n,r,i,e),void 0,null),Qn===null)throw Error(Ce(349));Iu&30||A$(n,e,i)}return i}function A$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w$(t,e,n,r){e.value=n,e.getSnapshot=r,I$(e)&&x$(t)}function C$(t,e,n){return n(function(){I$(e)&&x$(t)})}function I$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ks(t,n)}catch{return!0}}function x$(t){var e=Mo(t,1);e!==null&&js(e,t,1,-1)}function dC(t){var e=sa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:t},e.queue=t,t=t.dispatch=qJ.bind(null,Xt,t),[e.memoizedState,t]}function f1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L$(){return ps().memoizedState}function Ny(t,e,n,r){var i=sa();Xt.flags|=t,i.memoizedState=f1(1|e,n,void 0,r===void 0?null:r)}function Jv(t,e,n,r){var i=ps();r=r===void 0?null:r;var s=void 0;if(Dn!==null){var a=Dn.memoizedState;if(s=a.destroy,r!==null&&W6(r,a.deps)){i.memoizedState=f1(e,n,s,r);return}}Xt.flags|=t,i.memoizedState=f1(1|e,n,s,r)}function hC(t,e){return Ny(8390656,8,t,e)}function Q6(t,e){return Jv(2048,8,t,e)}function R$(t,e){return Jv(4,2,t,e)}function N$(t,e){return Jv(4,4,t,e)}function O$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D$(t,e,n){return n=n!=null?n.concat([t]):null,Jv(4,4,O$.bind(null,e,t),n)}function X6(){}function P$(t,e){var n=ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W6(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M$(t,e){var n=ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W6(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $$(t,e,n){return Iu&21?(Ks(n,e)||(n=VM(),Xt.lanes|=n,xu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,di=!0),t.memoizedState=n)}function HJ(t,e){var n=Tt;Tt=n!==0&&4>n?n:4,t(!0);var r=g4.transition;g4.transition={};try{t(!1),e()}finally{Tt=n,g4.transition=r}}function U$(){return ps().memoizedState}function GJ(t,e,n){var r=ql(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F$(t))B$(e,n);else if(n=_$(t,e,n,r),n!==null){var i=zr();js(n,t,r,i),j$(n,e,r)}}function qJ(t,e,n){var r=ql(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F$(t))B$(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ks(o,a)){var l=e.interleaved;l===null?(i.next=i,V6(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_$(t,e,i,r),n!==null&&(i=zr(),js(n,t,r,i),j$(n,e,r))}}function F$(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function B$(t,e){wf=eT=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I6(t,n)}}var tT={readContext:ms,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},zJ={readContext:ms,useCallback:function(t,e){return sa().memoizedState=[t,e===void 0?null:e],t},useContext:ms,useEffect:hC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ny(4194308,4,O$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ny(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ny(4,2,t,e)},useMemo:function(t,e){var n=sa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GJ.bind(null,Xt,t),[r.memoizedState,t]},useRef:function(t){var e=sa();return t={current:t},e.memoizedState=t},useState:dC,useDebugValue:X6,useDeferredValue:function(t){return sa().memoizedState=t},useTransition:function(){var t=dC(!1),e=t[0];return t=HJ.bind(null,t[1]),sa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xt,i=sa();if(Gt){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=e(),Qn===null)throw Error(Ce(349));Iu&30||A$(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hC(C$.bind(null,r,s,t),[t]),r.flags|=2048,f1(9,w$.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sa(),e=Qn.identifierPrefix;if(Gt){var n=So,r=bo;n=(r&~(1<<32-Bs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=m1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WJ={readContext:ms,useCallback:P$,useContext:ms,useEffect:Q6,useImperativeHandle:D$,useInsertionEffect:R$,useLayoutEffect:N$,useMemo:M$,useReducer:y4,useRef:L$,useState:function(){return y4(p1)},useDebugValue:X6,useDeferredValue:function(t){var e=ps();return $$(e,Dn.memoizedState,t)},useTransition:function(){var t=y4(p1)[0],e=ps().memoizedState;return[t,e]},useMutableSource:E$,useSyncExternalStore:k$,useId:U$,unstable_isNewReconciler:!1},KJ={readContext:ms,useCallback:P$,useContext:ms,useEffect:Q6,useImperativeHandle:D$,useInsertionEffect:R$,useLayoutEffect:N$,useMemo:M$,useReducer:T4,useRef:L$,useState:function(){return T4(p1)},useDebugValue:X6,useDeferredValue:function(t){var e=ps();return Dn===null?e.memoizedState=t:$$(e,Dn.memoizedState,t)},useTransition:function(){var t=T4(p1)[0],e=ps().memoizedState;return[t,e]},useMutableSource:E$,useSyncExternalStore:k$,useId:U$,unstable_isNewReconciler:!1};function Ns(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function SE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var e3={isMounted:function(t){return(t=t._reactInternals)?Vu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zr(),i=ql(t),s=xo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Hl(t,s,i),e!==null&&(js(e,t,i,r),Ly(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zr(),i=ql(t),s=xo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Hl(t,s,i),e!==null&&(js(e,t,i,r),Ly(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zr(),r=ql(t),i=xo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hl(t,i,r),e!==null&&(js(e,t,r,n),Ly(e,t,r))}};function mC(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!o1(n,r)||!o1(i,s):!0}function V$(t,e,n){var r=!1,i=ic,s=e.contextType;return typeof s=="object"&&s!==null?s=ms(s):(i=pi(e)?wu:Rr.current,r=e.contextTypes,s=(r=r!=null)?qh(t,i):ic),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=e3,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&e3.enqueueReplaceState(e,e.state,null)}function EE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},H6(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ms(s):(s=pi(e)?wu:Rr.current,i.context=qh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(SE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&e3.enqueueReplaceState(i,i.state,null),Z2(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yh(t,e){try{var n="",r=e;do n+=SZ(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function v4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YJ=typeof WeakMap=="function"?WeakMap:Map;function H$(t,e,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rT||(rT=!0,DE=r),kE(t,e)},n}function G$(t,e,n){n=xo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kE(t,e),typeof r!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function fC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cee.bind(null,t,e,n),e.then(t,t))}function gC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xo(-1,1),e.tag=2,Hl(n,e,1))),n.lanes|=1),t)}var QJ=Ko.ReactCurrentOwner,di=!1;function Fr(t,e,n,r){e.child=t===null?v$(e,null,n,r):Wh(e,t.child,n,r)}function TC(t,e,n,r,i){n=n.render;var s=e.ref;return yh(e,i),r=K6(t,e,n,r,s,i),n=Y6(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$o(t,e,i)):(Gt&&n&&M6(e),e.flags|=1,Fr(t,e,r,i),e.child)}function vC(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!s5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,q$(t,e,s,r,i)):(t=My(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:o1,n(a,r)&&t.ref===e.ref)return $o(t,e,i)}return e.flags|=1,t=zl(s,r),t.ref=e.ref,t.return=e,e.child=t}function q$(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(o1(s,r)&&t.ref===e.ref)if(di=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(di=!0);else return e.lanes=t.lanes,$o(t,e,i)}return AE(t,e,n,r,i)}function z$(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(qd,wi),wi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(qd,wi),wi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Nt(qd,wi),wi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Nt(qd,wi),wi|=r;return Fr(t,e,i,n),e.child}function W$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function AE(t,e,n,r,i){var s=pi(n)?wu:Rr.current;return s=qh(e,s),yh(e,i),n=K6(t,e,n,r,s,i),r=Y6(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$o(t,e,i)):(Gt&&r&&M6(e),e.flags|=1,Fr(t,e,n,i),e.child)}function _C(t,e,n,r,i){if(pi(n)){var s=!0;W2(e)}else s=!1;if(yh(e,i),e.stateNode===null)Oy(t,e),V$(e,n,r),EE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ms(c):(c=pi(n)?wu:Rr.current,c=qh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&pC(e,a,r,c),bl=!1;var h=e.memoizedState;a.state=h,Z2(e,r,a,i),l=e.memoizedState,o!==r||h!==l||mi.current||bl?(typeof u=="function"&&(SE(e,n,u,r),l=e.memoizedState),(o=bl||mC(e,n,o,r,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,b$(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ns(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ms(l):(l=pi(n)?wu:Rr.current,l=qh(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&pC(e,a,r,l),bl=!1,h=e.memoizedState,a.state=h,Z2(e,r,a,i);var g=e.memoizedState;o!==d||h!==g||mi.current||bl?(typeof m=="function"&&(SE(e,n,m,r),g=e.memoizedState),(c=bl||mC(e,n,c,r,h,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wE(t,e,n,r,s,i)}function wE(t,e,n,r,i,s){W$(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&sC(e,n,!1),$o(t,e,s);r=e.stateNode,QJ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Wh(e,t.child,null,s),e.child=Wh(e,null,o,s)):Fr(t,e,o,s),e.memoizedState=r.state,i&&sC(e,n,!0),e.child}function K$(t){var e=t.stateNode;e.pendingContext?iC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iC(t,e.context,!1),G6(t,e.containerInfo)}function bC(t,e,n,r,i){return zh(),U6(i),e.flags|=256,Fr(t,e,n,r),e.child}var CE={dehydrated:null,treeContext:null,retryLane:0};function IE(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y$(t,e,n){var r=e.pendingProps,i=Kt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(Kt,i&1),t===null)return _E(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=r3(a,r,0,null),t=hu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=IE(n),e.memoizedState=CE,t):Z6(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return XJ(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=zl(o,s):(s=hu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?IE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=CE,r}return s=t.child,t=s.sibling,r=zl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z6(t,e){return e=r3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _0(t,e,n,r){return r!==null&&U6(r),Wh(e,t.child,null,n),t=Z6(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XJ(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=v4(Error(Ce(422))),_0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=r3({mode:"visible",children:r.children},i,0,null),s=hu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wh(e,t.child,null,a),e.child.memoizedState=IE(a),e.memoizedState=CE,s);if(!(e.mode&1))return _0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Ce(419)),r=v4(s,r,void 0),_0(t,e,a,r)}if(o=(a&t.childLanes)!==0,di||o){if(r=Qn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mo(t,i),js(r,t,i,-1))}return i5(),r=v4(Error(Ce(421))),_0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uee.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Li=Vl(i.nextSibling),Oi=e,Gt=!0,$s=null,t!==null&&(ts[ns++]=bo,ts[ns++]=So,ts[ns++]=Cu,bo=t.id,So=t.overflow,Cu=e),e=Z6(e,r.children),e.flags|=4096,e)}function SC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bE(t.return,e,n)}function _4(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Q$(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SC(t,n,e);else if(t.tag===19)SC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Nt(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&J2(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_4(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&J2(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_4(e,!0,n,null,s);break;case"together":_4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $o(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ce(153));if(e.child!==null){for(t=e.child,n=zl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZJ(t,e,n){switch(e.tag){case 3:K$(e),zh();break;case 5:S$(e);break;case 1:pi(e.type)&&W2(e);break;case 4:G6(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Nt(Q2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?Y$(t,e,n):(Nt(Kt,Kt.current&1),t=$o(t,e,n),t!==null?t.sibling:null);Nt(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,z$(t,e,n)}return $o(t,e,n)}var X$,xE,Z$,J$;X$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xE=function(){};Z$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tu(Na.current);var s=null;switch(n){case"input":i=XS(t,i),r=XS(t,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=eE(t,i),r=eE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=q2)}nE(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(e1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(e1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};J$=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sp(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JJ(t,e,n){var r=e.pendingProps;switch($6(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return pi(e.type)&&z2(),Tr(e),null;case 3:return r=e.stateNode,Kh(),Ft(mi),Ft(Rr),z6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(T0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$s!==null&&($E($s),$s=null))),xE(t,e),Tr(e),null;case 5:q6(e);var i=tu(h1.current);if(n=e.type,t!==null&&e.stateNode!=null)Z$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return Tr(e),null}if(t=tu(Na.current),T0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sa]=e,r[u1]=s,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Xp.length;i++)Mt(Xp[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":R7(r,s),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",r);break;case"textarea":O7(r,s),Mt("invalid",r)}nE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&y0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&y0(r.textContent,o,t),i=["children",""+o]):e1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Mt("scroll",r)}switch(n){case"input":c0(r),N7(r,s,!0);break;case"textarea":c0(r),D7(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=q2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Sa]=e,t[u1]=r,X$(t,e,!1,!1),e.stateNode=t;e:{switch(a=rE(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xp.length;i++)Mt(Xp[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":R7(t,r),i=XS(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":O7(t,r),i=eE(t,r),Mt("invalid",t);break;default:i=r}nE(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?LM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&t1(t,l):typeof l=="number"&&t1(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(e1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mt("scroll",t):l!=null&&S6(t,s,l,a))}switch(n){case"input":c0(t),N7(t,r,!1);break;case"textarea":c0(t),D7(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mh(t,!!r.multiple,s,!1):r.defaultValue!=null&&mh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=q2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)J$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(n=tu(h1.current),tu(Na.current),T0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sa]=e,(s=r.nodeValue!==n)&&(t=Oi,t!==null))switch(t.tag){case 3:y0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&y0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sa]=e,e.stateNode=r}return Tr(e),null;case 13:if(Ft(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&Li!==null&&e.mode&1&&!(e.flags&128))y$(),zh(),e.flags|=98560,s=!1;else if(s=T0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[Sa]=e}else zh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else $s!==null&&($E($s),$s=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?$n===0&&($n=3):i5())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Kh(),xE(t,e),t===null&&l1(e.stateNode.containerInfo),Tr(e),null;case 10:return j6(e.type._context),Tr(e),null;case 17:return pi(e.type)&&z2(),Tr(e),null;case 19:if(Ft(Kt),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sp(s,!1);else{if($n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=J2(t),a!==null){for(e.flags|=128,Sp(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nt(Kt,Kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&gn()>Qh&&(e.flags|=128,r=!0,Sp(s,!1),e.lanes=4194304)}else{if(!r)if(t=J2(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Gt)return Tr(e),null}else 2*gn()-s.renderingStartTime>Qh&&n!==1073741824&&(e.flags|=128,r=!0,Sp(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,n=Kt.current,Nt(Kt,r?n&1|2:n&1),e):(Tr(e),null);case 22:case 23:return r5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wi&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function eee(t,e){switch($6(e),e.tag){case 1:return pi(e.type)&&z2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kh(),Ft(mi),Ft(Rr),z6(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q6(e),null;case 13:if(Ft(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));zh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Kt),null;case 4:return Kh(),null;case 10:return j6(e.type._context),null;case 22:case 23:return r5(),null;case 24:return null;default:return null}}var b0=!1,Er=!1,tee=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Gd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function LE(t,e,n){try{n()}catch(r){rn(t,e,r)}}var EC=!1;function nee(t,e){if(mE=V2,t=i$(),P6(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++u===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pE={focusedElem:t,selectionRange:n},V2=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,_=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Ns(e.type,p),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(x){rn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return g=EC,EC=!1,g}function Cf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&LE(e,n,s)}i=i.next}while(i!==r)}}function t3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function RE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eU(t){var e=t.alternate;e!==null&&(t.alternate=null,eU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sa],delete e[u1],delete e[yE],delete e[UJ],delete e[FJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tU(t){return t.tag===5||t.tag===3||t.tag===4}function kC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=q2));else if(r!==4&&(t=t.child,t!==null))for(NE(t,e,n),t=t.sibling;t!==null;)NE(t,e,n),t=t.sibling}function OE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(OE(t,e,n),t=t.sibling;t!==null;)OE(t,e,n),t=t.sibling}var sr=null,Ps=!1;function rl(t,e,n){for(n=n.child;n!==null;)nU(t,e,n),n=n.sibling}function nU(t,e,n){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(Wv,n)}catch{}switch(n.tag){case 5:Er||Gd(n,e);case 6:var r=sr,i=Ps;sr=null,rl(t,e,n),sr=r,Ps=i,sr!==null&&(Ps?(t=sr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sr.removeChild(n.stateNode));break;case 18:sr!==null&&(Ps?(t=sr,n=n.stateNode,t.nodeType===8?m4(t.parentNode,n):t.nodeType===1&&m4(t,n),s1(t)):m4(sr,n.stateNode));break;case 4:r=sr,i=Ps,sr=n.stateNode.containerInfo,Ps=!0,rl(t,e,n),sr=r,Ps=i;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&LE(n,e,a),i=i.next}while(i!==r)}rl(t,e,n);break;case 1:if(!Er&&(Gd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){rn(n,e,o)}rl(t,e,n);break;case 21:rl(t,e,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,rl(t,e,n),Er=r):rl(t,e,n);break;default:rl(t,e,n)}}function AC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tee),e.forEach(function(r){var i=dee.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function As(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:sr=o.stateNode,Ps=!1;break e;case 3:sr=o.stateNode.containerInfo,Ps=!0;break e;case 4:sr=o.stateNode.containerInfo,Ps=!0;break e}o=o.return}if(sr===null)throw Error(Ce(160));nU(s,a,i),sr=null,Ps=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rU(e,t),e=e.sibling}function rU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(As(e,t),ta(t),r&4){try{Cf(3,t,t.return),t3(3,t)}catch(p){rn(t,t.return,p)}try{Cf(5,t,t.return)}catch(p){rn(t,t.return,p)}}break;case 1:As(e,t),ta(t),r&512&&n!==null&&Gd(n,n.return);break;case 5:if(As(e,t),ta(t),r&512&&n!==null&&Gd(n,n.return),t.flags&32){var i=t.stateNode;try{t1(i,"")}catch(p){rn(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&AM(i,s),rE(o,a);var c=rE(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?LM(i,d):u==="dangerouslySetInnerHTML"?IM(i,d):u==="children"?t1(i,d):S6(i,u,d,c)}switch(o){case"input":ZS(i,s);break;case"textarea":wM(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?mh(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?mh(i,!!s.multiple,s.defaultValue,!0):mh(i,!!s.multiple,s.multiple?[]:"",!1))}i[u1]=s}catch(p){rn(t,t.return,p)}}break;case 6:if(As(e,t),ta(t),r&4){if(t.stateNode===null)throw Error(Ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){rn(t,t.return,p)}}break;case 3:if(As(e,t),ta(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{s1(e.containerInfo)}catch(p){rn(t,t.return,p)}break;case 4:As(e,t),ta(t);break;case 13:As(e,t),ta(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t5=gn())),r&4&&AC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Er=(c=Er)||u,As(e,t),Er=c):As(e,t),ta(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Oe=t,u=t.child;u!==null;){for(d=Oe=u;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Cf(4,h,h.return);break;case 1:Gd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){rn(r,n,p)}}break;case 5:Gd(h,h.return);break;case 22:if(h.memoizedState!==null){CC(d);continue}}m!==null?(m.return=h,Oe=m):CC(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=xM("display",a))}catch(p){rn(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){rn(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:As(e,t),ta(t),r&4&&AC(t);break;case 21:break;default:As(e,t),ta(t)}}function ta(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tU(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(t1(i,""),r.flags&=-33);var s=kC(t);OE(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=kC(t);NE(t,o,a);break;default:throw Error(Ce(161))}}catch(l){rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ree(t,e,n){Oe=t,iU(t)}function iU(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||b0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Er;o=b0;var c=Er;if(b0=a,(Er=l)&&!c)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?IC(i):l!==null?(l.return=a,Oe=l):IC(i);for(;s!==null;)Oe=s,iU(s),s=s.sibling;Oe=i,b0=o,Er=c}wC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):wC(t)}}function wC(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||t3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Er)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uC(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uC(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&s1(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Er||e.flags&512&&RE(e)}catch(h){rn(e,e.return,h)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function CC(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function IC(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{t3(4,e)}catch(l){rn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rn(e,i,l)}}var s=e.return;try{RE(e)}catch(l){rn(e,s,l)}break;case 5:var a=e.return;try{RE(e)}catch(l){rn(e,a,l)}}}catch(l){rn(e,e.return,l)}if(e===t){Oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Oe=o;break}Oe=e.return}}var iee=Math.ceil,nT=Ko.ReactCurrentDispatcher,J6=Ko.ReactCurrentOwner,ls=Ko.ReactCurrentBatchConfig,lt=0,Qn=null,In=null,dr=0,wi=0,qd=vc(0),$n=0,g1=null,xu=0,n3=0,e5=0,If=null,ii=null,t5=0,Qh=1/0,to=null,rT=!1,DE=null,Gl=null,S0=!1,Ol=null,iT=0,xf=0,PE=null,Dy=-1,Py=0;function zr(){return lt&6?gn():Dy!==-1?Dy:Dy=gn()}function ql(t){return t.mode&1?lt&2&&dr!==0?dr&-dr:jJ.transition!==null?(Py===0&&(Py=VM()),Py):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:YM(t.type)),t):1}function js(t,e,n,r){if(50<xf)throw xf=0,PE=null,Error(Ce(185));ng(t,n,r),(!(lt&2)||t!==Qn)&&(t===Qn&&(!(lt&2)&&(n3|=n),$n===4&&Il(t,dr)),fi(t,r),n===1&&lt===0&&!(e.mode&1)&&(Qh=gn()+500,Zv&&_c()))}function fi(t,e){var n=t.callbackNode;jZ(t,e);var r=j2(t,t===Qn?dr:0);if(r===0)n!==null&&$7(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$7(n),e===1)t.tag===0?BJ(xC.bind(null,t)):p$(xC.bind(null,t)),MJ(function(){!(lt&6)&&_c()}),n=null;else{switch(HM(r)){case 1:n=C6;break;case 4:n=BM;break;case 16:n=B2;break;case 536870912:n=jM;break;default:n=B2}n=hU(n,sU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sU(t,e){if(Dy=-1,Py=0,lt&6)throw Error(Ce(327));var n=t.callbackNode;if(Th()&&t.callbackNode!==n)return null;var r=j2(t,t===Qn?dr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sT(t,r);else{e=r;var i=lt;lt|=2;var s=oU();(Qn!==t||dr!==e)&&(to=null,Qh=gn()+500,du(t,e));do try{oee();break}catch(o){aU(t,o)}while(!0);B6(),nT.current=s,lt=i,In!==null?e=0:(Qn=null,dr=0,e=$n)}if(e!==0){if(e===2&&(i=lE(t),i!==0&&(r=i,e=ME(t,i))),e===1)throw n=g1,du(t,0),Il(t,r),fi(t,gn()),n;if(e===6)Il(t,r);else{if(i=t.current.alternate,!(r&30)&&!see(i)&&(e=sT(t,r),e===2&&(s=lE(t),s!==0&&(r=s,e=ME(t,s))),e===1))throw n=g1,du(t,0),Il(t,r),fi(t,gn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Hc(t,ii,to);break;case 3:if(Il(t,r),(r&130023424)===r&&(e=t5+500-gn(),10<e)){if(j2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gE(Hc.bind(null,t,ii,to),e);break}Hc(t,ii,to);break;case 4:if(Il(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Bs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iee(r/1960))-r,10<r){t.timeoutHandle=gE(Hc.bind(null,t,ii,to),r);break}Hc(t,ii,to);break;case 5:Hc(t,ii,to);break;default:throw Error(Ce(329))}}}return fi(t,gn()),t.callbackNode===n?sU.bind(null,t):null}function ME(t,e){var n=If;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),t=sT(t,e),t!==2&&(e=ii,ii=n,e!==null&&$E(e)),t}function $E(t){ii===null?ii=t:ii.push.apply(ii,t)}function see(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Il(t,e){for(e&=~e5,e&=~n3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bs(e),r=1<<n;t[n]=-1,e&=~r}}function xC(t){if(lt&6)throw Error(Ce(327));Th();var e=j2(t,0);if(!(e&1))return fi(t,gn()),null;var n=sT(t,e);if(t.tag!==0&&n===2){var r=lE(t);r!==0&&(e=r,n=ME(t,r))}if(n===1)throw n=g1,du(t,0),Il(t,e),fi(t,gn()),n;if(n===6)throw Error(Ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hc(t,ii,to),fi(t,gn()),null}function n5(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(Qh=gn()+500,Zv&&_c())}}function Lu(t){Ol!==null&&Ol.tag===0&&!(lt&6)&&Th();var e=lt;lt|=1;var n=ls.transition,r=Tt;try{if(ls.transition=null,Tt=1,t)return t()}finally{Tt=r,ls.transition=n,lt=e,!(lt&6)&&_c()}}function r5(){wi=qd.current,Ft(qd)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PJ(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch($6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z2();break;case 3:Kh(),Ft(mi),Ft(Rr),z6();break;case 5:q6(r);break;case 4:Kh();break;case 13:Ft(Kt);break;case 19:Ft(Kt);break;case 10:j6(r.type._context);break;case 22:case 23:r5()}n=n.return}if(Qn=t,In=t=zl(t.current,null),dr=wi=e,$n=0,g1=null,e5=n3=xu=0,ii=If=null,eu!==null){for(e=0;e<eu.length;e++)if(n=eu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}eu=null}return t}function aU(t,e){do{var n=In;try{if(B6(),Ry.current=tT,eT){for(var r=Xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eT=!1}if(Iu=0,Gn=Dn=Xt=null,wf=!1,m1=0,J6.current=null,n===null||n.return===null){$n=1,g1=e,In=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=dr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=gC(a);if(m!==null){m.flags&=-257,yC(m,a,o,s,e),m.mode&1&&fC(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){fC(s,c,e),i5();break e}l=Error(Ce(426))}}else if(Gt&&o.mode&1){var _=gC(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),yC(_,a,o,s,e),U6(Yh(l,o));break e}}s=l=Yh(l,o),$n!==4&&($n=2),If===null?If=[s]:If.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=H$(s,l,e);cC(s,y);break e;case 1:o=l;var v=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Gl===null||!Gl.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=G$(s,o,e);cC(s,x);break e}}s=s.return}while(s!==null)}cU(n)}catch(C){e=C,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function oU(){var t=nT.current;return nT.current=tT,t===null?tT:t}function i5(){($n===0||$n===3||$n===2)&&($n=4),Qn===null||!(xu&268435455)&&!(n3&268435455)||Il(Qn,dr)}function sT(t,e){var n=lt;lt|=2;var r=oU();(Qn!==t||dr!==e)&&(to=null,du(t,e));do try{aee();break}catch(i){aU(t,i)}while(!0);if(B6(),lt=n,nT.current=r,In!==null)throw Error(Ce(261));return Qn=null,dr=0,$n}function aee(){for(;In!==null;)lU(In)}function oee(){for(;In!==null&&!NZ();)lU(In)}function lU(t){var e=dU(t.alternate,t,wi);t.memoizedProps=t.pendingProps,e===null?cU(t):In=e,J6.current=null}function cU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eee(n,e),n!==null){n.flags&=32767,In=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$n=6,In=null;return}}else if(n=JJ(n,e,wi),n!==null){In=n;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);$n===0&&($n=5)}function Hc(t,e,n){var r=Tt,i=ls.transition;try{ls.transition=null,Tt=1,lee(t,e,n,r)}finally{ls.transition=i,Tt=r}return null}function lee(t,e,n,r){do Th();while(Ol!==null);if(lt&6)throw Error(Ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(VZ(t,s),t===Qn&&(In=Qn=null,dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,hU(B2,function(){return Th(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var a=Tt;Tt=1;var o=lt;lt|=4,J6.current=null,nee(t,n),rU(n,t),IJ(pE),V2=!!mE,pE=mE=null,t.current=n,ree(n),OZ(),lt=o,Tt=a,ls.transition=s}else t.current=n;if(S0&&(S0=!1,Ol=t,iT=i),s=t.pendingLanes,s===0&&(Gl=null),MZ(n.stateNode),fi(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rT)throw rT=!1,t=DE,DE=null,t;return iT&1&&t.tag!==0&&Th(),s=t.pendingLanes,s&1?t===PE?xf++:(xf=0,PE=t):xf=0,_c(),null}function Th(){if(Ol!==null){var t=HM(iT),e=ls.transition,n=Tt;try{if(ls.transition=null,Tt=16>t?16:t,Ol===null)var r=!1;else{if(t=Ol,Ol=null,iT=0,lt&6)throw Error(Ce(331));var i=lt;for(lt|=4,Oe=t.current;Oe!==null;){var s=Oe,a=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Oe=c;Oe!==null;){var u=Oe;switch(u.tag){case 0:case 11:case 15:Cf(8,u,s)}var d=u.child;if(d!==null)d.return=u,Oe=d;else for(;Oe!==null;){u=Oe;var h=u.sibling,m=u.return;if(eU(u),u===c){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}Oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Oe=a;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Oe=y;break e}Oe=s.return}}var v=t.current;for(Oe=v;Oe!==null;){a=Oe;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,Oe=E;else e:for(a=v;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:t3(9,o)}}catch(C){rn(o,o.return,C)}if(o===a){Oe=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Oe=x;break e}Oe=o.return}}if(lt=i,_c(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(Wv,t)}catch{}r=!0}return r}finally{Tt=n,ls.transition=e}}return!1}function LC(t,e,n){e=Yh(n,e),e=H$(t,e,1),t=Hl(t,e,1),e=zr(),t!==null&&(ng(t,1,e),fi(t,e))}function rn(t,e,n){if(t.tag===3)LC(t,t,n);else for(;e!==null;){if(e.tag===3){LC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gl===null||!Gl.has(r))){t=Yh(n,t),t=G$(e,t,1),e=Hl(e,t,1),t=zr(),e!==null&&(ng(e,1,t),fi(e,t));break}}e=e.return}}function cee(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&n,Qn===t&&(dr&n)===n&&($n===4||$n===3&&(dr&130023424)===dr&&500>gn()-t5?du(t,0):e5|=n),fi(t,e)}function uU(t,e){e===0&&(t.mode&1?(e=h0,h0<<=1,!(h0&130023424)&&(h0=4194304)):e=1);var n=zr();t=Mo(t,e),t!==null&&(ng(t,e,n),fi(t,n))}function uee(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uU(t,n)}function dee(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),uU(t,n)}var dU;dU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mi.current)di=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return di=!1,ZJ(t,e,n);di=!!(t.flags&131072)}else di=!1,Gt&&e.flags&1048576&&f$(e,Y2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oy(t,e),t=e.pendingProps;var i=qh(e,Rr.current);yh(e,n),i=K6(null,e,r,t,i,n);var s=Y6();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(r)?(s=!0,W2(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H6(e),i.updater=e3,e.stateNode=i,i._reactInternals=e,EE(e,r,t,n),e=wE(null,e,r,!0,s,n)):(e.tag=0,Gt&&s&&M6(e),Fr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mee(r),t=Ns(r,t),i){case 0:e=AE(null,e,r,t,n);break e;case 1:e=_C(null,e,r,t,n);break e;case 11:e=TC(null,e,r,t,n);break e;case 14:e=vC(null,e,r,Ns(r.type,t),n);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),AE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),_C(t,e,r,i,n);case 3:e:{if(K$(e),t===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,b$(t,e),Z2(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yh(Error(Ce(423)),e),e=bC(t,e,r,n,i);break e}else if(r!==i){i=Yh(Error(Ce(424)),e),e=bC(t,e,r,n,i);break e}else for(Li=Vl(e.stateNode.containerInfo.firstChild),Oi=e,Gt=!0,$s=null,n=v$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zh(),r===i){e=$o(t,e,n);break e}Fr(t,e,r,n)}e=e.child}return e;case 5:return S$(e),t===null&&_E(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,fE(r,i)?a=null:s!==null&&fE(r,s)&&(e.flags|=32),W$(t,e),Fr(t,e,a,n),e.child;case 6:return t===null&&_E(e),null;case 13:return Y$(t,e,n);case 4:return G6(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wh(e,null,r,n):Fr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),TC(t,e,r,i,n);case 7:return Fr(t,e,e.pendingProps,n),e.child;case 8:return Fr(t,e,e.pendingProps.children,n),e.child;case 12:return Fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Nt(Q2,r._currentValue),r._currentValue=a,s!==null)if(Ks(s.value,a)){if(s.children===i.children&&!mi.current){e=$o(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bE(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ce(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),bE(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Fr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yh(e,n),i=ms(i),r=r(i),e.flags|=1,Fr(t,e,r,n),e.child;case 14:return r=e.type,i=Ns(r,e.pendingProps),i=Ns(r.type,i),vC(t,e,r,i,n);case 15:return q$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),Oy(t,e),e.tag=1,pi(r)?(t=!0,W2(e)):t=!1,yh(e,n),V$(e,r,i),EE(e,r,i,n),wE(null,e,r,!0,t,n);case 19:return Q$(t,e,n);case 22:return z$(t,e,n)}throw Error(Ce(156,e.tag))};function hU(t,e){return FM(t,e)}function hee(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,e,n,r){return new hee(t,e,n,r)}function s5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mee(t){if(typeof t=="function")return s5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===k6)return 11;if(t===A6)return 14}return 2}function zl(t,e){var n=t.alternate;return n===null?(n=as(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function My(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")s5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Pd:return hu(n.children,i,s,e);case E6:a=8,i|=8;break;case WS:return t=as(12,n,e,i|2),t.elementType=WS,t.lanes=s,t;case KS:return t=as(13,n,e,i),t.elementType=KS,t.lanes=s,t;case YS:return t=as(19,n,e,i),t.elementType=YS,t.lanes=s,t;case SM:return r3(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _M:a=10;break e;case bM:a=9;break e;case k6:a=11;break e;case A6:a=14;break e;case _l:a=16,r=null;break e}throw Error(Ce(130,t==null?t:typeof t,""))}return e=as(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hu(t,e,n,r){return t=as(7,t,r,e),t.lanes=n,t}function r3(t,e,n,r){return t=as(22,t,r,e),t.elementType=SM,t.lanes=n,t.stateNode={isHidden:!1},t}function b4(t,e,n){return t=as(6,t,null,e),t.lanes=n,t}function S4(t,e,n){return e=as(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pee(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n4(0),this.expirationTimes=n4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a5(t,e,n,r,i,s,a,o,l){return t=new pee(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=as(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H6(s),t}function fee(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mU(t){if(!t)return ic;t=t._reactInternals;e:{if(Vu(t)!==t||t.tag!==1)throw Error(Ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(t.tag===1){var n=t.type;if(pi(n))return m$(t,n,e)}return e}function pU(t,e,n,r,i,s,a,o,l){return t=a5(n,r,!0,t,i,s,a,o,l),t.context=mU(null),n=t.current,r=zr(),i=ql(n),s=xo(r,i),s.callback=e??null,Hl(n,s,i),t.current.lanes=i,ng(t,i,r),fi(t,r),t}function i3(t,e,n,r){var i=e.current,s=zr(),a=ql(i);return n=mU(n),e.context===null?e.context=n:e.pendingContext=n,e=xo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hl(i,e,a),t!==null&&(js(t,i,a,s),Ly(t,i,a)),a}function aT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o5(t,e){RC(t,e),(t=t.alternate)&&RC(t,e)}function gee(){return null}var fU=typeof reportError=="function"?reportError:function(t){console.error(t)};function l5(t){this._internalRoot=t}s3.prototype.render=l5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ce(409));i3(t,e,null,null)};s3.prototype.unmount=l5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lu(function(){i3(null,t,null,null)}),e[Po]=null}};function s3(t){this._internalRoot=t}s3.prototype.unstable_scheduleHydration=function(t){if(t){var e=zM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cl.length&&e!==0&&e<Cl[n].priority;n++);Cl.splice(n,0,t),n===0&&KM(t)}};function c5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NC(){}function yee(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=aT(a);s.call(c)}}var a=pU(e,r,t,0,null,!1,!1,"",NC);return t._reactRootContainer=a,t[Po]=a.current,l1(t.nodeType===8?t.parentNode:t),Lu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=aT(l);o.call(c)}}var l=a5(t,0,!1,null,null,!1,!1,"",NC);return t._reactRootContainer=l,t[Po]=l.current,l1(t.nodeType===8?t.parentNode:t),Lu(function(){i3(e,l,n,r)}),l}function o3(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=aT(a);o.call(l)}}i3(e,a,t,i)}else a=yee(n,e,t,i,r);return aT(a)}GM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qp(e.pendingLanes);n!==0&&(I6(e,n|1),fi(e,gn()),!(lt&6)&&(Qh=gn()+500,_c()))}break;case 13:Lu(function(){var r=Mo(t,1);if(r!==null){var i=zr();js(r,t,1,i)}}),o5(t,1)}};x6=function(t){if(t.tag===13){var e=Mo(t,134217728);if(e!==null){var n=zr();js(e,t,134217728,n)}o5(t,134217728)}};qM=function(t){if(t.tag===13){var e=ql(t),n=Mo(t,e);if(n!==null){var r=zr();js(n,t,e,r)}o5(t,e)}};zM=function(){return Tt};WM=function(t,e){var n=Tt;try{return Tt=t,e()}finally{Tt=n}};sE=function(t,e,n){switch(e){case"input":if(ZS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xv(r);if(!i)throw Error(Ce(90));kM(r),ZS(r,i)}}}break;case"textarea":wM(t,n);break;case"select":e=n.value,e!=null&&mh(t,!!n.multiple,e,!1)}};OM=n5;DM=Lu;var Tee={usingClientEntryPoint:!1,Events:[ig,Fd,Xv,RM,NM,n5]},Ep={findFiberByHostInstance:Jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vee={bundleType:Ep.bundleType,version:Ep.version,rendererPackageName:Ep.rendererPackageName,rendererConfig:Ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$M(t),t===null?null:t.stateNode},findFiberByHostInstance:Ep.findFiberByHostInstance||gee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{Wv=E0.inject(vee),Ra=E0}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tee;ji.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c5(e))throw Error(Ce(200));return fee(t,e,null,n)};ji.createRoot=function(t,e){if(!c5(t))throw Error(Ce(299));var n=!1,r="",i=fU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a5(t,1,!1,null,null,n,!1,r,i),t[Po]=e.current,l1(t.nodeType===8?t.parentNode:t),new l5(e)};ji.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ce(188)):(t=Object.keys(t).join(","),Error(Ce(268,t)));return t=$M(e),t=t===null?null:t.stateNode,t};ji.flushSync=function(t){return Lu(t)};ji.hydrate=function(t,e,n){if(!a3(e))throw Error(Ce(200));return o3(null,t,e,!0,n)};ji.hydrateRoot=function(t,e,n){if(!c5(t))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=fU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=pU(e,null,t,1,n??null,i,!1,s,a),t[Po]=e.current,l1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new s3(e)};ji.render=function(t,e,n){if(!a3(e))throw Error(Ce(200));return o3(null,t,e,!1,n)};ji.unmountComponentAtNode=function(t){if(!a3(t))throw Error(Ce(40));return t._reactRootContainer?(Lu(function(){o3(null,null,t,!1,function(){t._reactRootContainer=null,t[Po]=null})}),!0):!1};ji.unstable_batchedUpdates=n5;ji.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!a3(n))throw Error(Ce(200));if(t==null||t._reactInternals===void 0)throw Error(Ce(38));return o3(t,e,n,!1,r)};ji.version="18.3.1-next-f1338f8080-20240426";function gU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gU)}catch(t){console.error(t)}}gU(),gM.exports=ji;var _ee=gM.exports,OC=_ee;qS.createRoot=OC.createRoot,qS.hydrateRoot=OC.hydrateRoot;const bee="modulepreload",See=function(t,e){return new URL(t,e).href},DC={},yU=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=See(l,r),l in DC)return;DC[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bee,c||(h.as="script",h.crossOrigin=""),h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Eee=Object.defineProperty,kee=(t,e,n)=>e in t?Eee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z=(t,e,n)=>kee(t,typeof e!="symbol"?e+"":e,n);function Aee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TU={exports:{}},En=TU.exports={},la,ca;function UE(){throw new Error("setTimeout has not been defined")}function FE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?la=setTimeout:la=UE}catch{la=UE}try{typeof clearTimeout=="function"?ca=clearTimeout:ca=FE}catch{ca=FE}})();function vU(t){if(la===setTimeout)return setTimeout(t,0);if((la===UE||!la)&&setTimeout)return la=setTimeout,setTimeout(t,0);try{return la(t,0)}catch{try{return la.call(null,t,0)}catch{return la.call(this,t,0)}}}function wee(t){if(ca===clearTimeout)return clearTimeout(t);if((ca===FE||!ca)&&clearTimeout)return ca=clearTimeout,clearTimeout(t);try{return ca(t)}catch{try{return ca.call(null,t)}catch{return ca.call(this,t)}}}var Eo=[],vh=!1,nu,$y=-1;function Cee(){!vh||!nu||(vh=!1,nu.length?Eo=nu.concat(Eo):$y=-1,Eo.length&&_U())}function _U(){if(!vh){var t=vU(Cee);vh=!0;for(var e=Eo.length;e;){for(nu=Eo,Eo=[];++$y<e;)nu&&nu[$y].run();$y=-1,e=Eo.length}nu=null,vh=!1,wee(t)}}En.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Eo.push(new bU(t,e)),Eo.length===1&&!vh&&vU(_U)};function bU(t,e){this.fun=t,this.array=e}bU.prototype.run=function(){this.fun.apply(null,this.array)};En.title="browser";En.browser=!0;En.env={};En.argv=[];En.version="";En.versions={};function Yo(){}En.on=Yo;En.addListener=Yo;En.once=Yo;En.off=Yo;En.removeListener=Yo;En.removeAllListeners=Yo;En.emit=Yo;En.prependListener=Yo;En.prependOnceListener=Yo;En.listeners=function(t){return[]};En.binding=function(t){throw new Error("process.binding is not supported")};En.cwd=function(){return"/"};En.chdir=function(t){throw new Error("process.chdir is not supported")};En.umask=function(){return 0};var Iee=TU.exports;const PC=Aee(Iee);var u5={exports:{}};function xee(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Lee=Ree;function Ree(t,e,n){var r=n&&n.stringify||xee,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=r(t);for(var o=1;o<s;o++)a[o]=r(e[o]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,d=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(d=d>-1?d:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=l||e[u]==null)break;d<m&&(c+=t.slice(d,m)),c+=Number(e[u]),d=m+2,m++;break;case 105:if(u>=l||e[u]==null)break;d<m&&(c+=t.slice(d,m)),c+=Math.floor(Number(e[u])),d=m+2,m++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;d<m&&(c+=t.slice(d,m));var g=typeof e[u];if(g==="string"){c+="'"+e[u]+"'",d=m+2,m++;break}if(g==="function"){c+=e[u].name||"<anonymous>",d=m+2,m++;break}c+=r(e[u]),d=m+2,m++;break;case 115:if(u>=l)break;d<m&&(c+=t.slice(d,m)),c+=String(e[u]),d=m+2,m++;break;case 37:d<m&&(c+=t.slice(d,m)),c+="%",d=m+2,m++,u--;break}++u}++m}return d===-1?t:(d<h&&(c+=t.slice(d)),c)}const MC=Lee;u5.exports=Uo;const y1=zee().console||{},Nee={mapHttpRequest:k0,mapHttpResponse:k0,wrapRequestSerializer:E4,wrapResponseSerializer:E4,wrapErrorSerializer:E4,req:k0,res:k0,err:UC,errWithCause:UC};function oT(t,e){return t==="silent"?1/0:e.levels.values[t]}const d5=Symbol("pino.logFuncs"),BE=Symbol("pino.hierarchy"),Oee={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function $C(t,e){const n={logger:e,parent:t[BE]};e[BE]=n}function Dee(t,e,n){const r={};e.forEach(i=>{r[i]=n[i]?n[i]:y1[i]||y1[Oee[i]||"log"]||_h}),t[d5]=r}function Pee(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Uo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||y1;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Pee(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(p){n[p]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(n);c.log||(c.log=_h),Dee(c,o,n),$C({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:h,set:m});const u={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:o,timestamp:Hee(t),messageKey:t.messageKey||"msg",onChild:t.onChild||_h};c.levels=Mee(t),c.level=l,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=_h,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=function(...p){return g.call(this,u,...p)},e&&(c._logEvent=jE());function d(){return oT(this.level,this)}function h(){return this._level}function m(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Oc(this,u,c,"error"),Oc(this,u,c,"fatal"),Oc(this,u,c,"warn"),Oc(this,u,c,"info"),Oc(this,u,c,"debug"),Oc(this,u,c,"trace"),a.forEach(_=>{Oc(this,u,c,_)})}function g(p,_,y){if(!_)throw new Error("missing bindings for child Pino");y=y||{},i&&_.serializers&&(y.serializers=_.serializers);const v=y.serializers;if(i&&v){var E=Object.assign({},r,v),x=t.browser.serialize===!0?Object.keys(E):i;delete _.serializers,h5([_],x,E,this._stdErrSerialize)}function C(D){this._childLevel=(D._childLevel|0)+1,this.bindings=_,E&&(this.serializers=E,this._serialize=x),e&&(this._logEvent=jE([].concat(D._logEvent.bindings,_)))}C.prototype=this;const R=new C(this);return $C(this,R),R.child=function(...D){return g.call(this,p,...D)},R.level=y.level||this.level,p.onChild(R),R}return c}function Mee(t){const e=t.customLevels||{},n=Object.assign({},Uo.levels.values,e),r=Object.assign({},Uo.levels.labels,$ee(e));return{values:n,labels:r}}function $ee(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}Uo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Uo.stdSerializers=Nee;Uo.stdTimeFunctions=Object.assign({},{nullTime:SU,epochTime:EU,unixTime:Gee,isoTime:qee});function Uee(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[BE];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function Oc(t,e,n,r){if(Object.defineProperty(t,r,{value:oT(t.level,n)>oT(r,n)?_h:n[d5][r],writable:!0,enumerable:!0,configurable:!0}),t[r]===_h){if(!e.transmit)return;const s=e.transmit.level||t.level,a=n.levels.values[s];if(n.levels.values[r]<a)return}t[r]=Bee(t,e,n,r);const i=Uee(t);i.length!==0&&(t[r]=Fee(i,t[r]))}function Fee(t,e){return function(){return e.apply(this,[...t,...arguments])}}function Bee(t,e,n,r){return function(i){return function(){const s=e.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===y1?y1:this;for(var l=0;l<a.length;l++)a[l]=arguments[l];var c=!1;if(e.serialize&&(h5(a,this._serialize,this.serializers,this._stdErrSerialize),c=!0),e.asObject||e.formatters?i.call(o,jee(this,r,a,s,e)):i.apply(o,a),e.transmit){const u=e.transmit.level||t._level,d=n.levels.values[u],h=n.levels.values[r];if(h<d)return;Vee(this,{ts:s,methodLevel:r,methodValue:h,transmitLevel:u,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:oT(t._level,n)},a,c)}}}(t[d5][r])}function jee(t,e,n,r,i){const{level:s,log:a=d=>d}=i.formatters||{},o=n.slice();let l=o[0];const c={};if(r&&(c.time=r),s){const d=s(e,t.levels.values[e]);Object.assign(c,d)}else c.level=t.levels.values[e];let u=(t._childLevel|0)+1;if(u<1&&(u=1),l!==null&&typeof l=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());l=o.length?MC(o.shift(),o):void 0}else typeof l=="string"&&(l=MC(o.shift(),o));return l!==void 0&&(c[i.messageKey]=l),a(c)}function h5(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Uo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(const s in t[i])e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Vee(t,e,n,r=!1){const i=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,l=e.val,c=t._logEvent.bindings;r||h5(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,i(a,t._logEvent,l),t._logEvent=jE(c)}function jE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function UC(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Hee(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?SU:EU}function k0(){return{}}function E4(t){return t}function _h(){}function SU(){return!1}function EU(){return Date.now()}function Gee(){return Math.round(Date.now()/1e3)}function qee(){return new Date(Date.now()).toISOString()}function zee(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}u5.exports.default=Uo;var kU=u5.exports.pino=Uo;function ln(t,e){if(!t)throw new Error(e)}const Wee=34028234663852886e22,Kee=-34028234663852886e22,Yee=4294967295,Qee=2147483647,Xee=-2147483648;function Uy(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>Qee||t<Xee)throw new Error("invalid int 32: "+t)}function VE(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>Yee||t<0)throw new Error("invalid uint 32: "+t)}function AU(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>Wee||t<Kee))throw new Error("invalid float 32: "+t)}const wU=Symbol("@bufbuild/protobuf/enum-type");function Zee(t){const e=t[wU];return ln(e,"missing enum type on enum object"),e}function CU(t,e,n,r){t[wU]=IU(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function IU(t,e,n){const r=Object.create(null),i=Object.create(null),s=[];for(const a of e){const o=xU(a);s.push(o),r[a.name]=o,i[a.no]=o}return{typeName:t,values:s,findName(a){return r[a]},findNumber(a){return i[a]}}}function Jee(t,e,n){const r={};for(const i of e){const s=xU(i);r[s.localName]=s.no,r[s.no]=s.localName}return CU(r,t,e),r}function xU(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}let ag=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(n);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(n);return i.readMessage(r,e,s,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function ete(t,e,n,r){var i;const s=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),a={[s]:function(o){t.util.initFields(this),t.util.initPartial(o,this)}}[s];return Object.setPrototypeOf(a.prototype,new ag),Object.assign(a,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(o,l){return new a().fromBinary(o,l)},fromJson(o,l){return new a().fromJson(o,l)},fromJsonString(o,l){return new a().fromJsonString(o,l)},equals(o,l){return t.util.equals(a,o,l)}}),a}function tte(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function k4(t,e,n){for(let s=0;s<28;s=s+7){const a=t>>>s,o=!(!(a>>>7)&&e==0),l=(o?a|128:a)&255;if(n.push(l),!o)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const a=e>>>s,o=!!(a>>>7),l=(o?a|128:a)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const Fy=4294967296;function FC(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(a,o){const l=Number(t.slice(a,o));i*=n,r=r*n+l,r>=Fy&&(i=i+(r/Fy|0),r=r%Fy)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?RU(r,i):m5(r,i)}function nte(t,e){let n=m5(t,e);const r=n.hi&2147483648;r&&(n=RU(n.lo,n.hi));const i=LU(n.lo,n.hi);return r?"-"+i:i}function LU(t,e){if({lo:t,hi:e}=rte(t,e),e<=2097151)return String(Fy*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,a=r+i*8147497,o=i*2;const l=1e7;return s>=l&&(a+=Math.floor(s/l),s%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+BC(a)+BC(s)}function rte(t,e){return{lo:t>>>0,hi:e>>>0}}function m5(t,e){return{lo:t|0,hi:e|0}}function RU(t,e){return e=~e,t?t=~t+1:e+=1,m5(t,e)}const BC=t=>{const e=String(t);return"0000000".slice(e.length)+e};function jC(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function ite(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function ste(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof PC!="object"||typeof PC.env!="object")){const r=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(o){const l=typeof o=="bigint"?o:BigInt(o);if(l>i||l<r)throw new Error(`int64 invalid: ${o}`);return l},uParse(o){const l=typeof o=="bigint"?o:BigInt(o);if(l>a||l<s)throw new Error(`uint64 invalid: ${o}`);return l},enc(o){return t.setBigInt64(0,this.parse(o),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(o){return t.setBigInt64(0,this.uParse(o),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(o,l){return t.setInt32(0,o,!0),t.setInt32(4,l,!0),t.getBigInt64(0,!0)},uDec(o,l){return t.setInt32(0,o,!0),t.setInt32(4,l,!0),t.getBigUint64(0,!0)}}}const e=r=>ln(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),n=r=>ln(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),e(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),e(r),FC(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),n(r),FC(r)},dec(r,i){return nte(r,i)},uDec(r,i){return LU(r,i)}}}const wr=ste();var Se;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Se||(Se={}));var sc;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(sc||(sc={}));function il(t,e,n){if(e===n)return!0;if(t==Se.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case Se.UINT64:case Se.FIXED64:case Se.INT64:case Se.SFIXED64:case Se.SINT64:return e==n}return!1}function Xh(t,e){switch(t){case Se.BOOL:return!1;case Se.UINT64:case Se.FIXED64:case Se.INT64:case Se.SFIXED64:case Se.SINT64:return e==0?wr.zero:"0";case Se.DOUBLE:case Se.FLOAT:return 0;case Se.BYTES:return new Uint8Array(0);case Se.STRING:return"";default:return 0}}function NU(t,e){switch(t){case Se.BOOL:return e===!1;case Se.STRING:return e==="";case Se.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var yn;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(yn||(yn={}));let ate=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(VE(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Uy(e),jC(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){AU(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){VE(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){Uy(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return Uy(e),e=(e<<1^e>>31)>>>0,jC(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=wr.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=wr.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=wr.enc(e);return k4(n.lo,n.hi,this.buf),this}sint64(e){let n=wr.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return k4(i,s,this.buf),this}uint64(e){let n=wr.uEnc(e);return k4(n.lo,n.hi,this.buf),this}},ote=class{constructor(e,n){this.varint64=tte,this.uint32=ite,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case yn.Varint:for(;this.buf[this.pos++]&128;);break;case yn.Bit64:this.pos+=4;case yn.Bit32:this.pos+=4;break;case yn.LengthDelimited:let i=this.uint32();this.pos+=i;break;case yn.StartGroup:for(;;){const[s,a]=this.tag();if(a===yn.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return wr.dec(...this.varint64())}uint64(){return wr.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,wr.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return wr.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return wr.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}};function lte(t,e,n,r){let i;return{typeName:e,extendee:n,get field(){if(!i){const s=typeof r=="function"?r():r;s.name=e.split(".").pop(),s.jsonName=`[${e}]`,i=t.util.newFieldList([s]).list()[0]}return i},runtime:t}}function OU(t){const e=t.field.localName,n=Object.create(null);return n[e]=cte(t),[n,()=>n[e]]}function cte(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return Xh(e.T,e.L);case"message":const n=e.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function ute(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),l3=[];for(let t=0;t<mo.length;t++)l3[mo[t].charCodeAt(0)]=t;l3[45]=mo.indexOf("+");l3[95]=mo.indexOf("/");const p5={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,s,a=0;for(let o=0;o<t.length;o++){if(s=l3[t.charCodeAt(o)],s===void 0)switch(t[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=s,i=1;break;case 1:n[r++]=a<<2|(s&48)>>4,a=s,i=2;break;case 2:n[r++]=(a&15)<<4|(s&60)>>2,a=s,i=3;break;case 3:n[r++]=(a&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let s=0;s<t.length;s++)switch(r=t[s],n){case 0:e+=mo[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=mo[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=mo[i|r>>6],e+=mo[r&63],n=0;break}return n&&(e+=mo[i],e+="=",n==1&&(e+="=")),e}};function dte(t,e,n){PU(e,t);const r=e.runtime.bin.makeReadOptions(n),i=ute(t.getType().runtime.bin.listUnknownFields(t),e.field),[s,a]=OU(e);for(const o of i)e.runtime.bin.readField(s,r.readerFactory(o.data),e.field,o.wireType,r);return a()}function hte(t,e,n,r){PU(e,t);const i=e.runtime.bin.makeReadOptions(r),s=e.runtime.bin.makeWriteOptions(r);if(DU(t,e)){const c=t.getType().runtime.bin.listUnknownFields(t).filter(u=>u.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const u of c)t.getType().runtime.bin.onUnknownField(t,u.no,u.wireType,u.data)}const a=s.writerFactory();let o=e.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(o,n,a,s);const l=i.readerFactory(a.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),d=l.skip(u,c);t.getType().runtime.bin.onUnknownField(t,c,u,d)}}function DU(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(r=>r.no==e.field.no)}function PU(t,e){ln(t.extendee.typeName==e.getType().typeName,`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}function MU(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!NU(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function VC(t,e){const n=t.localName,r=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=r?t.T.values[0].no:void 0;break;case"scalar":e[n]=r?Xh(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function mu(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(ag.prototype).every(r=>r in t&&typeof t[r]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function $U(t,e){return mu(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}Se.DOUBLE,Se.FLOAT,Se.INT64,Se.UINT64,Se.INT32,Se.UINT32,Se.BOOL,Se.STRING,Se.BYTES;const HC={ignoreUnknownFields:!1},GC={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function mte(t){return t?Object.assign(Object.assign({},HC),t):HC}function pte(t){return t?Object.assign(Object.assign({},GC),t):GC}const lT=Symbol(),By=Symbol();function fte(){return{makeReadOptions:mte,makeWriteOptions:pte,readMessage(t,e,n,r){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${ua(e)}`);r=r??new t;const i=new Map,s=n.typeRegistry;for(const[a,o]of Object.entries(e)){const l=t.fields.findJsonName(a);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=i.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${a}"`);i.set(l.oneof,a)}qC(r,o,l,n,t)}else{let c=!1;if(s!=null&&s.findExtension&&a.startsWith("[")&&a.endsWith("]")){const u=s.findExtension(a.substring(1,a.length-1));if(u&&u.extendee.typeName==t.typeName){c=!0;const[d,h]=OU(u);qC(d,o,u.field,n,u),hte(r,u,h(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${a}" is unknown`)}}return r},writeMessage(t,e){const n=t.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!MU(i,t)){if(i.req)throw"required field not set";if(!e.emitDefaultValues||!yte(i))continue}const a=i.oneof?t[i.oneof.localName].value:t[i.localName],o=zC(i,a,e);o!==void 0&&(r[e.useProtoFieldName?i.name:i.jsonName]=o)}const s=e.typeRegistry;if(s!=null&&s.findExtensionFor)for(const a of n.runtime.bin.listUnknownFields(t)){const o=s.findExtensionFor(n.typeName,a.no);if(o&&DU(t,o)){const l=dte(t,o,e),c=zC(o.field,l,e);c!==void 0&&(r[o.field.jsonName]=c)}}}catch(s){const a=i?`cannot encode field ${n.typeName}.${i.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=s instanceof Error?s.message:String(s);throw new Error(a+(o.length>0?`: ${o}`:""))}return r},readScalar(t,e,n){return Lf(t,e,n??sc.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||NU(t,e)))return jy(t,e)},debug:ua}}function ua(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function qC(t,e,n,r,i){let s=n.localName;if(n.repeated){if(ln(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${ua(e)}`);const a=t[s];for(const o of e){if(o===null)throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${ua(o)}`);switch(n.kind){case"message":a.push(n.T.fromJson(o,r));break;case"enum":const l=A4(n.T,o,r.ignoreUnknownFields,!0);l!==By&&a.push(l);break;case"scalar":try{a.push(Lf(n.T,o,n.L,!0))}catch(c){let u=`cannot decode field ${i.typeName}.${n.name} from JSON: ${ua(o)}`;throw c instanceof Error&&c.message.length>0&&(u+=`: ${c.message}`),new Error(u)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${ua(e)}`);const a=t[s];for(const[o,l]of Object.entries(e)){if(l===null)throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: map value null`);let c;try{c=gte(n.K,o)}catch(u){let d=`cannot decode map key for field ${i.typeName}.${n.name} from JSON: ${ua(e)}`;throw u instanceof Error&&u.message.length>0&&(d+=`: ${u.message}`),new Error(d)}switch(n.V.kind){case"message":a[c]=n.V.T.fromJson(l,r);break;case"enum":const u=A4(n.V.T,l,r.ignoreUnknownFields,!0);u!==By&&(a[c]=u);break;case"scalar":try{a[c]=Lf(n.V.T,l,sc.BIGINT,!0)}catch(d){let h=`cannot decode map value for field ${i.typeName}.${n.name} from JSON: ${ua(e)}`;throw d instanceof Error&&d.message.length>0&&(h+=`: ${d.message}`),new Error(h)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:s},s="value"),n.kind){case"message":const a=n.T;if(e===null&&a.typeName!="google.protobuf.Value")return;let o=t[s];mu(o)?o.fromJson(e,r):(t[s]=o=a.fromJson(e,r),a.fieldWrapper&&!n.oneof&&(t[s]=a.fieldWrapper.unwrapField(o)));break;case"enum":const l=A4(n.T,e,r.ignoreUnknownFields,!1);switch(l){case lT:VC(n,t);break;case By:break;default:t[s]=l;break}break;case"scalar":try{const c=Lf(n.T,e,n.L,!1);switch(c){case lT:VC(n,t);break;default:t[s]=c;break}}catch(c){let u=`cannot decode field ${i.typeName}.${n.name} from JSON: ${ua(e)}`;throw c instanceof Error&&c.message.length>0&&(u+=`: ${c.message}`),new Error(u)}break}}function gte(t,e){if(t===Se.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return Lf(t,e,sc.BIGINT,!0).toString()}function Lf(t,e,n,r){if(e===null)return r?Xh(t,n):lT;switch(t){case Se.DOUBLE:case Se.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return t==Se.FLOAT&&AU(i),i;case Se.INT32:case Se.FIXED32:case Se.SFIXED32:case Se.SINT32:case Se.UINT32:let s;if(typeof e=="number"?s=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(s=Number(e)),s===void 0)break;return t==Se.UINT32||t==Se.FIXED32?VE(s):Uy(s),s;case Se.INT64:case Se.SFIXED64:case Se.SINT64:if(typeof e!="number"&&typeof e!="string")break;const a=wr.parse(e);return n?a.toString():a;case Se.FIXED64:case Se.UINT64:if(typeof e!="number"&&typeof e!="string")break;const o=wr.uParse(e);return n?o.toString():o;case Se.BOOL:if(typeof e!="boolean")break;return e;case Se.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case Se.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return p5.dec(e)}throw new Error}function A4(t,e,n,r){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:r?t.values[0].no:lT;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=t.findName(e);if(i!==void 0)return i.no;if(n)return By;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${ua(e)}`)}function yte(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function zC(t,e,n){if(t.kind=="map"){ln(typeof e=="object"&&e!=null);const r={},i=Object.entries(e);switch(t.V.kind){case"scalar":for(const[a,o]of i)r[a.toString()]=jy(t.V.T,o);break;case"message":for(const[a,o]of i)r[a.toString()]=o.toJson(n);break;case"enum":const s=t.V.T;for(const[a,o]of i)r[a.toString()]=w4(s,o,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(t.repeated){ln(Array.isArray(e));const r=[];switch(t.kind){case"scalar":for(let i=0;i<e.length;i++)r.push(jy(t.T,e[i]));break;case"enum":for(let i=0;i<e.length;i++)r.push(w4(t.T,e[i],n.enumAsInteger));break;case"message":for(let i=0;i<e.length;i++)r.push(e[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(t.kind){case"scalar":return jy(t.T,e);case"enum":return w4(t.T,e,n.enumAsInteger);case"message":return $U(t.T,e).toJson(n)}}function w4(t,e,n){var r;if(ln(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const i=t.findNumber(e);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:e}function jy(t,e){switch(t){case Se.INT32:case Se.SFIXED32:case Se.SINT32:case Se.FIXED32:case Se.UINT32:return ln(typeof e=="number"),e;case Se.FLOAT:case Se.DOUBLE:return ln(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case Se.STRING:return ln(typeof e=="string"),e;case Se.BOOL:return ln(typeof e=="boolean"),e;case Se.UINT64:case Se.FIXED64:case Se.INT64:case Se.SFIXED64:case Se.SINT64:return ln(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case Se.BYTES:return ln(e instanceof Uint8Array),p5.enc(e)}}const id=Symbol("@bufbuild/protobuf/unknown-fields"),WC={readUnknownFields:!0,readerFactory:t=>new ote(t)},KC={writeUnknownFields:!0,writerFactory:()=>new ate};function Tte(t){return t?Object.assign(Object.assign({},WC),t):WC}function vte(t){return t?Object.assign(Object.assign({},KC),t):KC}function _te(){return{makeReadOptions:Tte,makeWriteOptions:vte,listUnknownFields(t){var e;return(e=t[id])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[id]},writeUnknownFields(t,e){const n=t[id];if(n)for(const r of n)e.tag(r.no,r.wireType).raw(r.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[id])||(i[id]=[]),i[id].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r,i){const s=t.getType(),a=i?e.len:e.pos+n;let o,l;for(;e.pos<a&&([o,l]=e.tag(),!(i===!0&&l==yn.EndGroup));){const c=s.fields.find(o);if(!c){const u=e.skip(l,o);r.readUnknownFields&&this.onUnknownField(t,o,l,u);continue}YC(t,e,c,l,r)}if(i&&(l!=yn.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:YC,writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){if(!MU(i,t)){if(i.req)throw new Error(`cannot encode field ${r.typeName}.${i.name} to binary: required field not set`);continue}const s=i.oneof?t[i.oneof.localName].value:t[i.localName];QC(i,s,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,r){e!==void 0&&QC(t,e,n,r)}}}function YC(t,e,n,r,i){let{repeated:s,localName:a}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=a&&delete t.value,t.case=a,a="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?Se.INT32:n.T;let l=cT;if(n.kind=="scalar"&&n.L>0&&(l=Ste),s){let h=t[a];if(r==yn.LengthDelimited&&o!=Se.STRING&&o!=Se.BYTES){let m=e.uint32()+e.pos;for(;e.pos<m;)h.push(l(e,o))}else h.push(l(e,o))}else t[a]=l(e,o);break;case"message":const c=n.T;s?t[a].push(Vy(e,new c,i,n)):mu(t[a])?Vy(e,t[a],i,n):(t[a]=Vy(e,new c,i,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(t[a]=c.fieldWrapper.unwrapField(t[a])));break;case"map":let[u,d]=bte(n,e,i);t[a][u]=d;break}}function Vy(t,e,n,r){const i=e.getType().runtime.bin,s=r==null?void 0:r.delimited;return i.readMessage(e,t,s?r.no:t.uint32(),n,s),e}function bte(t,e,n){const r=e.uint32(),i=e.pos+r;let s,a;for(;e.pos<i;){const[o]=e.tag();switch(o){case 1:s=cT(e,t.K);break;case 2:switch(t.V.kind){case"scalar":a=cT(e,t.V.T);break;case"enum":a=e.int32();break;case"message":a=Vy(e,new t.V.T,n,void 0);break}break}}if(s===void 0&&(s=Xh(t.K,sc.BIGINT)),typeof s!="string"&&typeof s!="number"&&(s=s.toString()),a===void 0)switch(t.V.kind){case"scalar":a=Xh(t.V.T,sc.BIGINT);break;case"enum":a=t.V.T.values[0].no;break;case"message":a=new t.V.T;break}return[s,a]}function Ste(t,e){const n=cT(t,e);return typeof n=="bigint"?n.toString():n}function cT(t,e){switch(e){case Se.STRING:return t.string();case Se.BOOL:return t.bool();case Se.DOUBLE:return t.double();case Se.FLOAT:return t.float();case Se.INT32:return t.int32();case Se.INT64:return t.int64();case Se.UINT64:return t.uint64();case Se.FIXED64:return t.fixed64();case Se.BYTES:return t.bytes();case Se.FIXED32:return t.fixed32();case Se.SFIXED32:return t.sfixed32();case Se.SFIXED64:return t.sfixed64();case Se.SINT64:return t.sint64();case Se.UINT32:return t.uint32();case Se.SINT32:return t.sint32()}}function QC(t,e,n,r){ln(e!==void 0);const i=t.repeated;switch(t.kind){case"scalar":case"enum":let s=t.kind=="enum"?Se.INT32:t.T;if(i)if(ln(Array.isArray(e)),t.packed)kte(n,s,t.no,e);else for(const a of e)Rf(n,s,t.no,a);else Rf(n,s,t.no,e);break;case"message":if(i){ln(Array.isArray(e));for(const a of e)XC(n,r,t,a)}else XC(n,r,t,e);break;case"map":ln(typeof e=="object"&&e!=null);for(const[a,o]of Object.entries(e))Ete(n,r,t,a,o);break}}function Ete(t,e,n,r,i){t.tag(n.no,yn.LengthDelimited),t.fork();let s=r;switch(n.K){case Se.INT32:case Se.FIXED32:case Se.UINT32:case Se.SFIXED32:case Se.SINT32:s=Number.parseInt(r);break;case Se.BOOL:ln(r=="true"||r=="false"),s=r=="true";break}switch(Rf(t,n.K,1,s),n.V.kind){case"scalar":Rf(t,n.V.T,2,i);break;case"enum":Rf(t,Se.INT32,2,i);break;case"message":ln(i!==void 0),t.tag(2,yn.LengthDelimited).bytes(i.toBinary(e));break}t.join()}function XC(t,e,n,r){const i=$U(n.T,r);n.delimited?t.tag(n.no,yn.StartGroup).raw(i.toBinary(e)).tag(n.no,yn.EndGroup):t.tag(n.no,yn.LengthDelimited).bytes(i.toBinary(e))}function Rf(t,e,n,r){ln(r!==void 0);let[i,s]=UU(e);t.tag(n,i)[s](r)}function kte(t,e,n,r){if(!r.length)return;t.tag(n,yn.LengthDelimited).fork();let[,i]=UU(e);for(let s=0;s<r.length;s++)t[i](r[s]);t.join()}function UU(t){let e=yn.Varint;switch(t){case Se.BYTES:case Se.STRING:e=yn.LengthDelimited;break;case Se.DOUBLE:case Se.FIXED64:case Se.SFIXED64:e=yn.Bit64;break;case Se.FIXED32:case Se.SFIXED32:case Se.FLOAT:e=yn.Bit32;break}const n=Se[t].toLowerCase();return[e,n]}function Ate(){return{setEnumType:CU,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,s=e,a=t;if(a[i]!=null)switch(r.kind){case"oneof":const o=a[i].case;if(o===void 0)continue;const l=r.findField(o);let c=a[i].value;l&&l.kind=="message"&&!mu(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===Se.BYTES&&(c=kp(c)),s[i]={case:o,value:c};break;case"scalar":case"enum":let u=a[i];r.T===Se.BYTES&&(u=r.repeated?u.map(kp):kp(u)),s[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===Se.BYTES)for(const[m,g]of Object.entries(a[i]))s[i][m]=kp(g);else Object.assign(s[i],a[i]);break;case"message":const h=r.V.T;for(const m of Object.keys(a[i])){let g=a[i][m];h.fieldWrapper||(g=new h(g)),s[i][m]=g}break}break;case"message":const d=r.T;if(r.repeated)s[i]=a[i].map(h=>mu(h,d)?h:new d(h));else{const h=a[i];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?s[i]=kp(h):s[i]=h:s[i]=mu(h,d)?h:new d(h)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],s=n[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((a,o)=>r.T.equals(a,s[o]));case"scalar":return i.every((a,o)=>il(r.T,a,s[o]));case"enum":return i.every((a,o)=>il(Se.INT32,a,s[o]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(i,s);case"enum":return il(Se.INT32,i,s);case"scalar":return il(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const a=r.findField(i.case);if(a===void 0)return!0;switch(a.kind){case"message":return a.T.equals(i.value,s.value);case"enum":return il(Se.INT32,i.value,s.value);case"scalar":return il(a.T,i.value,s.value)}throw new Error(`oneof cannot contain ${a.kind}`);case"map":const o=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const l=r.V.T;return o.every(u=>l.equals(i[u],s[u]));case"enum":return o.every(u=>il(Se.INT32,i[u],s[u]));case"scalar":const c=r.V.T;return o.every(u=>il(c,i[u],s[u]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const s=t[i.localName];let a;if(i.repeated)a=s.map(A0);else if(i.kind=="map"){a=r[i.localName];for(const[o,l]of Object.entries(s))a[o]=A0(l)}else i.kind=="oneof"?a=i.findField(s.case)?{case:s.case,value:A0(s.value)}:{case:void 0}:a=A0(s);r[i.localName]=a}for(const i of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function A0(t){if(t===void 0)return t;if(mu(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function kp(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function wte(t,e,n){return{syntax:t,json:fte(),bin:_te(),util:Object.assign(Object.assign({},Ate()),{newFieldList:e,initFields:n}),makeMessageType(r,i,s){return ete(this,r,i,s)},makeEnum:Jee,makeEnumType:IU,getEnumType:Zee,makeExtension(r,i,s){return lte(this,r,i,s)}}}let Cte=class{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}};function FU(t,e){const n=BU(t);return e?n:Ote(Nte(n))}function Ite(t){return FU(t,!1)}const xte=BU;function BU(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const Lte=new Set(["constructor","toString","toJSON","valueOf"]),Rte=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),jU=t=>`${t}$`,Nte=t=>Rte.has(t)?jU(t):t,Ote=t=>Lte.has(t)?jU(t):t;let Dte=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Ite(e)}addField(e){ln(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}};function Pte(t,e){var n,r,i,s,a,o;const l=[];let c;for(const u of typeof t=="function"?t():t){const d=u;if(d.localName=FU(u.name,u.oneof!==void 0),d.jsonName=(n=u.jsonName)!==null&&n!==void 0?n:xte(u.name),d.repeated=(r=u.repeated)!==null&&r!==void 0?r:!1,u.kind=="scalar"&&(d.L=(i=u.L)!==null&&i!==void 0?i:sc.BIGINT),d.delimited=(s=u.delimited)!==null&&s!==void 0?s:!1,d.req=(a=u.req)!==null&&a!==void 0?a:!1,d.opt=(o=u.opt)!==null&&o!==void 0?o:!1,u.packed===void 0&&(d.packed=u.kind=="enum"||u.kind=="scalar"&&u.T!=Se.BYTES&&u.T!=Se.STRING),u.oneof!==void 0){const h=typeof u.oneof=="string"?u.oneof:u.oneof.name;(!c||c.name!=h)&&(c=new Dte(h)),d.oneof=c,c.addField(d)}l.push(d)}return l}const I=wte("proto3",t=>new Cte(t,e=>Pte(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=Xh(e.T,e.L);break}}});var $e;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})($e||($e={}));var ZC;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(ZC||(ZC={}));let ac=class Gc extends ag{constructor(e){super(),this.seconds=wr.zero,this.nanos=0,I.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${I.json.debug(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=wr.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Gc.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new Gc({seconds:wr.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new Gc().fromBinary(e,n)}static fromJson(e,n){return new Gc().fromJson(e,n)}static fromJsonString(e,n){return new Gc().fromJsonString(e,n)}static equals(e,n){return I.util.equals(Gc,e,n)}};ac.runtime=I;ac.typeName="google.protobuf.Timestamp";ac.fields=I.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);let c3=class Id extends ag{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),I.util.initPartial(e,this)}toJson(e){var n;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),i=(n=e==null?void 0:e.typeRegistry)===null||n===void 0?void 0:n.findMessage(r);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=i.fromBinary(this.value).toJson(e);return(r.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(e,n){var r;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const s=this.typeUrlToName(i),a=(r=n==null?void 0:n.typeRegistry)===null||r===void 0?void 0:r.findMessage(s);if(!a)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let o;if(s.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))o=a.fromJson(e.value,n);else{const l=Object.assign({},e);delete l["@type"],o=a.fromJson(l,n)}return this.packFrom(o),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const n=e.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let r="";return typeof e=="string"?r=e:r=e.typeName,n===r}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const n=e.lastIndexOf("/"),r=n>=0?e.substring(n+1):e;if(!r.length)throw new Error(`invalid type url: ${e}`);return r}static pack(e){const n=new Id;return n.packFrom(e),n}static fromBinary(e,n){return new Id().fromBinary(e,n)}static fromJson(e,n){return new Id().fromJson(e,n)}static fromJsonString(e,n){return new Id().fromJsonString(e,n)}static equals(e,n){return I.util.equals(Id,e,n)}};c3.runtime=I;c3.typeName="google.protobuf.Any";c3.fields=I.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);const Mte=I.makeEnum("streamlayer.analytics.v1.common.ResultStatus",[{no:0,name:"RESULT_STATUS_UNSET",localName:"UNSET"},{no:1,name:"RESULT_STATUS_OK",localName:"OK"},{no:2,name:"RESULT_STATUS_ERROR",localName:"ERROR"}]),Mn=I.makeEnum("streamlayer.analytics.v1.common.Kind",[{no:0,name:"KIND_UNSET",localName:"UNSET"},{no:1,name:"KIND_VIEWERS",localName:"VIEWERS"},{no:2,name:"KIND_EVENT_OPENED",localName:"EVENT_OPENED"},{no:3,name:"KIND_AUTHENTICATION_ATTEMPTED",localName:"AUTHENTICATION_ATTEMPTED"},{no:4,name:"KIND_AUTHENTICATION_COMPLETED",localName:"AUTHENTICATION_COMPLETED"},{no:5,name:"KIND_LAUNCH_BUTTON",localName:"LAUNCH_BUTTON"},{no:6,name:"KIND_PERMISSION_PROVIDED",localName:"PERMISSION_PROVIDED"},{no:7,name:"KIND_PERMISSION_NOT_PROVIDED",localName:"PERMISSION_NOT_PROVIDED"},{no:8,name:"KIND_INTERACTIONS",localName:"INTERACTIONS"},{no:9,name:"KIND_CONVERSATION_CREATED",localName:"CONVERSATION_CREATED"},{no:10,name:"KIND_CONVERSATION_JOINED",localName:"CONVERSATION_JOINED"},{no:11,name:"KIND_CONVERSATION_DELETED",localName:"CONVERSATION_DELETED"},{no:12,name:"KIND_NEW_CALL",localName:"NEW_CALL"},{no:13,name:"KIND_CALL_JOINED",localName:"CALL_JOINED"},{no:14,name:"KIND_CALL_FINISHED",localName:"CALL_FINISHED"},{no:15,name:"KIND_INVITATION_SENT",localName:"INVITATION_SENT"},{no:16,name:"KIND_INVITATION_ACCEPTED",localName:"INVITATION_ACCEPTED"},{no:17,name:"KIND_WAVES_SENT",localName:"WAVES_SENT"},{no:18,name:"KIND_WAVES_REPLIES",localName:"WAVES_REPLIES"},{no:19,name:"KIND_NOTIFICATION_RECEIVED",localName:"NOTIFICATION_RECEIVED"},{no:20,name:"KIND_NOTIFICATION_OPENED",localName:"NOTIFICATION_OPENED"},{no:21,name:"KIND_SESSION_HEARTBEAT",localName:"SESSION_HEARTBEAT"},{no:22,name:"KIND_CONVERSATION_OPENED",localName:"CONVERSATION_OPENED"},{no:23,name:"KIND_GROUP_CONVERSATION_OPENED",localName:"GROUP_CONVERSATION_OPENED"},{no:24,name:"KIND_GROUP_CALL_JOINED",localName:"GROUP_CALL_JOINED"},{no:25,name:"KIND_POLLS_VOTE",localName:"POLLS_VOTE"},{no:26,name:"KIND_POLLS_RECEIVED",localName:"POLLS_RECEIVED"},{no:27,name:"KIND_POLLS_OPENED",localName:"POLLS_OPENED"},{no:28,name:"KIND_GAMES_JOINED",localName:"GAMES_JOINED"},{no:29,name:"KIND_BUTTON_INITIALIZED",localName:"BUTTON_INITIALIZED"},{no:30,name:"KIND_POLLS_NAVIGATED",localName:"POLLS_NAVIGATED"},{no:31,name:"KIND_AD_VIDEO_PLAYED",localName:"AD_VIDEO_PLAYED"},{no:32,name:"KIND_AD_BUTTON_NAVIGATED",localName:"AD_BUTTON_NAVIGATED"},{no:33,name:"KIND_AD_BANNER_NAVIGATED",localName:"AD_BANNER_NAVIGATED"}]),rr=I.makeEnum("streamlayer.analytics.v1.common.Category",[{no:0,name:"CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"CATEGORY_STATS_HOME",localName:"STATS_HOME"},{no:2,name:"CATEGORY_STATS",localName:"STATS"},{no:3,name:"CATEGORY_TWITTER_HOME",localName:"TWITTER_HOME"},{no:4,name:"CATEGORY_TWITTER",localName:"TWITTER"},{no:5,name:"CATEGORY_MESSAGING_HOME",localName:"MESSAGING_HOME"},{no:6,name:"CATEGORY_MESSAGING",localName:"MESSAGING"},{no:7,name:"CATEGORY_CALLING_HOME",localName:"CALLING_HOME"},{no:8,name:"CATEGORY_CALLING",localName:"CALLING"},{no:9,name:"CATEGORY_PROFILE_HOME",localName:"PROFILE_HOME"},{no:10,name:"CATEGORY_PROFILE",localName:"PROFILE"},{no:11,name:"CATEGORY_WHOISWATCHING",localName:"WHOISWATCHING"},{no:12,name:"CATEGORY_WHOISWATCHING_HOME",localName:"WHOISWATCHING_HOME"},{no:13,name:"CATEGORY_INTERSTITIAL",localName:"INTERSTITIAL"},{no:14,name:"CATEGORY_BETTING",localName:"BETTING"},{no:15,name:"CATEGORY_BETTING_HOME",localName:"BETTING_HOME"},{no:16,name:"CATEGORY_INPLAY",localName:"INPLAY"},{no:17,name:"CATEGORY_INPLAY_HOME",localName:"INPLAY_HOME"},{no:18,name:"CATEGORY_MERCHANDISE",localName:"MERCHANDISE"},{no:19,name:"CATEGORY_MERCHANDISE_HOME",localName:"MERCHANDISE_HOME"},{no:20,name:"CATEGORY_CONTESTS",localName:"CONTESTS"},{no:21,name:"CATEGORY_CONTESTS_HOME",localName:"CONTESTS_HOME"},{no:22,name:"CATEGORY_TICKETS",localName:"TICKETS"},{no:23,name:"CATEGORY_TICKETS_HOME",localName:"TICKETS_HOME"},{no:24,name:"CATEGORY_INVITATION",localName:"INVITATION"},{no:25,name:"CATEGORY_INVITATION_HOME",localName:"INVITATION_HOME"},{no:26,name:"CATEGORY_POLLS",localName:"POLLS"},{no:27,name:"CATEGORY_POLLS_HOME",localName:"POLLS_HOME"},{no:28,name:"CATEGORY_FANTASY",localName:"FANTASY"},{no:29,name:"CATEGORY_WP",localName:"WP"},{no:30,name:"CATEGORY_HIGHLIGHTS_HOME",localName:"HIGHLIGHTS_HOME"},{no:31,name:"CATEGORY_HIGHLIGHTS",localName:"HIGHLIGHTS"},{no:32,name:"CATEGORY_PUBLIC_CHAT_HOME",localName:"PUBLIC_CHAT_HOME"},{no:33,name:"CATEGORY_PUBLIC_CHAT",localName:"PUBLIC_CHAT"}]),HE=I.makeEnum("streamlayer.analytics.v1.common.ScreenOrientation",[{no:0,name:"SCREEN_ORIENTATION_UNSET",localName:"UNSET"},{no:1,name:"SCREEN_ORIENTATION_PORTRAIT",localName:"PORTRAIT"},{no:2,name:"SCREEN_ORIENTATION_LANDSCAPE",localName:"LANDSCAPE"}]),wn=I.makeEnum("streamlayer.analytics.v1.common.TopicType",[{no:0,name:"TOPIC_TYPE_UNSET",localName:"UNSET"},{no:1,name:"TOPIC_TYPE_CALL",localName:"CALL"},{no:2,name:"TOPIC_TYPE_CHAT",localName:"CHAT"},{no:3,name:"TOPIC_TYPE_FANTASY",localName:"FANTASY"},{no:4,name:"TOPIC_TYPE_POLLS",localName:"POLLS"},{no:5,name:"TOPIC_TYPE_POLLS_POLL",localName:"POLLS_POLL"},{no:6,name:"TOPIC_TYPE_POLLS_TRIVIA",localName:"POLLS_TRIVIA"},{no:7,name:"TOPIC_TYPE_POLLS_PREDICTION",localName:"POLLS_PREDICTION"},{no:8,name:"TOPIC_TYPE_POLLS_INSIGHT",localName:"POLLS_INSIGHT"},{no:9,name:"TOPIC_TYPE_POLLS_TWITTER",localName:"POLLS_TWITTER"},{no:10,name:"TOPIC_TYPE_LINK",localName:"LINK"},{no:11,name:"TOPIC_TYPE_MESSAGE",localName:"MESSAGE"},{no:12,name:"TOPIC_TYPE_POLLS_PROMOTION",localName:"POLLS_PROMOTION"},{no:13,name:"TOPIC_TYPE_PUBLIC_CHAT",localName:"PUBLIC_CHAT"}]),Ur=I.makeEnum("streamlayer.analytics.v1.common.TopicSubType",[{no:0,name:"TOPIC_SUB_TYPE_UNSET",localName:"UNSET"},{no:1,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB21",localName:"PROMOTION_INGAME_IAB21"},{no:2,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB11",localName:"PROMOTION_INGAME_IAB11"},{no:3,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB61",localName:"PROMOTION_INGAME_IAB61"},{no:4,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB21_LBAR",localName:"PROMOTION_INGAME_IAB21_LBAR"},{no:5,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB11_LBAR",localName:"PROMOTION_INGAME_IAB11_LBAR"},{no:6,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB21_LBAR_ADDITIONAL",localName:"PROMOTION_INGAME_IAB21_LBAR_ADDITIONAL"},{no:7,name:"TOPIC_SUB_TYPE_PROMOTION_INGAME_IAB11_LBAR_ADDITIONAL",localName:"PROMOTION_INGAME_IAB11_LBAR_ADDITIONAL"},{no:8,name:"TOPIC_SUB_TYPE_PROMOTION_GAM",localName:"PROMOTION_GAM"},{no:9,name:"TOPIC_SUB_TYPE_PROMOTION_VIDEO_SIDE_BY_SIDE",localName:"PROMOTION_VIDEO_SIDE_BY_SIDE"},{no:10,name:"TOPIC_SUB_TYPE_PROMOTION_PICTURE_IN_PICTURE",localName:"PROMOTION_PICTURE_IN_PICTURE"},{no:11,name:"TOPIC_SUB_TYPE_PROMOTION_SHOP_LBAR",localName:"PROMOTION_SHOP_LBAR"},{no:12,name:"TOPIC_SUB_TYPE_PROMOTION_SHOP_OVERLAY",localName:"PROMOTION_SHOP_OVERLAY"},{no:13,name:"TOPIC_SUB_TYPE_PROMOTION_SHOP_SIDEBAR",localName:"PROMOTION_SHOP_SIDEBAR"}]),ri=I.makeEnum("streamlayer.analytics.v1.common.PollOpenedFrom",[{no:0,name:"POLL_OPENED_FROM_UNSET",localName:"UNSET"},{no:1,name:"POLL_OPENED_FROM_IN_APP",localName:"IN_APP"},{no:2,name:"POLL_OPENED_FROM_HISTORY",localName:"HISTORY"},{no:3,name:"POLL_OPENED_FROM_PICK_HISTORY",localName:"PICK_HISTORY"},{no:4,name:"POLL_OPENED_FROM_INSIGHT_HISTORY",localName:"INSIGHT_HISTORY"},{no:5,name:"POLL_OPENED_FROM_TWEETS_HISTORY",localName:"TWEETS_HISTORY"},{no:6,name:"POLL_OPENED_FROM_PROMOTION_HISTORY",localName:"PROMOTION_HISTORY"}]),$te=I.makeMessageType("streamlayer.social.TweetHashtags",()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"indices",kind:"scalar",T:5,repeated:!0}]),Ute=I.makeMessageType("streamlayer.social.TweetUrls",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"display_url",kind:"scalar",T:9},{no:3,name:"expanded_url",kind:"scalar",T:9},{no:4,name:"indices",kind:"scalar",T:5,repeated:!0}]),Fte=I.makeMessageType("streamlayer.social.TweetMedia",()=>[{no:1,name:"id",kind:"scalar",T:3},{no:2,name:"id_str",kind:"scalar",T:9},{no:3,name:"type",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"media_url",kind:"scalar",T:9},{no:6,name:"display_url",kind:"scalar",T:9},{no:7,name:"expanded_url",kind:"scalar",T:9},{no:8,name:"media_url_https",kind:"scalar",T:9},{no:9,name:"source_user_id",kind:"scalar",T:3},{no:10,name:"source_user_id_str",kind:"scalar",T:9},{no:11,name:"source_status_id",kind:"scalar",T:3},{no:12,name:"source_status_id_str",kind:"scalar",T:9},{no:13,name:"sizes",kind:"message",T:VU},{no:14,name:"indices",kind:"scalar",T:5,repeated:!0}]),Bte=I.makeMessageType("streamlayer.social.TweetExtendedMedia",()=>[{no:1,name:"id",kind:"scalar",T:3},{no:2,name:"id_str",kind:"scalar",T:9},{no:3,name:"type",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"media_url",kind:"scalar",T:9},{no:6,name:"display_url",kind:"scalar",T:9},{no:7,name:"expanded_url",kind:"scalar",T:9},{no:8,name:"media_url_https",kind:"scalar",T:9},{no:9,name:"sizes",kind:"message",T:VU},{no:10,name:"indices",kind:"scalar",T:5,repeated:!0},{no:11,name:"video_info",kind:"message",T:Vte},{no:12,name:"additional_media_info",kind:"message",T:jte}]),jte=I.makeMessageType("streamlayer.social.TweetExtendedMedia.TweetAdditionalMediaInfo",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"embeddable",kind:"scalar",T:8},{no:4,name:"monetizable",kind:"scalar",T:8}],{localName:"TweetExtendedMedia_TweetAdditionalMediaInfo"}),Vte=I.makeMessageType("streamlayer.social.TweetMediaVideoInfo",()=>[{no:1,name:"aspect_ratio",kind:"scalar",T:5,repeated:!0},{no:2,name:"duration_millis",kind:"scalar",T:5},{no:3,name:"variants",kind:"message",T:Hte,repeated:!0}]),Hte=I.makeMessageType("streamlayer.social.TweetMediaVideoInfo.TweetVideoVariants",()=>[{no:1,name:"bitrate",kind:"scalar",T:5},{no:2,name:"content_type",kind:"scalar",T:9},{no:3,name:"url",kind:"scalar",T:9}],{localName:"TweetMediaVideoInfo_TweetVideoVariants"}),VU=I.makeMessageType("streamlayer.social.TweetMediaSizes",()=>[{no:1,name:"thumb",kind:"message",T:w0},{no:2,name:"large",kind:"message",T:w0},{no:3,name:"medium",kind:"message",T:w0},{no:4,name:"small",kind:"message",T:w0}]),w0=I.makeMessageType("streamlayer.social.TweetMediaSize",()=>[{no:1,name:"w",kind:"scalar",T:5},{no:2,name:"h",kind:"scalar",T:5},{no:3,name:"resize",kind:"scalar",T:9}]),Gte=I.makeMessageType("streamlayer.social.TweetUserMentions",()=>[{no:1,name:"id",kind:"scalar",T:3},{no:2,name:"id_str",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"screen_name",kind:"scalar",T:9},{no:5,name:"indices",kind:"scalar",T:5,repeated:!0}]),qte=I.makeMessageType("streamlayer.social.TweetSymbol",()=>[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"indices",kind:"scalar",T:5,repeated:!0}]),zte=I.makeMessageType("streamlayer.social.TweetPoll",()=>[{no:1,name:"duration_minutes",kind:"scalar",T:9},{no:2,name:"end_datetime",kind:"scalar",T:9},{no:3,name:"options",kind:"message",T:Wte,repeated:!0}]),Wte=I.makeMessageType("streamlayer.social.TweetPoll.TweetPollOption",()=>[{no:1,name:"position",kind:"scalar",T:5},{no:2,name:"text",kind:"scalar",T:9}],{localName:"TweetPoll_TweetPollOption"}),Kte=I.makeMessageType("streamlayer.social.TweetMetadata",()=>[{no:1,name:"id_str",kind:"scalar",T:9},{no:2,name:"account",kind:"scalar",T:9},{no:3,name:"account_id",kind:"scalar",T:9},{no:4,name:"account_image",kind:"scalar",T:9},{no:8,name:"account_name",kind:"scalar",T:9},{no:9,name:"account_verified",kind:"scalar",T:8},{no:5,name:"retweeted_status",kind:"message",T:f5},{no:6,name:"entities",kind:"message",T:Yte},{no:7,name:"extended_entities",kind:"message",T:Qte},{no:10,name:"retweet_count",kind:"scalar",T:4},{no:11,name:"favorite_count",kind:"scalar",T:4}]),Yte=I.makeMessageType("streamlayer.social.TweetMetadata.TweetEntities",()=>[{no:1,name:"urls",kind:"message",T:Ute,repeated:!0},{no:2,name:"hashtags",kind:"message",T:$te,repeated:!0},{no:3,name:"media",kind:"message",T:Fte,repeated:!0},{no:4,name:"user_mentions",kind:"message",T:Gte,repeated:!0},{no:5,name:"symbols",kind:"message",T:qte,repeated:!0},{no:6,name:"polls",kind:"message",T:zte,repeated:!0}],{localName:"TweetMetadata_TweetEntities"}),Qte=I.makeMessageType("streamlayer.social.TweetMetadata.TweetExtendedEntities",()=>[{no:1,name:"media",kind:"message",T:Bte,repeated:!0}],{localName:"TweetMetadata_TweetExtendedEntities"}),f5=I.makeMessageType("streamlayer.social.Tweet",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"date",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"meta",kind:"message",T:Kte}]),Te=I.makeEnum("streamlayer.interactive.QuestionType",[{no:0,name:"QUESTION_TYPE_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_TYPE_POLL",localName:"POLL"},{no:2,name:"QUESTION_TYPE_TRIVIA",localName:"TRIVIA"},{no:3,name:"QUESTION_TYPE_PREDICTION",localName:"PREDICTION"},{no:4,name:"QUESTION_TYPE_FACTOID",localName:"FACTOID"},{no:5,name:"QUESTION_TYPE_TWEET",localName:"TWEET"},{no:6,name:"QUESTION_TYPE_PROMOTION",localName:"PROMOTION"}]),Xte=I.makeEnum("streamlayer.interactive.QuestionSource",[{no:0,name:"QUESTION_SOURCE_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_SOURCE_AI",localName:"AI"},{no:2,name:"QUESTION_SOURCE_CSV_IMPORT",localName:"CSV_IMPORT"}]),ht=I.makeEnum("streamlayer.interactive.QuestionStatus",[{no:0,name:"QUESTION_STATUS_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_STATUS_NOT_SCHEDULED",localName:"NOT_SCHEDULED"},{no:2,name:"QUESTION_STATUS_SCHEDULED",localName:"SCHEDULED"},{no:3,name:"QUESTION_STATUS_ACTIVE",localName:"ACTIVE"},{no:4,name:"QUESTION_STATUS_RESOLVED",localName:"RESOLVED"}]),Zte=I.makeEnum("streamlayer.interactive.QuestionPosition",[{no:0,name:"QUESTION_POSITION_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_POSITION_DEFAULT",localName:"DEFAULT"},{no:2,name:"QUESTION_POSITION_FIXED_BOTTOM",localName:"FIXED_BOTTOM"}]),Jte=I.makeEnum("streamlayer.interactive.QuestionLayout",[{no:0,name:"QUESTION_LAYOUT_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_LAYOUT_LIST_VIEW",localName:"LIST_VIEW"},{no:2,name:"QUESTION_LAYOUT_GRID_VIEW",localName:"GRID_VIEW"}]),un=I.makeEnum("streamlayer.interactive.QuestionImages",[{no:0,name:"QUESTION_IMAGES_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_IMAGES_NONE",localName:"NONE"},{no:2,name:"QUESTION_IMAGES_ROUNDED",localName:"ROUNDED"},{no:3,name:"QUESTION_IMAGES_TRANSPARENT",localName:"TRANSPARENT"},{no:4,name:"QUESTION_IMAGES_CENTERED",localName:"CENTERED"}]),g5=I.makeEnum("streamlayer.interactive.NotificationPromotionMode",[{no:0,name:"NOTIFICATION_PROMOTION_MODE_UNSET",localName:"UNSET"},{no:1,name:"NOTIFICATION_PROMOTION_MODE_CLASSIC",localName:"CLASSIC"},{no:2,name:"NOTIFICATION_PROMOTION_MODE_LOWER_THIRD",localName:"LOWER_THIRD"},{no:3,name:"NOTIFICATION_PROMOTION_MODE_RICH_NOTIFICATION",localName:"RICH_NOTIFICATION"}]),uo=I.makeEnum("streamlayer.interactive.NotificationPromotionImagePosition",[{no:0,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_UNSET",localName:"UNSET"},{no:1,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_FIT",localName:"FIT"},{no:2,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_CENTERED",localName:"CENTERED"},{no:3,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_BOTTOM",localName:"BOTTOM"},{no:4,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_SOLID",localName:"SOLID"},{no:5,name:"NOTIFICATION_PROMOTION_IMAGE_POSITION_MIDDLE",localName:"MIDDLE"}]),y5=I.makeEnum("streamlayer.interactive.NotificationSponsorLogoMode",[{no:0,name:"NOTIFICATION_SPONSOR_LOGO_UNSET"},{no:1,name:"NOTIFICATION_SPONSOR_LOGO_NONE"},{no:2,name:"NOTIFICATION_SPONSOR_LOGO_TRANSPARENT"}]),T5=I.makeEnum("streamlayer.interactive.CtaIconMode",[{no:0,name:"CTA_ICON_UNSET"},{no:1,name:"CTA_ICON_NONE"},{no:2,name:"CTA_ICON_TRANSPARENT"}]),HU=I.makeEnum("streamlayer.interactive.ImagePosition",[{no:0,name:"IMAGE_POSITION_UNSET",localName:"UNSET"},{no:1,name:"IMAGE_POSITION_LEFT",localName:"LEFT"},{no:2,name:"IMAGE_POSITION_RIGHT",localName:"RIGHT"}]),xt=I.makeEnum("streamlayer.interactive.PromotionType",[{no:0,name:"PROMOTION_TYPE_UNSET",localName:"UNSET"},{no:1,name:"PROMOTION_TYPE_INGAME_IAB21",localName:"INGAME_IAB21"},{no:2,name:"PROMOTION_TYPE_INGAME_IAB11",localName:"INGAME_IAB11"},{no:3,name:"PROMOTION_TYPE_INGAME_IAB61",localName:"INGAME_IAB61"},{no:4,name:"PROMOTION_TYPE_INGAME_IAB11_LBAR",localName:"INGAME_IAB11_LBAR"},{no:5,name:"PROMOTION_TYPE_INGAME_IAB21_LBAR",localName:"INGAME_IAB21_LBAR"},{no:6,name:"PROMOTION_TYPE_EXTERNAL_AD",localName:"EXTERNAL_AD"},{no:7,name:"PROMOTION_TYPE_VIDEO_SIDE_BY_SIDE",localName:"VIDEO_SIDE_BY_SIDE"},{no:8,name:"PROMOTION_TYPE_PICTURE_IN_PICTURE",localName:"PICTURE_IN_PICTURE"},{no:9,name:"PROMOTION_TYPE_SHOP_LBAR",localName:"SHOP_LBAR"},{no:10,name:"PROMOTION_TYPE_SHOP_OVERLAY",localName:"SHOP_OVERLAY"},{no:11,name:"PROMOTION_TYPE_SHOP_SIDEBAR",localName:"SHOP_SIDEBAR"}]),ene=I.makeEnum("streamlayer.interactive.PromotionWallet",[{no:0,name:"PROMOTION_WALLET_UNSET",localName:"UNSET"},{no:1,name:"PROMOTION_WALLET_ENABLED",localName:"ENABLED"},{no:2,name:"PROMOTION_WALLET_DISABLED",localName:"DISABLED"}]),GU=I.makeEnum("streamlayer.interactive.PromotionButtonType",[{no:0,name:"PROMOTION_BUTTON_TYPE_UNSET",localName:"UNSET"},{no:1,name:"PROMOTION_BUTTON_TYPE_BASIC",localName:"BASIC"},{no:3,name:"PROMOTION_BUTTON_TYPE_ADD_TO_WALLET",localName:"ADD_TO_WALLET"},{no:4,name:"PROMOTION_BUTTON_TYPE_RETURN_TO_VIDEO",localName:"RETURN_TO_VIDEO"},{no:5,name:"PROMOTION_BUTTON_TYPE_NO_BUTTON",localName:"NO_BUTTON"},{no:6,name:"PROMOTION_BUTTON_TYPE_SEND_TO_USER",localName:"SEND_TO_USER"}]),tne=I.makeEnum("streamlayer.interactive.UserAccountInfo",[{no:0,name:"USER_ACCOUNT_INFO_UNSET",localName:"UNSET"},{no:1,name:"USER_ACCOUNT_INFO_EMAIL",localName:"EMAIL"},{no:2,name:"USER_ACCOUNT_INFO_PHONE",localName:"PHONE"}]),zd=I.makeEnum("streamlayer.interactive.PromotionLogoMode",[{no:0,name:"PROMOTION_LOGO_MODE_UNSET",localName:"UNSET"},{no:1,name:"PROMOTION_LOGO_MODE_LEFT",localName:"LEFT"},{no:2,name:"PROMOTION_LOGO_MODE_CENTER",localName:"CENTER"},{no:3,name:"PROMOTION_LOGO_MODE_MINMAL",localName:"MINMAL"}]),v5=I.makeEnum("streamlayer.interactive.UseAsNotification",[{no:0,name:"USE_AS_NOTIFICATION_UNSET",localName:"UNSET"},{no:1,name:"USE_AS_NOTIFICATION_ENABLED",localName:"ENABLED"},{no:2,name:"USE_AS_NOTIFICATION_DISABLED",localName:"DISABLED"}]),T1=I.makeEnum("streamlayer.interactive.NotificationEnabled",[{no:0,name:"NOTIFICATION_ENABLED_UNSET"},{no:1,name:"NOTIFICATION_ENABLED"},{no:2,name:"NOTIFICATION_DISABLED"}]),qU=I.makeEnum("streamlayer.interactive.CloseTimerAuto",[{no:0,name:"CLOSE_TIMER_AUTO_UNSET",localName:"UNSET"},{no:1,name:"CLOSE_TIMER_AUTO_ENABLED",localName:"ENABLED"},{no:2,name:"CLOSE_TIMER_AUTO_DISABLED",localName:"DISABLED"}]),og=I.makeEnum("streamlayer.interactive.AutoPlayVideo",[{no:0,name:"AUTO_PLAY_VIDEO_UNSET",localName:"UNSET"},{no:1,name:"AUTO_PLAY_VIDEO_ENABLED",localName:"ENABLED"},{no:2,name:"AUTO_PLAY_VIDEO_DISABLED",localName:"DISABLED"}]),nne=I.makeEnum("streamlayer.interactive.ShopGender",[{no:0,name:"SHOP_GENDER_UNSET",localName:"UNSET"},{no:1,name:"SHOP_GENDER_MALE",localName:"MALE"},{no:2,name:"SHOP_GENDER_FEMALE",localName:"FEMALE"},{no:3,name:"SHOP_GENDER_UNISEX",localName:"UNISEX"}]),rne=I.makeEnum("streamlayer.interactive.SalePrice",[{no:0,name:"SALE_PRICE_UNSET",localName:"UNSET"},{no:1,name:"SALE_PRICE_ENABLED",localName:"ENABLED"},{no:2,name:"SALE_PRICE_DISABLED",localName:"DISABLED"}]),ine=I.makeEnum("streamlayer.interactive.QuestionAutoPostState",[{no:0,name:"QUESTION_AUTO_POST_STATE_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_AUTO_POST_STATE_ON",localName:"ON"},{no:2,name:"QUESTION_AUTO_POST_STATE_OFF",localName:"OFF"},{no:3,name:"QUESTION_AUTO_POST_STATE_PAUSED",localName:"PAUSED"},{no:4,name:"QUESTION_AUTO_POST_STATE_IDLE",localName:"IDLE"},{no:5,name:"QUESTION_AUTO_POST_STATE_RESET",localName:"RESET"}]),sne=I.makeEnum("streamlayer.interactive.QuestionAutoPostStart",[{no:0,name:"QUESTION_AUTO_POST_START_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_AUTO_POST_START_SCHEDULE",localName:"SCHEDULE"},{no:2,name:"QUESTION_AUTO_POST_START_NOW",localName:"NOW"}]),ane=I.makeEnum("streamlayer.interactive.QuestionSkipReason",[{no:0,name:"QUESTION_SKIP_REASON_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_SKIP_REASON_OVERDUE",localName:"OVERDUE"}]),zU=I.makeEnum("streamlayer.interactive.SilenceSetting",[{no:0,name:"SILENCE_SETTING_UNSET",localName:"UNSET"},{no:1,name:"SILENCE_SETTING_ON",localName:"ON"},{no:2,name:"SILENCE_SETTING_OFF",localName:"OFF"}]),one=I.makeEnum("streamlayer.interactive.ImportStatus",[{no:0,name:"IMPORT_STATUS_UNSET",localName:"UNSET"},{no:1,name:"IMPORT_STATUS_PLANNED",localName:"PLANNED"},{no:2,name:"IMPORT_STATUS_RUNNING",localName:"RUNNING"},{no:3,name:"IMPORT_STATUS_COMPLETED",localName:"COMPLETED"},{no:4,name:"IMPORT_STATUS_FAILED",localName:"FAILED"}]),_5=I.makeMessageType("streamlayer.interactive.CloseTimer",()=>[{no:1,name:"auto",kind:"enum",T:I.getEnumType(qU)},{no:2,name:"seconds",kind:"scalar",T:5}]),b5=I.makeMessageType("streamlayer.interactive.QuestionAppearance",()=>[{no:1,name:"layout",kind:"enum",T:I.getEnumType(Jte)},{no:2,name:"images",kind:"enum",T:I.getEnumType(un)},{no:3,name:"primary_color",kind:"scalar",T:9},{no:4,name:"position",kind:"enum",T:I.getEnumType(Zte)},{no:5,name:"auto_hide_interval",kind:"scalar",T:4}]),Dm=I.makeMessageType("streamlayer.interactive.Sponsorship",()=>[{no:1,name:"logo",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]),lne=I.makeMessageType("streamlayer.interactive.PromotionNotification",()=>[{no:1,name:"sponsor_logo",kind:"scalar",T:9},{no:2,name:"sponsor_logo_mode",kind:"enum",T:I.getEnumType(y5)},{no:3,name:"cta_button",kind:"message",T:KU},{no:4,name:"image_position",kind:"enum",T:I.getEnumType(uo)},{no:5,name:"mode",kind:"enum",T:I.getEnumType(g5)}]),S5=I.makeMessageType("streamlayer.interactive.QuestionNotification",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"image",kind:"scalar",T:9},{no:3,name:"indicator_color",kind:"scalar",T:9},{no:4,name:"image_position",kind:"enum",T:I.getEnumType(HU)},{no:5,name:"body",kind:"scalar",T:9},{no:6,name:"image_mode",kind:"enum",T:I.getEnumType(un)},{no:7,name:"promotion",kind:"message",T:lne},{no:8,name:"enabled",kind:"enum",T:I.getEnumType(T1)}]),cne=I.makeMessageType("streamlayer.interactive.QuestionAnswer",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"icon",kind:"scalar",T:9},{no:4,name:"correct",kind:"scalar",T:8},{no:5,name:"points",kind:"scalar",T:13}]),une=I.makeMessageType("streamlayer.interactive.ExtendedQuestionAnswer",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"icon",kind:"scalar",T:9},{no:4,name:"correct",kind:"scalar",T:8},{no:5,name:"points",kind:"scalar",T:13},{no:6,name:"percentage",kind:"scalar",T:13},{no:7,name:"you_voted",kind:"scalar",T:8},{no:8,name:"percentage_decimal",kind:"scalar",T:1},{no:9,name:"points_earned",kind:"scalar",T:13}]),oc=I.makeMessageType("streamlayer.interactive.AnswerFeedback",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}]),E5=I.makeMessageType("streamlayer.interactive.FileLink",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"thumbnail_url",kind:"scalar",T:9}]),WU=I.makeMessageType("streamlayer.interactive.WebLink",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}]),KU=I.makeMessageType("streamlayer.interactive.CTAButton",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"color",kind:"scalar",T:9},{no:3,name:"text_color",kind:"scalar",T:9,opt:!0},{no:4,name:"cta_icon",kind:"scalar",T:9},{no:5,name:"cta_icon_mode",kind:"enum",T:I.getEnumType(T5)}]),JC=I.makeMessageType("streamlayer.interactive.Banner",()=>[{no:1,name:"image_url",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"cta_button",kind:"message",T:KU},{no:4,name:"video",kind:"message",T:E5},{no:5,name:"body",kind:"scalar",T:9,opt:!0},{no:6,name:"analytics_topic_sub_type",kind:"enum",T:I.getEnumType(Ur),opt:!0},{no:7,name:"title",kind:"scalar",T:9,opt:!0},{no:8,name:"sub_title",kind:"scalar",T:9,opt:!0}]),dne=I.makeMessageType("streamlayer.interactive.AdLoop",()=>[{no:1,name:"interval",kind:"scalar",T:5,opt:!0}]),hne=I.makeMessageType("streamlayer.interactive.Price",()=>[{no:1,name:"price",kind:"scalar",T:9},{no:2,name:"sale_enabled",kind:"enum",T:I.getEnumType(rne)},{no:3,name:"sale_price",kind:"scalar",T:9}]),mne=I.makeMessageType("streamlayer.interactive.Size",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:9}]),pne=I.makeMessageType("streamlayer.interactive.Product",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"image_url",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9},{no:5,name:"color",kind:"scalar",T:9},{no:6,name:"brand",kind:"scalar",T:9}]),YU=I.makeMessageType("streamlayer.interactive.QuestionOptions",()=>[{no:1,name:"poll",kind:"message",T:fne,oneof:"options"},{no:2,name:"trivia",kind:"message",T:gne,oneof:"options"},{no:3,name:"prediction",kind:"message",T:yne,oneof:"options"},{no:4,name:"factoid",kind:"message",T:Tne,oneof:"options"},{no:5,name:"tweet",kind:"message",T:vne,oneof:"options"},{no:6,name:"promotion",kind:"message",T:kne,oneof:"options"}]),fne=I.makeMessageType("streamlayer.interactive.QuestionOptions.PollOptions",[],{localName:"QuestionOptions_PollOptions"}),gne=I.makeMessageType("streamlayer.interactive.QuestionOptions.TriviaOptions",()=>[{no:1,name:"correct_feedback",kind:"message",T:oc},{no:2,name:"incorrect_feedback",kind:"message",T:oc},{no:3,name:"points",kind:"scalar",T:4}],{localName:"QuestionOptions_TriviaOptions"}),yne=I.makeMessageType("streamlayer.interactive.QuestionOptions.PredictionOptions",()=>[{no:1,name:"correct_feedback",kind:"message",T:oc},{no:2,name:"incorrect_feedback",kind:"message",T:oc}],{localName:"QuestionOptions_PredictionOptions"}),Tne=I.makeMessageType("streamlayer.interactive.QuestionOptions.FactoidOptions",()=>[{no:1,name:"image",kind:"scalar",T:9},{no:2,name:"body",kind:"scalar",T:9},{no:3,name:"video",kind:"message",T:E5},{no:4,name:"web_link",kind:"message",T:WU},{no:5,name:"image_mode",kind:"enum",T:I.getEnumType(un)},{no:6,name:"use_as_notification",kind:"enum",T:I.getEnumType(v5)},{no:7,name:"close_timer",kind:"message",T:_5,opt:!0},{no:8,name:"auto_play_video",kind:"enum",T:I.getEnumType(og),opt:!0}],{localName:"QuestionOptions_FactoidOptions"}),vne=I.makeMessageType("streamlayer.interactive.QuestionOptions.TweetOptions",()=>[{no:1,name:"tweet_url",kind:"scalar",T:9},{no:2,name:"tweet_id",kind:"scalar",T:9},{no:3,name:"tweet_meta",kind:"message",T:_ne}],{localName:"QuestionOptions_TweetOptions"}),_ne=I.makeMessageType("streamlayer.interactive.QuestionOptions.TweetOptions.TweetMetadata",()=>[{no:1,name:"account",kind:"scalar",T:9},{no:2,name:"account_verified",kind:"scalar",T:8},{no:3,name:"has_media",kind:"scalar",T:8},{no:4,name:"tweet",kind:"message",T:f5}],{localName:"QuestionOptions_TweetOptions_TweetMetadata"}),bne=I.makeMessageType("streamlayer.interactive.QuestionOptions.GamOptions",()=>[{no:1,name:"env",kind:"scalar",T:9,opt:!0},{no:2,name:"gdfp_req",kind:"scalar",T:9,opt:!0},{no:3,name:"iu",kind:"scalar",T:9,opt:!0},{no:4,name:"output",kind:"scalar",T:9,opt:!0},{no:5,name:"sz",kind:"scalar",T:9,opt:!0},{no:6,name:"unviewed_position_start",kind:"scalar",T:9,opt:!0},{no:7,name:"ciu_szs",kind:"scalar",T:9,repeated:!0},{no:8,name:"url",kind:"scalar",T:9,opt:!0},{no:9,name:"description_url",kind:"scalar",T:9,opt:!0},{no:10,name:"correlator",kind:"scalar",T:9,opt:!0},{no:11,name:"cust_params",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:12,name:"plcmt",kind:"scalar",T:9,opt:!0},{no:13,name:"vpa",kind:"scalar",T:9,opt:!0},{no:14,name:"vpmute",kind:"scalar",T:9,opt:!0},{no:15,name:"wta",kind:"scalar",T:9,opt:!0},{no:16,name:"aconp",kind:"scalar",T:9,opt:!0},{no:17,name:"ad_rule",kind:"scalar",T:9,opt:!0},{no:18,name:"ad_type",kind:"scalar",T:9,opt:!0},{no:19,name:"hl",kind:"scalar",T:9,opt:!0},{no:20,name:"dth",kind:"scalar",T:9,opt:!0},{no:21,name:"gdpr",kind:"scalar",T:9,opt:!0},{no:22,name:"gdpr_consent",kind:"scalar",T:9,opt:!0},{no:23,name:"iabexcl",kind:"scalar",T:9,opt:!0},{no:24,name:"lip",kind:"scalar",T:8,opt:!0},{no:25,name:"ltd",kind:"scalar",T:9,opt:!0},{no:26,name:"nofb",kind:"scalar",T:9,opt:!0},{no:27,name:"npa",kind:"scalar",T:9,opt:!0},{no:28,name:"omid_p",kind:"scalar",T:9,opt:!0},{no:29,name:"ppt",kind:"scalar",T:9,opt:!0},{no:30,name:"ppos",kind:"scalar",T:9,opt:!0},{no:31,name:"ppid",kind:"scalar",T:9,opt:!0},{no:32,name:"scor",kind:"scalar",T:9,opt:!0},{no:33,name:"sdk_apis",kind:"scalar",T:9,opt:!0},{no:34,name:"ssss",kind:"scalar",T:9,opt:!0},{no:35,name:"sdmax",kind:"scalar",T:9,opt:!0},{no:36,name:"sid",kind:"scalar",T:9,opt:!0},{no:37,name:"rdp",kind:"scalar",T:9,opt:!0},{no:38,name:"addtl_consent",kind:"scalar",T:9,opt:!0},{no:39,name:"afvsz",kind:"scalar",T:9,opt:!0},{no:40,name:"allcues",kind:"scalar",T:9,opt:!0},{no:41,name:"cmsid",kind:"scalar",T:9,opt:!0},{no:42,name:"vid",kind:"scalar",T:9,opt:!0},{no:43,name:"excl_cat",kind:"scalar",T:9,opt:!0},{no:44,name:"ipd",kind:"scalar",T:9,opt:!0},{no:45,name:"ipe",kind:"scalar",T:9,opt:!0},{no:46,name:"max_ad_duration",kind:"scalar",T:9,opt:!0},{no:47,name:"min_ad_duration",kind:"scalar",T:9,opt:!0},{no:48,name:"mridx",kind:"scalar",T:9,opt:!0},{no:49,name:"msid",kind:"scalar",T:9,opt:!0},{no:50,name:"an",kind:"scalar",T:9,opt:!0},{no:51,name:"pmad",kind:"scalar",T:9,opt:!0},{no:52,name:"pmnd",kind:"scalar",T:9,opt:!0},{no:53,name:"pmxd",kind:"scalar",T:9,opt:!0},{no:54,name:"pod",kind:"scalar",T:9,opt:!0},{no:55,name:"pp",kind:"scalar",T:9,opt:!0},{no:56,name:"ppsj",kind:"scalar",T:9,opt:!0},{no:57,name:"ptpl",kind:"scalar",T:9,opt:!0},{no:58,name:"ptpln",kind:"scalar",T:9,opt:!0},{no:59,name:"pubf",kind:"scalar",T:9,opt:!0},{no:60,name:"pvtf",kind:"scalar",T:9,opt:!0},{no:61,name:"pvid",kind:"scalar",T:9,opt:!0},{no:62,name:"pvid_s",kind:"scalar",T:9,opt:!0},{no:63,name:"rdid",kind:"scalar",T:9,opt:!0},{no:64,name:"idtype",kind:"scalar",T:9,opt:!0},{no:65,name:"is_lat",kind:"scalar",T:9,opt:!0},{no:66,name:"tfcd",kind:"scalar",T:9,opt:!0},{no:67,name:"trt",kind:"scalar",T:9,opt:!0},{no:68,name:"vad_type",kind:"scalar",T:9,opt:!0},{no:69,name:"vid_d",kind:"scalar",T:9,opt:!0},{no:70,name:"vconp",kind:"scalar",T:9,opt:!0},{no:71,name:"vpi",kind:"scalar",T:9,opt:!0},{no:72,name:"vpos",kind:"scalar",T:9,opt:!0},{no:73,name:"impl",kind:"scalar",T:9,opt:!0},{no:74,name:"vad_format",kind:"scalar",T:9,opt:!0}],{localName:"QuestionOptions_GamOptions"}),Sne=I.makeMessageType("streamlayer.interactive.QuestionOptions.AdCampaigns",()=>[{no:1,name:"gam_options",kind:"message",T:bne,opt:!0},{no:2,name:"gam_base_url",kind:"scalar",T:9,opt:!0},{no:3,name:"ad_loop",kind:"message",T:dne}],{localName:"QuestionOptions_AdCampaigns"}),Ene=I.makeMessageType("streamlayer.interactive.QuestionOptions.ShopOptions",()=>[{no:1,name:"product",kind:"message",T:pne},{no:2,name:"price",kind:"message",T:hne},{no:3,name:"available_sizes",kind:"message",T:mne,repeated:!0},{no:4,name:"gender",kind:"enum",T:I.getEnumType(nne)},{no:5,name:"store_url",kind:"scalar",T:9}],{localName:"QuestionOptions_ShopOptions"}),kne=I.makeMessageType("streamlayer.interactive.QuestionOptions.PromotionOptions",()=>[{no:1,name:"type",kind:"enum",T:I.getEnumType(xt)},{no:2,name:"sponsor",kind:"message",T:Dm},{no:3,name:"banner",kind:"message",T:JC},{no:4,name:"enable_wallet",kind:"enum",T:I.getEnumType(ene)},{no:5,name:"additional_banner",kind:"message",T:JC},{no:6,name:"coupon",kind:"scalar",T:9},{no:7,name:"logo_mode",kind:"enum",T:I.getEnumType(zd)},{no:8,name:"coupon_zip",kind:"scalar",T:9},{no:9,name:"coupon_barcode_url",kind:"scalar",T:9},{no:10,name:"button_type",kind:"enum",T:I.getEnumType(GU),opt:!0},{no:11,name:"ad_campaigns",kind:"message",T:Sne,opt:!0},{no:12,name:"close_timer",kind:"message",T:_5,opt:!0},{no:13,name:"auto_play_video",kind:"enum",T:I.getEnumType(og),opt:!0},{no:14,name:"background_image_landscape_url",kind:"scalar",T:9,opt:!0},{no:15,name:"background_image_portrait_url",kind:"scalar",T:9,opt:!0},{no:16,name:"add_to_wallet_options",kind:"message",T:Ane,oneof:"button_options"},{no:17,name:"send_to_user_options",kind:"message",T:wne,oneof:"button_options"},{no:18,name:"shop_options",kind:"message",T:Ene,opt:!0}],{localName:"QuestionOptions_PromotionOptions"}),Ane=I.makeMessageType("streamlayer.interactive.QuestionOptions.PromotionOptions.AddToWalletOptions",()=>[{no:1,name:"coupon",kind:"scalar",T:9},{no:2,name:"coupon_zip",kind:"scalar",T:9},{no:3,name:"coupon_barcode_url",kind:"scalar",T:9}],{localName:"QuestionOptions_PromotionOptions_AddToWalletOptions"}),wne=I.makeMessageType("streamlayer.interactive.QuestionOptions.PromotionOptions.SendToUserOptions",()=>[{no:1,name:"user_account_info",kind:"enum",T:I.getEnumType(tne)},{no:2,name:"secondary_button_label",kind:"scalar",T:9,opt:!0},{no:3,name:"secondary_button_url",kind:"scalar",T:9,opt:!0}],{localName:"QuestionOptions_PromotionOptions_SendToUserOptions"}),Cne=I.makeMessageType("streamlayer.interactive.Tag",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"label",kind:"scalar",T:9},{no:3,name:"last_used_time",kind:"scalar",T:4}]),Ine=I.makeMessageType("streamlayer.interactive.QuestionAi",()=>[{no:1,name:"verified",kind:"scalar",T:8}]),QU=I.makeMessageType("streamlayer.interactive.Question",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:I.getEnumType(Te)},{no:3,name:"subject",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:YU},{no:5,name:"appearance",kind:"message",T:b5},{no:6,name:"sponsorship",kind:"message",T:Dm},{no:7,name:"notification",kind:"message",T:S5},{no:8,name:"answers",kind:"message",T:cne,repeated:!0},{no:9,name:"status",kind:"enum",T:I.getEnumType(ht)},{no:10,name:"position",kind:"scalar",T:13,opt:!0},{no:11,name:"market_closed",kind:"scalar",T:8},{no:12,name:"activated_at",kind:"scalar",T:9},{no:13,name:"answer_set_at",kind:"scalar",T:9},{no:14,name:"overrides",kind:"map",K:9,V:{kind:"scalar",T:8}},{no:15,name:"event_id",kind:"scalar",T:9},{no:16,name:"stream_timestamp",kind:"message",T:ac},{no:17,name:"tags",kind:"message",T:Cne,repeated:!0},{no:18,name:"bypass_notifications",kind:"message",T:A5},{no:19,name:"import_id",kind:"scalar",T:9},{no:20,name:"activation_trigger_count",kind:"scalar",T:13,opt:!0},{no:21,name:"source",kind:"enum",T:I.getEnumType(Xte)},{no:22,name:"ai",kind:"message",T:Ine},{no:23,name:"has_triggers",kind:"scalar",T:8,opt:!0}]),k5=I.makeMessageType("streamlayer.interactive.ExtendedQuestion",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:I.getEnumType(Te)},{no:3,name:"subject",kind:"scalar",T:9},{no:4,name:"options",kind:"message",T:YU},{no:5,name:"appearance",kind:"message",T:b5},{no:6,name:"sponsorship",kind:"message",T:Dm},{no:7,name:"notification",kind:"message",T:S5},{no:8,name:"answers",kind:"message",T:une,repeated:!0},{no:9,name:"status",kind:"enum",T:I.getEnumType(ht)},{no:10,name:"position",kind:"scalar",T:13},{no:11,name:"market_closed",kind:"scalar",T:8},{no:12,name:"activated_at",kind:"scalar",T:9},{no:13,name:"answer_set_at",kind:"scalar",T:9},{no:14,name:"event_id",kind:"scalar",T:9},{no:15,name:"bypass_notifications",kind:"message",T:A5}]),XU=I.makeMessageType("streamlayer.interactive.EventModeration",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9},{no:3,name:"sponsorship",kind:"message",T:Dm},{no:4,name:"onboarding_enabled",kind:"scalar",T:8},{no:5,name:"question",kind:"message",T:xne},{no:6,name:"sponsors",kind:"message",T:Nne},{no:7,name:"notification",kind:"message",T:One},{no:8,name:"activated_at",kind:"message",T:ac},{no:9,name:"deactivated_at",kind:"message",T:ac},{no:10,name:"question_auto_post",kind:"message",T:Dne},{no:11,name:"bypass_notifications",kind:"message",T:A5},{no:12,name:"importer_collaboration",kind:"message",T:Fne}]),xne=I.makeMessageType("streamlayer.interactive.EventModeration.QuestionSettings",()=>[{no:1,name:"appearance",kind:"message",T:b5},{no:2,name:"trivia",kind:"message",T:Lne},{no:3,name:"prediction",kind:"message",T:Rne},{no:4,name:"correct_feedbacks",kind:"message",T:oc,repeated:!0},{no:5,name:"incorrect_feedbacks",kind:"message",T:oc,repeated:!0}],{localName:"EventModeration_QuestionSettings"}),Lne=I.makeMessageType("streamlayer.interactive.EventModeration.QuestionSettings.TriviaCardSettings",()=>[{no:1,name:"points",kind:"scalar",T:13}],{localName:"EventModeration_QuestionSettings_TriviaCardSettings"}),Rne=I.makeMessageType("streamlayer.interactive.EventModeration.QuestionSettings.PredictionCardSettings",()=>[{no:1,name:"max_points",kind:"scalar",T:13}],{localName:"EventModeration_QuestionSettings_PredictionCardSettings"}),Nne=I.makeMessageType("streamlayer.interactive.EventModeration.SponsorshipSettings",()=>[{no:1,name:"sponsors",kind:"message",T:Dm,repeated:!0}],{localName:"EventModeration_SponsorshipSettings"}),One=I.makeMessageType("streamlayer.interactive.EventModeration.NotificationSettings",()=>[{no:1,name:"image",kind:"scalar",T:9},{no:2,name:"indicator_color",kind:"scalar",T:9},{no:3,name:"image_position",kind:"enum",T:I.getEnumType(HU)},{no:4,name:"image_mode",kind:"enum",T:I.getEnumType(un)}],{localName:"EventModeration_NotificationSettings"}),Dne=I.makeMessageType("streamlayer.interactive.QuestionAutoPost",()=>[{no:1,name:"state",kind:"enum",T:I.getEnumType(ine)},{no:2,name:"interval",kind:"scalar",T:13},{no:3,name:"next_post_time",kind:"message",T:ac},{no:4,name:"start_mode",kind:"enum",T:I.getEnumType(sne)},{no:5,name:"start_options",kind:"message",T:Pne}]),Pne=I.makeMessageType("streamlayer.interactive.QuestionAutoPostStartOptions",()=>[{no:1,name:"schedule",kind:"message",T:Mne,oneof:"options"}]),Mne=I.makeMessageType("streamlayer.interactive.QuestionAutoPostStartOptions.ScheduleOptions",()=>[{no:1,name:"timestamp",kind:"scalar",T:4}],{localName:"QuestionAutoPostStartOptions_ScheduleOptions"}),u3=I.makeMessageType("streamlayer.interactive.Pagination",()=>[{no:1,name:"page",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"cursor",kind:"scalar",T:9}]),ZU=I.makeMessageType("streamlayer.interactive.Sort",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"order",kind:"scalar",T:9}]),A5=I.makeMessageType("streamlayer.interactive.BypassNotifications",()=>[{no:1,name:"in_app_silence",kind:"enum",T:I.getEnumType(zU)}]),$ne=I.makeMessageType("streamlayer.interactive.ImportError",()=>[{no:1,name:"row_id",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]),Une=I.makeMessageType("streamlayer.interactive.ImportProgress",()=>[{no:1,name:"import_id",kind:"scalar",T:9},{no:2,name:"status",kind:"enum",T:I.getEnumType(one)},{no:3,name:"errors",kind:"message",T:$ne,repeated:!0},{no:4,name:"last_updated",kind:"message",T:ac}]),Fne=I.makeMessageType("streamlayer.interactive.ImporterCollaboration",()=>[{no:1,name:"imports",kind:"map",K:9,V:{kind:"message",T:Une}}]),ko=I.makeEnum("streamlayer.interactive.feed.PickHistoryStatus",[{no:0,name:"PICK_HISTORY_STATUS_UNSET",localName:"UNSET"},{no:1,name:"PICK_HISTORY_STATUS_WON",localName:"WON"},{no:2,name:"PICK_HISTORY_STATUS_LOST",localName:"LOST"},{no:3,name:"PICK_HISTORY_STATUS_DNP",localName:"DNP"}]),Bne=I.makeEnum("streamlayer.interactive.feed.FeedUpdateType",[{no:0,name:"UPDATE_TYPE_UNSET"},{no:1,name:"UPDATE_TYPE_QUESTION_ACTIVATE"},{no:2,name:"UPDATE_TYPE_QUESTION_SET_CORRECT_ANSWER"},{no:3,name:"UPDATE_TYPE_QUESTION_RESOLVE"}]),JU=I.makeMessageType("streamlayer.interactive.feed.FeedQuestion",()=>[{no:1,name:"question",kind:"message",T:QU},{no:2,name:"notification",kind:"message",T:S5},{no:3,name:"moderation",kind:"message",T:XU},{no:4,name:"feed_item",kind:"message",T:d3}]),jne=I.makeMessageType("streamlayer.interactive.feed.SubscriptionRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"feed_id",kind:"scalar",T:9}]),Vne=I.makeMessageType("streamlayer.interactive.feed.SubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:Hne}]),Hne=I.makeMessageType("streamlayer.interactive.feed.SubscriptionResponse.SubscriptionResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:JU}],{localName:"SubscriptionResponse_SubscriptionResponseData"}),Gne=I.makeMessageType("streamlayer.interactive.feed.VotingSubscriptionRequest",()=>[{no:1,name:"feed_id",kind:"scalar",T:9},{no:2,name:"question_id",kind:"scalar",T:9}]),qne=I.makeMessageType("streamlayer.interactive.feed.VotingSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:zne}]),zne=I.makeMessageType("streamlayer.interactive.feed.VotingSubscriptionResponse.VotingSubscriptionResponseData",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:w5,repeated:!0}],{localName:"VotingSubscriptionResponse_VotingSubscriptionResponseData"}),Wne=I.makeMessageType("streamlayer.interactive.feed.QuestionSubscription",()=>[{no:1,name:"question",kind:"message",T:k5}]),Kne=I.makeMessageType("streamlayer.interactive.feed.QuestionSubscriptionRequest",()=>[{no:1,name:"question_id",kind:"scalar",T:9}]),Yne=I.makeMessageType("streamlayer.interactive.feed.QuestionSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:Qne}]),Qne=I.makeMessageType("streamlayer.interactive.feed.QuestionSubscriptionResponse.QuestionSubscriptionResponseData",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:Wne}],{localName:"QuestionSubscriptionResponse_QuestionSubscriptionResponseData"}),eF=I.makeMessageType("streamlayer.interactive.feed.QuestionByUser",()=>[{no:1,name:"question",kind:"message",T:k5}]),Xne=I.makeMessageType("streamlayer.interactive.feed.QuestionByUserRequest",()=>[{no:1,name:"question_id",kind:"scalar",T:9}]),Zne=I.makeMessageType("streamlayer.interactive.feed.QuestionByUserResponse",()=>[{no:1,name:"data",kind:"message",T:Jne}]),Jne=I.makeMessageType("streamlayer.interactive.feed.QuestionByUserResponse.QuestionByUserResponseData",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:eF}],{localName:"QuestionByUserResponse_QuestionByUserResponseData"}),ere=I.makeMessageType("streamlayer.interactive.feed.SyncQuestionRequest",()=>[{no:1,name:"filter",kind:"message",T:tre}]),tre=I.makeMessageType("streamlayer.interactive.feed.SyncQuestionRequest.SyncQuestionRequestFilter",()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"types",kind:"enum",T:I.getEnumType(Te),repeated:!0}],{localName:"SyncQuestionRequest_SyncQuestionRequestFilter"}),nre=I.makeMessageType("streamlayer.interactive.feed.SyncQuestionResponse",()=>[{no:1,name:"data",kind:"message",T:rre}]),rre=I.makeMessageType("streamlayer.interactive.feed.SyncQuestionResponse.SyncQuestionResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:JU}],{localName:"SyncQuestionResponse_SyncQuestionResponseData"}),ire=I.makeMessageType("streamlayer.interactive.feed.GetQuestionRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),sre=I.makeMessageType("streamlayer.interactive.feed.GetQuestionResponse",()=>[{no:1,name:"data",kind:"message",T:are}]),are=I.makeMessageType("streamlayer.interactive.feed.GetQuestionResponse.GetQuestionResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:QU}],{localName:"GetQuestionResponse_GetQuestionResponseData"}),ore=I.makeMessageType("streamlayer.interactive.feed.QuestionDetailRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),lre=I.makeMessageType("streamlayer.interactive.feed.QuestionDetailResponse",()=>[{no:1,name:"data",kind:"message",T:cre}]),cre=I.makeMessageType("streamlayer.interactive.feed.QuestionDetailResponse.QuestionDetailResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:k5}],{localName:"QuestionDetailResponse_QuestionDetailResponseData"}),w5=I.makeMessageType("streamlayer.interactive.feed.AnswerVoteResult",()=>[{no:1,name:"answer_id",kind:"scalar",T:9},{no:2,name:"percentage",kind:"scalar",T:13},{no:3,name:"voted",kind:"scalar",T:8},{no:4,name:"correct",kind:"scalar",T:8}]),ure=I.makeMessageType("streamlayer.interactive.feed.SubmitAnswerRequest",()=>[{no:1,name:"data",kind:"message",T:dre}]),dre=I.makeMessageType("streamlayer.interactive.feed.SubmitAnswerRequest.SubmitRequestData",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"answer_id",kind:"scalar",T:9}],{localName:"SubmitAnswerRequest_SubmitRequestData"}),hre=I.makeMessageType("streamlayer.interactive.feed.SubmitAnswerResponse",()=>[{no:1,name:"data",kind:"message",T:mre}]),mre=I.makeMessageType("streamlayer.interactive.feed.SubmitAnswerResponse.SubmitAnswerResponseData",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:w5,repeated:!0}],{localName:"SubmitAnswerResponse_SubmitAnswerResponseData"}),pre=I.makeMessageType("streamlayer.interactive.feed.SubmitInplayRequest",()=>[{no:1,name:"data",kind:"message",T:fre}]),fre=I.makeMessageType("streamlayer.interactive.feed.SubmitInplayRequest.SubmitRequestData",()=>[{no:1,name:"event_id",kind:"scalar",T:13}],{localName:"SubmitInplayRequest_SubmitRequestData"}),gre=I.makeMessageType("streamlayer.interactive.feed.SubmitInplayResponse",[]),yre=I.makeMessageType("streamlayer.interactive.feed.SkipQuestionRequest",()=>[{no:1,name:"data",kind:"message",T:Tre}]),Tre=I.makeMessageType("streamlayer.interactive.feed.SkipQuestionRequest.SkipQuestionRequestData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"reason",kind:"enum",T:I.getEnumType(ane)}],{localName:"SkipQuestionRequest_SkipQuestionRequestData"}),vre=I.makeMessageType("streamlayer.interactive.feed.SkipQuestionResponse",()=>[{no:1,name:"data",kind:"message",T:_re}]),_re=I.makeMessageType("streamlayer.interactive.feed.SkipQuestionResponse.SkipQuestionResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:w5,repeated:!0}],{localName:"SkipQuestionResponse_SkipQuestionResponseData"}),bre=I.makeMessageType("streamlayer.interactive.feed.PickHistoryRequest",()=>[{no:1,name:"question_type",kind:"enum",T:I.getEnumType(Te),repeated:!0},{no:3,name:"event_id",kind:"scalar",T:9},{no:2,name:"pagination",kind:"message",T:u3}]),tF=I.makeMessageType("streamlayer.interactive.feed.PickHistory",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"answer_id",kind:"scalar",T:9},{no:3,name:"status",kind:"enum",T:I.getEnumType(ko)},{no:4,name:"question_type",kind:"enum",T:I.getEnumType(Te)},{no:5,name:"subject",kind:"scalar",T:9},{no:6,name:"text",kind:"scalar",T:9},{no:7,name:"open_for_voting",kind:"scalar",T:8},{no:8,name:"question_status",kind:"enum",T:I.getEnumType(ht)}]),Sre=I.makeMessageType("streamlayer.interactive.feed.PickHistoryResponse",()=>[{no:1,name:"data",kind:"message",T:Ere,repeated:!0},{no:2,name:"meta",kind:"message",T:kre}]),Ere=I.makeMessageType("streamlayer.interactive.feed.PickHistoryResponse.PickHistoryResponseData",()=>[{no:1,name:"attributes",kind:"message",T:tF}],{localName:"PickHistoryResponse_PickHistoryResponseData"}),kre=I.makeMessageType("streamlayer.interactive.feed.PickHistoryResponse.PickHistoryResponseMetadata",()=>[{no:1,name:"total",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}],{localName:"PickHistoryResponse_PickHistoryResponseMetadata"}),Are=I.makeMessageType("streamlayer.interactive.feed.InsightHistoryRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9}]),wre=I.makeMessageType("streamlayer.interactive.feed.InstantView",()=>[{no:1,name:"heading",kind:"scalar",T:9,opt:!0},{no:2,name:"body",kind:"scalar",T:9,opt:!0},{no:3,name:"image",kind:"scalar",T:9,opt:!0},{no:4,name:"video",kind:"message",T:E5,opt:!0},{no:5,name:"web_link",kind:"message",T:WU,opt:!0},{no:6,name:"image_mode",kind:"enum",T:I.getEnumType(un)},{no:7,name:"close_timer",kind:"message",T:_5,opt:!0},{no:8,name:"auto_play_video",kind:"enum",T:I.getEnumType(og),opt:!0}]),Cre=I.makeMessageType("streamlayer.interactive.feed.InsightNotification",()=>[{no:1,name:"title",kind:"scalar",T:9,opt:!0},{no:2,name:"body",kind:"scalar",T:9,opt:!0},{no:3,name:"image_position",kind:"scalar",T:5,opt:!0}]),nF=I.makeMessageType("streamlayer.interactive.feed.InsightHistory",()=>[{no:1,name:"question_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"image",kind:"scalar",T:9},{no:4,name:"image_mode",kind:"enum",T:I.getEnumType(un)},{no:5,name:"instant_view",kind:"message",T:wre,opt:!0},{no:6,name:"notification",kind:"message",T:Cre,opt:!0},{no:7,name:"use_as_notification",kind:"enum",T:I.getEnumType(v5)}]),Ire=I.makeMessageType("streamlayer.interactive.feed.InsightHistoryResponse",()=>[{no:1,name:"data",kind:"message",T:xre,repeated:!0}]),xre=I.makeMessageType("streamlayer.interactive.feed.InsightHistoryResponse.InsightHistoryResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:nF}],{localName:"InsightHistoryResponse_InsightHistoryResponseData"}),Lre=I.makeMessageType("streamlayer.interactive.feed.TweetHistoryRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9}]),rF=I.makeMessageType("streamlayer.interactive.feed.TweetHistory",()=>[{no:1,name:"tweet_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"image",kind:"scalar",T:9},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"account",kind:"scalar",T:9},{no:6,name:"account_verified",kind:"scalar",T:8},{no:7,name:"tweet",kind:"message",T:f5}]),Rre=I.makeMessageType("streamlayer.interactive.feed.TweetHistoryResponse",()=>[{no:1,name:"data",kind:"message",T:Nre,repeated:!0}]),Nre=I.makeMessageType("streamlayer.interactive.feed.TweetHistoryResponse.TweetHistoryResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:rF}],{localName:"TweetHistoryResponse_TweetHistoryResponseData"}),Ore=I.makeMessageType("streamlayer.interactive.feed.InteractiveFeed",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"options",kind:"message",T:Dre},{no:3,name:"moderation",kind:"message",T:XU}]),Dre=I.makeMessageType("streamlayer.interactive.feed.FeedOptions",()=>[{no:1,name:"onboarding_enabled",kind:"scalar",T:8}]),Pre=I.makeMessageType("streamlayer.interactive.feed.GetRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9}]),Mre=I.makeMessageType("streamlayer.interactive.feed.GetResponse",()=>[{no:1,name:"data",kind:"message",T:$re}]),$re=I.makeMessageType("streamlayer.interactive.feed.GetResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:Ore}],{localName:"GetResponse_GetResponseData"}),Ure=I.makeMessageType("streamlayer.interactive.feed.PromotionHistoryRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9}]),iF=I.makeMessageType("streamlayer.interactive.feed.PromotionHistory",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"image",kind:"scalar",T:9}]),Fre=I.makeMessageType("streamlayer.interactive.feed.PromotionHistoryResponse",()=>[{no:1,name:"data",kind:"message",T:Bre,repeated:!0}]),Bre=I.makeMessageType("streamlayer.interactive.feed.PromotionHistoryResponse.PromotionHistoryResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:iF}],{localName:"PromotionHistoryResponse_PromotionHistoryResponseData"}),jre=I.makeMessageType("streamlayer.interactive.feed.FeedItemAttributes",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:I.getEnumType(Te)},{no:3,name:"status",kind:"enum",T:I.getEnumType(ht)},{no:8,name:"created",kind:"scalar",T:9},{no:4,name:"question",kind:"message",T:tF,oneof:"attributes"},{no:5,name:"tweet",kind:"message",T:rF,oneof:"attributes"},{no:6,name:"insight",kind:"message",T:nF,oneof:"attributes"},{no:7,name:"promotion",kind:"message",T:iF,oneof:"attributes"}]),d3=I.makeMessageType("streamlayer.interactive.feed.FeedItem",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:jre}]),Vre=I.makeMessageType("streamlayer.interactive.feed.FeedListRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"filter",kind:"message",T:Hre},{no:3,name:"pagination",kind:"message",T:u3}]),Hre=I.makeMessageType("streamlayer.interactive.feed.FeedListRequest.FeedListFilter",()=>[{no:1,name:"types",kind:"enum",T:I.getEnumType(Te),repeated:!0},{no:2,name:"statuses",kind:"enum",T:I.getEnumType(ht),repeated:!0}],{localName:"FeedListRequest_FeedListFilter"}),Gre=I.makeMessageType("streamlayer.interactive.feed.FeedListResponse",()=>[{no:1,name:"data",kind:"message",T:d3,repeated:!0},{no:2,name:"meta",kind:"message",T:qre}]),qre=I.makeMessageType("streamlayer.interactive.feed.FeedListResponse.FeedListResponseMetadata",()=>[{no:1,name:"total",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}],{localName:"FeedListResponse_FeedListResponseMetadata"}),zre=I.makeMessageType("streamlayer.interactive.feed.FeedItemRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),Wre=I.makeMessageType("streamlayer.interactive.feed.FeedItemResponse",()=>[{no:1,name:"data",kind:"message",T:d3}]),Kre=I.makeMessageType("streamlayer.interactive.feed.FeedSubscriptionRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9}]),Yre=I.makeMessageType("streamlayer.interactive.feed.FeedSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:d3},{no:2,name:"meta",kind:"message",T:Qre}]),Qre=I.makeMessageType("streamlayer.interactive.feed.FeedSubscriptionResponse.FeedSubscriptionMeta",()=>[{no:1,name:"type",kind:"enum",T:I.getEnumType(Bne)}],{localName:"FeedSubscriptionResponse_FeedSubscriptionMeta"}),Xre=I.makeMessageType("streamlayer.interactive.feed.BetPackRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"types",kind:"enum",T:I.getEnumType(Te),repeated:!0},{no:3,name:"statuses",kind:"enum",T:I.getEnumType(ht),repeated:!0},{no:4,name:"limit",kind:"scalar",T:5,opt:!0},{no:5,name:"sort",kind:"message",T:ZU,opt:!0}]),Zre=I.makeMessageType("streamlayer.interactive.feed.BetPackResponse",()=>[{no:1,name:"data",kind:"message",T:Jre,repeated:!0}]),Jre=I.makeMessageType("streamlayer.interactive.feed.BetPackResponse.BetPackItem",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:eF}],{localName:"BetPackResponse_BetPackItem"}),eie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameAppearance",()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9}]),tie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameMedia",()=>[{no:1,name:"game_icon",kind:"scalar",T:9},{no:2,name:"sponsor_logo",kind:"scalar",T:9}]),nie=I.makeMessageType("streamlayer.sdkSettings.game.common.GamePrize",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"image",kind:"scalar",T:9}]),rie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameOverview",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"auto_activate",kind:"scalar",T:8},{no:4,name:"scoring",kind:"scalar",T:8},{no:5,name:"media",kind:"message",T:tie},{no:6,name:"appearance",kind:"message",T:eie},{no:7,name:"prizes",kind:"message",T:nie,repeated:!0},{no:8,name:"completed",kind:"scalar",T:8}]),iie=I.makeMessageType("streamlayer.sdkSettings.game.common.TitleCardMedia",()=>[{no:1,name:"icon",kind:"scalar",T:9},{no:2,name:"sponsor_logo",kind:"scalar",T:9}]),sie=I.makeMessageType("streamlayer.sdkSettings.game.common.TitleCardAppearance",()=>[{no:1,name:"graphic",kind:"scalar",T:9}]),aie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameTitleCard",()=>[{no:1,name:"visible",kind:"scalar",T:8},{no:2,name:"opt_in",kind:"scalar",T:8},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"subtitle",kind:"scalar",T:9},{no:5,name:"header",kind:"scalar",T:9},{no:6,name:"media",kind:"message",T:iie},{no:7,name:"appearance",kind:"message",T:sie},{no:8,name:"completed",kind:"scalar",T:8}]),oie=I.makeMessageType("streamlayer.sdkSettings.game.common.OnboardingStep",()=>[{no:1,name:"headline",kind:"scalar",T:9},{no:2,name:"body",kind:"scalar",T:9},{no:3,name:"graphic",kind:"scalar",T:9}]),lie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameOnboarding",()=>[{no:1,name:"steps",kind:"message",T:oie,repeated:!0},{no:2,name:"completed",kind:"scalar",T:8}]),cie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameRules",()=>[{no:1,name:"heading",kind:"scalar",T:9},{no:2,name:"typeface",kind:"scalar",T:9},{no:3,name:"button_label",kind:"scalar",T:9},{no:4,name:"numbers_color",kind:"scalar",T:9},{no:5,name:"rules",kind:"scalar",T:9,repeated:!0},{no:6,name:"completed",kind:"scalar",T:8},{no:7,name:"terms",kind:"scalar",T:9},{no:8,name:"terms_url",kind:"scalar",T:9}]),uie=I.makeMessageType("streamlayer.sdkSettings.game.common.GameInviteCard",()=>[{no:1,name:"heading",kind:"scalar",T:9},{no:2,name:"typeface",kind:"scalar",T:9},{no:3,name:"subtext",kind:"scalar",T:9},{no:4,name:"button_label",kind:"scalar",T:9},{no:5,name:"icon_color",kind:"scalar",T:9},{no:6,name:"terms",kind:"scalar",T:9},{no:7,name:"completed",kind:"scalar",T:8}]),die=I.makeMessageType("streamlayer.sdkSettings.game.common.GameSettings",()=>[{no:1,name:"overview",kind:"message",T:rie},{no:2,name:"title_card",kind:"message",T:aie},{no:3,name:"onboarding",kind:"message",T:lie},{no:4,name:"rules",kind:"message",T:cie},{no:5,name:"invite_card",kind:"message",T:uie},{no:6,name:"completed",kind:"scalar",T:8},{no:7,name:"enable",kind:"scalar",T:8}]),hie=I.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationGeneral",()=>[{no:1,name:"default_color",kind:"scalar",T:9},{no:2,name:"points",kind:"scalar",T:13},{no:3,name:"auto_hide_interval",kind:"scalar",T:4},{no:4,name:"insights_history_enabled",kind:"scalar",T:8},{no:5,name:"pick_history_enabled",kind:"scalar",T:8},{no:6,name:"correct_feedbacks",kind:"message",T:oc,repeated:!0},{no:7,name:"incorrect_feedbacks",kind:"message",T:oc,repeated:!0}]),mie=I.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationNotifications",()=>[{no:1,name:"default_image",kind:"scalar",T:9},{no:2,name:"image_mode",kind:"enum",T:I.getEnumType(un)}]),pie=I.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationSponsorships",()=>[{no:1,name:"rotate",kind:"scalar",T:8},{no:2,name:"no_sponsor",kind:"scalar",T:8},{no:3,name:"sponsors",kind:"message",T:Dm,repeated:!0}]),fie=I.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationSettings",()=>[{no:1,name:"general",kind:"message",T:hie},{no:2,name:"notifications",kind:"message",T:mie},{no:3,name:"sponsorships",kind:"message",T:pie}]),Qe=I.makeEnum("streamlayer.sdkSettings.SdkOverlayType",[{no:0,name:"SDK_OVERLAY_TYPE_UNSET",localName:"UNSET"},{no:1,name:"SDK_OVERLAY_TYPE_INPLAY",localName:"INPLAY"},{no:2,name:"SDK_OVERLAY_TYPE_MESSAGING",localName:"MESSAGING"},{no:3,name:"SDK_OVERLAY_TYPE_STATISTICS",localName:"STATISTICS"},{no:4,name:"SDK_OVERLAY_TYPE_BETTING",localName:"BETTING"},{no:5,name:"SDK_OVERLAY_TYPE_TWITTER",localName:"TWITTER"},{no:6,name:"SDK_OVERLAY_TYPE_MERCHANDISE",localName:"MERCHANDISE"},{no:7,name:"SDK_OVERLAY_TYPE_CONTESTS",localName:"CONTESTS"},{no:8,name:"SDK_OVERLAY_TYPE_VOICE_CHAT",localName:"VOICE_CHAT"},{no:9,name:"SDK_OVERLAY_TYPE_TICKETS",localName:"TICKETS"},{no:10,name:"SDK_OVERLAY_TYPE_WHOIS_WATCHING",localName:"WHOIS_WATCHING"},{no:11,name:"SDK_OVERLAY_TYPE_PROFILE",localName:"PROFILE"},{no:12,name:"SDK_OVERLAY_TYPE_GAMES",localName:"GAMES"},{no:13,name:"SDK_OVERLAY_TYPE_GOLF_STATISTICS",localName:"GOLF_STATISTICS"},{no:14,name:"SDK_OVERLAY_TYPE_HIGHLIGHTS",localName:"HIGHLIGHTS"},{no:15,name:"SDK_OVERLAY_TYPE_PUBLIC_CHAT",localName:"PUBLIC_CHAT"}]),gie=I.makeEnum("streamlayer.sdkSettings.BettingFavoriteType",[{no:0,name:"BETTING_FAVORITE_TYPE_UNSET",localName:"UNSET"},{no:1,name:"BETTING_FAVORITE_TYPE_LEAGUE",localName:"LEAGUE"},{no:2,name:"BETTING_FAVORITE_TYPE_TEAM",localName:"TEAM"}]),yie=I.makeEnum("streamlayer.sdkSettings.BettingSettingsTextColor",[{no:0,name:"BETTING_SETTINGS_TEXT_COLOR_UNSET",localName:"UNSET"},{no:1,name:"BETTING_SETTINGS_TEXT_COLOR_PRIMARY",localName:"PRIMARY"},{no:2,name:"BETTING_SETTINGS_TEXT_COLOR_GREY",localName:"GREY"},{no:3,name:"BETTING_SETTINGS_TEXT_COLOR_CUSTOM",localName:"CUSTOM"}]),C5=I.makeEnum("streamlayer.sdkSettings.GetStreamChannelType",[{no:0,name:"GETSTREAM_CHANNEL_TYPE_UNSET"},{no:1,name:"GETSTREAM_CHANNEL_TYPE_LIVESTREAM"},{no:2,name:"GETSTREAM_CHANNEL_TYPE_MESSAGING"},{no:3,name:"GETSTREAM_CHANNEL_TYPE_TEAM"},{no:4,name:"GETSTREAM_CHANNEL_TYPE_COMMERCE"},{no:5,name:"GETSTREAM_CHANNEL_TYPE_GAMING"},{no:6,name:"GETSTREAM_CHANNEL_TYPE_CUSTOM"}]),Tie=I.makeEnum("streamlayer.sdkSettings.GetStreamChannelDefault",[{no:0,name:"GETSTREAM_CHANNEL_DEFAULT_UNSET"},{no:1,name:"GETSTREAM_CHANNEL_DEFAULT_TRUE"},{no:2,name:"GETSTREAM_CHANNEL_DEFAULT_FALSE"}]),sF=I.makeEnum("streamlayer.sdkSettings.GetStreamEnabled",[{no:0,name:"GETSTREAM_ENABLED_UNSET"},{no:1,name:"GETSTREAM_ENABLED_TRUE"},{no:2,name:"GETSTREAM_ENABLED_FALSE"}]),vie=I.makeEnum("streamlayer.sdkSettings.PublicName",[{no:0,name:"PUBLIC_NAME_UNSET",localName:"UNSET"},{no:1,name:"PUBLIC_NAME_ENABLED",localName:"ENABLED"},{no:2,name:"PUBLIC_NAME_DISABLED",localName:"DISABLED"}]),_ie=I.makeEnum("streamlayer.sdkSettings.AnalyticsVersion",[{no:0,name:"ANALYTICS_VERSION_UNSET",localName:"UNSET"},{no:1,name:"ANALYTICS_VERSION_V1",localName:"V1"},{no:2,name:"ANALYTICS_VERSION_V2",localName:"V2"}]),bie=I.makeEnum("streamlayer.sdkSettings.LeaderboardKind",[{no:0,name:"LEADERBOARD_KIND_UNSET",localName:"UNSET"},{no:1,name:"LEADERBOARD_KIND_GLOBAL",localName:"GLOBAL"},{no:2,name:"LEADERBOARD_KIND_FRIENDS",localName:"FRIENDS"}]),Sie=I.makeEnum("streamlayer.sdkSettings.AdvertisingPlacement",[{no:0,name:"ADVERTISING_PLACEMENT_UNSET",localName:"UNSET"},{no:1,name:"ADVERTISING_PLACEMENT_DEFAULT",localName:"DEFAULT"},{no:2,name:"ADVERTISING_PLACEMENT_WATCHPARTY_FULLSIZE",localName:"WATCHPARTY_FULLSIZE"},{no:3,name:"ADVERTISING_PLACEMENT_WATCHPARTY_VIDEOPANEL",localName:"WATCHPARTY_VIDEOPANEL"},{no:4,name:"ADVERTISING_PLACEMENT_OVERLAY_NAVBAR",localName:"OVERLAY_NAVBAR"}]),Eie=I.makeMessageType("streamlayer.sdkSettings.TwitterOverlaySettings",()=>[{no:1,name:"accounts",kind:"scalar",T:9,repeated:!0}]),kie=I.makeMessageType("streamlayer.sdkSettings.BettingFavorite",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"icon",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"type",kind:"enum",T:I.getEnumType(gie)}]),Aie=I.makeMessageType("streamlayer.sdkSettings.CtaImage",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]),aF=I.makeMessageType("streamlayer.sdkSettings.BrandDefaults",()=>[{no:1,name:"appearance",kind:"message",T:wie}]),wie=I.makeMessageType("streamlayer.sdkSettings.BrandDefaults.Appearance",()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9}],{localName:"BrandDefaults_Appearance"}),eI=I.makeMessageType("streamlayer.sdkSettings.BettingOverlaySettings",()=>[{no:1,name:"favorites",kind:"message",T:kie,repeated:!0},{no:2,name:"primary_color",kind:"scalar",T:9},{no:3,name:"button_icon",kind:"scalar",T:9},{no:4,name:"text_color",kind:"enum",T:I.getEnumType(yie)},{no:5,name:"app_installed_text",kind:"scalar",T:9},{no:6,name:"app_not_installed_text",kind:"scalar",T:9},{no:7,name:"text_color_custom",kind:"scalar",T:9},{no:8,name:"cta_image",kind:"message",T:Aie}]),Cie=I.makeMessageType("streamlayer.sdkSettings.GetStreamSettingsClient",()=>[{no:1,name:"enabled",kind:"enum",T:I.getEnumType(sF)},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"app_id",kind:"scalar",T:9},{no:5,name:"default_channel_type",kind:"enum",T:I.getEnumType(C5)}]),uT=I.makeMessageType("streamlayer.sdkSettings.GetStreamChannel",()=>[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9},{no:3,name:"channel_id",kind:"scalar",T:9},{no:4,name:"channel_type",kind:"enum",T:I.getEnumType(C5)},{no:5,name:"is_default",kind:"enum",T:I.getEnumType(Tie)}]),Iie=I.makeMessageType("streamlayer.sdkSettings.GetStreamChannels",()=>[{no:1,name:"enabled",kind:"enum",T:I.getEnumType(sF)},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"app_id",kind:"scalar",T:9},{no:4,name:"default_channel_type",kind:"enum",T:I.getEnumType(C5)},{no:5,name:"default_channel",kind:"message",T:uT},{no:6,name:"channels",kind:"message",T:uT,repeated:!0}]),oF=I.makeMessageType("streamlayer.sdkSettings.StreamSettings",()=>[{no:1,name:"overlays",kind:"message",T:cF,repeated:!0},{no:2,name:"custom",kind:"scalar",T:8},{no:3,name:"button_icon",kind:"scalar",T:9},{no:4,name:"primary_color",kind:"scalar",T:9},{no:5,name:"secondary_color",kind:"scalar",T:9},{no:6,name:"moderation_primary_color",kind:"scalar",T:9},{no:7,name:"link_share_icon",kind:"scalar",T:9},{no:8,name:"link_share_text",kind:"scalar",T:9},{no:9,name:"brand_defaults",kind:"message",T:aF},{no:10,name:"getstream",kind:"message",T:Iie}]),xie=I.makeMessageType("streamlayer.sdkSettings.JWK",()=>[{no:1,name:"alg",kind:"scalar",T:9,opt:!0},{no:2,name:"crv",kind:"scalar",T:9,opt:!0},{no:3,name:"d",kind:"scalar",T:9,opt:!0},{no:4,name:"dp",kind:"scalar",T:9,opt:!0},{no:5,name:"dq",kind:"scalar",T:9,opt:!0},{no:6,name:"e",kind:"scalar",T:9,opt:!0},{no:7,name:"ext",kind:"scalar",T:8,opt:!0},{no:8,name:"k",kind:"scalar",T:9,opt:!0},{no:9,name:"key_ops",kind:"scalar",T:9,repeated:!0},{no:10,name:"kid",kind:"scalar",T:9,opt:!0},{no:11,name:"kty",kind:"scalar",T:9,opt:!0},{no:12,name:"n",kind:"scalar",T:9,opt:!0},{no:13,name:"oth",kind:"message",T:Lie,repeated:!0},{no:14,name:"p",kind:"scalar",T:9,opt:!0},{no:15,name:"q",kind:"scalar",T:9,opt:!0},{no:16,name:"qi",kind:"scalar",T:9,opt:!0},{no:17,name:"use",kind:"scalar",T:9,opt:!0},{no:18,name:"x",kind:"scalar",T:9,opt:!0},{no:19,name:"y",kind:"scalar",T:9,opt:!0},{no:20,name:"x5c",kind:"scalar",T:9,repeated:!0},{no:21,name:"x5t",kind:"scalar",T:9,opt:!0},{no:22,name:"x5u",kind:"scalar",T:9,opt:!0}]),Lie=I.makeMessageType("streamlayer.sdkSettings.JWK.OTH",()=>[{no:1,name:"d",kind:"scalar",T:9,opt:!0},{no:2,name:"r",kind:"scalar",T:9,opt:!0},{no:3,name:"t",kind:"scalar",T:9,opt:!0}],{localName:"JWK_OTH"}),lF=I.makeMessageType("streamlayer.sdkSettings.OrganizationSettings",()=>[{no:1,name:"overlays",kind:"message",T:cF,repeated:!0},{no:2,name:"button_icon",kind:"scalar",T:9},{no:3,name:"tinode_host",kind:"scalar",T:9},{no:4,name:"audience",kind:"scalar",T:9},{no:5,name:"name",kind:"scalar",T:9},{no:6,name:"provider",kind:"scalar",T:9},{no:7,name:"primary_color",kind:"scalar",T:9},{no:8,name:"secondary_color",kind:"scalar",T:9},{no:9,name:"moderation_primary_color",kind:"scalar",T:9},{no:10,name:"link_share_icon",kind:"scalar",T:9},{no:11,name:"link_share_text",kind:"scalar",T:9},{no:12,name:"brand_defaults",kind:"message",T:aF},{no:13,name:"pub",kind:"message",T:xie},{no:14,name:"getstream",kind:"message",T:Cie},{no:15,name:"public_name",kind:"enum",T:I.getEnumType(vie)},{no:16,name:"analytics_version",kind:"enum",T:I.getEnumType(_ie)}]),Rie=I.makeMessageType("streamlayer.sdkSettings.GamesOverlaySettings",()=>[{no:1,name:"inplay_game",kind:"message",T:die},{no:2,name:"moderation",kind:"message",T:fie},{no:3,name:"pinned_leaderboard_id",kind:"scalar",T:9},{no:4,name:"leaderboard_kind",kind:"enum",T:I.getEnumType(bie)}]),tI=I.makeMessageType("streamlayer.sdkSettings.GetStreamOverlaySettings",()=>[{no:1,name:"default_channel",kind:"message",T:uT},{no:2,name:"channels",kind:"message",T:uT,repeated:!0}]),Zp=I.makeMessageType("streamlayer.sdkSettings.SdkOverlaySettings",()=>[{no:4,name:"twitter",kind:"message",T:Eie,oneof:"overlay_settings"},{no:5,name:"betting",kind:"message",T:eI,oneof:"overlay_settings"},{no:6,name:"inplay",kind:"message",T:eI,oneof:"overlay_settings"},{no:7,name:"games",kind:"message",T:Rie,oneof:"overlay_settings"},{no:8,name:"getstream",kind:"message",T:tI,oneof:"overlay_settings"},{no:9,name:"public_chat",kind:"message",T:tI,oneof:"overlay_settings"}]),Nie=I.makeMessageType("streamlayer.sdkSettings.SdkOverlayMeta",()=>[{no:1,name:"organization",kind:"message",T:Zp},{no:2,name:"global_preset",kind:"message",T:Zp},{no:3,name:"preset",kind:"message",T:Zp},{no:4,name:"stream",kind:"message",T:Zp}]),cF=I.makeMessageType("streamlayer.sdkSettings.SdkOverlay",()=>[{no:1,name:"type",kind:"enum",T:I.getEnumType(Qe)},{no:3,name:"position",kind:"scalar",T:5},{no:4,name:"overwrite",kind:"scalar",T:8},{no:5,name:"settings",kind:"message",T:Zp},{no:6,name:"meta",kind:"message",T:Nie},{no:7,name:"enable",kind:"scalar",T:8},{no:8,name:"sdk_enable",kind:"scalar",T:8},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"icon",kind:"scalar",T:9},{no:11,name:"svg_icon",kind:"scalar",T:9},{no:12,name:"enable_overwrite",kind:"scalar",T:9,oneof:"overwrite_flag"},{no:13,name:"disable_overwrite",kind:"scalar",T:9,oneof:"overwrite_flag"},{no:14,name:"enable_sdk_button",kind:"scalar",T:8}]),Oie=I.makeMessageType("streamlayer.sdkSettings.AdvertisingImage",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9},{no:3,name:"file_url",kind:"scalar",T:9},{no:4,name:"placement",kind:"enum",T:I.getEnumType(Sie)}]),Die=I.makeMessageType("streamlayer.sdkSettings.AdvertisingVideo",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9},{no:3,name:"file_url",kind:"scalar",T:9},{no:4,name:"background_color",kind:"scalar",T:9}]),Pie=I.makeMessageType("streamlayer.sdkSettings.AdvertisingSettings",()=>[{no:1,name:"frequency",kind:"scalar",T:5},{no:2,name:"images",kind:"message",T:Oie,repeated:!0},{no:3,name:"videos",kind:"message",T:Die,repeated:!0}]),Mie=I.makeMessageType("streamlayer.sdkSettings.AdvertisingOverlaySettings",()=>[{no:1,name:"overlay_type",kind:"enum",T:I.getEnumType(Qe)},{no:2,name:"settings",kind:"map",K:9,V:{kind:"message",T:Pie}},{no:3,name:"enabled",kind:"scalar",T:8},{no:4,name:"overlay_name",kind:"scalar",T:9},{no:5,name:"use_custom",kind:"scalar",T:8,opt:!0}]),$ie=I.makeMessageType("streamlayer.sdkSettings.Advertising",()=>[{no:1,name:"template_id",kind:"scalar",T:9},{no:2,name:"overlay_settings",kind:"map",K:9,V:{kind:"message",T:Mie}}]),GE=I.makeEnum("streamlayer.analytics.v1.invitations.InvitationCategory",[{no:0,name:"INVITATION_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"INVITATION_CATEGORY_WATCHING",localName:"WATCHING"},{no:2,name:"INVITATION_CATEGORY_MESSAGING",localName:"MESSAGING"},{no:3,name:"INVITATION_CATEGORY_VOICING",localName:"VOICING"},{no:4,name:"INVITATION_CATEGORY_GAMES",localName:"GAMES"}]),v1=I.makeEnum("streamlayer.analytics.v1.invitations.InvitationFrom",[{no:0,name:"INVITATION_FROM_UNSET",localName:"UNSET"},{no:1,name:"INVITATION_FROM_TITLE_CARD",localName:"TITLE_CARD"},{no:2,name:"INVITATION_FROM_MENU",localName:"MENU"}]);let C4=0,nI=[];function Uie(){return C4+=1,()=>{if(C4-=1,C4===0){let t=nI;nI=[];for(let e of t)e()}}}let ws=[],sl=0;const C0=4;let Hy=0,lc=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=e.push(r),()=>{for(let s=sl+C0;s<ws.length;)ws[s]===r?ws.splice(s,C0):s+=C0;let i=e.indexOf(r);~i&&(e.splice(i,1),--n.lc||n.off())}},notify(r,i){Hy++;let s=!ws.length;for(let a of e)ws.push(a,n.value,r,i);if(s){for(sl=0;sl<ws.length;sl+=C0)ws[sl](ws[sl+1],ws[sl+2],ws[sl+3]);ws.length=0}},off(){},set(r){let i=n.value;i!==r&&(n.value=r,n.notify(i))},subscribe(r){let i=n.listen(r);return r(n.value),i},value:t};return n};const Fie=0,Bie=1,jie=5,I0=6,x0=10;let I5=(t,e,n,r)=>(t.events=t.events||{},t.events[n+x0]||(t.events[n+x0]=r(i=>{t.events[n].reduceRight((s,a)=>(a(s),s),{shared:{},...i})})),t.events[n]=t.events[n]||[],t.events[n].push(e),()=>{let i=t.events[n],s=i.indexOf(e);i.splice(s,1),i.length||(delete t.events[n],t.events[n+x0](),delete t.events[n+x0])}),Vie=(t,e)=>I5(t,e,Fie,n=>{let r=t.listen;return t.listen=i=>(!t.lc&&!t.starting&&(t.starting=!0,n(),delete t.starting),r(i)),()=>{t.listen=r}}),Hie=(t,e)=>I5(t,e,Bie,n=>{let r=t.off;return t.off=()=>{n(),r()},()=>{t.off=r}}),Gie=1e3,h3=(t,e)=>I5(t,n=>{let r=e(n);r&&t.events[I0].push(r)},jie,n=>{let r=t.listen;t.listen=(...s)=>(!t.lc&&!t.active&&(t.active=!0,n()),r(...s));let i=t.off;return t.events[I0]=[],t.off=()=>{i(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let s of t.events[I0])s();t.events[I0]=[]}},Gie)},()=>{t.listen=r,t.off=i}}),uF=(t,e,n)=>{Array.isArray(t)||(t=[t]);let r,i,s=()=>{if(i===Hy)return;i=Hy;let u=t.map(d=>d.get());if(!r||u.some((d,h)=>d!==r[h])){r=u;let d=e(...u);d&&d.then&&d.t?d.then(h=>{r===u&&a.set(h)}):(a.set(d),i=Hy)}},a=lc(void 0),o=a.get;a.get=()=>(s(),o());let l,c=n?()=>{clearTimeout(l),l=setTimeout(s)}:s;return h3(a,()=>{let u=t.map(d=>d.listen(c));return s(),()=>{for(let d of u)d()}}),a},qie=(t,e)=>uF(t,e),rI=(t,e)=>uF(t,e,!0),qE=(t={})=>{let e=lc(t);return e.setKey=function(n,r){let i=e.value;typeof r>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(i,n)):e.value[n]!==r&&(e.value={...e.value,[n]:r},e.notify(i,n))},e};const ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function dF(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let I4;const zie=new Uint8Array(16);function Wie(){if(!I4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");I4=crypto.getRandomValues.bind(crypto)}return I4(zie)}const Kie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iI={randomUUID:Kie};function _1(t,e,n){var r;if(iI.randomUUID&&!e&&!t)return iI.randomUUID();t=t||{};const i=t.random??((r=t.rng)==null?void 0:r.call(t))??Wie();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,dF(i)}var He;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(He||(He={}));function sI(t){const e=He[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let zt=class xd extends Error{constructor(e,n=He.Unknown,r,i,s){super(Yie(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=s}static from(e,n=He.Unknown){return e instanceof xd?e:e instanceof Error?e.name=="AbortError"?new xd(e.message,He.Canceled):new xd(e.message,n,void 0,void 0,e):new xd(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xd.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n="typeName"in e?{findMessage:i=>i===e.typeName?e:void 0}:e,r=[];for(const i of this.details){if("getType"in i){n.findMessage(i.getType().typeName)&&r.push(i);continue}const s=n.findMessage(i.type);if(s)try{r.push(s.fromBinary(i.value))}catch{}}return r}};function Yie(t,e){return t.length?`[${sI(e)}] ${t}`:`[${sI(e)}]`}function Qie(t,e,n){try{const r=p5.dec(t);return e?e.fromBinary(r,n):r}catch(r){throw zt.from(r,He.DataLoss)}}function Xie(t,e){const n={};for(const[r,i]of Object.entries(t.methods)){const s=e(Object.assign(Object.assign({},i),{localName:r,service:t}));s!=null&&(n[r]=s)}return n}const aI=1;function oI(t){let e,n=new Uint8Array(0);function r(i){const s=new Uint8Array(n.length+i.length);s.set(n),s.set(i,n.length),n=s}return new ReadableStream({start(){e=t.getReader()},async pull(i){let s;for(;;){if(s===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];s={flags:n[0],length:l}}if(s!==void 0&&n.byteLength>=s.length+5)break;const o=await e.read();if(o.done)break;r(o.value)}if(s===void 0){if(n.byteLength==0){i.close();return}i.error(new zt("premature end of stream",He.DataLoss));return}const a=n.subarray(5,5+s.length);n=n.subarray(5+s.length),i.enqueue({flags:s.flags,data:a})}})}function lI(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,t),r.setUint32(1,e.length),n}var Zie=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}},b1=function(t){return this instanceof b1?(this.v=t,this):new b1(t)},Jie=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,d)}}function o(m,g){r[m]&&(i[m]=function(p){return new Promise(function(_,y){s.push([m,p,_,y])>1||l(m,p)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(p){h(s[0][3],p)}}function c(m){m.value instanceof b1?Promise.resolve(m.value.v).then(u,d):h(s[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}},ese=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:b1(t[i](a)),done:!1}:s?s(a):a}:s}};function tse(t){return Jie(this,arguments,function*(){yield b1(yield*ese(Zie(t)))})}var hF=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}},Zh=function(t){return this instanceof Zh?(this.v=t,this):new Zh(t)},nse=function(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Zh(t[i](a)),done:!1}:s?s(a):a}:s}},rse=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,d)}}function o(m,g){r[m]&&(i[m]=function(p){return new Promise(function(_,y){s.push([m,p,_,y])>1||l(m,p)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(p){h(s[0][3],p)}}function c(m){m.value instanceof Zh?Promise.resolve(m.value.v).then(u,d):h(s[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}};function cI(t,e){return Xie(t,n=>{switch(n.kind){case $e.Unary:return ise(e,t,n);case $e.ServerStreaming:return sse(e,t,n);case $e.ClientStreaming:return ase(e,t,n);case $e.BiDiStreaming:return ose(e,t,n);default:return null}})}function ise(t,e,n){return async function(r,i){var s,a;const o=await t.unary(e,n,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);return(s=i==null?void 0:i.onHeader)===null||s===void 0||s.call(i,o.header),(a=i==null?void 0:i.onTrailer)===null||a===void 0||a.call(i,o.trailer),o.message}}function sse(t,e,n){return function(r,i){return mF(t.stream(e,n,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,tse([r]),i==null?void 0:i.contextValues),i)}}function ase(t,e,n){return async function(r,i){var s,a,o,l,c,u;const d=await t.stream(e,n,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);(c=i==null?void 0:i.onHeader)===null||c===void 0||c.call(i,d.header);let h,m=0;try{for(var g=!0,p=hF(d.message),_;_=await p.next(),s=_.done,!s;g=!0)l=_.value,g=!1,h=l,m++}catch(y){a={error:y}}finally{try{!g&&!s&&(o=p.return)&&await o.call(p)}finally{if(a)throw a.error}}if(!h)throw new zt("protocol error: missing response message",He.Unimplemented);if(m>1)throw new zt("protocol error: received extra messages for client streaming method",He.Unimplemented);return(u=i==null?void 0:i.onTrailer)===null||u===void 0||u.call(i,d.trailer),h}}function ose(t,e,n){return function(r,i){return mF(t.stream(e,n,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues),i)}}function mF(t,e){const n=function(){return rse(this,arguments,function*(){var r,i;const s=yield Zh(t);(r=e==null?void 0:e.onHeader)===null||r===void 0||r.call(e,s.header),yield Zh(yield*nse(hF(s.message))),(i=e==null?void 0:e.onTrailer)===null||i===void 0||i.call(e,s.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function lse(...t){const e=new AbortController,n=t.filter(i=>i!==void 0).concat(e.signal);for(const i of n){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(pF(this));for(const i of n)i.removeEventListener("abort",r)}return e}function cse(t){const e=new AbortController,n=()=>{e.abort(new zt("the operation timed out",He.DeadlineExceeded))};let r;return t!==void 0&&(t<=0?n():r=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function pF(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function zE(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function dT(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}const x4=128;function uI(t){const e=new Headers,n=new TextDecoder().decode(t).split(`\r
`);for(const r of n){if(r==="")continue;const i=r.indexOf(":");if(i>0){const s=r.substring(0,i).trim(),a=r.substring(i+1).trim();e.append(s,a)}}return e}const use="Content-Type",dse="Grpc-Timeout",Jh="Grpc-Status",fF="Grpc-Message",hse="Grpc-Status-Details-Bin",mse="X-User-Agent",pse="X-Grpc-Web",fse="application/grpc-web+proto",gse="application/grpc-web+json";let m3=class Jp extends ag{constructor(e){super(),this.code=0,this.message="",this.details=[],I.util.initPartial(e,this)}static fromBinary(e,n){return new Jp().fromBinary(e,n)}static fromJson(e,n){return new Jp().fromJson(e,n)}static fromJsonString(e,n){return new Jp().fromJsonString(e,n)}static equals(e,n){return I.util.equals(Jp,e,n)}};m3.runtime=I;m3.typeName="google.rpc.Status";m3.fields=I.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:c3,repeated:!0}]);const yse="0";function gF(t){var e;const n=t.get(hse);if(n!=null){const i=Qie(n,m3);if(i.code==0)return;const s=new zt(i.message,i.code,t);return s.details=i.details.map(a=>({type:a.typeUrl.substring(a.typeUrl.lastIndexOf("/")+1),value:a.value})),s}const r=t.get(Jh);if(r!=null){if(r===yse)return;const i=parseInt(r,10);return i in He?new zt(decodeURIComponent((e=t.get(fF))!==null&&e!==void 0?e:""),i,t):new zt(`invalid grpc-status: ${r}`,He.Internal,t)}}function dI(t,e,n){const r=typeof e=="string"?e:e.typeName,i=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${r}/${i}`)}function yF(t,e){return e instanceof t?e:new t(e)}function Tse(t,e){function n(r){return r.done===!0?r:{done:r.done,value:yF(t,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),i={next:()=>r.next().then(n)};return r.throw!==void 0&&(i.throw=s=>r.throw(s).then(n)),r.return!==void 0&&(i.return=s=>r.return(s).then(n)),i}}}function TF(t,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((r,i)=>i(r),t))!==null&&n!==void 0?n:t}function vse(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function hI(t,e,n,r){const i=e?mI(t.I,r):pI(t.I,n);return{parse:(e?mI(t.O,r):pI(t.O,n)).parse,serialize:i.serialize}}function mI(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new zt(`parse binary: ${i}`,He.Internal)}},serialize(n){try{return n.toBinary(e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new zt(`serialize binary: ${i}`,He.Internal)}}}}function pI(t,e){var n,r;const i=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,s=(r=e==null?void 0:e.textDecoder)!==null&&r!==void 0?r:new TextDecoder,a=vse(e);return{parse(o){try{const l=s.decode(o);return t.fromJsonString(l,a)}catch(l){throw zt.from(l,He.InvalidArgument)}},serialize(o){try{const l=o.toJsonString(a);return i.encode(l)}catch(l){throw zt.from(l,He.Internal)}}}}function _se(t){const e=TF(t.next,t.interceptors),[n,r,i]=vF(t),s=Object.assign(Object.assign({},t.req),{message:yF(t.req.method.I,t.req.message),signal:n});return e(s).then(a=>(i(),a),r)}function bse(t){const e=TF(t.next,t.interceptors),[n,r,i]=vF(t),s=Object.assign(Object.assign({},t.req),{message:Tse(t.req.method.I,t.req.message),signal:n});let a=!1;return n.addEventListener("abort",function(){var o,l;const c=t.req.message[Symbol.asyncIterator]();a||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),e(s).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(a=!0,i()),c),r)}}}}}),r)}function vF(t){const{signal:e,cleanup:n}=cse(t.timeoutMs),r=lse(t.signal,e);return[r.signal,function(i){const s=zt.from(e.aborted?pF(e):i);return r.abort(s),n(),Promise.reject(s)},function(){n(),r.abort()}]}function Sse(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function fI(t,e){const n=gF(t);if(n)throw e.forEach((r,i)=>{n.metadata.append(i,r)}),n;if(!e.has(Jh)&&!t.has(Jh))throw new zt("protocol error: missing status",He.Internal)}function gI(t,e,n,r){const i=new Headers(n??{});return i.set(use,t?fse:gse),i.set(pse,"1"),i.set(mse,"connect-es/1.6.1"),e!==void 0&&i.set(dse,`${e}m`),i}function Ese(t){switch(t){case 400:return He.Internal;case 401:return He.Unauthenticated;case 403:return He.PermissionDenied;case 404:return He.Unimplemented;case 429:return He.Unavailable;case 502:return He.Unavailable;case 503:return He.Unavailable;case 504:return He.Unavailable;default:return He.Unknown}}function yI(t,e){var n;if(t>=200&&t<300)return{foundStatus:e.has(Jh),headerError:gF(e)};throw new zt(decodeURIComponent((n=e.get(fF))!==null&&n!==void 0?n:`HTTP ${t}`),Ese(t),e)}var ru=function(t){return this instanceof ru?(this.v=t,this):new ru(t)},kse=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,d)}}function o(m,g){r[m]&&(i[m]=function(p){return new Promise(function(_,y){s.push([m,p,_,y])>1||l(m,p)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(p){h(s[0][3],p)}}function c(m){m.value instanceof ru?Promise.resolve(m.value.v).then(u,d):h(s[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}};function TI(t){var e;Sse();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(r,i,s,a,o,l,c){var u;const{serialize:d,parse:h}=hI(i,n,t.jsonOptions,t.binaryOptions);return a=a===void 0?t.defaultTimeoutMs:a<=0?void 0:a,await _se({interceptors:t.interceptors,signal:s,timeoutMs:a,req:{stream:!1,service:r,method:i,url:dI(t.baseUrl,r,i),init:{method:"POST",credentials:(u=t.credentials)!==null&&u!==void 0?u:"same-origin",redirect:"error",mode:"cors"},header:gI(n,a,o),contextValues:c??zE(),message:l},next:async m=>{var g;const p=await((g=t.fetch)!==null&&g!==void 0?g:globalThis.fetch)(m.url,Object.assign(Object.assign({},m.init),{headers:m.header,signal:m.signal,body:lI(0,d(m.message))})),{headerError:_}=yI(p.status,p.headers);if(!p.body)throw _!==void 0?_:"missing response body";const y=oI(p.body).getReader();let v,E;for(;;){const x=await y.read();if(x.done)break;const{flags:C,data:R}=x.value;if((C&aI)===aI)throw new zt("protocol error: received unsupported compressed output",He.Internal);if(C===x4){if(v!==void 0)throw"extra trailer";v=uI(R);continue}if(E!==void 0)throw new zt("extra message",He.Unimplemented);E=h(R)}if(v===void 0)throw _!==void 0?_:new zt("missing trailer",p.headers.has(Jh)?He.Unimplemented:He.Unknown);if(fI(v,p.headers),E===void 0)throw new zt("missing message",v.has(Jh)?He.Unimplemented:He.Unknown);return{stream:!1,service:r,method:i,header:p.headers,message:E,trailer:v}}})},async stream(r,i,s,a,o,l,c){var u;const{serialize:d,parse:h}=hI(i,n,t.jsonOptions,t.binaryOptions);function m(p,_,y,v,E){return kse(this,arguments,function*(){const x=oI(p).getReader();if(_){if(!(yield ru(x.read())).done)throw"extra data for trailers-only";return yield ru(void 0)}let C=!1;for(;;){const R=yield ru(x.read());if(R.done)break;const{flags:D,data:U}=R.value;if((D&x4)===x4){if(C)throw"extra trailer";C=!0;const K=uI(U);fI(K,v),K.forEach((V,X)=>y.set(X,V));continue}if(C)throw"extra message";yield yield ru(h(U))}if("throwIfAborted"in E&&E.throwIfAborted(),!C)throw"missing trailer"})}async function g(p){if(i.kind!=$e.ServerStreaming)throw"The fetch API does not support streaming request bodies";const _=await p[Symbol.asyncIterator]().next();if(_.done==!0)throw"missing request message";return lI(0,d(_.value))}return a=a===void 0?t.defaultTimeoutMs:a<=0?void 0:a,bse({interceptors:t.interceptors,signal:s,timeoutMs:a,req:{stream:!0,service:r,method:i,url:dI(t.baseUrl,r,i),init:{method:"POST",credentials:(u=t.credentials)!==null&&u!==void 0?u:"same-origin",redirect:"error",mode:"cors"},header:gI(n,a,o),contextValues:c??zE(),message:l},next:async p=>{var _;const y=await((_=t.fetch)!==null&&_!==void 0?_:globalThis.fetch)(p.url,Object.assign(Object.assign({},p.init),{headers:p.header,signal:p.signal,body:await g(p.message)})),{foundStatus:v,headerError:E}=yI(y.status,y.headers);if(E!=null)throw E;if(!y.body)throw"missing response body";const x=new Headers;return Object.assign(Object.assign({},p),{header:y.headers,trailer:x,message:m(y.body,v,x,y.headers,p.signal)})}})}}}let Ase=()=>({emit(t,...e){let n=this.events[t]||[];for(let r=0,i=n.length;r<i;r++)n[r](...e)},events:{},on(t,e){var n;return(n=this.events[t])!=null&&n.push(e)||(this.events[t]=[e]),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(i=>e!==i)}}});const vI=({cache:t=new Map,fetcher:e,...n}={})=>{const r=Ase();let i=!0;kI("visibilitychange",()=>{i=!document.hidden,i&&r.emit(bI)}),kI("online",()=>r.emit(SI));const s=new Map,a=new Map,o=new Map;let l={};const c=async([_,y],v,E,x)=>{var C;if(!i)return;const R=he=>{v.key===_&&(v.set(he),r.emit(L4,_,he,!0))},D=()=>{R({...v.value,...wI,promise:o.get(_)})},{dedupeTime:U=4e3,fetcher:K}={...E,...l},V=AI();if(o.has(_)){v.value.loading||D();return}if(!x){const he=t.get(_);he&&v.value.data!==he&&R({data:he,...al});const ie=a.get(_);if(ie&&ie+U>V)return}const X=Uie();try{const he=K(...y);a.set(_,V),o.set(_,he),D();const ie=await he;t.set(_,ie),R({data:ie,...al}),a.set(_,AI())}catch(he){(C=E.onError)==null||C.call(E,he),R({data:v.value.data,error:he,...al})}finally{X(),o.delete(_)}},u=(_,{fetcher:y=e,...v}={})=>{const E=qE({...al}),x={...n,...v,fetcher:y};E._=_F,E.invalidate=()=>{const{key:ie}=E;ie&&m(ie)},E.mutate=ie=>{const{key:pe}=E;pe&&g(pe,ie)};let C,R,D,U,K,V=[];Vie(E,()=>{const ie=!C;[K,C]=wse(_),U=K.subscribe(te=>{if(te){const[re,Ae]=te;E.key=re,c([re,Ae],E,x),R=re,D=Ae}else E.key=R=D=void 0,E.set({...al})});const pe=K.get();pe&&([R,D]=pe,ie&&X());const{refetchInterval:ne=0,refetchOnFocus:oe,refetchOnReconnect:_e}=x,Y=()=>{R&&c([R,D],E,x)};ne>0&&s.set(_,setInterval(Y,ne)),oe&&V.push(r.on(bI,Y)),_e&&V.push(r.on(SI,Y)),V.push(r.on(EI,te=>{R&&R4(R,te)&&c([R,D],E,x,!0)}),r.on(L4,(te,re,Ae)=>{R&&R4(R,te)&&E.value!==re&&E.value.data!==re&&E.set(Ae?re:{data:re,...al})}))});const X=()=>{R&&D&&c([R,D],E,x)},he=E.listen;return E.listen=ie=>{const pe=he(ie);return ie(E.value),X(),pe},Hie(E,()=>{E.value={...al},C==null||C(),V.forEach(ie=>ie()),V=[],U==null||U(),clearInterval(s.get(_))}),E},d=_=>{t.delete(_),a.delete(_)},h=(_,y)=>{for(const v of t.keys())R4(v,_)&&y(v)},m=_=>{h(_,d),r.emit(EI,_)},g=(_,y)=>{h(_,v=>{y===void 0?d(v):t.set(v,y)}),r.emit(L4,_,y)};function p(_){const y=async E=>{var x;const C=l.fetcher??_,R=[];try{v.set({error:void 0,data:void 0,mutate:y,...wI});const D=await C({data:E,invalidate:U=>{R.push(U)},getCacheUpdater:(U,K=!0)=>[V=>{g(U,V),K&&R.push(U)},t.get(U)]});return v.setKey("data",D),D}catch(D){(x=n==null?void 0:n.onError)==null||x.call(n,D),v.setKey("error",D)}finally{v.setKey("loading",!1),R.forEach(m)}},v=qE({mutate:y,...al});return v.mutate=y,v}return[u,p,{__unsafeOverruleSettings:_=>{console.warn("You should only use __unsafeOverruleSettings in test environment"),l=_},invalidateKeys:m,mutateCache:g}]};function _I(t){return typeof t=="string"||typeof t=="number"||t===!0}const wse=t=>{if(_I(t))return[lc([""+t,[t]]),()=>{}];let e=lc(null),n=[];const r=()=>{n.some(s=>s==null||s===!1)?e.set(null):e.set([n.join(""),n])},i=[];for(let s=0;s<t.length;s++){const a=t[s];_I(a)?n.push(a):i.push(a.subscribe(o=>{n[s]=Cse(a)?a.value&&"data"in a.value?a.key:null:o,r()}))}return r(),[e,()=>i.forEach(s=>s())]};function Cse(t){return t._===_F}const bI=1,SI=2,EI=3,L4=4,kI=(t,e)=>{typeof window>"u"||addEventListener(t,e)},R4=(t,e)=>Array.isArray(e)?e.includes(t):typeof e=="function"?e(t):t===e,AI=()=>new Date().getTime(),_F=Symbol(),wI={loading:!0},al={loading:!1},bF=I.makeEnum("streamlayer.sports.EventStatus",[{no:0,name:"EVENT_STATUS_UNSET",localName:"UNSET"},{no:1,name:"EVENT_STATUS_PREGAME",localName:"PREGAME"},{no:2,name:"EVENT_STATUS_ACTIVE",localName:"ACTIVE"},{no:3,name:"EVENT_STATUS_BREAK",localName:"BREAK"},{no:4,name:"EVENT_STATUS_OVERTIME",localName:"OVERTIME"},{no:5,name:"EVENT_STATUS_SHOOTOUTS",localName:"SHOOTOUTS"},{no:6,name:"EVENT_STATUS_POSTGAME",localName:"POSTGAME"},{no:7,name:"EVENT_STATUS_CANCELLED",localName:"CANCELLED"}]),SF=I.makeEnum("streamlayer.sports.EventEndless",[{no:0,name:"EVENT_ENDLESS_UNSET",localName:"UNSET"},{no:1,name:"EVENT_ENDLESS_ENABLED",localName:"ENABLED"},{no:2,name:"EVENT_ENDLESS_DISABLED",localName:"DISABLED"}]),p3=I.makeMessageType("streamlayer.sports.Pagination",()=>[{no:1,name:"page",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}]),EF=I.makeMessageType("streamlayer.sports.Sort",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"order",kind:"scalar",T:9}]),f3=I.makeMessageType("streamlayer.sports.Meta",()=>[{no:1,name:"count",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}]),kF=I.makeMessageType("streamlayer.sports.Venue",()=>[{no:1,name:"city",kind:"scalar",T:9},{no:2,name:"country",kind:"scalar",T:9},{no:3,name:"stadium",kind:"scalar",T:9}]),g3=I.makeMessageType("streamlayer.sports.EventTime",()=>[{no:1,name:"clock",kind:"scalar",T:9},{no:2,name:"period",kind:"scalar",T:5}]),Ise=I.makeMessageType("streamlayer.sports.EventPeriod",()=>[{no:1,name:"number",kind:"scalar",T:5},{no:2,name:"score_home",kind:"scalar",T:5},{no:3,name:"score_away",kind:"scalar",T:5}]),cc=I.makeMessageType("streamlayer.sports.TeamRecord",()=>[{no:1,name:"wins",kind:"scalar",T:5},{no:2,name:"losses",kind:"scalar",T:5}]),uc=I.makeMessageType("streamlayer.sports.EventTeam",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"is_winner",kind:"scalar",T:8}]),xse=I.makeMessageType("streamlayer.sports.EventCustomFields",()=>[{no:1,name:"preview",kind:"scalar",T:9},{no:2,name:"stream",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"event_ids",kind:"scalar",T:9,repeated:!0},{no:6,name:"subtitle",kind:"scalar",T:9},{no:7,name:"promotitle",kind:"scalar",T:9},{no:8,name:"slate",kind:"scalar",T:9},{no:9,name:"horizontal_preview",kind:"scalar",T:9},{no:10,name:"small_logo",kind:"scalar",T:9},{no:11,name:"description",kind:"scalar",T:9}]),Lse=I.makeMessageType("streamlayer.sports.EventProgram",()=>[{no:1,name:"id",kind:"scalar",T:9,opt:!0},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:9},{no:4,name:"end_time",kind:"scalar",T:9},{no:5,name:"thumbnail_url",kind:"scalar",T:9},{no:6,name:"square_thumbnail_url",kind:"scalar",T:9}]),Rse=I.makeMessageType("streamlayer.sports.EventData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"sport",kind:"scalar",T:9},{no:3,name:"league",kind:"scalar",T:9},{no:4,name:"scheduled",kind:"scalar",T:9},{no:5,name:"home",kind:"message",T:uc},{no:6,name:"away",kind:"message",T:uc},{no:7,name:"status",kind:"enum",T:I.getEnumType(bF)},{no:8,name:"custom_fields",kind:"message",T:xse},{no:9,name:"start_time",kind:"scalar",T:9},{no:10,name:"end_time",kind:"scalar",T:9},{no:11,name:"venue",kind:"message",T:kF},{no:12,name:"schedule",kind:"message",T:Lse,repeated:!0},{no:13,name:"endless",kind:"enum",T:I.getEnumType(SF)},{no:14,name:"provider_id",kind:"scalar",T:9}]),Hu=I.makeMessageType("streamlayer.sports.EventSummary",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"scheduled",kind:"scalar",T:9},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"venue",kind:"message",T:kF},{no:6,name:"event_time",kind:"message",T:g3},{no:7,name:"home_team",kind:"message",T:uc},{no:8,name:"away_team",kind:"message",T:uc},{no:9,name:"status",kind:"enum",T:I.getEnumType(bF)},{no:10,name:"periods",kind:"message",T:Ise,repeated:!0},{no:11,name:"league",kind:"scalar",T:9},{no:12,name:"start_time",kind:"scalar",T:9},{no:13,name:"end_time",kind:"scalar",T:9},{no:14,name:"name",kind:"scalar",T:9},{no:15,name:"logo",kind:"scalar",T:9},{no:16,name:"stream",kind:"scalar",T:9}]),Nse=I.makeEnum("streamlayer.sports.baseball.PitcherStatus",[{no:0,name:"PITCHER_STATUS_UNSET",localName:"UNSET"},{no:1,name:"PITCHER_STATUS_WIN",localName:"WIN"},{no:2,name:"PITCHER_STATUS_LOSS",localName:"LOSS"}]),Ose=I.makeEnum("streamlayer.sports.baseball.BaseballBase",[{no:0,name:"BASEBALL_BASE_UNSET",localName:"UNSET"},{no:1,name:"BASEBALL_BASE_FIRST",localName:"FIRST"},{no:2,name:"BASEBALL_BASE_SECOND",localName:"SECOND"},{no:3,name:"BASEBALL_BASE_THIRD",localName:"THIRD"}]),CI=I.makeMessageType("streamlayer.sports.baseball.PitcherSummary",()=>[{no:1,name:"statistics",kind:"message",T:AF},{no:2,name:"status",kind:"enum",T:I.getEnumType(Nse)},{no:3,name:"win_rate",kind:"scalar",T:5},{no:4,name:"loss_rate",kind:"scalar",T:5}]),Dse=I.makeMessageType("streamlayer.sports.baseball.Runner",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"jersey_number",kind:"scalar",T:9}]),Pse=I.makeMessageType("streamlayer.sports.baseball.RunnerOnBase",()=>[{no:1,name:"base_number",kind:"enum",T:I.getEnumType(Ose)},{no:2,name:"player",kind:"message",T:Dse}]),Mse=I.makeMessageType("streamlayer.sports.baseball.Hitting",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"hits_per_bat",kind:"scalar",T:9},{no:3,name:"runs",kind:"scalar",T:9},{no:4,name:"run_batted_in",kind:"scalar",T:9},{no:5,name:"walks",kind:"scalar",T:9},{no:6,name:"batting_average",kind:"scalar",T:9}]),$se=I.makeMessageType("streamlayer.sports.baseball.Batting",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"at_bat",kind:"scalar",T:9},{no:3,name:"runs",kind:"scalar",T:9},{no:4,name:"hits",kind:"scalar",T:9},{no:5,name:"batting_average",kind:"scalar",T:9}]),AF=I.makeMessageType("streamlayer.sports.baseball.Pitching",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"innings_pitched",kind:"scalar",T:9},{no:3,name:"hits_by_pitch",kind:"scalar",T:9},{no:4,name:"earned_runs",kind:"scalar",T:9},{no:5,name:"walks",kind:"scalar",T:9},{no:6,name:"strikeouts",kind:"scalar",T:9}]),II=I.makeMessageType("streamlayer.sports.baseball.BaseballTeamSummary",()=>[{no:1,name:"hitting",kind:"message",T:Mse,repeated:!0},{no:2,name:"batting",kind:"message",T:$se,repeated:!0},{no:3,name:"pitching",kind:"message",T:AF,repeated:!0}]),Use=I.makeMessageType("streamlayer.sports.baseball.BaseballSummary",()=>[{no:1,name:"home_pitcher",kind:"message",T:CI},{no:2,name:"away_pitcher",kind:"message",T:CI},{no:3,name:"home_statistics",kind:"message",T:II},{no:4,name:"away_statistics",kind:"message",T:II}]),Fse=I.makeMessageType("streamlayer.sports.baseball.BaseballPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:uc},{no:2,name:"inning",kind:"scalar",T:9},{no:3,name:"play_text",kind:"scalar",T:9},{no:4,name:"detail",kind:"message",T:Bse,repeated:!0},{no:5,name:"runs",kind:"scalar",T:5},{no:6,name:"hits",kind:"scalar",T:5},{no:7,name:"errors",kind:"scalar",T:5}]),Bse=I.makeMessageType("streamlayer.sports.baseball.BaseballPlayByPlayStatistics.BaseballPlayByPlayDetailStatistics",()=>[{no:1,name:"score_home",kind:"scalar",T:5},{no:2,name:"score_away",kind:"scalar",T:5},{no:3,name:"play_text",kind:"scalar",T:9},{no:4,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}],{localName:"BaseballPlayByPlayStatistics_BaseballPlayByPlayDetailStatistics"}),jse=I.makeMessageType("streamlayer.sports.baseball.EventScore",()=>[{no:1,name:"outs",kind:"scalar",T:5},{no:2,name:"inning",kind:"scalar",T:5},{no:3,name:"inning_division",kind:"scalar",T:9},{no:4,name:"is_delayed",kind:"scalar",T:8},{no:5,name:"reason_for_delay",kind:"scalar",T:9},{no:6,name:"runners_on_base",kind:"message",T:Pse,repeated:!0},{no:7,name:"taken_bases",kind:"scalar",T:5},{no:8,name:"home_team_record",kind:"message",T:cc},{no:9,name:"away_team_record",kind:"message",T:cc}]),Vse=I.makeMessageType("streamlayer.sports.baseball.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:Fse,repeated:!0}]),Hse=I.makeMessageType("streamlayer.sports.baseball.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:Use}]),Gse=I.makeMessageType("streamlayer.sports.baseball.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:qse},{no:11,name:"rank",kind:"message",T:zse},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),qse=I.makeMessageType("streamlayer.sports.baseball.TeamStanding.Streak",()=>[{no:1,name:"losses",kind:"scalar",T:5},{no:2,name:"wins",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),zse=I.makeMessageType("streamlayer.sports.baseball.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),Wse=I.makeMessageType("streamlayer.sports.baseball.Standings",()=>[{no:1,name:"standings",kind:"message",T:Gse,repeated:!0}]),Kse=I.makeEnum("streamlayer.sports.basketball.BasketballPerformerCategory",[{no:0,name:"BASKETBALL_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"BASKETBALL_PERFORMER_CATEGORY_POINTS",localName:"POINTS"},{no:2,name:"BASKETBALL_PERFORMER_CATEGORY_REBOUNDS",localName:"REBOUNDS"},{no:3,name:"BASKETBALL_PERFORMER_CATEGORY_ASSISTS",localName:"ASSISTS"}]),Yse=I.makeMessageType("streamlayer.sports.basketball.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:cc},{no:9,name:"away_team_record",kind:"message",T:cc}]),xI=I.makeMessageType("streamlayer.sports.basketball.BasketballTeamSummary",()=>[{no:1,name:"field_goal_percentage",kind:"scalar",T:1},{no:2,name:"three_pts_percentage",kind:"scalar",T:1},{no:3,name:"free_throw_percentage",kind:"scalar",T:1},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"rebounds",kind:"scalar",T:5}]),LI=I.makeMessageType("streamlayer.sports.basketball.BasketballPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:9}]),Qse=I.makeMessageType("streamlayer.sports.basketball.BasketballPerformers",()=>[{no:1,name:"category",kind:"enum",T:I.getEnumType(Kse)},{no:2,name:"home_player",kind:"message",T:LI},{no:3,name:"away_player",kind:"message",T:LI}]),Xse=I.makeMessageType("streamlayer.sports.basketball.BasketballSummary",()=>[{no:1,name:"home_statistics",kind:"message",T:xI},{no:2,name:"away_statistics",kind:"message",T:xI}]),Zse=I.makeMessageType("streamlayer.sports.basketball.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:Xse},{no:2,name:"top_performers",kind:"message",T:Qse,repeated:!0},{no:3,name:"last_games",kind:"message",T:wF}]),Jse=I.makeMessageType("streamlayer.sports.basketball.BasketballPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:uc},{no:2,name:"event_time",kind:"message",T:g3},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}]),eae=I.makeMessageType("streamlayer.sports.basketball.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:Jse,repeated:!0}]),RI=I.makeMessageType("streamlayer.sports.basketball.PlayerScores",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"points",kind:"scalar",T:5},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"rebounds",kind:"scalar",T:5},{no:6,name:"minutes",kind:"scalar",T:1},{no:7,name:"starter",kind:"scalar",T:8}]),tae=I.makeMessageType("streamlayer.sports.basketball.Boxscore",()=>[{no:1,name:"home_players",kind:"message",T:RI,repeated:!0},{no:2,name:"away_players",kind:"message",T:RI,repeated:!0}]),nae=I.makeMessageType("streamlayer.sports.basketball.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:rae},{no:11,name:"rank",kind:"message",T:iae},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),rae=I.makeMessageType("streamlayer.sports.basketball.TeamStanding.Streak",()=>[{no:1,name:"kind",kind:"scalar",T:9},{no:2,name:"length",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),iae=I.makeMessageType("streamlayer.sports.basketball.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),sae=I.makeMessageType("streamlayer.sports.basketball.Standings",()=>[{no:1,name:"standings",kind:"message",T:nae,repeated:!0}]),NI=I.makeMessageType("streamlayer.sports.basketball.BasketballMatchPlayer",()=>[{no:1,name:"first_name",kind:"scalar",T:9},{no:2,name:"last_name",kind:"scalar",T:9},{no:3,name:"display_name",kind:"scalar",T:9},{no:4,name:"photo",kind:"scalar",T:9},{no:5,name:"position",kind:"scalar",T:9},{no:6,name:"jersey",kind:"scalar",T:5}]),OI=I.makeMessageType("streamlayer.sports.basketball.BasketballMatchLineup",()=>[{no:3,name:"start_players",kind:"message",T:NI,repeated:!0},{no:4,name:"substitutes",kind:"message",T:NI,repeated:!0}]),aae=I.makeMessageType("streamlayer.sports.basketball.BasketballMatchLineups",()=>[{no:1,name:"home_team",kind:"message",T:OI},{no:2,name:"away_team",kind:"message",T:OI}]),N4=I.makeMessageType("streamlayer.sports.basketball.BasketballLastGame",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:oae}]),oae=I.makeMessageType("streamlayer.sports.basketball.BasketballLastGame.BasketballLastGameAttributes",()=>[{no:1,name:"league",kind:"scalar",T:9},{no:2,name:"home_team",kind:"scalar",T:9},{no:3,name:"away_team",kind:"scalar",T:9},{no:5,name:"home_score",kind:"scalar",T:5},{no:6,name:"away_score",kind:"scalar",T:5},{no:7,name:"date",kind:"scalar",T:9}],{localName:"BasketballLastGame_BasketballLastGameAttributes"}),wF=I.makeMessageType("streamlayer.sports.basketball.BasketballLastGames",()=>[{no:1,name:"home",kind:"message",T:N4,repeated:!0},{no:2,name:"away",kind:"message",T:N4,repeated:!0},{no:3,name:"head_to_head",kind:"message",T:N4,repeated:!0}]),lae=I.makeEnum("streamlayer.sports.hockey.HockeyPerformerCategory",[{no:0,name:"HOCKEY_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"HOCKEY_PERFORMER_CATEGORY_GOALS",localName:"GOALS"},{no:2,name:"HOCKEY_PERFORMER_CATEGORY_SHOTS",localName:"SHOTS"},{no:3,name:"HOCKEY_PERFORMER_CATEGORY_HITS",localName:"HITS"},{no:4,name:"HOCKEY_PERFORMER_CATEGORY_SAVES",localName:"SAVES"}]),CF=I.makeEnum("streamlayer.sports.hockey.HockeyPlayerPosition",[{no:0,name:"HOCKEY_PLAYER_POSITION_UNSET",localName:"UNSET"},{no:1,name:"HOCKEY_PLAYER_POSITION_CENTER",localName:"CENTER"},{no:2,name:"HOCKEY_PLAYER_POSITION_LEFT_WIND",localName:"LEFT_WIND"},{no:3,name:"HOCKEY_PLAYER_POSITION_RIGHT_WING",localName:"RIGHT_WING"},{no:4,name:"HOCKEY_PLAYER_POSITION_DEFENSE",localName:"DEFENSE"},{no:5,name:"HOCKEY_PLAYER_POSITION_GOALTENDER",localName:"GOALTENDER"}]),cae=I.makeMessageType("streamlayer.sports.hockey.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:cc},{no:9,name:"away_team_record",kind:"message",T:cc}]),DI=I.makeMessageType("streamlayer.sports.hockey.HockeyPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:5}]),uae=I.makeMessageType("streamlayer.sports.hockey.HockeyPerformers",()=>[{no:1,name:"category",kind:"enum",T:I.getEnumType(lae)},{no:2,name:"home_player",kind:"message",T:DI,repeated:!0},{no:3,name:"away_player",kind:"message",T:DI,repeated:!0}]),PI=I.makeMessageType("streamlayer.sports.hockey.HockeyTeamSummary",()=>[{no:1,name:"shots_on_goal",kind:"scalar",T:5},{no:2,name:"faceoff",kind:"scalar",T:1},{no:3,name:"powerplay",kind:"scalar",T:5},{no:4,name:"penalty_minutes",kind:"scalar",T:5},{no:5,name:"hits",kind:"scalar",T:5},{no:6,name:"blocks",kind:"scalar",T:5},{no:7,name:"giveaways",kind:"scalar",T:5},{no:8,name:"takeaways",kind:"scalar",T:5}]),dae=I.makeMessageType("streamlayer.sports.hockey.HockeySummary",()=>[{no:1,name:"home_statistics",kind:"message",T:PI},{no:2,name:"away_statistics",kind:"message",T:PI}]),hae=I.makeMessageType("streamlayer.sports.hockey.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:dae},{no:2,name:"top_performers",kind:"message",T:uae,repeated:!0}]),mae=I.makeMessageType("streamlayer.sports.hockey.HockeyPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:uc},{no:2,name:"event_time",kind:"message",T:g3},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}]),pae=I.makeMessageType("streamlayer.sports.hockey.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:mae,repeated:!0}]),O4=I.makeMessageType("streamlayer.sports.hockey.PlayerScore",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"goals",kind:"scalar",T:5},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"shots",kind:"scalar",T:5},{no:6,name:"penalty_minutes",kind:"scalar",T:1},{no:7,name:"minutes",kind:"scalar",T:9},{no:8,name:"position",kind:"enum",T:I.getEnumType(CF)}]),MI=I.makeMessageType("streamlayer.sports.hockey.GoaltenderScore",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"shots_againts",kind:"scalar",T:5},{no:4,name:"goals_againts",kind:"scalar",T:5},{no:5,name:"saves",kind:"scalar",T:5},{no:6,name:"saves_pct",kind:"scalar",T:5},{no:7,name:"minutes",kind:"scalar",T:9},{no:8,name:"position",kind:"enum",T:I.getEnumType(CF)}]),$I=I.makeMessageType("streamlayer.sports.hockey.PlayerScores",()=>[{no:1,name:"skaters",kind:"message",T:O4,repeated:!0},{no:2,name:"goaltender",kind:"message",T:MI},{no:3,name:"forwards",kind:"message",T:O4,repeated:!0},{no:4,name:"defensemen",kind:"message",T:O4,repeated:!0},{no:5,name:"goaltenders",kind:"message",T:MI,repeated:!0}]),fae=I.makeMessageType("streamlayer.sports.hockey.Boxscore",()=>[{no:1,name:"home_players",kind:"message",T:$I},{no:2,name:"away_players",kind:"message",T:$I}]),gae=I.makeMessageType("streamlayer.sports.hockey.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:yae},{no:11,name:"rank",kind:"message",T:Tae},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),yae=I.makeMessageType("streamlayer.sports.hockey.TeamStanding.Streak",()=>[{no:1,name:"kind",kind:"scalar",T:9},{no:2,name:"length",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),Tae=I.makeMessageType("streamlayer.sports.hockey.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),vae=I.makeMessageType("streamlayer.sports.hockey.Standings",()=>[{no:1,name:"standings",kind:"message",T:gae,repeated:!0}]),_ae=I.makeEnum("streamlayer.sports.soccer.SoccerPerformerCategory",[{no:0,name:"SOCCER_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"SOCCER_PERFORMER_CATEGORY_ATTACK",localName:"ATTACK"},{no:2,name:"SOCCER_PERFORMER_CATEGORY_MIDFIELD",localName:"MIDFIELD"},{no:3,name:"SOCCER_PERFORMER_CATEGORY_DEFENSE",localName:"DEFENSE"}]),bae=I.makeEnum("streamlayer.sports.soccer.SoccerMatchActivityType",[{no:0,name:"SOCCER_MATCH_ACTIVITY_UNSET"},{no:1,name:"SOCCER_MATCH_ACTIVITY_GOAL"},{no:2,name:"SOCCER_MATCH_ACTIVITY_YELLOW_CARD"},{no:3,name:"SOCCER_MATCH_ACTIVITY_RED_CARD"},{no:4,name:"SOCCER_MATCH_ACTIVITY_SUBSTITUTION"},{no:5,name:"SOCCER_MATCH_ACTIVITY_HALF_TIME"},{no:6,name:"SOCCER_MATCH_ACTIVITY_FULL_TIME"}]),Sae=I.makeMessageType("streamlayer.sports.soccer.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:cc},{no:9,name:"away_team_record",kind:"message",T:cc}]),x5=I.makeMessageType("streamlayer.sports.soccer.SoccerPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:5}]),Eae=I.makeMessageType("streamlayer.sports.soccer.SoccerAttackPerfomer",()=>[{no:1,name:"perfomer",kind:"message",T:x5},{no:2,name:"attack_stats",kind:"message",T:Nae}]),kae=I.makeMessageType("streamlayer.sports.soccer.SoccerMidfieldPerformer",()=>[{no:1,name:"perfomer",kind:"message",T:x5},{no:2,name:"midfield_stats",kind:"message",T:Oae}]),Aae=I.makeMessageType("streamlayer.sports.soccer.SoccerDefensePerfomer",()=>[{no:1,name:"perfomer",kind:"message",T:x5},{no:2,name:"defense_stats",kind:"message",T:Dae}]),wae=I.makeMessageType("streamlayer.sports.soccer.SoccerPerformers",()=>[{no:1,name:"category",kind:"enum",T:I.getEnumType(_ae)},{no:2,name:"attack_performer",kind:"message",T:Eae},{no:3,name:"midfield_performer",kind:"message",T:kae},{no:4,name:"defense_performer",kind:"message",T:Aae}]),Cae=I.makeMessageType("streamlayer.sports.soccer.SoccerTeamTopMatchStats",()=>[{no:1,name:"possession",kind:"scalar",T:1},{no:2,name:"shots",kind:"scalar",T:5},{no:3,name:"shots_on_target",kind:"scalar",T:5},{no:4,name:"passes",kind:"scalar",T:5},{no:5,name:"offsides",kind:"scalar",T:5},{no:6,name:"yellow_cards",kind:"scalar",T:5},{no:7,name:"corner_kicks",kind:"scalar",T:5},{no:8,name:"free_kicks",kind:"scalar",T:5},{no:9,name:"red_cards",kind:"scalar",T:5}]),Iae=I.makeMessageType("streamlayer.sports.soccer.SoccerTeamAttackingStats",()=>[{no:1,name:"possession",kind:"scalar",T:1},{no:2,name:"passing_accuracy",kind:"scalar",T:1},{no:3,name:"chances_created",kind:"scalar",T:5},{no:4,name:"successful_crosses",kind:"scalar",T:1}]),xae=I.makeMessageType("streamlayer.sports.soccer.SoccerTeamDefenseStats",()=>[{no:1,name:"tackles_made",kind:"scalar",T:5},{no:2,name:"interceptions",kind:"scalar",T:5},{no:3,name:"blocked_shots",kind:"scalar",T:5},{no:4,name:"clearances",kind:"scalar",T:5},{no:5,name:"duels_won",kind:"scalar",T:5}]),UI=I.makeMessageType("streamlayer.sports.soccer.SoccerTeamSummary",()=>[{no:1,name:"top_match_stats",kind:"message",T:Cae},{no:2,name:"attacking_stats",kind:"message",T:Iae},{no:3,name:"defense_stats",kind:"message",T:xae}]),Lae=I.makeMessageType("streamlayer.sports.soccer.SoccerSummary",()=>[{no:1,name:"home_statistics",kind:"message",T:UI},{no:2,name:"away_statistics",kind:"message",T:UI},{no:3,name:"perfomers",kind:"message",T:wae}]),Rae=I.makeMessageType("streamlayer.sports.soccer.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:Lae},{no:2,name:"last_games",kind:"message",T:IF}]),Nae=I.makeMessageType("streamlayer.sports.soccer.SoccerPlayerAttackingStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"shots",kind:"scalar",T:5},{no:4,name:"shots_on_goal",kind:"scalar",T:5},{no:5,name:"penalty_kick_goals",kind:"scalar",T:5}]),Oae=I.makeMessageType("streamlayer.sports.soccer.SoccerPlayerMidfieldStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"key_passes",kind:"scalar",T:5},{no:4,name:"crosses",kind:"scalar",T:5},{no:5,name:"corners",kind:"scalar",T:5}]),Dae=I.makeMessageType("streamlayer.sports.soccer.SoccerPlayerDefenseStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"tackles_made",kind:"scalar",T:5},{no:4,name:"interceptions",kind:"scalar",T:5},{no:5,name:"blocked_shots",kind:"scalar",T:5}]),Pae=I.makeMessageType("streamlayer.sports.soccer.SoccerMatchFormationMatrixPlayer",()=>[{no:1,name:"jersey_number",kind:"scalar",T:5},{no:2,name:"player_name",kind:"scalar",T:9},{no:3,name:"photo",kind:"scalar",T:9}]),Mae=I.makeMessageType("streamlayer.sports.soccer.SoccerMatchFormationMatrix",()=>[{no:1,name:"row_players",kind:"message",T:Pae,repeated:!0}]),FI=I.makeMessageType("streamlayer.sports.soccer.SoccerMatchPlayer",()=>[{no:1,name:"first_name",kind:"scalar",T:9},{no:2,name:"last_name",kind:"scalar",T:9},{no:3,name:"display_name",kind:"scalar",T:9},{no:4,name:"photo",kind:"scalar",T:9},{no:5,name:"position",kind:"scalar",T:9},{no:6,name:"jersey",kind:"scalar",T:5}]),BI=I.makeMessageType("streamlayer.sports.soccer.SoccerMatchLineup",()=>[{no:1,name:"formation_string",kind:"scalar",T:9},{no:2,name:"formation_matrix",kind:"message",T:Mae,repeated:!0},{no:3,name:"start_players",kind:"message",T:FI,repeated:!0},{no:4,name:"substitutes",kind:"message",T:FI,repeated:!0}]),$ae=I.makeMessageType("streamlayer.sports.soccer.SoccerMatchLineups",()=>[{no:1,name:"home_team",kind:"message",T:BI},{no:2,name:"away_team",kind:"message",T:BI}]),Uae=I.makeMessageType("streamlayer.sports.soccer.SoccerPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:uc},{no:2,name:"event_time",kind:"message",T:g3},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5},{no:8,name:"type",kind:"enum",T:I.getEnumType(bae)}]),Fae=I.makeMessageType("streamlayer.sports.soccer.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:Uae,repeated:!0}]),Bae=I.makeMessageType("streamlayer.sports.soccer.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"draws",kind:"scalar",T:5},{no:9,name:"games_behind",kind:"scalar",T:5},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"points",kind:"scalar",T:5},{no:14,name:"position",kind:"scalar",T:5},{no:15,name:"total_goals",kind:"scalar",T:5},{no:16,name:"total_goals_received",kind:"scalar",T:5}]),jae=I.makeMessageType("streamlayer.sports.soccer.Standings",()=>[{no:1,name:"standings",kind:"message",T:Bae,repeated:!0}]),D4=I.makeMessageType("streamlayer.sports.soccer.SoccerLastGame",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:Vae}]),Vae=I.makeMessageType("streamlayer.sports.soccer.SoccerLastGame.SoccerLastGameAttributes",()=>[{no:1,name:"league",kind:"scalar",T:9},{no:2,name:"home_team",kind:"scalar",T:9},{no:3,name:"away_team",kind:"scalar",T:9},{no:5,name:"home_score",kind:"scalar",T:5},{no:6,name:"away_score",kind:"scalar",T:5},{no:7,name:"date",kind:"scalar",T:9}],{localName:"SoccerLastGame_SoccerLastGameAttributes"}),IF=I.makeMessageType("streamlayer.sports.soccer.SoccerLastGames",()=>[{no:1,name:"home",kind:"message",T:D4,repeated:!0},{no:2,name:"away",kind:"message",T:D4,repeated:!0},{no:3,name:"head_to_head",kind:"message",T:D4,repeated:!0}]),Gu=I.makeEnum("streamlayer.sports.events.EventType",[{no:0,name:"EVENT_TYPE_UNSET",localName:"UNSET"},{no:1,name:"EVENT_TYPE_BASEBALL",localName:"BASEBALL"},{no:2,name:"EVENT_TYPE_BASKETBALL",localName:"BASKETBALL"},{no:3,name:"EVENT_TYPE_HOCKEY",localName:"HOCKEY"},{no:4,name:"EVENT_TYPE_SOCCER",localName:"SOCCER"},{no:5,name:"EVENT_TYPE_GOLF",localName:"GOLF"}]),Hae=I.makeMessageType("streamlayer.sports.events.ScheduleAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"baseball",kind:"message",T:jse,oneof:"sport"},{no:3,name:"basketball",kind:"message",T:Yse,oneof:"sport"},{no:4,name:"hockey",kind:"message",T:cae,oneof:"sport"},{no:5,name:"soccer",kind:"message",T:Sae,oneof:"sport"}]),Gae=I.makeMessageType("streamlayer.sports.events.ScheduleResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:Hae}]),qae=I.makeMessageType("streamlayer.sports.events.ListResponseAttributes",()=>[{no:1,name:"common",kind:"message",T:Rse}]),xF=I.makeMessageType("streamlayer.sports.events.ListResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:qae}]),zae=I.makeMessageType("streamlayer.sports.events.ListRequest",()=>[{no:1,name:"filter",kind:"message",T:Wae},{no:2,name:"pagination",kind:"message",T:p3},{no:3,name:"sort",kind:"message",T:EF},{no:4,name:"ids",kind:"scalar",T:4,repeated:!0},{no:5,name:"organization_id",kind:"scalar",T:9}]),Wae=I.makeMessageType("streamlayer.sports.events.ListRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9},{no:3,name:"start_date_time",kind:"scalar",T:9},{no:4,name:"end_date_time",kind:"scalar",T:9},{no:5,name:"sport",kind:"scalar",T:9},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"endless",kind:"enum",T:I.getEnumType(SF)}],{localName:"ListRequest_Filter"}),Kae=I.makeMessageType("streamlayer.sports.events.DemoListRequest",()=>[{no:1,name:"filter",kind:"message",T:Yae},{no:2,name:"pagination",kind:"message",T:p3},{no:3,name:"sort",kind:"message",T:EF}]),Yae=I.makeMessageType("streamlayer.sports.events.DemoListRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9}],{localName:"DemoListRequest_Filter"}),Qae=I.makeMessageType("streamlayer.sports.events.DemoListResponse",()=>[{no:1,name:"meta",kind:"message",T:f3},{no:2,name:"data",kind:"message",T:xF,repeated:!0}]),Xae=I.makeMessageType("streamlayer.sports.events.ListResponse",()=>[{no:1,name:"meta",kind:"message",T:f3},{no:2,name:"data",kind:"message",T:xF,repeated:!0}]),jI=I.makeMessageType("streamlayer.sports.events.SummaryRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"organization_id",kind:"scalar",T:9}]),VI=I.makeMessageType("streamlayer.sports.events.SummaryResponse",()=>[{no:1,name:"data",kind:"message",T:Zae}]),Zae=I.makeMessageType("streamlayer.sports.events.SummaryResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:Jae}],{localName:"SummaryResponse_ResponseData"}),Jae=I.makeMessageType("streamlayer.sports.events.SummaryResponse.ResponseData.SummaryResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"baseball",kind:"message",T:Hse,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:Zse,oneof:"sports"},{no:4,name:"hockey",kind:"message",T:hae,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:Rae,oneof:"sports"}],{localName:"SummaryResponse_ResponseData_SummaryResponseAttributes"}),eoe=I.makeMessageType("streamlayer.sports.events.AdminSummaryRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"organization_id",kind:"scalar",T:9}]),toe=I.makeMessageType("streamlayer.sports.events.AdminSummaryResponse",()=>[{no:1,name:"data",kind:"message",T:noe}]),noe=I.makeMessageType("streamlayer.sports.events.AdminSummaryResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:roe}],{localName:"AdminSummaryResponse_ResponseData"}),roe=I.makeMessageType("streamlayer.sports.events.AdminSummaryResponse.ResponseData.SummaryResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"provider_id",kind:"scalar",T:9}],{localName:"AdminSummaryResponse_ResponseData_SummaryResponseAttributes"}),ioe=I.makeMessageType("streamlayer.sports.events.PlayByPlayRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"pagination",kind:"message",T:p3},{no:3,name:"order",kind:"scalar",T:9}]),soe=I.makeMessageType("streamlayer.sports.events.PlayByPlayResponse",()=>[{no:1,name:"data",kind:"message",T:aoe},{no:2,name:"meta",kind:"message",T:f3}]),aoe=I.makeMessageType("streamlayer.sports.events.PlayByPlayResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:ooe}],{localName:"PlayByPlayResponse_ResponseData"}),ooe=I.makeMessageType("streamlayer.sports.events.PlayByPlayResponse.ResponseData.PlayByPlayResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"baseball",kind:"message",T:Vse,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:eae,oneof:"sports"},{no:4,name:"hockey",kind:"message",T:pae,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:Fae,oneof:"sports"}],{localName:"PlayByPlayResponse_ResponseData_PlayByPlayResponseAttributes"}),loe=I.makeMessageType("streamlayer.sports.events.ScheduleRequest",()=>[{no:1,name:"filter",kind:"message",T:coe},{no:2,name:"pagination",kind:"message",T:p3}]),coe=I.makeMessageType("streamlayer.sports.events.ScheduleRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9}],{localName:"ScheduleRequest_Filter"}),uoe=I.makeMessageType("streamlayer.sports.events.ScheduleResponse",()=>[{no:1,name:"data",kind:"message",T:Gae,repeated:!0},{no:2,name:"meta",kind:"message",T:f3}]),doe=I.makeMessageType("streamlayer.sports.events.ScheduleDatesRequest",()=>[{no:1,name:"filter",kind:"message",T:hoe}]),hoe=I.makeMessageType("streamlayer.sports.events.ScheduleDatesRequest.Filter",()=>[{no:2,name:"league",kind:"scalar",T:9}],{localName:"ScheduleDatesRequest_Filter"}),moe=I.makeMessageType("streamlayer.sports.events.ScheduleDatesResponse",()=>[{no:1,name:"data",kind:"scalar",T:9,repeated:!0}]),poe=I.makeMessageType("streamlayer.sports.events.BoxscoreRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),foe=I.makeMessageType("streamlayer.sports.events.BoxscoreResponse",()=>[{no:1,name:"data",kind:"message",T:goe}]),goe=I.makeMessageType("streamlayer.sports.events.BoxscoreResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:yoe}],{localName:"BoxscoreResponse_ResponseData"}),yoe=I.makeMessageType("streamlayer.sports.events.BoxscoreResponse.ResponseData.BoxscoreResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"basketball",kind:"message",T:tae,oneof:"sports"},{no:3,name:"hockey",kind:"message",T:fae,oneof:"sports"}],{localName:"BoxscoreResponse_ResponseData_BoxscoreResponseAttributes"}),Toe=I.makeMessageType("streamlayer.sports.events.StandingsRequest",()=>[{no:1,name:"league",kind:"scalar",T:9}]),voe=I.makeMessageType("streamlayer.sports.events.StandingsResponse",()=>[{no:1,name:"data",kind:"message",T:_oe}]),_oe=I.makeMessageType("streamlayer.sports.events.StandingsResponse.ResponseData",()=>[{no:1,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:2,name:"attributes",kind:"message",T:boe}],{localName:"StandingsResponse_ResponseData"}),boe=I.makeMessageType("streamlayer.sports.events.StandingsResponse.ResponseData.StandingsResponseAttributes",()=>[{no:2,name:"basketball",kind:"message",T:sae,oneof:"sports"},{no:3,name:"hockey",kind:"message",T:vae,oneof:"sports"},{no:4,name:"baseball",kind:"message",T:Wse,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:jae,oneof:"sports"}],{localName:"StandingsResponse_ResponseData_StandingsResponseAttributes"}),Soe=I.makeMessageType("streamlayer.sports.events.LineupRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),Eoe=I.makeMessageType("streamlayer.sports.events.LineupResponse",()=>[{no:1,name:"data",kind:"message",T:koe}]),koe=I.makeMessageType("streamlayer.sports.events.LineupResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:Aoe}],{localName:"LineupResponse_ResponseData"}),Aoe=I.makeMessageType("streamlayer.sports.events.LineupResponse.ResponseData.LineupResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"soccer",kind:"message",T:$ae,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:aae,oneof:"sports"}],{localName:"LineupResponse_ResponseData_LineupResponseAttributes"}),woe=I.makeMessageType("streamlayer.sports.events.LastGamesRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),Coe=I.makeMessageType("streamlayer.sports.events.LastGamesResponse",()=>[{no:1,name:"data",kind:"message",T:Ioe}]),Ioe=I.makeMessageType("streamlayer.sports.events.LastGamesResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:I.getEnumType(Gu)},{no:3,name:"attributes",kind:"message",T:xoe}],{localName:"LastGamesResponse_ResponseData"}),xoe=I.makeMessageType("streamlayer.sports.events.LastGamesResponse.ResponseData.LastGamesResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Hu},{no:2,name:"soccer",kind:"message",T:IF,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:wF,oneof:"sports"}],{localName:"LastGamesResponse_ResponseData_LastGamesResponseAttributes"}),Loe=I.makeMessageType("streamlayer.sports.events.RetrieveEventIdRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),Roe=I.makeMessageType("streamlayer.sports.events.RetrieveEventIdResponse",()=>[{no:1,name:"data",kind:"message",T:Noe}]),Noe=I.makeMessageType("streamlayer.sports.events.RetrieveEventIdResponse.RetrieveEventIdResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4}],{localName:"RetrieveEventIdResponse_RetrieveEventIdResponseData"}),LF={typeName:"streamlayer.sports.events.Events",methods:{list:{name:"List",I:zae,O:Xae,kind:$e.Unary},demoList:{name:"DemoList",I:Kae,O:Qae,kind:$e.Unary},summary:{name:"Summary",I:jI,O:VI,kind:$e.Unary},adminSummary:{name:"AdminSummary",I:eoe,O:toe,kind:$e.Unary},boxscore:{name:"Boxscore",I:poe,O:foe,kind:$e.Unary},standings:{name:"Standings",I:Toe,O:voe,kind:$e.Unary},playByPlay:{name:"PlayByPlay",I:ioe,O:soe,kind:$e.Unary},schedule:{name:"Schedule",I:loe,O:uoe,kind:$e.Unary},scheduleDates:{name:"ScheduleDates",I:doe,O:moe,kind:$e.Unary},lineup:{name:"Lineup",I:Soe,O:Eoe,kind:$e.Unary},retrieveEventId:{name:"RetrieveEventId",I:Loe,O:Roe,kind:$e.Unary},lastGames:{name:"LastGames",I:woe,O:Coe,kind:$e.Unary},summarySubscription:{name:"SummarySubscription",I:jI,O:VI,kind:$e.ServerStreaming}}},Ooe=I.makeEnum("streamlayer.sdkSettings.client.VisibleStatus",[{no:0,name:"VISIBLE_STATUS_UNSET",localName:"UNSET"},{no:1,name:"VISIBLE_STATUS_INCOGNITO",localName:"INCOGNITO"},{no:2,name:"VISIBLE_STATUS_VISIBLE",localName:"VISIBLE"}]),Doe=I.makeEnum("streamlayer.sdkSettings.client.MessagesNotify",[{no:0,name:"MESSAGES_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"MESSAGES_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"MESSAGES_NOTIFY_ALLOW",localName:"ALLOW"}]),Poe=I.makeEnum("streamlayer.sdkSettings.client.FriendsNotify",[{no:0,name:"FRIENDS_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"FRIENDS_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"FRIENDS_NOTIFY_ALLOW",localName:"ALLOW"}]),Moe=I.makeEnum("streamlayer.sdkSettings.client.TwitterNotify",[{no:0,name:"TWITTER_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"TWITTER_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"TWITTER_NOTIFY_ALLOW",localName:"ALLOW"}]),$oe=I.makeEnum("streamlayer.sdkSettings.client.CallsSound",[{no:0,name:"CALLS_SOUND_UNSET",localName:"UNSET"},{no:1,name:"CALLS_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"CALLS_SOUND_ALLOW",localName:"ALLOW"}]),Uoe=I.makeEnum("streamlayer.sdkSettings.client.MessagesSound",[{no:0,name:"MESSAGES_SOUND_UNSET",localName:"UNSET"},{no:1,name:"MESSAGES_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"MESSAGES_SOUND_ALLOW",localName:"ALLOW"}]),Foe=I.makeEnum("streamlayer.sdkSettings.client.FriendsSound",[{no:0,name:"FRIENDS_SOUND_UNSET",localName:"UNSET"},{no:1,name:"FRIENDS_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"FRIENDS_SOUND_ALLOW",localName:"ALLOW"}]),Boe=I.makeEnum("streamlayer.sdkSettings.client.TwitterSound",[{no:0,name:"TWITTER_SOUND_UNSET",localName:"UNSET"},{no:1,name:"TWITTER_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"TWITTER_SOUND_ALLOW",localName:"ALLOW"}]),RF=I.makeEnum("streamlayer.sdkSettings.client.SettingsAllow",[{no:0,name:"SETTINGS_ALLOW_UNSET",localName:"UNSET"},{no:1,name:"SETTINGS_ALLOW_DISALLOW",localName:"DISALLOW"},{no:2,name:"SETTINGS_ALLOW_ALLOW",localName:"ALLOW"}]),joe=I.makeEnum("streamlayer.sdkSettings.client.ManagedGroupType",[{no:0,name:"MANAGED_GROUP_TYPE_UNSET",localName:"UNSET"},{no:1,name:"MANAGED_GROUP_TYPE_CHAT",localName:"CHAT"},{no:2,name:"MANAGED_GROUP_TYPE_WP",localName:"WP"}]),Voe=I.makeEnum("streamlayer.sdkSettings.client.GroupType",[{no:0,name:"GROUP_TYPE_UNSET",localName:"UNSET"},{no:1,name:"GROUP_TYPE_CHAT",localName:"CHAT"},{no:2,name:"GROUP_TYPE_WP",localName:"WP"}]),Hoe=I.makeMessageType("streamlayer.sdkSettings.client.NotifySettings",()=>[{no:1,name:"allow",kind:"enum",T:I.getEnumType(RF)}]),Goe=I.makeMessageType("streamlayer.sdkSettings.client.SoundSettings",()=>[{no:1,name:"allow",kind:"enum",T:I.getEnumType(RF)}]),P4=I.makeMessageType("streamlayer.sdkSettings.client.ClientSettingsNotifications",()=>[{no:1,name:"notify",kind:"message",T:Hoe},{no:2,name:"sound",kind:"message",T:Goe}]),L5=I.makeMessageType("streamlayer.sdkSettings.client.ClientSettings",()=>[{no:1,name:"visible_status",kind:"enum",T:I.getEnumType(Ooe)},{no:2,name:"messages_notify",kind:"enum",T:I.getEnumType(Doe)},{no:3,name:"friends_notify",kind:"enum",T:I.getEnumType(Poe)},{no:4,name:"calls_sound",kind:"enum",T:I.getEnumType($oe)},{no:5,name:"messages_sound",kind:"enum",T:I.getEnumType(Uoe)},{no:6,name:"friends_sound",kind:"enum",T:I.getEnumType(Foe)},{no:7,name:"twitter_notify",kind:"enum",T:I.getEnumType(Moe)},{no:8,name:"twitter_sound",kind:"enum",T:I.getEnumType(Boe)},{no:9,name:"gamification",kind:"message",T:P4},{no:10,name:"watch_party_invitation",kind:"message",T:P4},{no:11,name:"twitter_question",kind:"message",T:P4}]),qoe=I.makeMessageType("streamlayer.sdkSettings.client.GetRequest",[]),zoe=I.makeMessageType("streamlayer.sdkSettings.client.GetResponse",()=>[{no:1,name:"data",kind:"message",T:Woe}]),Woe=I.makeMessageType("streamlayer.sdkSettings.client.GetResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:L5}],{localName:"GetResponse_GetResponseData"}),Koe=I.makeMessageType("streamlayer.sdkSettings.client.UpdateRequest",()=>[{no:2,name:"settings",kind:"message",T:L5}]),Yoe=I.makeMessageType("streamlayer.sdkSettings.client.UpdateResponse",()=>[{no:1,name:"data",kind:"message",T:Qoe}]),Qoe=I.makeMessageType("streamlayer.sdkSettings.client.UpdateResponse.UpdateResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:L5}],{localName:"UpdateResponse_UpdateResponseData"}),Xoe=I.makeMessageType("streamlayer.sdkSettings.client.GetStreamRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),Zoe=I.makeMessageType("streamlayer.sdkSettings.client.GetStreamResponse",()=>[{no:1,name:"data",kind:"message",T:Joe}]),Joe=I.makeMessageType("streamlayer.sdkSettings.client.GetStreamResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:oF}],{localName:"GetStreamResponse_GetResponseData"}),ele=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationRequest",[]),tle=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationResponse",()=>[{no:1,name:"data",kind:"message",T:nle}]),nle=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:lF}],{localName:"GetOrganizationResponse_GetResponseData"}),rle=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9,opt:!0}]),ile=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingResponse",()=>[{no:1,name:"data",kind:"message",T:sle}]),sle=I.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingResponse.GetOrganizationAdvertisingResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:$ie}],{localName:"GetOrganizationAdvertisingResponse_GetOrganizationAdvertisingResponseData"}),ale=I.makeMessageType("streamlayer.sdkSettings.client.ManagedGroup",()=>[{no:1,name:"group_id",kind:"scalar",T:9},{no:2,name:"fantasy_group_id",kind:"scalar",T:9},{no:3,name:"group_type",kind:"enum",T:I.getEnumType(joe)}]),ole=I.makeMessageType("streamlayer.sdkSettings.client.DeepLinkData",()=>[{no:1,name:"group_id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9},{no:3,name:"gamification",kind:"scalar",T:8},{no:4,name:"managed_group",kind:"message",T:ale},{no:5,name:"external_event_id",kind:"scalar",T:9},{no:6,name:"external_group_id",kind:"scalar",T:9},{no:7,name:"group_type",kind:"enum",T:I.getEnumType(Voe)}]),lle=I.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkRequest",()=>[{no:1,name:"data",kind:"message",T:ole}]),cle=I.makeMessageType("streamlayer.sdkSettings.client.DeepLink",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"link_id",kind:"scalar",T:9}]),ule=I.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkResponse",()=>[{no:1,name:"data",kind:"message",T:dle}]),dle=I.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkResponse.GenerateDeepLinkResponseData",()=>[{no:1,name:"attributes",kind:"message",T:cle}],{localName:"GenerateDeepLinkResponse_GenerateDeepLinkResponseData"}),hle=I.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),mle=I.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionRequest",[]),ple=I.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:fle}]),fle=I.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:oF}],{localName:"StreamSubscriptionResponse_ResponseData"}),gle=I.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:yle}]),yle=I.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:lF}],{localName:"OrganizationSubscriptionResponse_ResponseData"}),lg={typeName:"streamlayer.sdkSettings.client.Client",methods:{get:{name:"Get",I:qoe,O:zoe,kind:$e.Unary},update:{name:"Update",I:Koe,O:Yoe,kind:$e.Unary},getStream:{name:"GetStream",I:Xoe,O:Zoe,kind:$e.Unary},getOrganization:{name:"GetOrganization",I:ele,O:tle,kind:$e.Unary},getOrganizationAdvertising:{name:"GetOrganizationAdvertising",I:rle,O:ile,kind:$e.Unary},generateDeepLink:{name:"GenerateDeepLink",I:lle,O:ule,kind:$e.Unary},streamSubscription:{name:"StreamSubscription",I:hle,O:ple,kind:$e.ServerStreaming},organizationSubscription:{name:"OrganizationSubscription",I:mle,O:gle,kind:$e.ServerStreaming}}},Tle=I.makeMessageType("streamlayer.users.PublicChatUser",()=>[{no:1,name:"name",kind:"scalar",T:9}]),vle=I.makeMessageType("streamlayer.users.UserAttributes",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:5,name:"avatar",kind:"scalar",T:9},{no:6,name:"public_chat",kind:"message",T:Tle},{no:7,name:"public_name",kind:"scalar",T:9}]),R5=I.makeMessageType("streamlayer.users.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:vle}]),_le=I.makeMessageType("streamlayer.users.LoginRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9}]),ble=I.makeMessageType("streamlayer.users.AuthResponse",()=>[{no:1,name:"meta",kind:"message",T:Sle},{no:2,name:"data",kind:"message",T:R5}]),Sle=I.makeMessageType("streamlayer.users.AuthResponse.AuthResponseMetadata",()=>[{no:1,name:"jwt",kind:"scalar",T:9},{no:3,name:"getstream",kind:"scalar",T:9}],{localName:"AuthResponse_AuthResponseMetadata"}),Ele=I.makeMessageType("streamlayer.users.RegisterRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),kle=I.makeMessageType("streamlayer.users.Referral",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"watching_game",kind:"scalar",T:9}]),Ale=I.makeMessageType("streamlayer.users.RegisterResponse",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"requires_activation",kind:"scalar",T:8},{no:3,name:"referral",kind:"message",T:kle}]),wle=I.makeMessageType("streamlayer.users.RequestPasswordRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),Cle=I.makeMessageType("streamlayer.users.RequestPasswordResponse",()=>[{no:1,name:"requested",kind:"scalar",T:8},{no:2,name:"uid",kind:"scalar",T:9}]),Ile=I.makeMessageType("streamlayer.users.MeRequest",[]),xle=I.makeMessageType("streamlayer.users.MeResponse",()=>[{no:1,name:"data",kind:"message",T:R5}]),Lle=I.makeMessageType("streamlayer.users.UpdateMetadataRequest",()=>[{no:1,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:2,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),Rle=I.makeMessageType("streamlayer.users.UpdateAvatarRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_avatar",kind:"scalar",T:9,oneof:"avatar"},{no:3,name:"del_avatar",kind:"scalar",T:9,oneof:"avatar"}]),Nle=I.makeMessageType("streamlayer.users.UpdateAvatarResponse",[]),Ole=I.makeMessageType("streamlayer.users.UpdatePublicChatNameRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:3,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),Dle=I.makeMessageType("streamlayer.users.UpdatePublicChatNameResponse",[]),Ple=I.makeMessageType("streamlayer.users.UpdatePublicNameRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:3,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),Mle=I.makeMessageType("streamlayer.users.UpdatePublicNameResponse",[]),$le=I.makeMessageType("streamlayer.users.UpdateMetadataResponse",[]),Ule=I.makeMessageType("streamlayer.users.InviteRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"referral",kind:"message",T:Fle}]),Fle=I.makeMessageType("streamlayer.users.InviteRequest.InviteReferral",()=>[{no:1,name:"watching_game",kind:"scalar",T:9}],{localName:"InviteRequest_InviteReferral"}),Ble=I.makeMessageType("streamlayer.users.InviteResponse",[]),jle=I.makeMessageType("streamlayer.users.BypassAuthRequest",()=>[{no:1,name:"user_key",kind:"scalar",T:9},{no:2,name:"schema",kind:"scalar",T:9},{no:3,name:"init",kind:"scalar",T:8},{no:4,name:"inviter_key",kind:"scalar",T:9,opt:!0}]),Vle=I.makeMessageType("streamlayer.users.BypassAuthResponse",()=>[{no:1,name:"meta",kind:"message",T:Hle},{no:2,name:"data",kind:"message",T:R5,opt:!0}]),Hle=I.makeMessageType("streamlayer.users.BypassAuthResponse.AuthResponseMetadata",()=>[{no:1,name:"jwt",kind:"scalar",T:9,opt:!0},{no:3,name:"token",kind:"scalar",T:9,opt:!0},{no:4,name:"getstream",kind:"scalar",T:9},{no:5,name:"inviter_key",kind:"scalar",T:9,opt:!0}],{localName:"BypassAuthResponse_AuthResponseMetadata"}),Gle=I.makeMessageType("streamlayer.users.GetFriendsRequest",()=>[{no:1,name:"last_created_at",kind:"scalar",T:9,opt:!0},{no:2,name:"limit",kind:"scalar",T:5,opt:!0}]),qle=I.makeMessageType("streamlayer.users.GetFriendsResponse",()=>[{no:1,name:"data",kind:"message",T:Wle,repeated:!0},{no:2,name:"metadata",kind:"message",T:zle}]),zle=I.makeMessageType("streamlayer.users.GetFriendsResponse.ResponseMeta",()=>[{no:1,name:"last_created_at",kind:"scalar",T:9}],{localName:"GetFriendsResponse_ResponseMeta"}),Wle=I.makeMessageType("streamlayer.users.GetFriendsResponse.FriendData",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"tinode_id",kind:"scalar",T:9},{no:3,name:"sl_id",kind:"scalar",T:9}],{localName:"GetFriendsResponse_FriendData"}),N5={typeName:"streamlayer.users.Users",methods:{login:{name:"Login",I:_le,O:ble,kind:$e.Unary},register:{name:"Register",I:Ele,O:Ale,kind:$e.Unary},requestPassword:{name:"RequestPassword",I:wle,O:Cle,kind:$e.Unary},me:{name:"Me",I:Ile,O:xle,kind:$e.Unary},invite:{name:"Invite",I:Ule,O:Ble,kind:$e.Unary},bypassAuth:{name:"BypassAuth",I:jle,O:Vle,kind:$e.Unary},updateMetadata:{name:"UpdateMetadata",I:Lle,O:$le,kind:$e.Unary},updateAvatar:{name:"UpdateAvatar",I:Rle,O:Nle,kind:$e.Unary},updatePublicChatName:{name:"UpdatePublicChatName",I:Ole,O:Dle,kind:$e.Unary},updatePublicName:{name:"UpdatePublicName",I:Ple,O:Mle,kind:$e.Unary},getFriends:{name:"GetFriends",I:Gle,O:qle,kind:$e.Unary}}},Hi={typeName:"streamlayer.interactive.feed.Feed",methods:{get:{name:"Get",I:Pre,O:Mre,kind:$e.Unary},subscription:{name:"Subscription",I:jne,O:Vne,kind:$e.ServerStreaming},votingSubscription:{name:"VotingSubscription",I:Gne,O:qne,kind:$e.ServerStreaming},questionSubscription:{name:"QuestionSubscription",I:Kne,O:Yne,kind:$e.ServerStreaming},questionByUser:{name:"QuestionByUser",I:Xne,O:Zne,kind:$e.Unary},syncQuestion:{name:"SyncQuestion",I:ere,O:nre,kind:$e.Unary},getQuestion:{name:"GetQuestion",I:ire,O:sre,kind:$e.Unary},questionDetail:{name:"QuestionDetail",I:ore,O:lre,kind:$e.Unary},submitAnswer:{name:"SubmitAnswer",I:ure,O:hre,kind:$e.Unary},submitInplay:{name:"SubmitInplay",I:pre,O:gre,kind:$e.Unary},skipQuestion:{name:"SkipQuestion",I:yre,O:vre,kind:$e.Unary},pickHistory:{name:"PickHistory",I:bre,O:Sre,kind:$e.Unary},insightHistory:{name:"InsightHistory",I:Are,O:Ire,kind:$e.Unary},tweetHistory:{name:"TweetHistory",I:Lre,O:Rre,kind:$e.Unary},promotionHistory:{name:"PromotionHistory",I:Ure,O:Fre,kind:$e.Unary},list:{name:"List",I:Vre,O:Gre,kind:$e.Unary},item:{name:"Item",I:zre,O:Wre,kind:$e.Unary},feedSubscription:{name:"FeedSubscription",I:Kre,O:Yre,kind:$e.ServerStreaming},betPack:{name:"BetPack",I:Xre,O:Zre,kind:$e.Unary}}},Kle=I.makeEnum("streamlayer.interactive.leaderboard.LeaderboardType",[{no:0,name:"LEADERBOARD_TYPE_UNSET",localName:"UNSET"},{no:1,name:"LEADERBOARD_TYPE_TOURNAMENT",localName:"TOURNAMENT"},{no:2,name:"LEADERBOARD_TYPE_EVENT",localName:"EVENT"}]),NF=I.makeMessageType("streamlayer.interactive.leaderboard.LeaderboardData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:I.getEnumType(Kle)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"event_ids",kind:"scalar",T:3,repeated:!0},{no:5,name:"leaderboards",kind:"message",T:NF,repeated:!0},{no:6,name:"created_at",kind:"scalar",T:3}]),O5=I.makeMessageType("streamlayer.interactive.leaderboard.LeaderboardItem",()=>[{no:1,name:"streak",kind:"scalar",T:5},{no:2,name:"correct",kind:"scalar",T:5},{no:3,name:"incorrect",kind:"scalar",T:5},{no:4,name:"points",kind:"scalar",T:5},{no:5,name:"rank",kind:"scalar",T:5},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"avatar",kind:"scalar",T:9},{no:8,name:"user_id",kind:"scalar",T:9},{no:9,name:"recent_correct",kind:"scalar",T:5},{no:10,name:"streak_loss",kind:"scalar",T:5},{no:11,name:"friends_rank",kind:"scalar",T:5},{no:12,name:"in_top",kind:"scalar",T:5}]),Yle=I.makeMessageType("streamlayer.interactive.leaderboard.LeaderboardSummaryItem",()=>[{no:1,name:"summary",kind:"message",T:O5},{no:2,name:"percentage",kind:"message",T:Qle}]),Qle=I.makeMessageType("streamlayer.interactive.leaderboard.LeaderboardSummaryItem.SummaryPercentage",()=>[{no:1,name:"correct",kind:"scalar",T:5},{no:2,name:"average",kind:"scalar",T:5}],{localName:"LeaderboardSummaryItem_SummaryPercentage"}),Xle=I.makeMessageType("streamlayer.interactive.leaderboard.ListRequest",()=>[{no:1,name:"pagination",kind:"message",T:u3},{no:2,name:"users_ids",kind:"scalar",T:9,repeated:!0},{no:3,name:"event_id",kind:"scalar",T:4},{no:4,name:"leaderboard_id",kind:"scalar",T:9}]),Zle=I.makeMessageType("streamlayer.interactive.leaderboard.ListResponse",()=>[{no:1,name:"data",kind:"message",T:Jle,repeated:!0},{no:2,name:"meta",kind:"message",T:ece}]),Jle=I.makeMessageType("streamlayer.interactive.leaderboard.ListResponse.ListResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:O5}],{localName:"ListResponse_ListResponseData"}),ece=I.makeMessageType("streamlayer.interactive.leaderboard.ListResponse.ListResponseMeta",()=>[{no:1,name:"count",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}],{localName:"ListResponse_ListResponseMeta"}),tce=I.makeMessageType("streamlayer.interactive.leaderboard.SummaryRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:4},{no:2,name:"user_id",kind:"scalar",T:9},{no:3,name:"leaderboard_id",kind:"scalar",T:9},{no:4,name:"users_ids",kind:"scalar",T:9,repeated:!0}]),nce=I.makeMessageType("streamlayer.interactive.leaderboard.SummaryResponse",()=>[{no:1,name:"data",kind:"message",T:rce}]),rce=I.makeMessageType("streamlayer.interactive.leaderboard.SummaryResponse.SummaryResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:Yle}],{localName:"SummaryResponse_SummaryResponseData"}),ice=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardsRequest",()=>[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9}]),sce=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardsResponse",()=>[{no:2,name:"data",kind:"message",T:ace}]),ace=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardsResponse.EventLeaderboardsResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:NF}],{localName:"EventLeaderboardsResponse_EventLeaderboardsResponseData"}),oce=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"organization_id",kind:"scalar",T:9},{no:3,name:"pagination",kind:"message",T:u3},{no:4,name:"sort",kind:"message",T:ZU}]),lce=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardResponse",()=>[{no:1,name:"data",kind:"message",T:cce,repeated:!0},{no:2,name:"meta",kind:"message",T:uce}]),cce=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardResponse.ListResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:O5}],{localName:"EventLeaderboardResponse_ListResponseData"}),uce=I.makeMessageType("streamlayer.interactive.leaderboard.EventLeaderboardResponse.ListResponseMeta",()=>[{no:1,name:"count",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}],{localName:"EventLeaderboardResponse_ListResponseMeta"}),OF={typeName:"streamlayer.interactive.leaderboard.Leaderboard",methods:{list:{name:"List",I:Xle,O:Zle,kind:$e.Unary},summary:{name:"Summary",I:tce,O:nce,kind:$e.Unary},eventLeaderboards:{name:"EventLeaderboards",I:ice,O:sce,kind:$e.Unary},eventLeaderboard:{name:"EventLeaderboard",I:oce,O:lce,kind:$e.Unary}}},dce=I.makeMessageType("streamlayer.shortLinks.GenerateRequest",()=>[{no:1,name:"web",kind:"scalar",T:9},{no:2,name:"mobile",kind:"scalar",T:9}]),hce=I.makeMessageType("streamlayer.shortLinks.GenerateResponse",()=>[{no:1,name:"data",kind:"message",T:mce}]),mce=I.makeMessageType("streamlayer.shortLinks.GenerateResponse.GenerateResponseData",()=>[{no:1,name:"link",kind:"scalar",T:9}],{localName:"GenerateResponse_GenerateResponseData"}),pce={typeName:"streamlayer.shortLinks.LinksClient",methods:{generate:{name:"Generate",I:dce,O:hce,kind:$e.Unary}}},WE=globalThis||void 0||self,KE=I.makeEnum("streamlayer.analytics.v1.interactions.InteractionActionType",[{no:0,name:"INTERACTION_ACTION_TYPE_UNSET",localName:"UNSET"},{no:1,name:"INTERACTION_ACTION_TYPE_TAP",localName:"TAP"},{no:2,name:"INTERACTION_ACTION_TYPE_CALL",localName:"CALL"},{no:3,name:"INTERACTION_ACTION_TYPE_MESSAGE",localName:"MESSAGE"},{no:4,name:"INTERACTION_ACTION_TYPE_SCROLL",localName:"SCROLL"}]),da=I.makeEnum("streamlayer.analytics.v1.notifications.NotificationKind",[{no:0,name:"NOTIFICATION_KIND_UNSET",localName:"UNSET"},{no:1,name:"NOTIFICATION_KIND_MESSAGE",localName:"MESSAGE"},{no:2,name:"NOTIFICATION_KIND_CALL",localName:"CALL"},{no:3,name:"NOTIFICATION_KIND_TWITTER",localName:"TWITTER"},{no:4,name:"NOTIFICATION_KIND_WAVE",localName:"WAVE"},{no:5,name:"NOTIFICATION_KIND_INPLAY",localName:"INPLAY"},{no:6,name:"NOTIFICATION_KIND_GROUP_CALL",localName:"GROUP_CALL"},{no:7,name:"NOTIFICATION_KIND_MISSED_CALL",localName:"MISSED_CALL"},{no:8,name:"NOTIFICATION_KIND_MISSED_GROUP_CALL",localName:"MISSED_GROUP_CALL"},{no:9,name:"NOTIFICATION_KIND_WATCH_PARTY",localName:"WATCH_PARTY"},{no:10,name:"NOTIFICATION_KIND_POLLS",localName:"POLLS"}]),YE=I.makeEnum("streamlayer.analytics.v1.notifications.NotificationType",[{no:0,name:"NOTIFICATION_TYPE_UNSET",localName:"UNSET"},{no:1,name:"NOTIFICATION_TYPE_IN_APP",localName:"IN_APP"},{no:2,name:"NOTIFICATION_TYPE_PUSH",localName:"PUSH"}]),fce=I.makeEnum("streamlayer.analytics.v1.permissions.PermissionType",[{no:0,name:"PERMISSION_TYPE_UNSET",localName:"UNSET"},{no:1,name:"PERMISSION_TYPE_ADDRESS_BOOK",localName:"ADDRESS_BOOK"},{no:2,name:"PERMISSION_TYPE_CALLING",localName:"CALLING"},{no:3,name:"PERMISSION_TYPE_CAMERA",localName:"CAMERA"}]),gce=I.makeEnum("streamlayer.analytics.v1.waves.WaveCategory",[{no:0,name:"WAVE_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"WAVE_CATEGORY_WATCHING",localName:"WATCHING"},{no:2,name:"WAVE_CATEGORY_MESSAGING",localName:"MESSAGING"},{no:3,name:"WAVE_CATEGORY_VOICING",localName:"VOICING"}]),HI=I.makeMessageType("streamlayer.analytics.v2.streaming.SendResponse",()=>[{no:1,name:"result",kind:"enum",T:I.getEnumType(Mte)}]),yce=I.makeMessageType("streamlayer.analytics.v2.streaming.SendExtra",[]),Qr=I.makeMessageType("streamlayer.analytics.v2.streaming.CommonData",()=>[{no:1,name:"event_id",kind:"scalar",T:4,opt:!0},{no:2,name:"category",kind:"enum",T:I.getEnumType(rr),opt:!0},{no:3,name:"kind",kind:"enum",T:I.getEnumType(Mn),opt:!0},{no:4,name:"screen_orientation",kind:"enum",T:I.getEnumType(HE),opt:!0},{no:5,name:"session_id",kind:"scalar",T:9,opt:!0},{no:6,name:"overlay_session_id",kind:"scalar",T:9,opt:!0},{no:7,name:"topic_id",kind:"scalar",T:9,opt:!0},{no:8,name:"topic_type",kind:"enum",T:I.getEnumType(wn),opt:!0},{no:9,name:"parent_topic_id",kind:"scalar",T:9,opt:!0},{no:10,name:"parent_topic_type",kind:"enum",T:I.getEnumType(wn),opt:!0},{no:11,name:"participants_count",kind:"scalar",T:13,opt:!0},{no:12,name:"route_map",kind:"scalar",T:9,opt:!0},{no:13,name:"track_timestamp",kind:"scalar",T:4,opt:!0},{no:14,name:"topic_sub_type",kind:"enum",T:I.getEnumType(Ur),opt:!0},{no:15,name:"country",kind:"scalar",T:9,opt:!0}]),Tce=I.makeMessageType("streamlayer.analytics.v2.streaming.SendAuthenticationsMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),vce=I.makeMessageType("streamlayer.analytics.v2.streaming.SendCallsMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),_ce=I.makeMessageType("streamlayer.analytics.v2.streaming.SendConversationsMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),bce=I.makeMessageType("streamlayer.analytics.v2.streaming.SendInteractionsMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"action_type",kind:"enum",T:I.getEnumType(KE)}]),Sce=I.makeMessageType("streamlayer.analytics.v2.streaming.EventOpenedMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),Ece=I.makeMessageType("streamlayer.analytics.v2.streaming.SendInvitationsMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"category",kind:"enum",T:I.getEnumType(GE)},{no:3,name:"from",kind:"enum",T:I.getEnumType(v1)}]),kce=I.makeMessageType("streamlayer.analytics.v2.streaming.LaunchButtonMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),Ace=I.makeMessageType("streamlayer.analytics.v2.streaming.NotificationMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"notification_kind",kind:"enum",T:I.getEnumType(da)},{no:3,name:"notification_type",kind:"enum",T:I.getEnumType(YE)}]),wce=I.makeMessageType("streamlayer.analytics.v2.streaming.PermissionMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"permission",kind:"enum",T:I.getEnumType(fce)}]),Cce=I.makeMessageType("streamlayer.analytics.v2.streaming.ButtonInitializedMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),Ice=I.makeMessageType("streamlayer.analytics.v2.streaming.WavesMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"category",kind:"enum",T:I.getEnumType(gce)}]),xce=I.makeMessageType("streamlayer.analytics.v2.streaming.HeartbeatMessage",()=>[{no:1,name:"common",kind:"message",T:Qr}]),Lce=I.makeMessageType("streamlayer.analytics.v2.streaming.GamesMessage",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"poll_opened_from",kind:"enum",T:I.getEnumType(ri)}]),Rce=I.makeMessageType("streamlayer.analytics.v2.streaming.Login",()=>[{no:1,name:"common",kind:"message",T:Qr},{no:2,name:"token",kind:"scalar",T:9}]),Nce=I.makeMessageType("streamlayer.analytics.v2.streaming.Logout",()=>[{no:1,name:"common",kind:"message",T:Qr}]),GI=I.makeMessageType("streamlayer.analytics.v2.streaming.SendRequest",()=>[{no:1,name:"auth",kind:"message",T:Tce,oneof:"message"},{no:2,name:"call",kind:"message",T:vce,oneof:"message"},{no:3,name:"conversations",kind:"message",T:_ce,oneof:"message"},{no:4,name:"interactions",kind:"message",T:bce,oneof:"message"},{no:5,name:"event_opened",kind:"message",T:Sce,oneof:"message"},{no:6,name:"invitation",kind:"message",T:Ece,oneof:"message"},{no:7,name:"launch_button",kind:"message",T:kce,oneof:"message"},{no:8,name:"notification",kind:"message",T:Ace,oneof:"message"},{no:9,name:"permission",kind:"message",T:wce,oneof:"message"},{no:10,name:"button_init",kind:"message",T:Cce,oneof:"message"},{no:11,name:"waves",kind:"message",T:Ice,oneof:"message"},{no:12,name:"heartbeat",kind:"message",T:xce,oneof:"message"},{no:13,name:"games",kind:"message",T:Lce,oneof:"message"},{no:14,name:"login",kind:"message",T:Rce,oneof:"message"},{no:15,name:"logout",kind:"message",T:Nce,oneof:"message"},{no:100,name:"extra",kind:"message",T:yce}]),DF={typeName:"streamlayer.analytics.v2.streaming.AnalyticsService",methods:{send:{name:"Send",I:GI,O:HI,kind:$e.ClientStreaming},unary:{name:"Unary",I:GI,O:HI,kind:$e.Unary}}};function Oce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PF={exports:{}},kn=PF.exports={},ha,ma;function QE(){throw new Error("setTimeout has not been defined")}function XE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ha=setTimeout:ha=QE}catch{ha=QE}try{typeof clearTimeout=="function"?ma=clearTimeout:ma=XE}catch{ma=XE}})();function MF(t){if(ha===setTimeout)return setTimeout(t,0);if((ha===QE||!ha)&&setTimeout)return ha=setTimeout,setTimeout(t,0);try{return ha(t,0)}catch{try{return ha.call(null,t,0)}catch{return ha.call(this,t,0)}}}function Dce(t){if(ma===clearTimeout)return clearTimeout(t);if((ma===XE||!ma)&&clearTimeout)return ma=clearTimeout,clearTimeout(t);try{return ma(t)}catch{try{return ma.call(null,t)}catch{return ma.call(this,t)}}}var Ao=[],bh=!1,iu,Gy=-1;function Pce(){!bh||!iu||(bh=!1,iu.length?Ao=iu.concat(Ao):Gy=-1,Ao.length&&$F())}function $F(){if(!bh){var t=MF(Pce);bh=!0;for(var e=Ao.length;e;){for(iu=Ao,Ao=[];++Gy<e;)iu&&iu[Gy].run();Gy=-1,e=Ao.length}iu=null,bh=!1,Dce(t)}}kn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ao.push(new UF(t,e)),Ao.length===1&&!bh&&MF($F)};function UF(t,e){this.fun=t,this.array=e}UF.prototype.run=function(){this.fun.apply(null,this.array)};kn.title="browser";kn.browser=!0;kn.env={};kn.argv=[];kn.version="";kn.versions={};function Qo(){}kn.on=Qo;kn.addListener=Qo;kn.once=Qo;kn.off=Qo;kn.removeListener=Qo;kn.removeAllListeners=Qo;kn.emit=Qo;kn.prependListener=Qo;kn.prependOnceListener=Qo;kn.listeners=function(t){return[]};kn.binding=function(t){throw new Error("process.binding is not supported")};kn.cwd=function(){return"/"};kn.chdir=function(t){throw new Error("process.chdir is not supported")};kn.umask=function(){return 0};var Mce=PF.exports;const et=Oce(Mce),$ce=kU({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),Ya=(t,e)=>$ce.child({name:t},e);let Uce=class extends Event{constructor(e,n){super(e),z(this,"slEventBus"),this.slEventBus=n}};const Fce=Ya("event-bus");let Bce=class{constructor(e="sl-event-bus"){z(this,"name"),z(this,"listeners"),z(this,"emit",(n,r)=>{const i=new Uce(this.name,{...r,type:n});Fce.debug(i,"Emitting event"),window.dispatchEvent(i)}),z(this,"destroy",()=>{this.listeners.forEach(n=>{window.removeEventListener(this.name,n),this.listeners.delete(n)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}},jce=class{};var wo;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(wo||(wo={}));window.slStore=Object.create(null);let y3=class{constructor(e,n){z(this,"store"),z(this,"name"),this.store=e,this.name=n}getStore(){return this.store}};const Vce=t=>{const e=Object.keys(t);return qie(e.map(n=>t[n].getStore()),(...n)=>Object.fromEntries(e.map((r,i)=>[r,n[i]])))};let pu=class extends y3{constructor(){super(...arguments),z(this,"getValues",()=>this.getStore().get()),z(this,"getValue",e=>this.getStore().get()[e]),z(this,"setValue",(e,n)=>this.getStore().setKey(e,n)),z(this,"subscribe",(...e)=>this.getStore().subscribe(...e)),z(this,"unsubscribe",()=>this.getStore().off())}};const Di=t=>qE(t);var po;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(po||(po={}));const Hce={[Qe.BETTING]:"betting",[Qe.GAMES]:"games",[Qe.PUBLIC_CHAT]:"publicChat",[Qe.TWITTER]:"twitter"};var Nf;(function(t){t.Ready="ready",t.Suspended="suspended"})(Nf||(Nf={}));let FF=class{constructor({settings:e,...n},r){z(this,"status"),z(this,"source"),z(this,"config"),z(this,"settings"),z(this,"listeners",new Set),z(this,"settingsKey"),z(this,"enable",()=>{this.status.set(Nf.Ready)}),z(this,"disable",()=>{this.status.set(Nf.Suspended)}),z(this,"setFeatureConfig",({settings:i,...s})=>{var a;let o;for(o in s)this.config.setValue(o,s[o]);if(((a=i==null?void 0:i.overlaySettings)==null?void 0:a.case)!==void 0&&(i==null?void 0:i.overlaySettings.case)===this.settingsKey){const l=i.overlaySettings.value;if(l!==void 0){let c;for(c in l)l[c]!==0&&l[c]!==""&&this.settings.setValue(c,l[c])}}}),z(this,"update",(i,s)=>{this.source===po.STREAM&&s===po.ORGANIZATION||(this.setFeatureConfig(i),this.source=s)}),this.settingsKey=Hce[n.type],this.status=lc(Nf.Suspended),this.config=new pu(Di(n),`feature:config:${this.settingsKey}`),this.settingsKey!==void 0&&(e==null?void 0:e.overlaySettings.case)===this.settingsKey?this.settings=new pu(Di(e.overlaySettings.value),`feature:settings:${this.settingsKey}`):this.settings=new pu(Di({}),`feature:settings:${this.settingsKey}`),this.source=r}get featureConfig(){return this.config.getStore()}get featureSettings(){return this.settings.getStore()}registerEventListener(e){this.listeners.add(e)}fireEvent(e){for(const n of this.listeners.values())try{n.onEvent(e)}catch(r){console.error(r)}}},cs=class extends y3{constructor(){super(...arguments),z(this,"getValue",()=>this.getStore().get()),z(this,"setValue",e=>this.getStore().set(e)),z(this,"subscribe",e=>this.getStore().subscribe(e)),z(this,"unsubscribe",()=>this.getStore().off())}getValues(){throw new Error("not implemented")}listen(e){return this.getStore().listen(e)}get(){return this.getStore().get()}};const Un=t=>lc(t);let Vs=class extends y3{constructor(e,n,r){super(e,`api:${n}`),z(this,"atomStore"),z(this,"getAtomStore",()=>this.atomStore),z(this,"getValue",async()=>{const i=this.getStore();if(i.value===void 0)throw new Error("no store");return await i.value.promise,i.get().data}),z(this,"getValues",()=>this.getStore().get()),z(this,"setValue",i=>this.getStore().set({loading:!1,data:i==null?void 0:i.data})),z(this,"subscribe",i=>this.getStore().subscribe(i)),z(this,"unsubscribe",()=>{throw new Error("not implemented")}),z(this,"invalidate",()=>{this.store.invalidate()}),z(this,"listen",i=>this.getStore().listen(i)),z(this,"key",()=>this.getStore().key),z(this,"off",()=>this.getStore().off()),this.atomStore=lc(),r&&e.subscribe(i=>{const s=this.atomStore.get(),a=r(i,s);s!==a&&this.atomStore.set(a)})}get(){throw new Error("not implemented")}};const Tn=new Bce;async function*Gce(t,e){for await(const n of e){t.response.message=n,t.received_at=Date.now(),t.id=Date.now();const r={type:"__GRPC_DEVTOOLS_EXTENSION__",data:t};window.postMessage(r),yield n}}const qce=()=>t=>async e=>{const n={id:Date.now(),name:e.url,stream:e.stream,sent_at:Date.now(),request:{header:Object.fromEntries(e.header.entries()),message:e.message},response:{}};window.postMessage({type:"__GRPC_DEVTOOLS_EXTENSION__",data:n});try{const r=await t(e);if(n.received_at=Date.now(),n.response.header=Object.fromEntries(r.header.entries()),n.response.trailer=Object.fromEntries(r.trailer.entries()),e.stream){const i={type:"__GRPC_DEVTOOLS_EXTENSION__",data:{...n,stream:!0}};return window.postMessage(i),{...r,message:Gce(n,r.message)}}else{n.response.message=r.message,n.latency=n.received_at-n.sent_at;const i={type:"__GRPC_DEVTOOLS_EXTENSION__",data:n};window.postMessage(i)}return r}catch(r){n.received_at=Date.now(),n.response.trailer={"grpc-status":r.code,"grpc-message":r.rawMessage},n.response.message=r.rawMessage,n.latency=n.received_at-n.sent_at;const i={type:"__GRPC_DEVTOOLS_EXTENSION__",data:n};throw window.postMessage(i),r}};window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function BF(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}let Pm=class{constructor(e="main",n=window.localStorage){z(this,"delimiter",":"),z(this,"prefix"),z(this,"storage"),z(this,"clear",()=>{for(const r in window.localStorage)r.startsWith(this.prefix)&&this.storage.removeItem(r)}),z(this,"generateKey",r=>`${this.prefix}${this.delimiter}${r.join(this.delimiter)}`),z(this,"write",(...r)=>{const i=r.pop()||"",s=this.generateKey(r);try{this.storage.setItem(s,i)}catch(a){BF(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,i))}}),z(this,"read",(...r)=>{const i=this.storage.getItem(this.generateKey(r));return i===null?void 0:i}),z(this,"remove",(...r)=>{this.storage.removeItem(this.generateKey(r))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}};var Ls;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(Ls||(Ls={}));const qI=Ya("grpc:stream");let zce=class{constructor(e,n,r,i){z(this,"params"),z(this,"streamCancel"),z(this,"method"),z(this,"options"),z(this,"headers"),z(this,"listeners"),z(this,"state"),z(this,"store"),z(this,"paramsListener"),z(this,"reconnectTimeout"),z(this,"attempt",0),z(this,"updateState",a=>{this.state.setValue("status",a),this.state.setValue("ts",new Date),this.addStateLog(`status => ${a}`)}),z(this,"addStateLog",a=>{const o=this.state.getStore().get().log,l=`${this.options.name} ${new Date().toISOString()}: ${a}`;if(o.push(l),this.state.setValue("log",o),localStorage.getItem("SL_DEBUG")){a.startsWith("received data")?qI.trace({name:this.options.name,attempt:this.attempt},"received data"):qI.trace({name:this.options.name,attempt:this.attempt},a);try{window.sessionStorage.setItem("slstreamlogs",window.sessionStorage.getItem("slstreamlogs")+`
`+l)}catch(c){BF(c)&&window.sessionStorage.removeItem("slstreamlogs"),window.sessionStorage.setItem("slstreamlogs",l)}}}),z(this,"addListener",(a,o)=>this.listeners.has(a)?(this.addStateLog(`listener '${a}' not added, already exists`),()=>{}):(this.listeners.set(a,o),this.addStateLog(`listener '${a}' added`),()=>this.removeListener(a))),z(this,"removeListener",a=>{this.listeners.delete(a),this.addStateLog(`listener '${a}' removed`)}),z(this,"connect",()=>{this.updateState(Ls.Connecting),this.streamCancel&&(this.addStateLog("disconnect prev connection"),this.streamCancel.abort(),this.streamCancel=void 0);const a="get"in this.params&&typeof this.params.get=="function"?this.params.get():this.params;(async()=>{this.streamCancel=new AbortController;try{const o={headers:this.headers.getValues(),signal:this.streamCancel.signal},l=this.method(a,o);for await(const c of l)this.attempt=0,this.onData(c)}catch(o){o instanceof zt&&o.code!=He.Canceled&&this.onStreamError(o)}})(),this.updateState(Ls.Connected)}),z(this,"disconnect",()=>{var a;this.streamCancel&&this.streamCancel.abort(),this.listeners.clear(),(a=this.paramsListener)==null||a.call(this),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.updateState(Ls.Disconnected)}),z(this,"reconnect",()=>{if(this.reconnectTimeout)this.addStateLog("already reconnecting");else if(this.attempt<this.options.reconnectMaxAttempts){this.updateState(Ls.Reconnect);const a=Math.min(this.options.reconnectMaxDelay,Math.pow(2,this.attempt)*this.options.reconnectDelay),o=Math.round(a*(1+Math.random())/2);this.reconnectTimeout=setTimeout(()=>{this.attempt++,this.updateState(Ls.Reconnecting),this.addStateLog(`reconnect attempt ${this.attempt} after ${o}ms`),this.connect(),this.reconnectTimeout=void 0},o)}else this.addStateLog("max reconnect attempts reached"),this.disconnect()}),z(this,"getStore",()=>{var a;return(a=this.store)==null?void 0:a.getStore()}),z(this,"onData",a=>{try{this.addStateLog(`received data => ${JSON.stringify(a)}`),this.store&&this.store.setValue(a);for(const[,o]of this.listeners)o(a);this.addStateLog(`data routed to ${this.listeners.size} listeners`)}catch(o){this.addStateLog(`error process data => ${o}`)}}),z(this,"onStreamError",a=>{if(this.addStateLog(`error => ${a?JSON.stringify(a):"undefined"}}`),a!==void 0){if(a instanceof zt&&a.code!==He.Canceled){this.updateState(Ls.Failed),this.state.setValue("error",a),a.code===He.Unknown&&a.cause==="missing trailer"&&(this.attempt=0),this.reconnect();return}this.disconnect()}});const s={status:Ls.Init,ts:new Date,log:[]};this.state=new pu(Di(s),`subscription:${i.name}:state`),this.options={...i,reconnectDelay:i.reconnectDelay??1e3,reconnectMaxDelay:i.reconnectMaxDelay??3e4,reconnectMaxAttempts:i.reconnectMaxAttempts??10,withStore:i.withStore??!1},this.headers=e,this.listeners=new Map,this.params=r,this.method=n,i.withStore&&(this.store=new cs(Un(null),`subscription:${i.name}:store`)),"subscribe"in r&&typeof r.subscribe=="function"&&(this.paramsListener=r.subscribe(a=>{this.state.getValue("status")===Ls.Connected&&(this.addStateLog(`params updated, reconnect => ${JSON.stringify(a)}`),this.reconnect())})),this.updateState(Ls.Ready)}};const Wce=new Set([He.Unknown,He.Internal,He.DeadlineExceeded,He.ResourceExhausted,He.FailedPrecondition,He.Unavailable,He.DataLoss]),zI=Ya("grpc:retry"),Kce=t=>async e=>{const n=e.contextValues.get(ZE.retryAttempts),r=300,i=e.contextValues.get(ZE.retryDelay);if(e.stream||n===0)return t(e);zI.trace({url:e.url,attempts:n,maxDelay:i},"retry options");for(let s=0;;s++)try{return await t(e)}catch(a){zI.trace({attempt:s,error:a,url:e.url},"retry attempt");const o=zt.from(a);if(s>=n||!(o instanceof zt)||!Wce.has(o.code))throw a;const l=Math.min(i,Math.pow(2,s)*r),c=Math.round(l*(1+Math.random())/2);await new Promise(u=>setTimeout(u,c))}},ZE={retryAttempts:dT(10,{description:"Number of attempts to retry"}),retryDelay:dT(3e4,{description:"Max delay between retries in milliseconds"})},Yce=()=>{const t=localStorage.getItem("sl-device-id");if(t)return t;const e=_1();return localStorage.setItem("sl-device-id",e),e},Qce=()=>{var t;return((t=navigator.userAgentData)==null?void 0:t.platform)||navigator.platform};let WI=class{constructor(e,n){z(this,"toJsonOptions",{emitDefaultValues:!1,enumAsInteger:!0,useProtoFieldName:!1}),z(this,"transport"),z(this,"streamTransport"),z(this,"nanoquery"),z(this,"host"),z(this,"$headers"),z(this,"interceptors",[]),z(this,"clients"),z(this,"streamClients"),z(this,"subscriptions"),z(this,"opts"),z(this,"addSubscription",(a,o,l)=>{const c=this.subscriptions.get(o);if(c)return c;const u=new zce(this.$headers,a,o,l);return this.subscriptions.set(o,u),u}),z(this,"removeSubscription",a=>{a.disconnect(),this.subscriptions.delete(a.params)}),z(this,"disconnect",()=>{var a,o;for(const[d,h]of this.subscriptions)h.disconnect(),this.subscriptions.delete(d);this.clients.clear(),this.streamClients.clear(),this.subscriptions.clear();const[l,c,u]=vI({dedupeTime:(a=this.opts)==null?void 0:a.dedupeTime,refetchInterval:(o=this.opts)==null?void 0:o.refetchInterval});this.nanoquery={createFetcherStore:l,createMutatorStore:c,utils:u}}),z(this,"registerInterceptor",a=>{this.interceptors.push(a)}),z(this,"removeInterceptor",a=>{this.interceptors=this.interceptors.filter(o=>o!==a)}),z(this,"getClient",a=>{const o=a.typeName;if(this.clients.has(o))return this.clients.get(o);const l=cI(a,this.transport);return this.clients.set(o,l),l}),z(this,"getStreamClient",a=>{const o=`stream-${a.typeName}`;if(this.clients.has(o))return this.clients.get(o);const l=cI(a,this.streamTransport);return this.clients.set(o,l),l}),z(this,"createPromiseClient",(a,{params:o=[],method:l})=>{const c=this.getClient(a),u=a.methods[l].name,d=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1),...Array.isArray(o)?o:[o]],h=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1)];return{client:c,createRequestOptions:m=>{const g=zE();for(const p in m){const _=ZE[p];g.set(_,m[p])}return g},queryKey:d,queryKeyStr:h.join("")}}),z(this,"createStreamClient",a=>({client:this.getStreamClient(a)})),z(this,"setSdkKey",a=>{this.$headers.setValue("sdk",a)}),z(this,"setAuth",(a,o)=>{this.$headers.setValue("authorization",a),this.$headers.setValue("sl-user-id",o)}),z(this,"setHeader",(a,o)=>this.$headers.setValue(a,o)),z(this,"getHeader",a=>this.$headers.getValue(a)),z(this,"getHeaders",()=>this.$headers.getValues()),z(this,"initInterceptors",()=>{var a;if(this.interceptors.length!==0)return;const o=l=>c=>{const u=this.$headers.getValues();for(const d in u)c.header.set(d,u[d]);return l(c)};this.interceptors.push(o),this.interceptors.push(qce()),(a=this.opts)!=null&&a.retryable&&this.interceptors.push(Kce)}),this.host=e,this.opts=n,this.$headers=new pu(Di({"sl-device-id":Yce(),"sl-device-os":Qce()}),"transport:headers"),this.initInterceptors(),this.clients=new Map,this.streamClients=new Map,this.subscriptions=new Map;const[r,i,s]=vI({dedupeTime:n==null?void 0:n.dedupeTime,refetchInterval:n==null?void 0:n.refetchInterval});this.nanoquery={createFetcherStore:r,createMutatorStore:i,utils:s},this.transport=TI({baseUrl:e,defaultTimeoutMs:1e4,interceptors:this.interceptors}),this.streamTransport=TI({baseUrl:e,interceptors:this.interceptors})}};const Xce=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(LF,{method:"retrieveEventId",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o;if(!a||typeof a!="string")return"";try{return((o=(await n.retrieveEventId({id:a})).data)==null?void 0:o.id)||""}catch{return""}}})},Zce=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(lg,{method:"getStream",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o;return a?(o=(await n.getStream({id:a})).data)==null?void 0:o.attributes:void 0}})},Jce=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(LF,{method:"summary",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o;return a?(o=(await n.summary({id:a})).data)==null?void 0:o.attributes:void 0}})},eue=(t,e)=>{const{queryKey:n,client:r}=e.createPromiseClient(N5,{method:"me",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async()=>{const{data:i}=await r.me({});return{data:i}}})},tue=t=>{const{client:e,createRequestOptions:n}=t.createPromiseClient(N5,{method:"bypassAuth"}),r=n({retryAttempts:0});return({userKey:i,schema:s,init:a,inviterKey:o})=>e.bypassAuth({userKey:i,schema:s,init:a,inviterKey:o},{contextValues:r})},nue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(lg,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async()=>{var i;return(i=(await n.get({})).data)==null?void 0:i.attributes}})},rue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(lg,{method:"getOrganization",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async()=>{const i=await n.getOrganization({});return i.data?{...i.data.attributes,id:i.data.id}:void 0}})},iue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(lg,{method:"getOrganizationAdvertising",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async()=>{var i;return(i=(await n.getOrganizationAdvertising({})).data)==null?void 0:i.attributes}})},sue=(t,e,n)=>{t.transport=new WI(e.host,{dedupeTime:1e3*60*5,refetchInterval:1e3*60*5,retryable:!0}),t.analyticsTransport=new WI(e.analyticsHost),t.sdk.host=t.transport.host,t.transport.setSdkKey(e.sdkKey),t.transport.setHeader("sl-sdk-version",e.version||"-"),t.transport.$headers.subscribe(r=>{t.analyticsTransport.$headers.getStore().set(r)}),t.sdk.onMount({name:"transport"},()=>()=>{t.transport.disconnect(),t.analyticsTransport.disconnect()}),n()};var no;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(no||(no={}));let Wd=class extends Pm{constructor(){super("user"),z(this,"setSchema",e=>{this.write(no.SCHEMA,e)}),z(this,"getSchema",()=>this.read(no.SCHEMA)),z(this,"setToken",e=>{this.write(no.TOKEN,e)}),z(this,"getToken",()=>this.read(no.TOKEN)),z(this,"setExternalToken",e=>{this.write(no.EXTERNAL_TOKEN,e)}),z(this,"getExternalToken",()=>this.read(no.EXTERNAL_TOKEN)),z(this,"removeToken",()=>{this.remove(no.TOKEN)})}};var fo;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(fo||(fo={}));const aue=t=>{const e=new Wd,n=new cs(Un(e.getExternalToken()),"userKey"),r=new cs(Un(e.getToken()),"userToken"),i=new Vs(eue(r.getStore(),t),"user",({data:a,error:o,loading:l},c)=>{var u;if(!o)return(u=a==null?void 0:a.data)!=null&&u.id?a.data.id:l===!1?void 0:c}),s=new Vs(nue(r.getStore(),t),"userSettings");return{userKey:n,userToken:r,user:i,userSettings:s}},oue=t=>{const e=new cs(Un(void 0),"providerStreamId"),n=new Vs(Xce(e.getStore(),t),"slStreamId",s=>s==null?void 0:s.data),r=new Vs(Zce(n.getAtomStore(),t),"streamSettings"),i=new Vs(Jce(n.getAtomStore(),t),"streamSettings");return n.getAtomStore().listen(s=>{(s===""||s===void 0)&&(r.getStore().mutate(void 0),i.getStore().mutate(void 0))}),{providerStreamId:e,slStreamId:n,streamSettings:r,streamSummary:i}},lue=t=>{const e=new cs(Un(void 0),"enabled"),n=new cs(Un(fo.DISABLED),"status"),r=new Vs(rue(e.getStore(),t),"organizationSettings",o=>{var l;return(l=o==null?void 0:o.data)==null?void 0:l.id}),i=new Vs(iue(r.getAtomStore(),t),"organizationAdvertising"),s=aue(t),a=oue(t);return{enabled:e,status:n,providerStreamId:a.providerStreamId,slStreamId:a.slStreamId,streamSettings:a.streamSettings,streamSummary:a.streamSummary,user:s.user,userKey:s.userKey,userToken:s.userToken,userSettings:s.userSettings,organizationSettings:r,organizationAdvertising:i}};let cue=class extends y3{constructor(e){const n=lue(e),r=Vce(n);super(r,"core"),z(this,"stores"),z(this,"subscribe",i=>{let s;for(s in this.stores){const a=i[s];s in i&&a!==void 0&&this.stores[s].subscribe(i[s])}}),z(this,"unsubscribe",()=>this.getStore().off()),this.stores=n}getValue(){throw new Error("Not implemented")}getValues(){return this.stores}setValue(){throw new Error("Not implemented")}};const uue=(t,e,n)=>{t.store=new cue(t.transport),t.stores=t.store.getValues(),t.sdk.enabled=t.stores.enabled.getStore(),t.sdk.status=t.stores.status.getStore(),t.sdk.sdkStore=Object.fromEntries(Object.entries(t.stores).map(([r,i])=>[r,i.getStore()])),t.sdk.organizationStore=()=>t.stores.organizationSettings.getStore(),t.sdk.streamStore=()=>t.stores.streamSettings.getStore(),t.sdk.streamSummary=()=>t.stores.streamSummary.getStore(),t.storeUnsubscribe=()=>{t.store.unsubscribe()},n()},due=t=>{const{client:e}=t.createPromiseClient(OF,{method:"list"});return n=>e.list(n)},jF=t=>{const{client:e}=t.createPromiseClient(OF,{method:"summary"});return n=>e.summary(n)},hue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(N5,{method:"getFriends",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{if(!a)return[];try{return(await n.getFriends({})).data}catch{return[]}}})},mue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(Hi,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o;return(o=(await n.get({eventId:a})).data)==null?void 0:o.attributes},refetchInterval:0,dedupeTime:1e3*60*60})},pue=(t,e,n)=>{const{client:r,queryKey:i}=n.createPromiseClient(Hi,{method:"syncQuestion",params:[t,e?"true":""]});return n.nanoquery.createFetcherStore(i,{fetcher:async(s,a,o,l)=>{var c,u,d,h;if(!o||l)return;const m=await r.syncQuestion({filter:{eventId:o}});if(((d=(u=(c=m.data)==null?void 0:c.attributes)==null?void 0:u.question)==null?void 0:d.type)!==Te.PROMOTION)return(h=m.data)==null?void 0:h.attributes},dedupeTime:1e3*60*10,refetchInterval:0})},fue=async(t,e)=>{const{client:n}=e.createPromiseClient(Hi,{method:"item",params:[t]});return(await n.item({id:t})).data},gue=(t,e)=>{const{client:n}=e.createStreamClient(Hi),r=lc({eventId:t.get()||"",feedId:""});return t.subscribe((i="")=>{r.set({eventId:i,feedId:""})}),e.addSubscription(n.subscription,r,{name:"feedSubscription"})},yue=(t,e)=>{const{client:n}=e.createStreamClient(Hi);return e.addSubscription(n.questionSubscription,{questionId:t},{name:"questionSubscription"})},JE=async(t,e)=>{var n,r;const{client:i}=e.createPromiseClient(Hi,{method:"questionByUser",params:[t]});return(r=(n=(await i.questionByUser({questionId:t})).data)==null?void 0:n.attributes)==null?void 0:r.question},Sh=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(Hi,{method:"questionByUser",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o,l;return(l=(o=(await n.questionByUser({questionId:a})).data)==null?void 0:o.attributes)==null?void 0:l.question},dedupeTime:1e3*60*5})},VF=async(t,e)=>{var n;if(!t)return;const{client:r}=e.createPromiseClient(Hi,{method:"getQuestion",params:[t]}),i=await r.getQuestion({id:t});if(!((n=i.data)!=null&&n.attributes))return;const{options:s,notification:a,...o}=i.data.attributes,l=(s==null?void 0:s.options.case)==="promotion"?s==null?void 0:s.options.value:void 0;return{id:o.id,question:o,promotion:l,notification:a}},Tue=(t,e,n,r)=>{const{client:i,queryKey:s}=r.createPromiseClient(Hi,{method:"list",params:[t,e,n?"true":""]});return r.nanoquery.createFetcherStore(s,{fetcher:async(a,o,l,c,u)=>!l||u?[]:(await i.list({eventId:l,filter:{types:c===Dl.ALLOWED?[]:[Te.FACTOID,Te.PROMOTION,Te.TWEET],statuses:[ht.ACTIVE,ht.RESOLVED]}})).data,dedupeTime:0,refetchInterval:0})},vue=(t,e)=>{const{client:n,queryKey:r}=e.createPromiseClient(Hi,{method:"list",params:[t]});return e.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a)=>{var o;if(!a)return;const l=(o=(await n.list({eventId:a,filter:{types:[Te.PROMOTION],statuses:[ht.ACTIVE]},pagination:{page:0,pageSize:1}})).data)==null?void 0:o[0];if(l.type==="promotion")return VF(l.id,e)},dedupeTime:0,refetchInterval:0})},_ue=(t,e,n,r,i)=>{const{client:s,queryKey:a}=i.createPromiseClient(Hi,{method:"betPack",params:[t,e,n]});return i.nanoquery.createFetcherStore(a,{fetcher:async(o,l,c,u,d)=>{var h;if(!c||!u||!d)return null;const m=await s.betPack({eventId:c,types:[Te.PREDICTION],statuses:[ht.ACTIVE,ht.RESOLVED],limit:5,sort:{field:"activated_at",order:"asc"}});return!m.data||!m.data.length?null:(h=m.data)==null?void 0:h.reduce((g,p)=>{var _;const y=(_=p==null?void 0:p.attributes)==null?void 0:_.question;if(!(y!=null&&y.id))return g;const v={eventId:c,userId:u,organizationId:d};return r.isBetPackQuestionReceived(v,y.id)||(Tn.emit("poll",{action:"received",payload:{questionId:y.id,questionType:y.type}}),r.saveBetPackQuestionReceived(v,y.id)),{...g,[y.id]:y}},{})},dedupeTime:0,refetchInterval:0})},bue=(t,e,n)=>{const r=rI([e,n],()=>{var a,o;const l=e.get();if(!l)return;const c=(a=n.get().data)==null?void 0:a.find(d=>d.id===(l==null?void 0:l.questionId)),u=(o=l==null?void 0:l.question)==null?void 0:o.openedFrom;return c?(c.openedFrom=u,c):l.question}),i=rI(r,a=>a&&a.type==="question"?a.id:void 0),s=Sh(i,t);return{$store:r,$extendedStore:s,updateExtendedQuestion:a=>{const o=s.get().data,l=(c,u)=>{if(!c||!u)return c||u||[];const d=[];for(let h=0;h<c.length;h++)d.push({...c[h],...u[h],correct:c[h].correct,youVoted:c[h].youVoted,pointsEarned:c[h].pointsEarned});return d};s.mutate({...a,options:o==null?void 0:o.options,subject:o==null?void 0:o.subject,appearance:o==null?void 0:o.appearance,answers:l(o==null?void 0:o.answers,a==null?void 0:a.answers)})}}};var hT;(function(t){t.SHOWED="showed"})(hT||(hT={}));let Sue=class extends Pm{constructor(){super("advertisement"),z(this,"setShowed",e=>{this.write(hT.SHOWED,e,"true")}),z(this,"isViewed",e=>this.read(hT.SHOWED,e))}};const Eue=t=>{var e,n,r,i,s;const a=(n=(e=t.data)==null?void 0:e.attributes)==null?void 0:n.question;if((((s=(i=(r=t.data)==null?void 0:r.attributes)==null?void 0:i.feedItem)==null?void 0:s.type)==="promotion"?t.data.attributes.feedItem:void 0)===void 0||!a)return;const{options:o,notification:l,...c}=a,u=(o==null?void 0:o.options.case)==="promotion"?o.options.value:void 0;return{id:c.id,question:c,notification:l,promotion:u}},L0=t=>t.startsWith("http://")||t.startsWith("https://")?new URL(t).toString():t,kue=({gamOptions:t,gamBaseUrl:e})=>{const n=`${e}?`,r=[];for(const i in t){const s=i.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),a=t[i];if(a)if(typeof a=="string")r.push(`${s}=${L0(a)}`);else if(Array.isArray(a))r.push(`${s}=${a.map(L0).join(",")}`);else{const o=Object.entries(a).map(([l,c])=>Array.isArray(c)?`${l}=${c.map(L0).join(",")}`:typeof c=="string"?`${l}=${L0(c)}`:`${l}=${c}`).join("&").replaceAll("=","%3D").replaceAll("&","%26").replaceAll(",","%2C");r.push(`${s}=${o}`)}}return n+r.join("&")},sd=t=>{var e,n,r;return(((e=t==null?void 0:t.promotion)==null?void 0:e.type)===xt.INGAME_IAB11_LBAR||((n=t==null?void 0:t.promotion)==null?void 0:n.type)===xt.INGAME_IAB21_LBAR)&&!!((r=t.promotion.additionalBanner)!=null&&r.imageUrl)},Aue=(t,e,n)=>{let r=!1;const i=n.transport,s=Ya("advertisement"),a=new Sue,o=Di({}),l=vue(t,i),c=g=>{var p,_,y;const v=o.get(),E=(p=v.data)==null?void 0:p.question.id,x=(y=(_=v.data)==null?void 0:_.promotion)==null?void 0:y.type;E&&(Tn.emit("advertisement",{action:"opened",payload:{id:E,type:x,hasBanner:sd(v.data),openedFrom:g!=null&&g.fromNotification?"notification":"auto"}}),g!=null&&g.fromNotification&&(o.setKey("hasNotification",!1),Tn.emit("advertisement",{action:"notification-opened",payload:{id:E,type:x,hasBanner:sd(v.data)}})))},u=()=>{var g,p,_,y;const v=o.get(),E=(g=v.data)==null?void 0:g.question.id,x=(_=(p=v.data)==null?void 0:p.promotion)==null?void 0:_.type,C=(y=o.get())==null?void 0:y.isOpened;E&&!C&&(s.debug({id:E},"markAsViewed: %o"),a.setShowed(E),o.setKey("isOpened",!0),Tn.emit("advertisement",{action:"viewed",payload:{id:E,type:x,hasBanner:sd(v.data)}}))},d=(g,p)=>{var _;p?o.set({loading:!1,error:void 0,data:p,hasNotification:((_=p==null?void 0:p.notification)==null?void 0:_.enabled)===T1.NOTIFICATION_ENABLED,close:()=>h(p.question.id),togglePause:y=>m(p.question.id,y),isViewed:!!a.isViewed(p.question.id)}):(o.setKey("loading",!0),VF(g,i).then(y=>{var v;return o.set({loading:!1,error:void 0,data:y,hasNotification:((v=y==null?void 0:y.notification)==null?void 0:v.enabled)===T1.NOTIFICATION_ENABLED,close:()=>h(y==null?void 0:y.question.id),togglePause:E=>m(y==null?void 0:y.question.id,E),isViewed:y&&!!a.isViewed(y.question.id)})}).catch(y=>o.set({loading:!1,error:y,data:void 0})))};o.subscribe((g,p)=>{var _,y,v,E,x,C,R,D,U,K;if(!(((_=g.data)==null?void 0:_.id)===((y=p==null?void 0:p.data)==null?void 0:y.id)&&g.isPaused!==(p==null?void 0:p.isPaused))){if(((E=(v=g.data)==null?void 0:v.promotion)==null?void 0:E.type)===xt.EXTERNAL_AD&&!(g!=null&&g.externalAd)&&(x=g.data.promotion.adCampaigns)!=null&&x.gamOptions&&(C=g.data.promotion.adCampaigns)!=null&&C.gamBaseUrl){const V=kue(g.data.promotion.adCampaigns);o.setKey("externalAd",{type:"gam",url:V})}(R=g.data)!=null&&R.promotion&&!g.isOpened&&(Tn.emit("advertisement",{action:"received",payload:{id:g.data.question.id,type:g.data.promotion.type,hasNotification:!!g.hasNotification,hasBanner:sd(g.data),isViewed:!!a.isViewed(g.data.question.id)},skipAnalytics:g.data.question.id===((D=p==null?void 0:p.data)==null?void 0:D.question.id)}),g.data.question.id!==((U=p==null?void 0:p.data)==null?void 0:U.question.id)&&!a.isViewed(g.data.question.id)&&Tn.emit("advertisement",{action:"notification-received",payload:{id:g.data.question.id,type:g.data.promotion.type,hasNotification:!0,hasBanner:sd(g.data),isViewed:!1}})),!(g!=null&&g.data)&&p!=null&&p.data&&Tn.emit("advertisement",{action:"closed",payload:{id:p.data.question.id,type:(K=p.data.promotion)==null?void 0:K.type,hasNotification:!!p.hasNotification,hasBanner:sd(p.data),isViewed:!!a.isViewed(p.data.question.id)}})}});const h=g=>{var p,_;(!g||((_=(p=o.get())==null?void 0:p.data)==null?void 0:_.question.id)===g)&&o.set({})},m=(g,p)=>{var _,y;((y=(_=o.get())==null?void 0:_.data)==null?void 0:y.question.id)===g&&o.setKey("isPaused",p)};return{connect:()=>{r||(r=!0,l.subscribe((g,p)=>{g.data&&(!(p!=null&&p.data)||g.data.id!==p.data.id)&&d(g.data.question.id,g.data)}),e.addListener("promotion",g=>{const p=Eue(g);if(p){if(p.question.status===ht.RESOLVED){h(p.question.id),s.debug({promotion:p},"resolved: %o");return}if(p.question.status===ht.ACTIVE){s.debug({promotion:p},"active: %o"),d(p.question.id,p);return}s.debug({promotion:p},"skip: %o")}}))},hide:h,show:d,open:c,markAsViewed:u,$store:o}};var aa;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.BET_PACK_ITEM_RECEIVED="bp-item-received",t.QUESTION_OPENED="q-opened"})(aa||(aa={}));let wue=class extends Pm{constructor(){super("gamification-session",window.sessionStorage),z(this,"writeValue",(e,n)=>{this.write(...e,n)}),z(this,"readValue",e=>this.read(...e))}},Cue=class extends Pm{constructor(){super("gamification"),z(this,"sessionStorage"),z(this,"saveBetPackQuestionReceived",({userId:e,eventId:n,organizationId:r},i)=>{this.write(aa.BET_PACK_ITEM_RECEIVED,r,e,n,i)}),z(this,"isBetPackQuestionReceived",({userId:e,eventId:n,organizationId:r},i)=>!!this.read(aa.BET_PACK_ITEM_RECEIVED,r,e,n,i)),z(this,"saveQuestionOpened",({userId:e,eventId:n,organizationId:r},i)=>{this.write(aa.QUESTION_OPENED,r,e,n,i)}),z(this,"isQuestionOpened",({userId:e,eventId:n,organizationId:r},i)=>!!this.read(aa.QUESTION_OPENED,r,e,n,i)),z(this,"saveOnboardingStatus",({userId:e,eventId:n,organizationId:r},i)=>{this.write(aa.ONBOARDING,r,e,n,i)}),z(this,"getOnboardingStatus",({userId:e,eventId:n,organizationId:r})=>this.read(aa.ONBOARDING,r,e,n)),z(this,"setOnboardingInstantOpen",({userId:e,eventId:n,organizationId:r})=>{this.sessionStorage.writeValue([aa.ONBOARDING_IO,r,e,n],"1")}),z(this,"getOnboardingInstantOpen",({userId:e,eventId:n,organizationId:r})=>this.sessionStorage.readValue([aa.ONBOARDING_IO,r,e,n])),this.sessionStorage=new wue}};var Dl;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(Dl||(Dl={}));let Iue=class{constructor(e){z(this,"slStreamId"),z(this,"organizationId"),z(this,"userId"),z(this,"interactiveAllowed"),z(this,"openedQuestionId"),z(this,"openedQuestion"),z(this,"activeQuestionId"),z(this,"feedList"),z(this,"betPack"),z(this,"moderationId"),z(this,"moderation"),z(this,"feedSubscription"),z(this,"questionSubscription"),z(this,"advertisement"),z(this,"storage"),z(this,"notifications"),z(this,"log"),z(this,"transport"),z(this,"cancels",new Set),z(this,"getCurrentSessionId",r=>{const i=r.eventId||this.slStreamId.get()||"",s=r.userId||this.userId.get()||"",a=r.organizationId||this.organizationId.get()||"",o=r.entity||"",l=r.prefix||"";return[a,i,s,l,o].join(":")}),z(this,"disconnect",()=>{var r;(r=this.feedSubscription)==null||r.disconnect(),this.questionSubscription!==void 0&&(this.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0)}),z(this,"openQuestion",(r,i)=>{this.openedQuestionId.set({questionId:r,question:i}),this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:r}))}),z(this,"closeQuestion",r=>{this.openedQuestionId.set(void 0),r&&this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:r}))}),this.transport=e.transport,this.log=Ya("gamification-background"),this.storage=new Cue,this.slStreamId=e.stores.slStreamId.getAtomStore(),this.organizationId=e.stores.organizationSettings.getAtomStore(),this.userId=e.stores.user.getAtomStore(),this.moderationId=new cs(Un(void 0),"moderationId").getStore(),this.interactiveAllowed=new cs(Un(Dl.DISALLOWED),"interactiveAllowed").getStore(),this.openedQuestionId=new cs(Un(void 0),"openedQuestionId").getStore(),this.notifications=e.notifications,this.moderation=new Vs(mue(this.slStreamId,e.transport),"gamification:moderation");const n=!!e.sdk.options.get().betPack;this.feedList=new Vs(Tue(this.slStreamId,this.interactiveAllowed,n,e.transport),"gamification:feedList"),this.betPack=new Vs(_ue(this.slStreamId,this.userId,this.organizationId,this.storage,e.transport),"gamification:betPack"),this.activeQuestionId=pue(this.slStreamId,n,e.transport),this.openedQuestion=bue(e.transport,this.openedQuestionId,this.feedList.getStore()),this.cancels.add(this.openedQuestionId.listen(r=>{this.log.debug({item:r},"received question"),r!=null&&r.questionId?(this.questionSubscription=yue(r.questionId,e.transport),this.questionSubscription.addListener("feed-subscription-opened-question",async i=>{var s,a;const o=(a=(s=i.data)==null?void 0:s.attributes)==null?void 0:a.question;if(this.openedQuestion.updateExtendedQuestion(o),(o==null?void 0:o.type)===Te.PREDICTION&&(o.status===ht.ACTIVE||o.status===ht.RESOLVED)){const l=this.betPack.getValues().data||{};if(l!=null&&l[o.id]||Object.keys(l).length<5){const c=Sh(o.id,this.transport),u=c.subscribe(()=>{});await c.get().promise;let d=c.get().data;d||(d=await JE(o.id,this.transport)),u(),window.requestAnimationFrame(()=>{c.invalidate()}),this.betPack.getStore().mutate({...l,[o.id]:d})}}}),this.questionSubscription.connect()):(this.log.info("cleanup on close question"),this.questionSubscription!==void 0&&(e.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0))})),this.feedSubscription=gue(this.slStreamId,e.transport),this.cancels.add(this.feedSubscription.addListener("bet-pack-update",async r=>{var i,s;const a=(s=(i=r.data)==null?void 0:i.attributes)==null?void 0:s.question;if((a==null?void 0:a.type)===Te.PREDICTION&&(a.status===ht.ACTIVE||a.status===ht.RESOLVED)){const o=this.betPack.getValues().data||{};if(o!=null&&o[a.id]||Object.keys(o).length<5){const l=Sh(a.id,this.transport),c=l.subscribe(()=>{});await l.get().promise;let u=l.get().data;u||(u=await JE(a.id,this.transport)),c(),window.requestAnimationFrame(()=>{l.invalidate()}),this.betPack.getStore().mutate({...o,[a.id]:u})}}})),this.cancels.add(this.feedSubscription.addListener("feed-subscription-active-question",r=>{var i,s,a,o;const l=(s=(i=this.activeQuestionId.get().data)==null?void 0:i.question)==null?void 0:s.id,c=(o=(a=r.data)==null?void 0:a.attributes)==null?void 0:o.question;if(!(!c||c.type===Te.PROMOTION)){if(c.status===ht.RESOLVED){l===c.id&&this.activeQuestionId.mutate(void 0);return}window.requestAnimationFrame(()=>{var u;this.activeQuestionId.mutate((u=r.data)==null?void 0:u.attributes)})}})),this.cancels.add(this.feedSubscription.addListener("moderation update",r=>{window.requestAnimationFrame(()=>{var i,s,a,o;((s=(i=r.data)==null?void 0:i.attributes)==null?void 0:s.question)===void 0&&(o=(a=r.data)==null?void 0:a.attributes)!=null&&o.moderation&&this.moderation.invalidate()})})),this.cancels.add(this.activeQuestionId.subscribe((r,i)=>{var s,a,o,l,c,u,d;(s=r.data)!=null&&s.feedItem&&((o=(a=r.data)==null?void 0:a.feedItem)==null?void 0:o.id)!==((c=(l=i==null?void 0:i.data)==null?void 0:l.feedItem)==null?void 0:c.id)&&e.onQuestionActivate({stage:"activate",id:r.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:r.data.feedItem.id})),hasNotification:!0,type:r.data.feedItem.type}),!((u=r.data)!=null&&u.feedItem)&&(d=i==null?void 0:i.data)!=null&&d.feedItem&&e.onQuestionActivate({stage:"deactivate",id:i.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:i.data.feedItem.id})),hasNotification:!0,type:i.data.feedItem.type})})),this.feedSubscription.connect(),this.cancels.add(this.interactiveAllowed.listen(()=>{window.requestAnimationFrame(()=>{this.activeQuestionId.invalidate()})})),e.sdk.onMount({name:"gamification-background"},()=>()=>{this.activeQuestionId.off();for(const r of this.cancels)r(),this.cancels.delete(r)}),n||(this.advertisement=Aue(this.slStreamId,this.feedSubscription,e))}},xue=class{constructor(e){z(this,"notificationsList"),z(this,"store"),z(this,"timeouts"),z(this,"waitingQueue"),z(this,"activeQueue"),z(this,"options"),z(this,"logger"),z(this,"addToQueue",n=>{var r;if(this.store.has(n.id)){this.logger.debug({notification:n},"skip existed notification: %o");return}const i=n.close,s=n.action;if(this.store.set(n.id,{...n,close:(...a)=>{i&&i(...a),this.closeNotification(n.id)},action:(...a)=>{s&&s(...a),this.closeNotification(n.id,{animateHiding:!1})}}),this.waitingQueue.add(n.id),this.activeQueue.size===this.options.concurrency){const[a]=this.activeQueue;if(((r=this.store.get(a))==null?void 0:r.persistent)!==!0)this.closeNotification(a);else{const[o]=this.waitingQueue;this.waitingQueue.size>1&&this.closeNotification(o),this.tickWaitingQueue()}}else this.tickWaitingQueue()}),z(this,"tickWaitingQueue",()=>{if(this.activeQueue.size<this.options.concurrency){const[n]=this.waitingQueue;if(!n)return;this.activeQueue.add(n),this.waitingQueue.delete(n),this.logger.debug({job:n},"waiting queue tick"),this.tickActiveQueue(n)}else this.logger.debug({queueSize:this.activeQueue.size,concurrency:this.options.concurrency},"waiting queue tick skipped")}),z(this,"tickActiveQueue",n=>{if(!n)return;const r=this.store.get(n);if(!r){this.logger.debug({notificationId:n},"active queue tick skipped, notification not exist");return}Tn.emit("notification",{action:"received",payload:{type:r.type,questionId:r.data.questionId,questionType:r.data.questionType}});const i=setTimeout(()=>{const s=n,a=new Map(this.notificationsList.get());a.set(r.id,r),this.notificationsList.set(a);const o=setTimeout(()=>{this.logger.debug({notificationId:s,delay:r.autoHideDuration||5e3},"notification hiding by autoHideDuration"),this.closeNotification(s)},r.autoHideDuration||5e3);this.timeouts.set(s,o),this.logger.debug({notificationId:s,queue:[...a.values()]},"notification displayed")},r.delay||0);this.timeouts.set(n,i),this.logger.debug({notificationId:n},"active queue tick completed"),this.tickWaitingQueue()}),z(this,"closeNotification",(n,{animateHiding:r=!0}={})=>{const i=new Map(this.notificationsList.get()),s=i.get(n);if(s){s.hiding=!(this.waitingQueue.size>=this.options.concurrency)&&r,this.notificationsList.set(i);const a=setTimeout(()=>{const o=new Map(this.notificationsList.get());o.delete(n),this.notificationsList.set(o);const l=this.timeouts.get(n);l!==void 0&&(clearTimeout(l),this.timeouts.delete(n)),this.logger.debug({notificationId:n},"notification hidden"),s.hiding&&Tn.emit("notification",{action:"closed",payload:{type:s.type,questionId:s.data.questionId,questionType:s.data.questionType}})},this.options.animationDelay||0);this.timeouts.set(n,a)}return this.store.delete(n),this.activeQueue.delete(n),this.waitingQueue.delete(n),this.tickWaitingQueue(),this.logger.debug({notificationId:n},"notification hiding"),s}),z(this,"drain",()=>{this.store.clear(),this.timeouts.clear(),this.waitingQueue.clear(),this.activeQueue.clear(),this.notificationsList.off(),this.notificationsList.set(new Map)}),this.options=e,this.logger=Ya("notifications"),this.store=new Map,this.timeouts=new Map,this.waitingQueue=new Set,this.activeQueue=new Set,this.notificationsList=Un(new Map)}};var mT;(function(t){t.OPENED="opened"})(mT||(mT={}));let Lue=class extends Pm{constructor(){super("notification"),z(this,"setOpened",e=>{this.write(mT.OPENED,e,"true")}),z(this,"isOpened",e=>this.read(mT.OPENED,e)),z(this,"clearNotification",()=>{this.clear()})}},Rue=class{constructor(e={}){z(this,"queue"),z(this,"storage"),z(this,"isViewed",n=>this.storage.isOpened(n)),z(this,"add",n=>{if(!this.isViewed(n.id)){if(n.data&&n.emitEvent){const r=n.action;n.action=(...i)=>{r&&r(...i),Tn.emit("notification",{action:"opened",payload:{questionId:n.data.questionId,questionType:n.data.questionType}})}}this.queue.addToQueue(n)}}),z(this,"close",(n,{markAsViewed:r=!0,animateHiding:i}={})=>{this.queue.closeNotification(n,{animateHiding:i}),r&&this.markAsViewed(n)}),z(this,"getActiveNotification",()=>{const n=this.queue.notificationsList.get();if(!(n!=null&&n.size))return null;for(const r of n.values())if(r.type===wo.ONBOARDING)return r;return n.values().next().value}),z(this,"getQueueStore",()=>this.queue.notificationsList),z(this,"markAsViewed",n=>{this.storage.setOpened(n)}),this.storage=new Lue,this.queue=new xue({concurrency:1,animationDelay:1600,...e})}};const Nue=(t,e,n)=>{t.notifications=new Rue(void 0),t.addNotification=t.notifications.add,t.sdk.getNotificationsStore=()=>t.notifications.getQueueStore(),t.sdk.getActiveNotification=()=>t.notifications.getActiveNotification(),t.sdk.onMount({name:"notifications"},()=>()=>{t.notifications.queue.drain()}),n()};var em;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(em||(em={}));const KI=async(t,e)=>{var n;const{client:r,createRequestOptions:i}=t.createPromiseClient(Hi,{method:"submitAnswer"}),s=i({retryAttempts:0});try{return await r.submitAnswer({data:e},{contextValues:s})}catch(a){throw((n=zt.from(a))==null?void 0:n.code)===He.AlreadyExists?new Error(em.ALREADY_VOTED):new Error(em.UNKNOWN)}},HF=(t,e)=>{const{client:n,createRequestOptions:r}=t.createPromiseClient(Hi,{method:"submitInplay"}),i=r({retryAttempts:0});return n.submitInplay({data:{eventId:+e}},{contextValues:i})},Oue={pageSize:10},Due=(t,e,n,r,i)=>{let s=0;const a=Un({pageSize:Oue.pageSize,page:0}),o=Di({data:[],key:Date.now(),hasMore:!0,loading:void 0,error:void 0}),l=due(t),c=async()=>{var h;const m=e.get(),g=((h=r==null?void 0:r.getStore().get().data)==null?void 0:h.map(p=>p.slId))||[];if(m&&g!=null&&g.length){const p=n.get();p&&g.push(p),o.setKey("loading",!0),o.setKey("data",[]);const _=await l({eventId:m,usersIds:g});o.set({data:_.data.map((y,v)=>({...y.attributes,friendsRank:v+1})),hasMore:!1,key:Date.now(),loading:!1}),_.meta&&(s=Math.round(_.meta.count/_.meta.pageSize))}},u=()=>{c()},d=h=>{const m=a.get(),g=h||m.page+1;g<=s&&a.set({...m,page:g})};return h3(o,()=>{const h=e.listen(c),m=r==null?void 0:r.listen(c);return()=>{h(),m==null||m()}}),{$store:o,fetchMore:d,invalidate:u}};let Pue=class extends Pm{constructor(){super("deep-link-context",window.sessionStorage),z(this,"get",this.read),z(this,"set",this.write),z(this,"del",this.remove)}};const YI="sldl",T3="sldl_uid",GF="sldl_eid",qF="sldl_e_eid",Mue=new Set([T3,GF,qF]),QI=t=>{const e={},n={};for(const[r,i]of t)Mue.has(r)?e[r]=i:n[r]=i;return{result:e,remain:n}},$ue=({hash:t,search:e})=>{if(t&&t.includes(YI)){const n=new URLSearchParams(t.substr(1));return{hash:QI(n)}}if(e&&e.includes(YI)){const n=new URLSearchParams(e);return{search:QI(n)}}return null},XI=Ya("deep_link"),ya={debug:(...t)=>{XI.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{XI.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},Uue=(t,e)=>{const{hash:n,search:r}=window.location;if(ya.debug({hash:n,search:r},"get deep link data from"),n||r){const i=$ue({hash:n,search:r});if(ya.debug(i,"parse deep link result"),i){const{hash:s,search:a}=i,{result:o,remain:l}=s||a;if(Object.keys(o).length!==0){t.setValue("data",o);const c=Object.keys(l).length!==0;if(s){let u="";c&&(u=`#${new URLSearchParams(l).toString()}`,ya.debug({updatedHash:u},"update hash")),window.history.replaceState(null,"",window.location.pathname+window.location.search+u)}if(a){let u="";c&&(u=`?${new URLSearchParams(l).toString()}`,ya.debug({updatedSearch:u},"update search")),window.history.replaceState(null,"",window.location.pathname+u+window.location.hash)}e(o)}}}t.setValue("parsed",!0)},Fue=(t,e,n)=>{const r=new Pue,i=r.get("sl-deep-link-store");let s={};if(i)try{s=JSON.parse(i)}catch(o){ya.debug(o)}t.deepLink={$store:new pu(Di(s),"deep-link-context"),getDeepLinkData:()=>{const{data:o,used:l}=t.deepLink.$store.getValues();return{data:o,used:l}},deepLinkUsed:o=>{ya.debug(`logged in with inviterId: ${o}`),t.deepLink.$store.setValue("used",!0)},onDeepLinkHandlers:new Set},t.sdk.getInviter=()=>{const{data:o,used:l}=t.deepLink.getDeepLinkData();return l?o==null?void 0:o[T3]:void 0},t.sdk.inviteDisplayed=()=>{t.deepLink.$store.getStore().set({}),t.deepLink.$store.getStore().off(),r.del("sl-deep-link-store")},t.deepLink.$store.subscribe(o=>r.set("sl-deep-link-store",JSON.stringify(o))),t.sdk.addDeepLinkHandler=o=>{localStorage.getItem("SL_DEBUG")&&ya.trace("adding deep link handler"),t.deepLink.onDeepLinkHandlers.add(o)},e.onDeepLinkHandled&&t.sdk.addDeepLinkHandler(e.onDeepLinkHandled),t.sdk.removeDeepLinkHandler=o=>{ya.trace("removing deep link handler"),t.deepLink.onDeepLinkHandlers.delete(o)};const a=o=>{t.deepLink.$store.setValue("handled",!0),ya.trace({size:t.deepLink.onDeepLinkHandlers.size},"deep link handled, call callbacks");for(const l of t.deepLink.onDeepLinkHandlers)try{ya.trace("called handler"),l(o)}catch(c){console.error(c)}};Uue(t.deepLink.$store,a),n()},Bue=Ya("bypass");let jue=class extends jce{constructor(e,n,r){super(),z(this,"$coreStore"),z(this,"deepLink"),z(this,"transport"),z(this,"bypassLogin"),z(this,"me",async()=>{var i;return this.$coreStore.getValues().user.invalidate(),(i=await this.$coreStore.getValues().user.getValue())==null?void 0:i.data}),z(this,"login",async(i,s)=>{var a,o,l;this.$coreStore.getValues().userKey.setValue(s);const{used:c,data:u}=this.deepLink.getDeepLinkData(),d=c?"":u==null?void 0:u[T3];Bue.debug({inviterKey:d},"login with inviterKey");const h=await this.bypassLogin({schema:i,userKey:s,inviterKey:d,init:!1}),m=(a=h.meta)==null?void 0:a.jwt,g=(o=h.data)==null?void 0:o.id;if(!m||!g)throw new Error("internal: token missing");return(l=h.meta)!=null&&l.inviterKey&&this.deepLink.deepLinkUsed(h.meta.inviterKey),this.$coreStore.getValues().user.getStore().mutate({data:h.data}),this.saveUser(m,g),m}),z(this,"isAuthenticated",()=>this.me()),z(this,"logout",()=>{this.$coreStore.getValues().user.setValue(),this.$coreStore.getValues().userKey.setValue(),this.$coreStore.getValues().userToken.setValue(),this.transport.setAuth("",""),new Wd().clear()}),z(this,"softLogout",()=>{const i=new Wd;this.transport.setAuth("",""),i.setToken(""),this.reLogin()}),z(this,"reLogin",({skipLogin:i}={skipLogin:!1})=>{const s=new Wd,a=s.getToken(),o=s.getExternalToken();if(this.$coreStore.getValues().userKey.setValue(o),a)return this.saveUser(a,""),this.me().then(l=>{if(l!=null&&l.id){const c=l.id;this.saveUser(a,c)}return l});if(o&&!a&&!i){const l=s.getSchema();l&&o&&this.login(l,o).catch(()=>{this.logout()})}}),z(this,"saveUser",(i,s)=>{this.transport.setAuth(i,s),this.$coreStore.getValues().userToken.setValue(i),new Wd().setToken(i)}),z(this,"connect",()=>{this.transport.registerInterceptor(i=>async s=>{try{return await i(s)}catch(a){throw a.code&&(a.code===7||a.code===16)&&this.transport.getHeader("authorization")&&this.softLogout(),a}})}),this.$coreStore=e,this.deepLink=r,this.transport=n,this.bypassLogin=tue(this.transport),this.connect()}};const Ap=new Wd,Vue=(t,e,n)=>{t.auth=new jue(t.store,t.transport,t.deepLink),t.stores.status.listen(r=>{r===fo.READY&&t.auth.reLogin()}),t.sdk.userId=t.stores.user.getAtomStore,t.sdk.authorizationBypass=async(r,i)=>{if(!(Ap.getSchema()===r&&Ap.getExternalToken()===i&&t.transport.getHeader("authorization")))try{await t.auth.login(r,i),Ap.setSchema(r),Ap.setExternalToken(i)}catch{t.sdk.logout()}},t.sdk.logout=()=>{t.auth.logout(),Ap.clear()},t.sdk.getUserStore=()=>t.stores.user.getStore(),t.sdk.isUserAuthorized=()=>t.auth.isAuthenticated(),n()},ZI=Ya("video_player"),R0={debug:(...t)=>{ZI.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{ZI.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},Hue=(t,e,n)=>{t.videoPlayer={controllers:new Set},t.sdk.addVideoPlayerController=r=>{R0.trace("adding video player controller"),t.videoPlayer.controllers.add(r)},e.videoPlayerController&&t.sdk.addVideoPlayerController(e.videoPlayerController),t.sdk.removeVideoPlayerController=r=>{R0.trace("removing video player controller"),t.videoPlayer.controllers.delete(r)},t.sdk.controlVideoPlayer=r=>{R0.trace("controlling video player");for(const i of t.videoPlayer.controllers){R0.trace("calling video player controller");try{i(r)}catch(s){console.error(s)}}},n()},Gue={[Te.FACTOID]:"insight",[Te.POLL]:"poll",[Te.TRIVIA]:"trivia",[Te.PREDICTION]:"prediction",[Te.TWEET]:"tweet"},que=(t,e,n)=>{t.sdk.uiState=Di({}),t.ui={enableAppNotification:function(){t.sdk.uiState.setKey("appNotification",!0)},disableAppNotification:function(){t.sdk.uiState.get().app||t.sdk.uiState.setKey("appNotification",!1)},enableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!0)},disableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!1)},enableApp:function(){t.sdk.uiState.set({app:!0,appNotification:!0})},disableApp:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),onboardingNotification:!1,appNotification:!1,app:!1})}},e.onContentActivate&&(t.ui.onContentActivate=e.onContentActivate);const r=i=>{t.ui.onContentActivate&&t.ui.onContentActivate({...i,type:"advertisement"})};t.onQuestionActivate=({questionType:i,...s})=>{if(t.ui.onContentActivate){const a=s.type||i&&Gue[i]||"question";t.ui.enableAppNotification(),t.ui.onContentActivate({...s,type:a})}},t.sdk.onMount({name:"ui"},()=>{const i=o=>{var l,c,u;if(((l=o.slEventBus)==null?void 0:l.type)==="app")switch(o.slEventBus.action){case"open":t.ui.enableApp();break;case"close":t.ui.disableApp();break}if(((c=o.slEventBus)==null?void 0:c.type)==="notification"){const d=o.slEventBus.action;if(o.slEventBus.payload.type===wo.ONBOARDING)switch(d){case"received":t.ui.enableOnboardingNotification();break;case"closed":t.ui.disableOnboardingNotification();break}else switch(d){case"received":t.ui.enableAppNotification();break;case"closed":t.ui.disableAppNotification();break}}if(((u=o.slEventBus)==null?void 0:u.type)==="advertisement"&&e.withAd){const d=o.slEventBus,{hasNotification:h,hasBanner:m,id:g,isViewed:p,type:_}=d.payload;switch(d.action){case"notification-opened":t.sdk.uiState.set({promotionExternalAd:_===xt.EXTERNAL_AD,promotionBanner:m,promotionNotification:!1,promotionOverlay:!0,promotionSidebar:!0});break;case"received":if(t.sdk.closeFeature(),r({stage:"activate",id:g,hasNotification:h,hasBanner:m,isViewed:p}),!e.withAdNotification){t.sdk.uiState.set({promotionBanner:m,onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionOverlay:!0,promotionSidebar:!0,promotionExternalAd:_===xt.EXTERNAL_AD});break}h?t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionNotification:!0}):t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionBanner:m,promotionOverlay:!0,promotionSidebar:!0,promotionExternalAd:_===xt.EXTERNAL_AD});break;case"closed":t.sdk.uiState.set({...t.sdk.uiState.get(),promotionNotification:!1,promotionBanner:!1,promotionOverlay:!1,promotionExternalAd:!1,promotionSidebar:!1}),r({stage:"deactivate",id:g,hasNotification:h,hasBanner:m,isViewed:p});break}}},s=Tn.listen(i),a=t.activeFeature.subscribe(o=>{o?(t.ui.enableApp(),t.sdk.uiState.set({app:!0})):t.ui.disableApp()});return()=>{s(),a()}}),n()},zue=(t,e,n)=>{const r={onMountedFired:!1},i=new Map,s=new Map;t.sdk=Object.create(null),t.sdk.options=Di(e),t.sdk.withAuth=!1,t.sdk.onMount=({name:a,clear:o},l)=>{var c,u;if(i.has(a)){const d=s.get(a);d&&d(),i.delete(a),s.delete(a)}i.set(a,{cb:l,clear:o}),((u=(c=t==null?void 0:t.stores)==null?void 0:c.enabled)==null?void 0:u.get())==="on"&&s.set(a,l())},t.ready=()=>{t.stores.enabled.subscribe(a=>{a==="on"&&r.onMountedFired===!1&&(i.forEach(({cb:o},l)=>s.set(l,o())),r.onMountedFired=!0),a!=="on"&&r.onMountedFired===!0&&(s.forEach(o=>o()),s.clear(),i.forEach(({clear:o},l)=>o&&i.delete(l)),r.onMountedFired=!1)})},t.sdk.initializeApp=async a=>{if(t.contextConfig=a,t.stores.enabled.get()==="on")return{enabled:!0};t.storeSubscribe(),t.stores.enabled.setValue("on"),t.stores.status.setValue(fo.INITIALIZATION);try{const o=await t.stores.organizationSettings.getValue();return o?(t.stores.status.setValue(fo.READY),{enabled:!!o}):(t.stores.status.setValue(fo.FAILED),{err:"failed"})}catch(o){return t.stores.enabled.setValue(),t.stores.status.setValue(fo.FAILED),{err:`${o}`}}},t.sdk.disableApp=()=>{t.stores.enabled.get()==="on"&&(t.stores.enabled.setValue(),t.stores.status.setValue(fo.DISABLED),t.stores.slStreamId.setValue(),t.stores.providerStreamId.setValue(),t.sdk.closeFeature(!0),t.storeUnsubscribe(),t.transport.disconnect())},t.sdk.createEventSession=a=>{t.stores.providerStreamId.setValue(a)},n()},Wue=(t,e)=>{const{client:n,queryKey:r}=t.createPromiseClient(lg,{method:"generateDeepLink",params:e});return t.nanoquery.createFetcherStore(r,{fetcher:async(i,s,a,o)=>{var l;if(!a)return{};try{return(l=(await n.generateDeepLink({data:{gamification:!0,externalEventId:o,eventId:a}})).data)==null?void 0:l.attributes}catch{return}},dedupeTime:1e3*60*60*24,refetchInterval:0})},Kue=(t,{web:e,mobile:n})=>{const{client:r}=t.createPromiseClient(pce,{method:"generate"});return r.generate({web:e,mobile:n})},JI=(t,e)=>{const n=new URLSearchParams(t);for(const[r,i]of Object.entries(e))n.append(r,i);return n.toString()},Yue=(t,e,n,r)=>{const i=Di({});return h3(i,()=>Wue(t,[e,n]).subscribe(async({data:s,loading:a})=>{var o;const l=s===void 0&&a===!1?"https://streamlayer.io":s==null?void 0:s.url,c=r.get()||"",u=e.get()||"",d=n.get()||"",h={[T3]:c,[GF]:u,[qF]:d};if(!a&&l){i.setKey("loading",!0);let m=window.location.search,g=window.location.hash;m&&g||g?m=`?${JI(m,h)}`:g=`#${JI("",h)}`;const p=window.location.origin+window.location.pathname+m+g;try{const _=await Kue(t,{web:p,mobile:l});i.set({data:(o=_.data)==null?void 0:o.link,loading:!1})}catch{i.set({loading:!1,error:"Failed to generate short link",data:void 0})}}else i.setKey("loading",!0)})),{$store:i,fetch}};var fn;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(fn||(fn={}));const Que=(t,e,n,r)=>{const{inplayGame:i}=t.featureSettings.get(),s=e.getCurrentSessionId({prefix:"onboarding"});i&&n.add({type:wo.ONBOARDING,id:s,action:t.openFeature,close:()=>{t.onboardingProcessed.set(!0)},persistent:!0,autoHideDuration:1e6,data:{questionId:"onboarding",questionType:Te.UNSET,onboarding:{...i,instantOpen:!r.getOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""})}}})},N0=(t,e,n,r,i,s,a,o)=>{var l,c,u;try{const d=e.userId.get(),h=e.organizationId.get(),m=e.slStreamId.get();if(!d||!h||!m)return;const g=i.getOnboardingStatus({userId:d,organizationId:h,eventId:m});if(g===fn.Completed||o!=null&&o.skipOnboarding){t.set(fn.Completed);for(const E of s)E();o!=null&&o.skipOnboarding&&g!==fn.Completed&&(i.saveOnboardingStatus({organizationId:h,userId:d,eventId:m},fn.Completed),HF(a,m));return}const p=(l=e.moderation.getStore().value)==null?void 0:l.data,_=n.featureSettings.get().inplayGame;if(p===void 0||_===void 0)return;const y=(c=p==null?void 0:p.options)==null?void 0:c.onboardingEnabled,v=(u=_==null?void 0:_.titleCard)==null?void 0:u.optIn;y?v?t.set(fn.Required):t.set(fn.Optional):(v?t.set(fn.Unavailable):t.set(fn.Disabled),r.close(e.getCurrentSessionId({prefix:"onboarding"}),{markAsViewed:!1}))}catch(d){console.error(d)}},ex=(t,e,n,r,i)=>{let s=!!(i!=null&&i.skipOnboarding);const a=e.storage,o=Un(fn.Unset);o.subscribe(c=>{c!==fn.Unset&&(c===fn.Optional||c===fn.Required?s===!1&&(Que(t,e,r,a),s=!0):t.onboardingProcessed.set(!0),c===fn.Completed&&e.activeQuestionId.invalidate(),a.setOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}))});const l=[];return o.get()!==fn.Completed&&(l.push(e.userId.listen(c=>{c&&N0(o,e,t,r,a,l,n,i)})),l.push(e.moderation.listen(c=>{c.data&&N0(o,e,t,r,a,l,n,i)})),l.push(t.featureSettings.listen(c=>{c&&N0(o,e,t,r,a,l,n,i)}))),N0(o,e,t,r,a,l,n,i),{$store:o,submitInplay:async()=>{const c=e.slStreamId.get();if(c){await HF(n,c),o.set(fn.Completed),a.saveOnboardingStatus({organizationId:e.organizationId.get()||"",userId:e.userId.get()||"",eventId:c},fn.Completed),Tn.emit("poll",{action:"onboardingPassed",payload:{}}),t.openFeature();const u=e.getCurrentSessionId({prefix:"onboarding"});r.close(u)}}}},Xue=(t,e,n,r)=>{const i=Di(void 0),s=jF(r),a=async()=>{var l,c;const u=t.get(),d=e.get(),h=n?(l=n.getStore().get().data)==null?void 0:l.map(p=>p.slId):[];if(!h||!u||!d)return;const m={eventId:u,userId:d,usersIds:[...h,d]},g=await s(m);i.set((c=g.data)==null?void 0:c.attributes)},o=()=>{a()};return h3(i,()=>{o();const l=t.listen(a),c=n==null?void 0:n.listen(a),u=e.listen(a);return()=>{l(),c==null||c(),u()}}),{$store:i,invalidate:o}},Zue=async(t,e,n,r,i)=>{var s,a,o;const l=jF(i),c=t.get(),u=e.get(),d=((s=n==null?void 0:n.getStore().get().data)==null?void 0:s.map(m=>m.slId))||[],h={eventId:c,userId:r,usersIds:[...d,u]};return(o=(a=(await l(h)).data)==null?void 0:a.attributes)==null?void 0:o.summary},Jue=new Set([Te.POLL,Te.PREDICTION,Te.TRIVIA]);let ede=class extends FF{constructor(e,n,r){if(super(e,n),z(this,"userSummary"),z(this,"feedList"),z(this,"betPack"),z(this,"friends"),z(this,"leaderboardId"),z(this,"leaderboardList"),z(this,"deepLink"),z(this,"onboardingStatus"),z(this,"openedQuestion"),z(this,"currentUserId"),z(this,"openedUser"),z(this,"closeFeature"),z(this,"openFeature"),z(this,"feedSubscription"),z(this,"activeQuestionId"),z(this,"openedQuestionId"),z(this,"advertisement"),z(this,"onboardingProcessed"),z(this,"friendsTabEnabled"),z(this,"skipOnboarding"),z(this,"notifications"),z(this,"transport"),z(this,"background"),z(this,"storage"),z(this,"submitAnswerTimeout"),z(this,"cancels",new Set),z(this,"onQuestionActivate"),z(this,"checkInteractiveFlag",()=>{var i,s,a,o,l;if(this.skipOnboarding)this.background.interactiveAllowed.set(Dl.ALLOWED);else{const c=this.onboardingStatus.$store.get(),u=(a=(s=(i=this.background.moderation.getStore().value)==null?void 0:i.data)==null?void 0:s.options)==null?void 0:a.onboardingEnabled,d=(l=(o=this.settings.getValues().inplayGame)==null?void 0:o.titleCard)==null?void 0:l.optIn,h=c===fn.Completed,m=!u||h||d!==!0;this.background.interactiveAllowed.set(m?Dl.ALLOWED:Dl.DISALLOWED)}}),z(this,"connect",()=>{this.onboardingProcessed.subscribe(i=>{i&&this.advertisement&&this.advertisement.connect()}),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-prediction-close",async i=>{var s,a,o,l,c,u,d,h,m,g,p;if(!this.isInteractiveAllowed)return;const _=(a=(s=i.data)==null?void 0:s.attributes)==null?void 0:a.question,y=(l=(o=i.data)==null?void 0:o.attributes)==null?void 0:l.feedItem;if(!_||!(y!=null&&y.attributes))return;const{status:v,type:E,id:x,answers:C}=_;if(v===ht.RESOLVED&&E===Te.PREDICTION){const R=this.background.getCurrentSessionId({prefix:`notification-id:${x}`}),D=[...this.feedList.getValues().data||[]],U=D.findIndex(_e=>_e.id===x),K=D[U];let V=(d=(u=(c=K==null?void 0:K.attributes)==null?void 0:c.attributes)==null?void 0:u.value)==null?void 0:d.answerId;const X=Sh(x,this.transport),he=X.subscribe(()=>{});await X.get().promise;let ie=X.get().data;ie||(ie=await JE(x,this.transport)),he(),window.requestAnimationFrame(()=>{X.invalidate()}),V||(V=(h=ie==null?void 0:ie.answers.find(({youVoted:_e})=>_e))==null?void 0:h.id);const pe=C.find(({correct:_e})=>_e),ne=V?C.find(({id:_e})=>_e===V):void 0,oe=!!(ne!=null&&ne.correct);if(K&&((g=(m=D[U])==null?void 0:m.attributes)==null?void 0:g.attributes.case)==="question"){try{D[U].attributes.attributes.value.answerId=V,D[U].attributes.attributes.value.openForVoting=!1,V&&(D[U].attributes.attributes.value.status=oe?ko.WON:ko.LOST)}catch{}this.feedList.getStore().mutate(D)}if(!ne||!pe)return;((p=this.openedQuestionId.get())==null?void 0:p.questionId)!==_.id&&this.notifications.add({type:wo.QUESTION_RESOLVED,action:()=>this.openQuestion(_.id,y),close:()=>this.closeQuestion(x),autoHideDuration:oe?15e3:12e3,id:R,emitEvent:!1,data:{questionId:x,questionType:Te.PREDICTION,question:{title:oe?`Congratulations! You answered correctly! You won ${pe.points} pts!`:`Better luck next time! Correct: ${pe==null?void 0:pe.text}!`,votedAnswer:{title:ne==null?void 0:ne.text,points:ne==null?void 0:ne.points},correctAnswerTitle:pe==null?void 0:pe.text,correct:!!oe,predictionResult:v===ht.RESOLVED,questionTitle:_==null?void 0:_.subject}}}),this.userSummary.invalidate()}})),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-questions-list",i=>{var s,a,o,l,c;const u=[...((s=this.feedList.getStore().value)==null?void 0:s.data)||[]],d=(o=(a=i.data)==null?void 0:a.attributes)==null?void 0:o.feedItem,h=u.findIndex(m=>m.id===(d==null?void 0:d.id));if(d!=null&&d.attributes&&d.attributes.attributes.case!=="promotion"&&!(d.attributes.status!==ht.ACTIVE&&d.attributes.status!==ht.RESOLVED)){if(h!==-1)if(d.attributes.attributes.case==="question"&&((l=u[h].attributes)==null?void 0:l.attributes.case)==="question"){const m=u[h];m.attributes&&(u[h]={...u[h],attributes:{...m.attributes,attributes:{...m.attributes.attributes,value:{...m.attributes.attributes.value,...d.attributes.attributes.value,answerId:m.attributes.attributes.value.answerId,status:m.attributes.attributes.value.status,openForVoting:m.attributes.attributes.value.openForVoting}}}})}else{const m=u[h];m.attributes&&d.attributes&&(u[h]={...u[h],attributes:{...m.attributes,attributes:{...m.attributes.attributes,value:{...m.attributes.attributes.value,...d.attributes.attributes.value}}}})}h===-1&&(u.unshift(d),Tn.emit("poll",{action:"received",payload:{questionId:d.id,questionType:(c=d.attributes)==null?void 0:c.type}})),this.feedList.getStore().mutate(u)}}))}),z(this,"disconnect",()=>{this.background.feedSubscription.removeListener("feed-subscription-prediction-close"),this.background.feedSubscription.removeListener("feed-subscription-questions-list")}),z(this,"betPackVote",async(i,s)=>{try{await KI(this.transport,{questionId:i,answerId:s})}catch(l){if(l.message===em.ALREADY_VOTED){const c=Sh(i,this.transport),u=c.subscribe(()=>{});c.invalidate(),u()}throw l}const a={...this.betPack.getValues().data},o=a==null?void 0:a[i];o&&(Tn.emit("poll",{action:"voted",payload:{questionId:i,questionType:o.type}}),o.answers=o.answers.map(l=>l.id===s?{...l,youVoted:!0}:l),this.betPack.getStore().mutate(a))}),z(this,"submitAnswer",async(i,s)=>{const a=Sh(i,this.transport),o=a.subscribe(()=>{}),l={...a.get().data||{}},c=()=>{var u;const d=this.feedList.getValues().data;if(!d)return;const h=d.findIndex(p=>p.id===i),m=d[h],g=((u=m==null?void 0:m.attributes)==null?void 0:u.attributes.case)==="question"&&m.attributes.attributes.value;if(g){Tn.emit("poll",{action:"voted",payload:{questionId:i,questionType:g.questionType}});const p=a.get().data;if(o(),p){const _=p.answers.find(x=>x.correct===!0),y=p.answers.findIndex(x=>x.id===s),v=p.answers[y],E=p.answers.every(({percentageDecimal:x},C)=>x===(l==null?void 0:l.answers[C].percentageDecimal));d[h].attributes.attributes.value.answerId=s,d[h].attributes.attributes.value.openForVoting=!1,d[h].attributes.attributes.value.text=(v==null?void 0:v.text)||"",_&&(d[h].attributes.attributes.value.status=_.id===s?ko.WON:ko.LOST),this.feedList.getStore().mutate([...d]),p.answers[y].correct=(_==null?void 0:_.id)===s,p.answers[y].youVoted=!0,E&&p.answers.forEach(x=>{x.percentageDecimal=0}),(_==null?void 0:_.id)===s&&(p.answers[y].pointsEarned=p.status===ht.RESOLVED?0:_.points),a.mutate({...p})}this.submitAnswerTimeout&&clearTimeout(this.submitAnswerTimeout),this.submitAnswerTimeout=setTimeout(()=>{this.userSummary.invalidate()},1e3)}};try{await KI(this.transport,{questionId:i,answerId:s}),c()}catch(u){if(u.message===em.ALREADY_VOTED){this.userSummary.invalidate();const d=a.subscribe(()=>{});a.invalidate(),d()}throw u}}),z(this,"openQuestion",(i,s)=>{var a,o,l,c;if(!i)return()=>{};const u=(s==null?void 0:s.openedFrom)==="bet-pack";u&&this.notifications.close(this.background.getCurrentSessionId({prefix:"notification",entity:i}),{animateHiding:!1});let d=(a=s==null?void 0:s.attributes)==null?void 0:a.type;!d&&!u&&(d=(c=(l=(((o=this.feedList.getStore().value)==null?void 0:o.data)||[]).find(m=>m.id===i))==null?void 0:l.attributes)==null?void 0:c.type);const h={eventId:this.background.slStreamId.get()||"",userId:this.background.userId.get()||"",organizationId:this.background.organizationId.get()||""};return this.storage.isQuestionOpened(h,i)||(Tn.emit("poll",{action:"opened",payload:{questionId:i,questionType:d,questionOpenedFrom:(s==null?void 0:s.openedFrom)==="bet-pack"?"list":s==null?void 0:s.openedFrom}}),this.storage.saveQuestionOpened(h,i)),u||this.openFeature(),this.background.openQuestion(i,s?{...s,openedFrom:(s==null?void 0:s.openedFrom)==="bet-pack"?"list":s==null?void 0:s.openedFrom}:void 0)}),z(this,"getFeedItem",i=>fue(i,this.transport)),z(this,"isOpenedQuestion",i=>!!this.notifications.isViewed(i)),z(this,"closeQuestion",i=>(i&&this.onQuestionActivate({stage:"deactivate",id:i,isViewed:!!this.notifications.isViewed(this.background.getCurrentSessionId({prefix:"notification",entity:i}))}),this.background.closeQuestion(i))),z(this,"openUser",async i=>{var s,a,o,l,c,u;if(!this.leaderboardList)return;const d=(a=(s=this.leaderboardList)==null?void 0:s.$store.get().data)==null?void 0:a.find(m=>m.userId===i);if(!d){(o=this.openedUser)==null||o.set(d);return}if(d.summaryLoaded){(l=this.openedUser)==null||l.set(d);return}const h={...d};try{const m=await Zue(this.background.slStreamId,this.background.userId,this.friends,i,this.transport);(m==null?void 0:m.inTop)!==void 0&&((u=this.leaderboardList)==null||u.$store.setKey("data",(c=this.leaderboardList.$store.get().data)==null?void 0:c.map(g=>(g.userId===i&&(g.inTop=m.inTop),g))),h.inTop=m.inTop)}catch(m){console.error(m)}this.openedUser.set(h)}),z(this,"closeUser",()=>{var i;(i=this.openedUser)==null||i.set(void 0)}),z(this,"showInApp",i=>{var s,a,o,l,c,u,d,h,m,g,p,_,y,v,E,x,C,R,D,U,K;const V=this.onboardingStatus.$store.get();if(i&&i.data&&V&&V!==fn.Unset&&((s=i.data.question)==null?void 0:s.id)!==void 0&&((o=(a=i.data.question)==null?void 0:a.bypassNotifications)==null?void 0:o.inAppSilence)!==zU.ON&&i.data.question.status===ht.ACTIVE&&!i.data.question.marketClosed){if(Jue.has(i.data.question.type))this.isInteractiveAllowed&&i.data.question.notification!==void 0&&this.notifications.add({type:wo.QUESTION,action:()=>{var X,he,ie;return this.openQuestion((he=(X=i.data)==null?void 0:X.question)==null?void 0:he.id,(ie=i.data)==null?void 0:ie.feedItem)},close:()=>{var X,he;return this.closeQuestion((he=(X=i.data)==null?void 0:X.question)==null?void 0:he.id)},autoHideDuration:1e3*60,id:this.background.getCurrentSessionId({prefix:"notification",entity:i.data.question.id}),emitEvent:!0,data:{questionId:i.data.question.id,questionType:i.data.question.type,question:{title:i.data.question.notification.title},inApp:{notification:i.data.question.notification,appearance:i.data.question.appearance,sponsorship:i.data.question.sponsorship}}});else if(i.data.question.type===Te.FACTOID){const X=(l=i.data.question.options)==null?void 0:l.options.value,he=((c=i.data.question.notification)==null?void 0:c.title)||i.data.question.subject||"",ie=((u=i.data.question.notification)==null?void 0:u.body)||X.body,pe={heading:he,body:ie,imageMode:X==null?void 0:X.imageMode,image:X==null?void 0:X.image,video:{id:((d=X==null?void 0:X.video)==null?void 0:d.id)||"",url:((h=X==null?void 0:X.video)==null?void 0:h.url)||"",thumbnailUrl:((m=X==null?void 0:X.video)==null?void 0:m.thumbnailUrl)||""},webLink:{label:"",url:""}};this.notifications.add({type:wo.QUESTION,action:()=>{var ne,oe,_e;return this.openQuestion((oe=(ne=i==null?void 0:i.data)==null?void 0:ne.question)==null?void 0:oe.id,(_e=i==null?void 0:i.data)==null?void 0:_e.feedItem)},close:()=>{var ne,oe;return this.closeQuestion((oe=(ne=i==null?void 0:i.data)==null?void 0:ne.question)==null?void 0:oe.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:i.data.question.id}),data:{questionId:i.data.question.id,questionType:i.data.question.type,insight:pe,inApp:{useMediaFromContent:(X==null?void 0:X.useAsNotification)===v5.ENABLED,notification:i.data.question.notification,appearance:i.data.question.appearance,sponsorship:i.data.question.sponsorship}}})}else if(i.data.question.type===Te.TWEET&&i.data.question.notification!==void 0){const X=(g=i.data.question.options)==null?void 0:g.options.value,he={image:"",video:""};if((E=(v=(y=(_=(p=X.tweetMeta)==null?void 0:p.tweet)==null?void 0:_.meta)==null?void 0:y.extendedEntities)==null?void 0:v.media)!=null&&E[0]){const pe=X.tweetMeta.tweet.meta.extendedEntities.media;if(pe){const ne=pe.find(({type:oe})=>oe==="photo")||pe[0];he.image=ne.mediaUrlHttps,ne.type==="video"&&(he.video=ne.url)}}const ie={title:(x=i.data.question.notification)==null?void 0:x.title,body:(C=i.data.question.notification)==null?void 0:C.body,image:(R=i.data.question.notification)==null?void 0:R.image,account:((D=X==null?void 0:X.tweetMeta)==null?void 0:D.account)||"",accountVerified:!!((U=X==null?void 0:X.tweetMeta)!=null&&U.accountVerified),tweet:(K=X==null?void 0:X.tweetMeta)==null?void 0:K.tweet,tweetId:i.data.question.id,tweetMedia:he};this.notifications.add({type:wo.QUESTION,action:()=>{var pe,ne,oe;return this.openQuestion((ne=(pe=i.data)==null?void 0:pe.question)==null?void 0:ne.id,(oe=i.data)==null?void 0:oe.feedItem)},close:()=>{var pe,ne;return this.closeQuestion((ne=(pe=i.data)==null?void 0:pe.question)==null?void 0:ne.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:i.data.question.id}),data:{questionId:i.data.question.id,questionType:i.data.question.type,tweet:ie,inApp:{notification:i.data.question.notification,appearance:i.data.question.appearance,sponsorship:i.data.question.sponsorship}}})}}}),this.background=new Iue(r),this.advertisement=this.background.advertisement,this.onQuestionActivate=r.onQuestionActivate,this.feedSubscription=this.background.feedSubscription,this.activeQuestionId=this.background.activeQuestionId,this.openedQuestionId=this.background.openedQuestionId,this.storage=this.background.storage,this.feedList=this.background.feedList,this.betPack=this.background.betPack,this.currentUserId=this.background.userId,this.onboardingProcessed=Un(!r.sdk.withAuth),this.leaderboardId=new cs(Un(this.settings.getValue("pinnedLeaderboardId")),"pinnedLeaderboardId").getStore(),this.notifications=r.notifications,this.transport=r.transport,this.closeFeature=(i=!0)=>r.sdk.closeFeature(i),this.openFeature=()=>r.sdk.openFeature(Qe.GAMES),this.openedQuestion=this.background.openedQuestion,this.deepLink=Yue(this.transport,this.background.slStreamId,r.stores.providerStreamId.getStore(),this.background.userId),this.userSummary=Xue(this.background.slStreamId,this.background.userId,this.friends,this.transport),!r.sdk.options.get().hideFriends){this.friends=new Vs(hue(this.background.userId,r.transport),"gamification:friends"),this.openedUser=Un(void 0);const i=this.leaderboardList=Due(this.transport,this.background.slStreamId,this.background.userId,this.friends);this.cancels.add(this.userSummary.$store.listen((s,a)=>{a!=null&&a.summary&&s!=null&&s.summary&&i.invalidate()}))}this.connect(),this.skipOnboarding=!!r.sdk.options.get().skipOnboarding,this.onboardingStatus=ex(this,this.background,r.transport,r.notifications,{skipOnboarding:r.sdk.options.get().skipOnboarding}),r.sdk.options.get().skipOnboarding||(this.onboardingStatus=ex(this,this.background,r.transport,r.notifications,{skipOnboarding:r.sdk.options.get().skipOnboarding})),this.cancels.add(this.onboardingStatus.$store.listen(this.checkInteractiveFlag)),this.cancels.add(this.background.moderation.getStore().listen(this.checkInteractiveFlag)),this.cancels.add(this.settings.subscribe(this.checkInteractiveFlag)),this.cancels.add(this.onboardingStatus.$store.listen((i,s)=>{(s===void 0||i!==fn.Unset)&&this.background.activeQuestionId.invalidate()})),this.background.activeQuestionId.listen(this.showInApp),this.friendsTabEnabled=Un(!1),this.cancels.add(r.sdk.options.subscribe(i=>{i.friendsTab==="disabled"?this.friendsTabEnabled.set(!1):i.friendsTab==="enabled"&&this.friendsTabEnabled.set(!0)})),this.cancels.add(this.settings.subscribe(i=>{var s,a;r.sdk.options.get().friendsTab==="activatedGame"&&this.friendsTabEnabled.set(!!((a=(s=i.inplayGame)==null?void 0:s.titleCard)!=null&&a.optIn))})),r.sdk.onMount({name:"gamification",clear:!0},()=>()=>{for(const i of this.cancels)i(),this.cancels.delete(i)})}get isInteractiveAllowed(){return this.background.interactiveAllowed.get()===Dl.ALLOWED}};const tde={[Qe.GAMES]:!0};let nde=class extends FF{constructor(e,n){super(e,n)}};const rde=(t,e,n)=>t.type===Qe.GAMES?new ede(t,e,n):new nde(t,e),ide=(t,e,n)=>{t.features=new Map,t.sdk.featuresList=new cs(Un(new Set),"features-list"),t.activeFeature=new cs(Un(Qe.UNSET),"activeFeature"),t.sdk.getFeatures=()=>t.features,t.sdk.getFeature=r=>t.features.get(r),t.sdk.getActiveFeature=()=>t.activeFeature.getStore(),t.sdk.openFeature=r=>{t.sdk.initializeApp().then(()=>{t.activeFeature.setValue(r)})},t.sdk.closeFeature=(r=!1)=>{const i=t.activeFeature.getValue();if(t.activeFeature.setValue(Qe.UNSET),r&&i){t.features.delete(i);const s=t.sdk.featuresList.getValue();s&&s.delete(i),t.sdk.featuresList.setValue(s)}},t.initFeature=(r,i=po.ORGANIZATION)=>{if(r.type in tde&&!t.features.has(r.type)){const s=rde(r,i,t);t.features.set(r.type,s);let a=t.sdk.featuresList.getValue();a?a.add(r.type):a=new Set([r.type]),t.sdk.featuresList.setValue(new Set(a))}},t.updateFeature=(r,i)=>{var s;(s=t.features.get(r.type))==null||s.update(r,i)},t.destroyFeature=r=>{t.features.delete(r.type);const i=t.sdk.featuresList.getValue();i&&i.delete(r.type),t.sdk.featuresList.setValue(new Set(i))},t.reinitializeFeatures=async()=>{const r=await t.stores.organizationSettings.getValue();t.features.clear(),t.sdk.featuresList.setValue(new Set);for(const i of(r==null?void 0:r.overlays)||[])t.initFeature(i,po.ORGANIZATION)},t.stores.providerStreamId.listen(r=>{r||t.reinitializeFeatures()}),t.storeSubscribe=()=>{const r=(s,a)=>{var o;if(a!=null&&a.overlays&&!((o=t.contextConfig)!=null&&o.skipOrganizationSettings&&s===po.ORGANIZATION))for(const l of a.overlays)l.sdkEnable===!0&&(t.features.has(l.type)?t.updateFeature(l,s):t.initFeature(l,s))},i={organizationSettings:s=>{if(s.data)try{r(po.ORGANIZATION,s.data)}catch(a){console.log(a)}},streamSettings:s=>{if(s.data)try{r(po.STREAM,s.data)}catch(a){console.log(a)}}};t.store.subscribe(i)},n()};let sde=class{constructor(e){z(this,"analytics"),z(this,"accepted",()=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:Mn.INVITATION_ACCEPTED},category:GE.GAMES,from:v1.UNSET})}),z(this,"sent",({from:n})=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:Mn.INVITATION_SENT},category:GE.GAMES,from:n||v1.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=r=>{var i;if(((i=r.slEventBus)==null?void 0:i.type)==="invitation")switch(r.slEventBus.action){case"sent":this.sent(r.slEventBus.payload);break}};return Tn.listen(n)})}},ade=class{constructor(e){z(this,"analytics"),z(this,"tap",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:Mn.INTERACTIONS},actionType:KE.TAP})}),z(this,"scroll",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:Mn.INTERACTIONS},actionType:KE.SCROLL})}),this.analytics=e,this.analytics.onConnect(()=>{const n=r=>{var i;if(((i=r.slEventBus)==null?void 0:i.type)==="interactions")switch(r.slEventBus.action){case"tap":this.tap();break;case"scroll":this.scroll();break}};return Tn.listen(n)})}};const ode={[xt.UNSET]:Ur.UNSET,[xt.INGAME_IAB21]:Ur.PROMOTION_INGAME_IAB21,[xt.INGAME_IAB11_LBAR]:Ur.PROMOTION_INGAME_IAB11_LBAR,[xt.INGAME_IAB11]:Ur.PROMOTION_INGAME_IAB11,[xt.INGAME_IAB21_LBAR]:Ur.PROMOTION_INGAME_IAB21_LBAR,[xt.INGAME_IAB61]:Ur.PROMOTION_INGAME_IAB61,[xt.EXTERNAL_AD]:Ur.PROMOTION_GAM,[xt.VIDEO_SIDE_BY_SIDE]:Ur.PROMOTION_VIDEO_SIDE_BY_SIDE,[xt.PICTURE_IN_PICTURE]:Ur.PROMOTION_PICTURE_IN_PICTURE,[xt.SHOP_LBAR]:Ur.PROMOTION_SHOP_LBAR,[xt.SHOP_OVERLAY]:Ur.PROMOTION_SHOP_OVERLAY,[xt.SHOP_SIDEBAR]:Ur.PROMOTION_SHOP_SIDEBAR},e8=t=>t?ode[t]:Ur.UNSET;let lde=class{constructor(e){z(this,"analytics"),z(this,"received",({id:n},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_RECEIVED,topicId:n,topicType:wn.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:ri.UNSET})}),z(this,"opened",({id:n,openedFrom:r},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_OPENED,topicId:n,topicType:wn.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:r==="notification"?ri.IN_APP:ri.UNSET})}),z(this,"viewed",({id:n},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_OPENED,topicId:n,topicType:wn.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:ri.UNSET})}),z(this,"videoPlay",({id:n},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:Mn.AD_VIDEO_PLAYED,topicType:wn.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:ri.UNSET})}),z(this,"buttonSelect",({id:n},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:Mn.AD_BUTTON_NAVIGATED,topicType:wn.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:ri.UNSET})}),z(this,"bannerSelect",({id:n},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:Mn.AD_BANNER_NAVIGATED,topicType:wn.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:ri.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=r=>{var i,s;if(!((i=r.slEventBus)!=null&&i.skipAnalytics)&&((s=r.slEventBus)==null?void 0:s.type)==="advertisement"){const a=e8(r.slEventBus.payload.type);switch(r.slEventBus.action){case"videoPlay":this.videoPlay(r.slEventBus.payload,{topicSubType:a});break;case"buttonSelect":this.buttonSelect(r.slEventBus.payload,{topicSubType:a});break;case"bannerSelect":this.bannerSelect(r.slEventBus.payload,{topicSubType:a});break;case"received":this.received(r.slEventBus.payload,{topicSubType:a});break;case"opened":this.opened(r.slEventBus.payload,{topicSubType:a});break;case"viewed":this.viewed(r.slEventBus.payload,{topicSubType:a});break}}};return Tn.listen(n)})}};const Of={[Te.UNSET]:wn.UNSET,[Te.FACTOID]:wn.POLLS_INSIGHT,[Te.POLL]:wn.POLLS_POLL,[Te.PREDICTION]:wn.POLLS_PREDICTION,[Te.PROMOTION]:wn.POLLS_PROMOTION,[Te.TRIVIA]:wn.POLLS_TRIVIA,[Te.TWEET]:wn.POLLS_TWITTER};Te.UNSET+"",da.UNSET,Te.FACTOID+"",da.POLLS,Te.POLL+"",da.POLLS,Te.PREDICTION+"",da.POLLS,Te.PROMOTION+"",da.POLLS,Te.TRIVIA+"",da.POLLS,Te.TWEET+"",da.POLLS;const cde={[Qe.UNSET]:rr.UNSET,[Qe.INPLAY]:rr.INPLAY,[Qe.MESSAGING]:rr.MESSAGING,[Qe.STATISTICS]:rr.STATS,[Qe.BETTING]:rr.BETTING,[Qe.TWITTER]:rr.TWITTER,[Qe.MERCHANDISE]:rr.MERCHANDISE,[Qe.CONTESTS]:rr.CONTESTS,[Qe.VOICE_CHAT]:rr.CALLING,[Qe.TICKETS]:rr.TICKETS,[Qe.WHOIS_WATCHING]:rr.WHOISWATCHING,[Qe.PROFILE]:rr.PROFILE,[Qe.GAMES]:rr.POLLS,[Qe.GOLF_STATISTICS]:rr.STATS,[Qe.HIGHLIGHTS]:rr.HIGHLIGHTS,[Qe.PUBLIC_CHAT]:rr.PUBLIC_CHAT};let ude=class{constructor(e){z(this,"analytics"),z(this,"received",({questionId:n,questionType:r,topicSubType:i})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:Mn.NOTIFICATION_RECEIVED,topicId:n,topicType:r?Of[r]:wn.UNSET,topicSubType:i},notificationKind:da.POLLS,notificationType:YE.IN_APP})}),z(this,"opened",({questionId:n,questionType:r,topicSubType:i})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:Mn.NOTIFICATION_OPENED,topicId:n,topicType:r?Of[r]:wn.UNSET,topicSubType:i},notificationKind:da.POLLS,notificationType:YE.IN_APP})}),this.analytics=e,this.analytics.onConnect(()=>{const n=r=>{var i,s;if(((i=r.slEventBus)==null?void 0:i.type)==="notification")switch(r.slEventBus.action){case"rendered":this.received(r.slEventBus.payload);break;case"opened":this.opened(r.slEventBus.payload);break}if(((s=r.slEventBus)==null?void 0:s.type)==="advertisement")switch(r.slEventBus.action){case"notification-received":this.received({questionId:r.slEventBus.payload.id,questionType:Te.PROMOTION,topicSubType:e8(r.slEventBus.payload.type)});break;case"notification-opened":this.opened({questionId:r.slEventBus.payload.id,questionType:Te.PROMOTION,topicSubType:e8(r.slEventBus.payload.type)});break}};return Tn.listen(n)})}},dde=class{constructor(e){z(this,"analytics"),z(this,"received",({questionId:n,questionType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_RECEIVED,topicId:n,topicType:r?Of[r]:wn.UNSET},pollOpenedFrom:ri.UNSET})}),z(this,"opened",({questionId:n,questionType:r,questionOpenedFrom:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_OPENED,topicId:n,topicType:r?Of[r]:wn.UNSET},pollOpenedFrom:i==="list"?ri.PICK_HISTORY:ri.IN_APP})}),z(this,"voted",({questionId:n,questionType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_VOTE,topicId:n,topicType:r?Of[r]:wn.UNSET},pollOpenedFrom:ri.UNSET})}),z(this,"onboardingPassed",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.GAMES_JOINED},pollOpenedFrom:ri.UNSET})}),z(this,"navigated",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Mn.POLLS_NAVIGATED},pollOpenedFrom:ri.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=r=>{var i;if(((i=r.slEventBus)==null?void 0:i.type)==="poll")switch(r.slEventBus.action){case"voted":this.voted(r.slEventBus.payload);break;case"navigated":this.navigated();break;case"onboardingPassed":this.onboardingPassed();break;case"received":this.received(r.slEventBus.payload);break;case"opened":this.opened(r.slEventBus.payload);break}};return Tn.listen(n)})}};const hde=({transport:t,$commonStore:e})=>{let n;const r=Un(!1),i=3e4,{client:s,queryKey:a}=t.createPromiseClient(DF,{method:"send",params:[r]}),o=t.nanoquery.createFetcherStore(a,{fetcher:async()=>{const d=e.getStore().get();try{await s.unary({message:{case:"heartbeat",value:{common:{...d,kind:Mn.SESSION_HEARTBEAT}}}})}catch(h){go.error(h,"send heartbeat failed")}return Date.now()},refetchInterval:i}),l=()=>{go.debug("mounted heartbeat"),n=o.subscribe(()=>{})},c=()=>{go.debug("enabled heartbeat"),r.set(!0),o.lc===0&&l()},u=()=>{go.debug("disabled heartbeat"),r.set(!1)};return{enable:c,disable:u,mount:l,unmount:()=>{go.debug("unmounted heartbeat"),o.off(),n==null||n(),n=void 0,u()}}},go=Ya("analytics");let mde=class{constructor(e){z(this,"commonStore"),z(this,"notifications"),z(this,"polls"),z(this,"invitation"),z(this,"interactions"),z(this,"advertisement"),z(this,"heartbeat"),z(this,"analyticsClient"),z(this,"listeners"),z(this,"listenersCancels"),z(this,"connected",!1),z(this,"connect",()=>{this.writeCommon("sessionId",_1()),this.heartbeat.enable(),this.listeners.forEach(r=>this.listenersCancels.add(r())),this.connected=!0,go.debug("analytics connected")}),z(this,"disconnect",()=>{this.writeCommon("sessionId",""),this.writeCommon("overlaySessionId",""),this.heartbeat.unmount(),this.listenersCancels.forEach(r=>r()),this.connected=!1,go.debug("analytics disconnected")}),z(this,"write",(r,i)=>{i&&this.analyticsClient.unary({message:{case:r,value:i}}).then(()=>{go.trace("send analytics success",r,i)}).catch(s=>{go.error(s,"send analytics failed")})}),z(this,"writeCommon",(r,i)=>{this.commonStore.setValue(r,i)}),z(this,"onConnect",r=>{this.listeners.add(r),this.connected&&this.listenersCancels.add(r())}),z(this,"connectToSDK",r=>{this.onConnect(()=>r.stores.slStreamId.getAtomStore().subscribe(i=>{this.writeCommon("eventId",i)})),this.onConnect(()=>r.sdk.getActiveFeature().subscribe(i=>{i&&this.writeCommon("category",cde[i]),i!==Qe.UNSET?this.writeCommon("overlaySessionId",_1()):this.writeCommon("overlaySessionId","")})),this.onConnect(()=>{const i=window.matchMedia("(orientation: portrait)"),s=a=>{this.writeCommon("screenOrientation",a.matches?HE.PORTRAIT:HE.LANDSCAPE)};return i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}}),this.onConnect(()=>r.deepLink.$store.subscribe(i=>{i!=null&&i.handled&&this.invitation.accepted()}))}),this.listeners=new Set,this.listenersCancels=new Set,this.commonStore=new pu(Di({}),"common-analytics"),this.connectToSDK(e),this.heartbeat=hde({transport:e.analyticsTransport,$commonStore:this.commonStore}),this.notifications=new ude(this),this.polls=new dde(this),this.invitation=new sde(this),this.interactions=new ade(this),this.advertisement=new lde(this);const{client:n}=e.analyticsTransport.createPromiseClient(DF,{method:"send"});this.analyticsClient=n}};const pde=(t,e,n)=>{t.analytics=new mde(t),t.sdk.onMount({name:"analytics"},()=>(t.analytics.connect(),()=>{t.analytics.disconnect()})),n()};var D5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof WE<"u"?WE:typeof self<"u"?self:{};function fde(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P5={exports:{}},M5={exports:{}};function gde(t){var e=new t,n=e;function r(){var s=e;return s.next?e=s.next:(e=new t,n=e),s.next=null,s}function i(s){n.next=s,n=s}return{get:r,release:i}}var yde=gde,Tde=yde;function zF(t,e,n){if(typeof t=="function"&&(n=e,e=t,t=null),!(n>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var r=Tde(vde),i=null,s=null,a=0,o=null,l={push:p,drain:es,saturated:es,pause:u,paused:!1,get concurrency(){return n},set concurrency(C){if(!(C>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(n=C,!l.paused)for(;i&&a<n;)a++,y()},running:c,resume:m,idle:g,length:d,getQueue:h,unshift:_,empty:es,kill:v,killAndDrain:E,error:x};return l;function c(){return a}function u(){l.paused=!0}function d(){for(var C=i,R=0;C;)C=C.next,R++;return R}function h(){for(var C=i,R=[];C;)R.push(C.value),C=C.next;return R}function m(){if(l.paused){if(l.paused=!1,i===null){a++,y();return}for(;i&&a<n;)a++,y()}}function g(){return a===0&&l.length()===0}function p(C,R){var D=r.get();D.context=t,D.release=y,D.value=C,D.callback=R||es,D.errorHandler=o,a>=n||l.paused?s?(s.next=D,s=D):(i=D,s=D,l.saturated()):(a++,e.call(t,D.value,D.worked))}function _(C,R){var D=r.get();D.context=t,D.release=y,D.value=C,D.callback=R||es,D.errorHandler=o,a>=n||l.paused?i?(D.next=i,i=D):(i=D,s=D,l.saturated()):(a++,e.call(t,D.value,D.worked))}function y(C){C&&r.release(C);var R=i;R&&a<=n?l.paused?a--:(s===i&&(s=null),i=R.next,R.next=null,e.call(t,R.value,R.worked),s===null&&l.empty()):--a===0&&l.drain()}function v(){i=null,s=null,l.drain=es}function E(){i=null,s=null,l.drain(),l.drain=es}function x(C){o=C}}function es(){}function vde(){this.value=null,this.callback=es,this.next=null,this.release=es,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,n){var r=t.callback,i=t.errorHandler,s=t.value;t.value=null,t.callback=es,t.errorHandler&&i(e,s),r.call(t.context,e,n),t.release(t)}}function _de(t,e,n){typeof t=="function"&&(n=e,e=t,t=null);function r(u,d){e.call(this,u).then(function(h){d(null,h)},d)}var i=zF(t,r,n),s=i.push,a=i.unshift;return i.push=o,i.unshift=l,i.drained=c,i;function o(u){var d=new Promise(function(h,m){s(u,function(g,p){if(g){m(g);return}h(p)})});return d.catch(es),d}function l(u){var d=new Promise(function(h,m){a(u,function(g,p){if(g){m(g);return}h(p)})});return d.catch(es),d}function c(){if(i.idle())return new Promise(function(h){h()});var u=i.drain,d=new Promise(function(h){i.drain=function(){u(),h()}});return d}}M5.exports=zF;M5.exports.promise=_de;var WF=M5.exports,$5={exports:{}},Eh=typeof Reflect=="object"?Reflect:null,tx=Eh&&typeof Eh.apply=="function"?Eh.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},qy;Eh&&typeof Eh.ownKeys=="function"?qy=Eh.ownKeys:Object.getOwnPropertySymbols?qy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:qy=function(t){return Object.getOwnPropertyNames(t)};function bde(t){console&&console.warn&&console.warn(t)}var KF=Number.isNaN||function(t){return t!==t};function kt(){kt.init.call(this)}$5.exports=kt;$5.exports.once=Ade;kt.EventEmitter=kt;kt.prototype._events=void 0;kt.prototype._eventsCount=0;kt.prototype._maxListeners=void 0;var nx=10;function v3(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(kt,"defaultMaxListeners",{enumerable:!0,get:function(){return nx},set:function(t){if(typeof t!="number"||t<0||KF(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");nx=t}});kt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};kt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||KF(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function YF(t){return t._maxListeners===void 0?kt.defaultMaxListeners:t._maxListeners}kt.prototype.getMaxListeners=function(){return YF(this)};kt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var o=i[t];if(o===void 0)return!1;if(typeof o=="function")tx(o,this,e);else for(var l=o.length,c=eB(o,l),n=0;n<l;++n)tx(c[n],this,e);return!0};function QF(t,e,n,r){var i,s,a;if(v3(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=YF(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,bde(o)}return t}kt.prototype.addListener=function(t,e){return QF(this,t,e,!1)};kt.prototype.on=kt.prototype.addListener;kt.prototype.prependListener=function(t,e){return QF(this,t,e,!0)};function Sde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function XF(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Sde.bind(r);return i.listener=n,r.wrapFn=i,i}kt.prototype.once=function(t,e){return v3(e),this.on(t,XF(this,t,e)),this};kt.prototype.prependOnceListener=function(t,e){return v3(e),this.prependListener(t,XF(this,t,e)),this};kt.prototype.removeListener=function(t,e){var n,r,i,s,a;if(v3(e),r=this._events,r===void 0)return this;if(n=r[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():Ede(n,i),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};kt.prototype.off=kt.prototype.removeListener;kt.prototype.removeAllListeners=function(t){var e,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var i=Object.keys(n),s;for(r=0;r<i.length;++r)s=i[r],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this};function ZF(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?kde(i):eB(i,i.length)}kt.prototype.listeners=function(t){return ZF(this,t,!0)};kt.prototype.rawListeners=function(t){return ZF(this,t,!1)};kt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):JF.call(t,e)};kt.prototype.listenerCount=JF;function JF(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}kt.prototype.eventNames=function(){return this._eventsCount>0?qy(this._events):[]};function eB(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Ede(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kde(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Ade(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}tB(t,e,s,{once:!0}),e!=="error"&&wde(t,i,{once:!0})})}function wde(t,e,n){typeof t.on=="function"&&tB(t,"error",e,n)}function tB(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var nB=$5.exports,_3={},rB={},iB=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;t[e]=r;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==r||s.enumerable!==!0)return!1}return!0},Cde=iB,b3=function(){return Cde()&&!!Symbol.toStringTag},Ide=Error,xde=EvalError,Lde=RangeError,Rde=ReferenceError,sB=SyntaxError,S3=TypeError,Nde=URIError,rx=typeof Symbol<"u"&&Symbol,Ode=iB,Dde=function(){return typeof rx!="function"||typeof Symbol!="function"||typeof rx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ode()},M4={__proto__:null,foo:{}},Pde=Object,Mde=function(){return{__proto__:M4}.foo===M4.foo&&!(M4 instanceof Pde)},$de="Function.prototype.bind called on incompatible ",Ude=Object.prototype.toString,Fde=Math.max,Bde="[object Function]",ix=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},jde=function(t,e){for(var n=[],r=e,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n},Vde=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},Hde=function(t){var e=this;if(typeof e!="function"||Ude.apply(e)!==Bde)throw new TypeError($de+e);for(var n=jde(arguments,1),r,i=function(){if(this instanceof r){var c=e.apply(this,ix(n,arguments));return Object(c)===c?c:this}return e.apply(t,ix(n,arguments))},s=Fde(0,e.length-n.length),a=[],o=0;o<s;o++)a[o]="$"+o;if(r=Function("binder","return function ("+Vde(a,",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var l=function(){};l.prototype=e.prototype,r.prototype=new l,l.prototype=null}return r},Gde=Hde,U5=Function.prototype.bind||Gde,qde=Function.prototype.call,zde=Object.prototype.hasOwnProperty,Wde=U5,Kde=Wde.call(qde,zde),it,Yde=Ide,Qde=xde,Xde=Lde,Zde=Rde,tm=sB,kh=S3,Jde=Nde,aB=Function,$4=function(t){try{return aB('"use strict"; return ('+t+").constructor;")()}catch{}},fu=Object.getOwnPropertyDescriptor;if(fu)try{fu({},"")}catch{fu=null}var U4=function(){throw new kh},ehe=fu?function(){try{return arguments.callee,U4}catch{try{return fu(arguments,"callee").get}catch{return U4}}}():U4,ad=Dde(),the=Mde(),Hn=Object.getPrototypeOf||(the?function(t){return t.__proto__}:null),Ld={},nhe=typeof Uint8Array>"u"||!Hn?it:Hn(Uint8Array),gu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?it:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?it:ArrayBuffer,"%ArrayIteratorPrototype%":ad&&Hn?Hn([][Symbol.iterator]()):it,"%AsyncFromSyncIteratorPrototype%":it,"%AsyncFunction%":Ld,"%AsyncGenerator%":Ld,"%AsyncGeneratorFunction%":Ld,"%AsyncIteratorPrototype%":Ld,"%Atomics%":typeof Atomics>"u"?it:Atomics,"%BigInt%":typeof BigInt>"u"?it:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?it:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?it:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?it:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Yde,"%eval%":eval,"%EvalError%":Qde,"%Float32Array%":typeof Float32Array>"u"?it:Float32Array,"%Float64Array%":typeof Float64Array>"u"?it:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?it:FinalizationRegistry,"%Function%":aB,"%GeneratorFunction%":Ld,"%Int8Array%":typeof Int8Array>"u"?it:Int8Array,"%Int16Array%":typeof Int16Array>"u"?it:Int16Array,"%Int32Array%":typeof Int32Array>"u"?it:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ad&&Hn?Hn(Hn([][Symbol.iterator]())):it,"%JSON%":typeof JSON=="object"?JSON:it,"%Map%":typeof Map>"u"?it:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ad||!Hn?it:Hn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?it:Promise,"%Proxy%":typeof Proxy>"u"?it:Proxy,"%RangeError%":Xde,"%ReferenceError%":Zde,"%Reflect%":typeof Reflect>"u"?it:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?it:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ad||!Hn?it:Hn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?it:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ad&&Hn?Hn(""[Symbol.iterator]()):it,"%Symbol%":ad?Symbol:it,"%SyntaxError%":tm,"%ThrowTypeError%":ehe,"%TypedArray%":nhe,"%TypeError%":kh,"%Uint8Array%":typeof Uint8Array>"u"?it:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?it:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?it:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?it:Uint32Array,"%URIError%":Jde,"%WeakMap%":typeof WeakMap>"u"?it:WeakMap,"%WeakRef%":typeof WeakRef>"u"?it:WeakRef,"%WeakSet%":typeof WeakSet>"u"?it:WeakSet};if(Hn)try{null.error}catch(t){var rhe=Hn(Hn(t));gu["%Error.prototype%"]=rhe}var ihe=function t(e){var n;if(e==="%AsyncFunction%")n=$4("async function () {}");else if(e==="%GeneratorFunction%")n=$4("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=$4("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Hn&&(n=Hn(i.prototype))}return gu[e]=n,n},sx={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cg=U5,pT=Kde,she=cg.call(Function.call,Array.prototype.concat),ahe=cg.call(Function.apply,Array.prototype.splice),ax=cg.call(Function.call,String.prototype.replace),fT=cg.call(Function.call,String.prototype.slice),ohe=cg.call(Function.call,RegExp.prototype.exec),lhe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,che=/\\(\\)?/g,uhe=function(t){var e=fT(t,0,1),n=fT(t,-1);if(e==="%"&&n!=="%")throw new tm("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new tm("invalid intrinsic syntax, expected opening `%`");var r=[];return ax(t,lhe,function(i,s,a,o){r[r.length]=a?ax(o,che,"$1"):s||i}),r},dhe=function(t,e){var n=t,r;if(pT(sx,n)&&(r=sx[n],n="%"+r[0]+"%"),pT(gu,n)){var i=gu[n];if(i===Ld&&(i=ihe(n)),typeof i>"u"&&!e)throw new kh("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new tm("intrinsic "+t+" does not exist!")},ug=function(t,e){if(typeof t!="string"||t.length===0)throw new kh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new kh('"allowMissing" argument must be a boolean');if(ohe(/^%?[^%]*%?$/,t)===null)throw new tm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uhe(t),r=n.length>0?n[0]:"",i=dhe("%"+r+"%",e),s=i.name,a=i.value,o=!1,l=i.alias;l&&(r=l[0],ahe(n,she([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],h=fT(d,0,1),m=fT(d,-1);if((h==='"'||h==="'"||h==="`"||m==='"'||m==="'"||m==="`")&&h!==m)throw new tm("property names with quotes must have matching quotes");if((d==="constructor"||!u)&&(o=!0),r+="."+d,s="%"+r+"%",pT(gu,s))a=gu[s];else if(a!=null){if(!(d in a)){if(!e)throw new kh("base intrinsic for "+t+" exists, but the property is not available.");return}if(fu&&c+1>=n.length){var g=fu(a,d);u=!!g,u&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[d]}else u=pT(a,d),a=a[d];u&&!o&&(gu[s]=a)}}return a},oB={exports:{}},F4,ox;function F5(){if(ox)return F4;ox=1;var t=ug,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return F4=e,F4}var hhe=ug,zy=hhe("%Object.getOwnPropertyDescriptor%",!0);if(zy)try{zy([],"length")}catch{zy=null}var E3=zy,lx=F5(),mhe=sB,od=S3,cx=E3,phe=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new od("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new od("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new od("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new od("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new od("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new od("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,o=!!cx&&cx(t,e);if(lx)lx(t,e,{configurable:s===null&&o?o.configurable:!s,enumerable:r===null&&o?o.enumerable:!r,value:n,writable:i===null&&o?o.writable:!i});else if(a||!r&&!i&&!s)t[e]=n;else throw new mhe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},t8=F5(),lB=function(){return!!t8};lB.hasArrayLengthDefineBug=function(){if(!t8)return null;try{return t8([],"length",{value:1}).length!==1}catch{return!0}};var fhe=lB,ghe=ug,ux=phe,yhe=fhe(),dx=E3,hx=S3,The=ghe("%Math.floor%"),vhe=function(t,e){if(typeof t!="function")throw new hx("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||The(e)!==e)throw new hx("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in t&&dx){var s=dx(t,"length");s&&!s.configurable&&(r=!1),s&&!s.writable&&(i=!1)}return(r||i||!n)&&(yhe?ux(t,"length",e,!0,!0):ux(t,"length",e)),t};(function(t){var e=U5,n=ug,r=vhe,i=S3,s=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||e.call(a,s),l=F5(),c=n("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var h=o(e,a,arguments);return r(h,1+c(0,d.length-(arguments.length-1)),!0)};var u=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(oB);var B5=oB.exports,cB=ug,uB=B5,_he=uB(cB("String.prototype.indexOf")),j5=function(t,e){var n=cB(t,!!e);return typeof n=="function"&&_he(t,".prototype.")>-1?uB(n):n},bhe=b3(),She=j5,n8=She("Object.prototype.toString"),k3=function(t){return bhe&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:n8(t)==="[object Arguments]"},dB=function(t){return k3(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&n8(t)!=="[object Array]"&&n8(t.callee)==="[object Function]"},Ehe=function(){return k3(arguments)}();k3.isLegacyArguments=dB;var khe=Ehe?k3:dB,Ahe=Object.prototype.toString,whe=Function.prototype.toString,Che=/^\s*(?:function)?\*/,hB=b3(),B4=Object.getPrototypeOf,Ihe=function(){if(!hB)return!1;try{return Function("return function*() {}")()}catch{}},j4,xhe=function(t){if(typeof t!="function")return!1;if(Che.test(whe.call(t)))return!0;if(!hB){var e=Ahe.call(t);return e==="[object GeneratorFunction]"}if(!B4)return!1;if(typeof j4>"u"){var n=Ihe();j4=n?B4(n):!1}return B4(t)===j4},mB=Function.prototype.toString,Kd=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r8,Wy;if(typeof Kd=="function"&&typeof Object.defineProperty=="function")try{r8=Object.defineProperty({},"length",{get:function(){throw Wy}}),Wy={},Kd(function(){throw 42},null,r8)}catch(t){t!==Wy&&(Kd=null)}else Kd=null;var Lhe=/^\s*class\b/,i8=function(t){try{var e=mB.call(t);return Lhe.test(e)}catch{return!1}},V4=function(t){try{return i8(t)?!1:(mB.call(t),!0)}catch{return!1}},Ky=Object.prototype.toString,Rhe="[object Object]",Nhe="[object Function]",Ohe="[object GeneratorFunction]",Dhe="[object HTMLAllCollection]",Phe="[object HTML document.all class]",Mhe="[object HTMLCollection]",$he=typeof Symbol=="function"&&!!Symbol.toStringTag,Uhe=!(0 in[,]),s8=function(){return!1};if(typeof document=="object"){var Fhe=document.all;Ky.call(Fhe)===Ky.call(document.all)&&(s8=function(t){if((Uhe||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=Ky.call(t);return(e===Dhe||e===Phe||e===Mhe||e===Rhe)&&t("")==null}catch{}return!1})}var Bhe=Kd?function(t){if(s8(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Kd(t,null,r8)}catch(e){if(e!==Wy)return!1}return!i8(t)&&V4(t)}:function(t){if(s8(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if($he)return V4(t);if(i8(t))return!1;var e=Ky.call(t);return e!==Nhe&&e!==Ohe&&!/^\[object HTML/.test(e)?!1:V4(t)},jhe=Bhe,Vhe=Object.prototype.toString,pB=Object.prototype.hasOwnProperty,Hhe=function(t,e,n){for(var r=0,i=t.length;r<i;r++)pB.call(t,r)&&(n==null?e(t[r],r,t):e.call(n,t[r],r,t))},Ghe=function(t,e,n){for(var r=0,i=t.length;r<i;r++)n==null?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},qhe=function(t,e,n){for(var r in t)pB.call(t,r)&&(n==null?e(t[r],r,t):e.call(n,t[r],r,t))},zhe=function(t,e,n){if(!jhe(e))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),Vhe.call(t)==="[object Array]"?Hhe(t,e,r):typeof t=="string"?Ghe(t,e,r):qhe(t,e,r)},fB=zhe,Whe=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],H4=Whe,Khe=typeof globalThis>"u"?D5:globalThis,gB=function(){for(var t=[],e=0;e<H4.length;e++)typeof Khe[H4[e]]=="function"&&(t[t.length]=H4[e]);return t},gT=fB,Yhe=gB,mx=B5,V5=j5,Yy=E3,Qhe=V5("Object.prototype.toString"),yB=b3(),px=typeof globalThis>"u"?D5:globalThis,a8=Yhe(),H5=V5("String.prototype.slice"),G4=Object.getPrototypeOf,Xhe=V5("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},yT={__proto__:null};yB&&Yy&&G4?gT(a8,function(t){var e=new px[t];if(Symbol.toStringTag in e){var n=G4(e),r=Yy(n,Symbol.toStringTag);if(!r){var i=G4(n);r=Yy(i,Symbol.toStringTag)}yT["$"+t]=mx(r.get)}}):gT(a8,function(t){var e=new px[t],n=e.slice||e.set;n&&(yT["$"+t]=mx(n))});var Zhe=function(t){var e=!1;return gT(yT,function(n,r){if(!e)try{"$"+n(t)===r&&(e=H5(r,1))}catch{}}),e},Jhe=function(t){var e=!1;return gT(yT,function(n,r){if(!e)try{n(t),e=H5(r,1)}catch{}}),e},eme=function(t){if(!t||typeof t!="object")return!1;if(!yB){var e=H5(Qhe(t),8,-1);return Xhe(a8,e)>-1?e:e!=="Object"?!1:Jhe(t)}return Yy?Zhe(t):null},TT=fB,tme=gB,fx=B5,G5=j5,Qy=E3,nme=G5("Object.prototype.toString"),TB=b3(),gx=typeof globalThis>"u"?D5:globalThis,o8=tme(),q5=G5("String.prototype.slice"),q4=Object.getPrototypeOf,rme=G5("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},vT={__proto__:null};TB&&Qy&&q4?TT(o8,function(t){var e=new gx[t];if(Symbol.toStringTag in e){var n=q4(e),r=Qy(n,Symbol.toStringTag);if(!r){var i=q4(n);r=Qy(i,Symbol.toStringTag)}vT["$"+t]=fx(r.get)}}):TT(o8,function(t){var e=new gx[t],n=e.slice||e.set;n&&(vT["$"+t]=fx(n))});var ime=function(t){var e=!1;return TT(vT,function(n,r){if(!e)try{"$"+n(t)===r&&(e=q5(r,1))}catch{}}),e},sme=function(t){var e=!1;return TT(vT,function(n,r){if(!e)try{n(t),e=q5(r,1)}catch{}}),e},ame=function(t){if(!t||typeof t!="object")return!1;if(!TB){var e=q5(nme(t),8,-1);return rme(o8,e)>-1?e:e!=="Object"?!1:sme(t)}return Qy?ime(t):null},ome=ame,lme=function(t){return!!ome(t)};(function(t){var e=khe,n=xhe,r=eme,i=lme;function s(be){return be.call.bind(be)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(a)var h=s(BigInt.prototype.valueOf);if(o)var m=s(Symbol.prototype.valueOf);function g(be,rt){if(typeof be!="object")return!1;try{return rt(be),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function p(be){return typeof Promise<"u"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}t.isPromise=p;function _(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):i(be)||J(be)}t.isArrayBufferView=_;function y(be){return r(be)==="Uint8Array"}t.isUint8Array=y;function v(be){return r(be)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function E(be){return r(be)==="Uint16Array"}t.isUint16Array=E;function x(be){return r(be)==="Uint32Array"}t.isUint32Array=x;function C(be){return r(be)==="Int8Array"}t.isInt8Array=C;function R(be){return r(be)==="Int16Array"}t.isInt16Array=R;function D(be){return r(be)==="Int32Array"}t.isInt32Array=D;function U(be){return r(be)==="Float32Array"}t.isFloat32Array=U;function K(be){return r(be)==="Float64Array"}t.isFloat64Array=K;function V(be){return r(be)==="BigInt64Array"}t.isBigInt64Array=V;function X(be){return r(be)==="BigUint64Array"}t.isBigUint64Array=X;function he(be){return l(be)==="[object Map]"}he.working=typeof Map<"u"&&he(new Map);function ie(be){return typeof Map>"u"?!1:he.working?he(be):be instanceof Map}t.isMap=ie;function pe(be){return l(be)==="[object Set]"}pe.working=typeof Set<"u"&&pe(new Set);function ne(be){return typeof Set>"u"?!1:pe.working?pe(be):be instanceof Set}t.isSet=ne;function oe(be){return l(be)==="[object WeakMap]"}oe.working=typeof WeakMap<"u"&&oe(new WeakMap);function _e(be){return typeof WeakMap>"u"?!1:oe.working?oe(be):be instanceof WeakMap}t.isWeakMap=_e;function Y(be){return l(be)==="[object WeakSet]"}Y.working=typeof WeakSet<"u"&&Y(new WeakSet);function te(be){return Y(be)}t.isWeakSet=te;function re(be){return l(be)==="[object ArrayBuffer]"}re.working=typeof ArrayBuffer<"u"&&re(new ArrayBuffer);function Ae(be){return typeof ArrayBuffer>"u"?!1:re.working?re(be):be instanceof ArrayBuffer}t.isArrayBuffer=Ae;function W(be){return l(be)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function J(be){return typeof DataView>"u"?!1:W.working?W(be):be instanceof DataView}t.isDataView=J;var le=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ve(be){return l(be)==="[object SharedArrayBuffer]"}function Re(be){return typeof le>"u"?!1:(typeof ve.working>"u"&&(ve.working=ve(new le)),ve.working?ve(be):be instanceof le)}t.isSharedArrayBuffer=Re;function Me(be){return l(be)==="[object AsyncFunction]"}t.isAsyncFunction=Me;function Ue(be){return l(be)==="[object Map Iterator]"}t.isMapIterator=Ue;function Ge(be){return l(be)==="[object Set Iterator]"}t.isSetIterator=Ge;function Je(be){return l(be)==="[object Generator]"}t.isGeneratorObject=Je;function hn(be){return l(be)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=hn;function fr(be){return g(be,c)}t.isNumberObject=fr;function bs(be){return g(be,u)}t.isStringObject=bs;function Wi(be){return g(be,d)}t.isBooleanObject=Wi;function Ss(be){return a&&g(be,h)}t.isBigIntObject=Ss;function pt(be){return o&&g(be,m)}t.isSymbolObject=pt;function tr(be){return fr(be)||bs(be)||Wi(be)||Ss(be)||pt(be)}t.isBoxedPrimitive=tr;function nr(be){return typeof Uint8Array<"u"&&(Ae(be)||Re(be))}t.isAnyArrayBuffer=nr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(t,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})})(rB);var cme=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},l8={exports:{}};typeof Object.create=="function"?l8.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:l8.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var ume=l8.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function(W){for(var J=Object.keys(W),le={},ve=0;ve<J.length;ve++)le[J[ve]]=Object.getOwnPropertyDescriptor(W,J[ve]);return le},n=/%[sdj%]/g;t.format=function(W){if(!C(W)){for(var J=[],le=0;le<arguments.length;le++)J.push(a(arguments[le]));return J.join(" ")}for(var le=1,ve=arguments,Re=ve.length,Me=String(W).replace(n,function(Je){if(Je==="%%")return"%";if(le>=Re)return Je;switch(Je){case"%s":return String(ve[le++]);case"%d":return Number(ve[le++]);case"%j":try{return JSON.stringify(ve[le++])}catch{return"[Circular]"}default:return Je}}),Ue=ve[le];le<Re;Ue=ve[++le])v(Ue)||!K(Ue)?Me+=" "+Ue:Me+=" "+a(Ue);return Me},t.deprecate=function(W,J){if(typeof et<"u"&&et.noDeprecation===!0)return W;if(typeof et>"u")return function(){return t.deprecate(W,J).apply(this,arguments)};var le=!1;function ve(){if(!le){if(et.throwDeprecation)throw new Error(J);et.traceDeprecation?console.trace(J):console.error(J),le=!0}return W.apply(this,arguments)}return ve};var r={},i=/^$/;if(et.env.NODE_DEBUG){var s=et.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(W){if(W=W.toUpperCase(),!r[W])if(i.test(W)){var J=et.pid;r[W]=function(){var le=t.format.apply(t,arguments);console.error("%s %d: %s",W,J,le)}}else r[W]=function(){};return r[W]};function a(W,J){var le={seen:[],stylize:l};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),y(J)?le.showHidden=J:J&&t._extend(le,J),D(le.showHidden)&&(le.showHidden=!1),D(le.depth)&&(le.depth=2),D(le.colors)&&(le.colors=!1),D(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=o),u(le,W,le.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(W,J){var le=a.styles[J];return le?"\x1B["+a.colors[le][0]+"m"+W+"\x1B["+a.colors[le][1]+"m":W}function l(W,J){return W}function c(W){var J={};return W.forEach(function(le,ve){J[le]=!0}),J}function u(W,J,le){if(W.customInspect&&J&&he(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var ve=J.inspect(le,W);return C(ve)||(ve=u(W,ve,le)),ve}var Re=d(W,J);if(Re)return Re;var Me=Object.keys(J),Ue=c(Me);if(W.showHidden&&(Me=Object.getOwnPropertyNames(J)),X(J)&&(Me.indexOf("message")>=0||Me.indexOf("description")>=0))return h(J);if(Me.length===0){if(he(J)){var Ge=J.name?": "+J.name:"";return W.stylize("[Function"+Ge+"]","special")}if(U(J))return W.stylize(RegExp.prototype.toString.call(J),"regexp");if(V(J))return W.stylize(Date.prototype.toString.call(J),"date");if(X(J))return h(J)}var Je="",hn=!1,fr=["{","}"];if(_(J)&&(hn=!0,fr=["[","]"]),he(J)){var bs=J.name?": "+J.name:"";Je=" [Function"+bs+"]"}if(U(J)&&(Je=" "+RegExp.prototype.toString.call(J)),V(J)&&(Je=" "+Date.prototype.toUTCString.call(J)),X(J)&&(Je=" "+h(J)),Me.length===0&&(!hn||J.length==0))return fr[0]+Je+fr[1];if(le<0)return U(J)?W.stylize(RegExp.prototype.toString.call(J),"regexp"):W.stylize("[Object]","special");W.seen.push(J);var Wi;return hn?Wi=m(W,J,le,Ue,Me):Wi=Me.map(function(Ss){return g(W,J,le,Ue,Ss,hn)}),W.seen.pop(),p(Wi,Je,fr)}function d(W,J){if(D(J))return W.stylize("undefined","undefined");if(C(J)){var le="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(le,"string")}if(x(J))return W.stylize(""+J,"number");if(y(J))return W.stylize(""+J,"boolean");if(v(J))return W.stylize("null","null")}function h(W){return"["+Error.prototype.toString.call(W)+"]"}function m(W,J,le,ve,Re){for(var Me=[],Ue=0,Ge=J.length;Ue<Ge;++Ue)Y(J,String(Ue))?Me.push(g(W,J,le,ve,String(Ue),!0)):Me.push("");return Re.forEach(function(Je){Je.match(/^\d+$/)||Me.push(g(W,J,le,ve,Je,!0))}),Me}function g(W,J,le,ve,Re,Me){var Ue,Ge,Je;if(Je=Object.getOwnPropertyDescriptor(J,Re)||{value:J[Re]},Je.get?Je.set?Ge=W.stylize("[Getter/Setter]","special"):Ge=W.stylize("[Getter]","special"):Je.set&&(Ge=W.stylize("[Setter]","special")),Y(ve,Re)||(Ue="["+Re+"]"),Ge||(W.seen.indexOf(Je.value)<0?(v(le)?Ge=u(W,Je.value,null):Ge=u(W,Je.value,le-1),Ge.indexOf(`
`)>-1&&(Me?Ge=Ge.split(`
`).map(function(hn){return"  "+hn}).join(`
`).slice(2):Ge=`
`+Ge.split(`
`).map(function(hn){return"   "+hn}).join(`
`))):Ge=W.stylize("[Circular]","special")),D(Ue)){if(Me&&Re.match(/^\d+$/))return Ge;Ue=JSON.stringify(""+Re),Ue.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ue=Ue.slice(1,-1),Ue=W.stylize(Ue,"name")):(Ue=Ue.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ue=W.stylize(Ue,"string"))}return Ue+": "+Ge}function p(W,J,le){var ve=W.reduce(function(Re,Me){return Me.indexOf(`
`)>=0,Re+Me.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?le[0]+(J===""?"":J+`
 `)+" "+W.join(`,
  `)+" "+le[1]:le[0]+J+" "+W.join(", ")+" "+le[1]}t.types=rB;function _(W){return Array.isArray(W)}t.isArray=_;function y(W){return typeof W=="boolean"}t.isBoolean=y;function v(W){return W===null}t.isNull=v;function E(W){return W==null}t.isNullOrUndefined=E;function x(W){return typeof W=="number"}t.isNumber=x;function C(W){return typeof W=="string"}t.isString=C;function R(W){return typeof W=="symbol"}t.isSymbol=R;function D(W){return W===void 0}t.isUndefined=D;function U(W){return K(W)&&pe(W)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function K(W){return typeof W=="object"&&W!==null}t.isObject=K;function V(W){return K(W)&&pe(W)==="[object Date]"}t.isDate=V,t.types.isDate=V;function X(W){return K(W)&&(pe(W)==="[object Error]"||W instanceof Error)}t.isError=X,t.types.isNativeError=X;function he(W){return typeof W=="function"}t.isFunction=he;function ie(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}t.isPrimitive=ie,t.isBuffer=cme;function pe(W){return Object.prototype.toString.call(W)}function ne(W){return W<10?"0"+W.toString(10):W.toString(10)}var oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _e(){var W=new Date,J=[ne(W.getHours()),ne(W.getMinutes()),ne(W.getSeconds())].join(":");return[W.getDate(),oe[W.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",_e(),t.format.apply(t,arguments))},t.inherits=ume,t._extend=function(W,J){if(!J||!K(J))return W;for(var le=Object.keys(J),ve=le.length;ve--;)W[le[ve]]=J[le[ve]];return W};function Y(W,J){return Object.prototype.hasOwnProperty.call(W,J)}var te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(te&&W[te]){var J=W[te];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,te,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var le,ve,Re=new Promise(function(Ge,Je){le=Ge,ve=Je}),Me=[],Ue=0;Ue<arguments.length;Ue++)Me.push(arguments[Ue]);Me.push(function(Ge,Je){Ge?ve(Ge):le(Je)});try{W.apply(this,Me)}catch(Ge){ve(Ge)}return Re}return Object.setPrototypeOf(J,Object.getPrototypeOf(W)),te&&Object.defineProperty(J,te,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,e(W))},t.promisify.custom=te;function re(W,J){if(!W){var le=new Error("Promise was rejected with a falsy value");le.reason=W,W=le}return J(W)}function Ae(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var le=[],ve=0;ve<arguments.length;ve++)le.push(arguments[ve]);var Re=le.pop();if(typeof Re!="function")throw new TypeError("The last argument must be of type Function");var Me=this,Ue=function(){return Re.apply(Me,arguments)};W.apply(this,le).then(function(Ge){et.nextTick(Ue.bind(null,null,Ge))},function(Ge){et.nextTick(re.bind(null,Ge,Ue))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(W)),Object.defineProperties(J,e(W)),J}t.callbackify=Ae})(_3);const{inherits:dme,format:z4}=_3;function Dc(t,e,n=Error){if(!t)throw new Error("Avvio error code must not be empty");if(!e)throw new Error("Avvio base error message must not be empty");function r(i,s,a){if(!new.target)return new r(i,s,a);Error.captureStackTrace(this,r),this.code=t,this.message=e,this.name="AvvioError",i&&s&&a?this.message=z4(e,i,s,a):i&&s?this.message=z4(e,i,s):i?this.message=z4(e,i):this.message=e}return r.prototype[Symbol.toStringTag]="Error",r.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},dme(r,n),r}var vB={createError:Dc,AVV_ERR_EXPOSE_ALREADY_DEFINED:Dc("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' () is already defined, specify an expose option"),AVV_ERR_CALLBACK_NOT_FN:Dc("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:Dc("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:Dc("AVV_ERR_PLUGIN_NOT_VALID","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:Dc("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:Dc("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")},hme=function t(e,n,r){n===void 0&&(n=""),r||(r={});var i=function(l){var c={"│":"|","└":"`","├":"+","─":"-","┬":"-"};return r.unicode===!1?c[l]:l};typeof e=="string"&&(e={label:e});var s=e.nodes||[],a=(e.label||"").split(`
`),o=`
`+n+(s.length?i("│"):" ")+" ";return n+a.join(o)+`
`+s.map(function(l,c){var u=c===s.length-1,d=l.nodes&&l.nodes.length,h=n+(u?" ":i("│"))+" ";return n+i(u?"└":"├")+i("─")+i(d?"┬":"─")+" "+t(l,h,r).slice(n.length+2)}).join("")};const mme=hme,yx=Symbol("avvio.TimeTree.untrackNode"),W4=Symbol("avvio.TimeTree.trackNode"),Tx=Symbol("avvio.TimeTree.getParent"),vx=Symbol("avvio.TimeTree.getNode"),_x=Symbol("avvio.TimeTree.addNode");let pme=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[W4](e){this.tableId.set(e.id,e),this.tableLabel.has(e.label)?this.tableLabel.get(e.label).push(e):this.tableLabel.set(e.label,[e])}[yx](e){this.tableId.delete(e.id);const n=this.tableLabel.get(e.label);if(n.id){this.tableLabel.delete(e.label);return}n.pop(),n.length===0&&this.tableLabel.delete(e.label)}[Tx](e){if(e===null)return this.root;const n=this.tableLabel.get(e);return n.id?n:n[n.length-1]}[vx](e){return this.tableId.get(e)}[_x](e,n,r){if(e===null)return this.root={id:"root",label:n,start:r,nodes:[]},this[W4](this.root),this.root.id;const i=this[Tx](e),s=`${n}-${Math.random()}`,a={id:s,parent:e,start:r,label:n,nodes:[]};return i.nodes.push(a),this[W4](a),s}start(e,n,r=Date.now()){return this[_x](e,n,r)}stop(e,n=Date.now()){const r=this[vx](e);r&&(r.stop=n,r.diff=r.stop-r.start||0,this[yx](r))}toJSON(){return Object.assign({},this.root)}prittyPrint(){const e=r=>(r.label=`${r.label} ${r.diff} ms`,r.nodes.length>0&&(r.nodes=r.nodes.map(i=>e(i))),r),n=e(this.toJSON());return mme(n)}};var fme=pme,z5={exports:{}},c8={exports:{}},K4,bx;function gme(){if(bx)return K4;bx=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;K4=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isFinite(u))return d.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function o(u){var d=Math.abs(u);return d>=r?Math.round(u/r)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=r?c(u,d,r,"day"):d>=n?c(u,d,n,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,h,m){var g=d>=h*1.5;return Math.round(u/h)+" "+m+(g?"s":"")}return K4}function yme(t){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=a,n.humanize=gme(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,h=null,m,g;function p(..._){if(!p.enabled)return;const y=p,v=Number(new Date),E=v-(d||v);y.diff=E,y.prev=d,y.curr=v,d=v,_[0]=n.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let x=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(C,R)=>{if(C==="%%")return"%";x++;const D=n.formatters[R];if(typeof D=="function"){const U=_[x];C=D.call(y,U),_.splice(x,1),x--}return C}),n.formatArgs.call(y,_),(y.log||n.log).apply(y,_)}return p.namespace=u,p.useColors=n.useColors(),p.color=n.selectColor(u),p.extend=r,p.destroy=n.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(u)),g),set:_=>{h=_}}),typeof n.init=="function"&&n.init(p),p}function r(u,d){const h=n(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),m=h.length;for(d=0;d<m;d++)h[d]&&(u=h[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=n.skips.length;d<h;d++)if(n.skips[d].test(u))return!1;for(d=0,h=n.names.length;d<h;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Tme=yme;(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof et<"u"&&"env"in et&&(l=et.env.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=Tme(e);const{formatters:o}=t.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(c8,c8.exports);var _B=c8.exports;const vme=WF,_me=nB.EventEmitter,bme=_3.inherits,cr=_B("avvio"),{AVV_ERR_READY_TIMEOUT:Sme}=vB,Y4=Symbol.for("plugin-meta");function Eme(t,e){return t[Y4]&&t[Y4].name?t[Y4].name:typeof e<"u"&&typeof e!="function"&&e.name?e.name:t.name?t.name:t.toString().split(`
`).slice(0,2).map(n=>n.trim()).join(" -- ")}function kme(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}function Mm(t,e,n,r,i){this.started=!1,this.func=e,this.opts=n,this.onFinish=null,this.parent=t,this.timeout=i===void 0?t._timeout:i,this.name=Eme(e,n),this.isAfter=r,this.q=vme(t,Ame,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}bme(Mm,_me);Mm.prototype.exec=function(t,e){const n=this.func;let r=!1;const i=this.name;if(this.parent._error&&!this.isAfter){cr("skipping loading of plugin as parent errored and it is not an after",i),et.nextTick(e);return}if(this.isAfter)this.server=t;else try{this.server=this.parent.override(t,n,this.opts)}catch(l){return cr("override errored",i),e(l)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,cr("exec",i);let s;const a=l=>{if(r){cr("loading complete",i);return}this._error=l,cr(l?"exec errored":"exec completed",i),r=!0,s&&clearTimeout(s),e(l)};this.timeout>0&&(cr("setting up timeout",i,this.timeout),s=setTimeout(function(){cr("timed out",i),s=null;const l=new Sme(i);l.fn=n,a(l)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());const o=n(this.server,this.opts,a);o&&typeof o.then=="function"&&(cr("exec: resolving promise",i),o.then(()=>et.nextTick(a),l=>et.nextTick(a,l)))};Mm.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();const t=()=>{this.server.after((n,r)=>{this._error=n,this.q.pause(),n?(cr("rejecting promise",this.name,n),this._promise.reject(n)):(cr("resolving promise",this.name),this._promise.resolve()),this._promise=null,et.nextTick(r,n)}),this.q.resume()};let e;return this._promise?e=Promise.resolve():(this._promise=kme(),e=this._promise.promise,this.server?t():this.on("start",t)),e};Mm.prototype.enqueue=function(t,e){cr("enqueue",this.name,t.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(t,e)};Mm.prototype.finish=function(t,e){cr("finish",this.name,t);const n=()=>{this.loaded||(cr("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(t))};if(t){this._promise&&(this._promise.reject(t),this._promise=null),n();return}const r=()=>{if(cr("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){const i=()=>{cr("wrap"),queueMicrotask(r)};this._promise.resolve(),this._promise.promise.then(i,i),this._promise=null}else n();else cr("delayed",this.name),this.q.drain=()=>{cr("drain",this.name),this.q.drain=wme,queueMicrotask(r)}};queueMicrotask(r),this.q.resume()};function Ame(t,e){const n=this;et.nextTick(W5.bind(n),t,e)}function W5(t,e){if(typeof t.func.then=="function"){t.func.then(r=>{typeof r.default=="function"&&(r=r.default),t.func=r,W5.call(this,t,e)},e);return}const n=this._current[0];this._current.unshift(t),t.exec(n&&n.server||this._server,r=>{t.finish(r,i=>{this._current.shift(),e(i)})})}function wme(){}z5.exports=Mm;z5.exports.loadPlugin=W5;var Cme=z5.exports;const Sx=WF,Ime=nB.EventEmitter,xme=_3.inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:Q4,AVV_ERR_CALLBACK_NOT_FN:Df,AVV_ERR_PLUGIN_NOT_VALID:Lme,AVV_ERR_ROOT_PLG_BOOTED:Rme,AVV_ERR_READY_TIMEOUT:Nme}=vB,Ome=fme,u8=Cme,nm=_B("avvio"),_T=Symbol("kAvvio"),X4=Symbol("kThenifyDoNotWrap");function Dme(t,e,n){const r=e.expose||{},i=r.use||"use",s=r.after||"after",a=r.ready||"ready",o=r.onClose||"onClose",l=r.close||"close";if(t[i])throw new Q4(i);if(t[s])throw new Q4(s);if(t[a])throw new Q4(a);t[i]=function(c,u){return n.use(c,u),this},Object.defineProperty(t,"then",{get:bB.bind(n)}),t[_T]=!0,t[s]=function(c){return typeof c!="function"?n._loadRegistered():(n.after(Z4(c,this)),this)},t[a]=function(c){if(c&&typeof c!="function")throw new Df(a,typeof c);return n.ready(c?Z4(c,this):void 0)},t[o]=function(c){if(typeof c!="function")throw new Df(o,typeof c);return n.onClose(Fme(c,this)),this},t[l]=function(c){if(c&&typeof c!="function")throw new Df(l,typeof c);return c?(n.close(Z4(c,this)),this):n.close()}}function Zn(t,e,n){if(typeof t=="function"&&arguments.length===1&&(n=t,e={},t=null),typeof e=="function"&&(n=e,e={}),e=e||{},!(this instanceof Zn)){const r=new Zn(t,e,n);return t&&Dme(t,e,r),r}e.autostart!==!1&&(e.autostart=!0),t=t||this,this._timeout=Number(e.timeout)||0,this._server=t,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),n&&this.once("start",n),this.started=!1,this.booted=!1,this.pluginTree=new Ome,this._readyQ=Sx(this,SB,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=Ex},this._closeQ=Sx(this,Ume,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=Ex},this._doStart=null,this._root=new u8(this,Pme.bind(this),e,!1,0),this._root.once("start",(r,i,s)=>{const a=this.pluginTree.start(null,i,s);this._root.once("loaded",(o,l,c)=>{this.pluginTree.stop(a,c)})}),u8.loadPlugin.call(this,this._root,r=>{nm("root plugin ready");try{this.emit("preReady"),this._root=null}catch(i){r=r||this._error||i}if(r){if(this._error=r,this._readyQ.length()===0)throw r}else this.booted=!0;this._readyQ.resume()})}function Pme(t,e,n){this._doStart=n,e.autostart&&this.start()}xme(Zn,Ime);Zn.prototype.start=function(){return this.started=!0,et.nextTick(this._doStart),this};Zn.prototype.override=function(t,e,n){return t};function Mme(t){if(t&&typeof t=="object"&&typeof t.default=="function"&&(t=t.default),!(t&&(typeof t=="function"||typeof t.then=="function")))throw new Lme(typeof t);return t}Zn.prototype[_T]=!0;Zn.prototype.use=function(t,e){return this._lastUsed=this._addPlugin(t,e,!1),this};Zn.prototype._loadRegistered=function(){const t=this._current[0];return!this.started&&!this.booted&&et.nextTick(()=>this._root.q.resume()),t?t.loadedSoFar():Promise.resolve()};Object.defineProperty(Zn.prototype,"then",{get:bB});Zn.prototype._addPlugin=function(t,e,n){if(t=Mme(t),e=e||{},this.booted)throw new Rme;const r=this._current[0],i=new u8(this,t,e,n);if(i.once("start",(s,a,o)=>{const l=this.pluginTree.start(r.name,a,o);i.once("loaded",(c,u,d)=>{this.pluginTree.stop(l,d)})}),r.loaded)throw new Error(i.name,r.name);return r.enqueue(i,s=>{s&&(this._error=s)}),i};Zn.prototype.after=function(t){if(!t)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(n,r,i){SB.call(this,t,i)}return this};Zn.prototype.onClose=function(t){if(typeof t!="function")throw new Error("not a function");t[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(t,e.bind(this));function e(n){n&&(this._error=n)}return this};Zn.prototype.close=function(t){let e;if(t){if(typeof t!="function")throw new Df("close",typeof t)}else e=new Promise(function(n,r){t=function(i){if(i)return r(i);n()}});return this.ready(()=>{this._error=null,this._closeQ.push(t),et.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};Zn.prototype.ready=function(t){if(t){if(typeof t!="function")throw new Df("ready",typeof t);this._readyQ.push(t),queueMicrotask(this.start.bind(this));return}return new Promise((e,n)=>{this._readyQ.push(i),this.start();const r=this._current[0].server;function i(s,a,o){s?n(s):e(r),et.nextTick(o)}})};Zn.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};Zn.prototype.toJSON=function(){return this.pluginTree.toJSON()};function Ex(){}function bB(){if(this.booted){nm("thenify returning null because we are already booted");return}if(this[X4]){this[X4]=!1;return}return nm("thenify"),(t,e)=>this._loadRegistered().then(()=>(this[X4]=!0,t(this._server)),e)}function SB(t,e){const n=this._server,r=this._error;let i;if(this._error=null,t.length===0)this._error=r,i=t(),i&&!i[_T]&&typeof i.then=="function"?i.then(()=>et.nextTick(e),s=>et.nextTick(e,s)):et.nextTick(e);else if(t.length===1)i=t(r),i&&!i[_T]&&typeof i.then=="function"?i.then(()=>et.nextTick(e),s=>et.nextTick(e,s)):et.nextTick(e);else if(this._timeout===0){const s=a=>{this._error=a,e(this._error)};t.length===2?t(r,s):t(r,n,s)}else $me.call(this,t,r,n,e)}function $me(t,e,n,r){const i=t.name;nm("setting up ready timeout",i,this._timeout);let s=setTimeout(()=>{nm("timed out",i),s=null;const o=new Nme(i);o.fn=t,this._error=o,r(o)},this._timeout);t.length===2?t(e,a.bind(this)):t(e,n,a.bind(this));function a(o){s&&(clearTimeout(s),this._error=o,r(this._error))}}function Ume(t,e){const n=this._server,r=t[this._isOnCloseHandlerKey];if(t.length===0||t.length===1){let i;r?i=t(n):i=t(this._error),i&&typeof i.then=="function"?(nm("resolving close/onClose promise"),i.then(()=>et.nextTick(e),s=>et.nextTick(e,s))):et.nextTick(e)}else t.length===2?t(r?n:this._error,e):r?t(n,e):t(this._error,n,e)}function Fme(t,e){return n.bind(e);function n(r,i){let s;t.length===0?(s=t(),s&&s.then?s.then(function(){et.nextTick(i)},i):et.nextTick(i)):t.length===1?(s=t(this),s&&s.then?s.then(function(){et.nextTick(i)},i):et.nextTick(i)):t(this,i)}}function Z4(t,e){return n.bind(e);function n(r,i){let s;t?t.length===0?(s=t(),s&&s.then?s.then(function(){et.nextTick(i,r)},i):et.nextTick(i,r)):t.length===1?(s=t(r),s&&s.then?s.then(function(){et.nextTick(i)},i):et.nextTick(i)):t.length===2?t(r,i):t(r,this,i):et.nextTick(i)}}P5.exports=Zn;P5.exports.express=function(t){return Zn(t,{expose:{use:"load"}})};var Bme=P5.exports;const jme=fde(Bme);(function(){if(window.requestAnimationFrame&&window.cancelAnimationFrame)return;const t=["webkit","moz","ms","o"];for(const e of t)window.requestAnimationFrame=window.requestAnimationFrame||window[`${e}RequestAnimationFrame`],window.cancelAnimationFrame=window.cancelAnimationFrame||window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`];if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){let e=0;const n=!!(window.performance&&window.performance.now);window.requestAnimationFrame=function(r){const i=n?window.performance.now():new Date().getTime(),s=Math.max(0,16-(i-e)),a=window.setTimeout(function(){r(i+s)},s);return e=i+s,a},window.cancelAnimationFrame=clearTimeout}})();function Vme(t,e=!0,n=!0,r={friendsTab:"enabled"}){const i=e?"https://grpc-sdk.streamlayer.io:443":"https://grpc-sdk.next.streamlayer.io:443",s=e?"https://grpc.streamlayer.io:443":"https://grpc.next.streamlayer.io:443",a=jme(Object.create({}),{autostart:!1});return a.use(zue,{hideFriends:r.hideFriends,skipOnboarding:r.skipOnboarding,betPack:r.betPack,friendsTab:r.friendsTab,theme:r.theme,themeMode:r.themeMode}),a.use(Fue,{onDeepLinkHandled:r==null?void 0:r.onDeepLinkHandled}),a.use(Hue,{videoPlayerController:r==null?void 0:r.videoPlayerController}),a.use(que,{onContentActivate:r==null?void 0:r.onContentActivate,withAd:r==null?void 0:r.withAd,withAdNotification:r==null?void 0:r.withAdNotification}),a.use(sue,{sdkKey:t,host:i,analyticsHost:s,version:r==null?void 0:r.version}),a.use(uue),a.use(Vue),a.use(ide),a.use(Nue),a.use(pde),a.after((o,l,c)=>{if(o)throw o;l.ready(),c()}),n&&a.after(async(o,l,c)=>{if(o)throw o;await l.sdk.initializeApp(),c()}),a.onClose(()=>{console.log("close")}),a}const Hme=({sdkKey:t,plugins:e,production:n,autoEnable:r,onDeepLinkHandled:i,videoPlayerController:s,onContentActivate:a,hideFriends:o,skipOnboarding:l,withAdNotification:c,withAd:u,friendsTab:d,betPack:h})=>{const[m,g]=N.useState(null);return N.useEffect(()=>{let p=!1;if(!t)return console.error("streamlayer sdk key should be provided"),g(y=>(y!==null&&typeof y.disableApp=="function"&&y.disableApp(),null)),()=>{p=!0};const _=Vme(t,n,r,{version:"1.14.0",onDeepLinkHandled:i,videoPlayerController:s,onContentActivate:a,skipOnboarding:l,withAdNotification:c,withAd:u,hideFriends:o,friendsTab:d,betPack:h});if(e)for(const y of e)_.use(y);return _.ready().then(y=>{p||(g(y.sdk),typeof window<"u")}).catch(y=>console.log(y)),()=>{p=!0,_.close(function(y){if(y)throw y})}},[t,n]),m};var Gme=Object.defineProperty,qme=(t,e,n)=>e in t?Gme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,an=(t,e,n)=>qme(t,typeof e!="symbol"?e+"":e,n),O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zme(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const Wme=kU({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),$m=(t,e)=>Wme.child({name:t},e);class Kme extends Event{constructor(e,n){super(e),an(this,"slEventBus"),this.slEventBus=n}}const Yme=$m("event-bus");class Qme{constructor(e="sl-event-bus"){an(this,"name"),an(this,"listeners"),an(this,"emit",(n,r)=>{const i=new Kme(this.name,{...r,type:n});Yme.debug(i,"Emitting event"),window.dispatchEvent(i)}),an(this,"destroy",()=>{this.listeners.forEach(n=>{window.removeEventListener(this.name,n),this.listeners.delete(n)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}}var Wl;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(Wl||(Wl={}));function Xme(t,e,n){let r=new Set(e).add(void 0);return t.listen((i,s,a)=>{r.has(a)&&n(i,s,a)})}window.slStore=Object.create(null);var kx;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(kx||(kx={}));Qe.BETTING+"",Qe.GAMES+"",Qe.PUBLIC_CHAT+"",Qe.TWITTER+"";var Kl;(function(t){t.Ready="ready",t.Suspended="suspended"})(Kl||(Kl={}));const Fa=new Qme;window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function Zme(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}class Jme{constructor(e="main",n=window.localStorage){an(this,"delimiter",":"),an(this,"prefix"),an(this,"storage"),an(this,"clear",()=>{for(const r in window.localStorage)r.startsWith(this.prefix)&&this.storage.removeItem(r)}),an(this,"generateKey",r=>`${this.prefix}${this.delimiter}${r.join(this.delimiter)}`),an(this,"write",(...r)=>{const i=r.pop()||"",s=this.generateKey(r);try{this.storage.setItem(s,i)}catch(a){Zme(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,i))}}),an(this,"read",(...r)=>{const i=this.storage.getItem(this.generateKey(r));return i===null?void 0:i}),an(this,"remove",(...r)=>{this.storage.removeItem(this.generateKey(r))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}}var Ax;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(Ax||(Ax={}));$m("grpc:stream");He.Unknown,He.Internal,He.DeadlineExceeded,He.ResourceExhausted,He.FailedPrecondition,He.Unavailable,He.DataLoss;$m("grpc:retry");dT(10,{description:"Number of attempts to retry"}),dT(3e4,{description:"Max delay between retries in milliseconds"});var ro;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(ro||(ro={}));class epe extends Jme{constructor(){super("user"),an(this,"setSchema",e=>{this.write(ro.SCHEMA,e)}),an(this,"getSchema",()=>this.read(ro.SCHEMA)),an(this,"setToken",e=>{this.write(ro.TOKEN,e)}),an(this,"getToken",()=>this.read(ro.TOKEN)),an(this,"setExternalToken",e=>{this.write(ro.EXTERNAL_TOKEN,e)}),an(this,"getExternalToken",()=>this.read(ro.EXTERNAL_TOKEN)),an(this,"removeToken",()=>{this.remove(ro.TOKEN)})}}var wx;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(wx||(wx={}));$m("deep_link");$m("bypass");new epe;$m("video_player");Te.FACTOID+"",Te.POLL+"",Te.TRIVIA+"",Te.PREDICTION+"",Te.TWEET+"";var Cx;(function(t){t.SHOWED="showed"})(Cx||(Cx={}));var Ix;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.BET_PACK_ITEM_RECEIVED="bp-item-received",t.QUESTION_OPENED="q-opened"})(Ix||(Ix={}));var xx;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(xx||(xx={}));var Lx;(function(t){t.OPENED="opened"})(Lx||(Lx={}));var Rx;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(Rx||(Rx={}));var Nx;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(Nx||(Nx={}));Te.POLL,Te.PREDICTION,Te.TRIVIA;const tpe={[Qe.GAMES]:!0};var npe=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),e={},n=[];t.forEach(i=>{(i?i.split(" "):[]).forEach(s=>{if(s.startsWith("atm_")){const[,a]=s.split("_");e[a]=s}else n.push(s)})});const r=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.push(e[i]);return r.push(...n),r.join(" ")},Bn=npe;function rpe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ipe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,J4=rpe(function(t){return ipe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),spe=t=>t.toUpperCase()===t,ape=t=>e=>t.indexOf(e)===-1,kB=(t,e)=>{const n={};return Object.keys(t).filter(ape(e)).forEach(r=>{n[r]=t[r]}),n};function ope(t,e,n){const r=kB(e,n);if(!t){const i=typeof J4=="function"?{default:J4}:J4;Object.keys(r).forEach(s=>{i.default(s)||delete r[s]})}return r}var lpe=(t,e)=>{};function cpe(t){let e="";return n=>{const r=(s,a)=>{const{as:o=t,class:l=e}=s,c=n.propsAsIs===void 0?!(typeof o=="string"&&o.indexOf("-")===-1&&!spe(o[0])):n.propsAsIs,u=ope(c,s,["as","class"]);u.ref=a,u.className=n.atomic?Bn(n.class,u.className||l):Bn(u.className||l,n.class);const{vars:d}=n;if(d){const h={};for(const p in d){const _=d[p],y=_[0],v=_[1]||"",E=typeof y=="function"?y(s):y;lpe(E,n.name),h[`--${p}`]=`${E}${v}`}const m=u.style||{},g=Object.keys(m);g.length>0&&g.forEach(p=>{h[p]=m[p]}),u.style=h}return t.__wyw_meta&&t!==o?(u.as=o,ci.createElement(t,u)):ci.createElement(o,u)},i=ci.forwardRef?ci.forwardRef(r):s=>{const a=kB(s,["innerRef"]);return r(a,s.innerRef)};return i.displayName=n.name,i.__wyw_meta={className:n.class||e,extends:t},i}}var P=cpe;const upe=P("div")({name:"SDKContainer",class:"sopqfe6",propsAsIs:!1}),AB=P("div")({name:"SDKScrollContainer",class:"s102vcph",propsAsIs:!1}),K5=P("div")({name:"SDKContentContainer",class:"s1meqjjv",propsAsIs:!1}),dpe=()=>K5,Y5=P(dpe())({name:"SDKWhiteContainer",class:"s1burm22",propsAsIs:!0}),hpe=()=>Y5,mpe=P(hpe())({name:"SDKSummaryContainer",class:"sm5r3j5",propsAsIs:!0}),ppe=P("div")({name:"TabsContainer",class:"tysxwr6",propsAsIs:!1}),fpe=()=>K5,gpe=P(fpe())({name:"LeaderboardContainer",class:"l9er3b1",propsAsIs:!0}),ype=()=>Y5,Tpe=P(ype())({name:"TabsNavContainer",class:"t19dtrb3",propsAsIs:!0}),vpe=P("div")({name:"UserSummaryContainer",class:"u1552n3j",propsAsIs:!1});function _pe(t,e={}){let n=N.useCallback(i=>e.keys?Xme(t,e.keys,i):t.listen(i),[e.keys,t]),r=t.get.bind(t);return N.useSyncExternalStore(n,r,r)}/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=ci;function bpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Spe=typeof Object.is=="function"?Object.is:bpe,Epe=rm.useState,kpe=rm.useEffect,Ape=rm.useLayoutEffect,wpe=rm.useDebugValue;function Cpe(t,e){var n=e(),r=Epe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Ape(function(){i.value=n,i.getSnapshot=e,eb(i)&&s({inst:i})},[t,n,e]),kpe(function(){return eb(i)&&s({inst:i}),t(function(){eb(i)&&s({inst:i})})},[t]),wpe(n),n}function eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Spe(t,n)}catch{return!0}}function Ipe(t,e){return e()}var xpe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ipe:Cpe;rm.useSyncExternalStore!==void 0&&rm.useSyncExternalStore;const ot=_pe,Lpe=N.useTransition,Rpe=t=>{const e=ot(t.getActiveFeature()),n=ot(t.streamStore()),[r,i]=N.useState(null);return N.useEffect(()=>{const s=t.getFeatures();if(!e)i(null);else for(const[a,o]of s)a===e?(o.status.get()===Kl.Suspended&&o.enable(),i(o)):o.status.get()===Kl.Ready&&o.disable();return()=>{for(const[,a]of s)a.status.get()===Kl.Ready&&a.disable()}},[e,t,n]),[e,r]};var wB="Expected a function",Ox=NaN,Npe="[object Symbol]",Ope=/^\s+|\s+$/g,Dpe=/^[-+]0x[0-9a-f]+$/i,Ppe=/^0b[01]+$/i,Mpe=/^0o[0-7]+$/i,$pe=parseInt,Upe=typeof O0=="object"&&O0&&O0.Object===Object&&O0,Fpe=typeof self=="object"&&self&&self.Object===Object&&self,Bpe=Upe||Fpe||Function("return this")(),jpe=Object.prototype,Vpe=jpe.toString,Hpe=Math.max,Gpe=Math.min,tb=function(){return Bpe.Date.now()};function qpe(t,e,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(wB);e=Dx(e)||0,bT(n)&&(u=!!n.leading,d="maxWait"in n,s=d?Hpe(Dx(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(R){var D=r,U=i;return r=i=void 0,c=R,a=t.apply(U,D),a}function g(R){return c=R,o=setTimeout(y,e),u?m(R):a}function p(R){var D=R-l,U=R-c,K=e-D;return d?Gpe(K,s-U):K}function _(R){var D=R-l,U=R-c;return l===void 0||D>=e||D<0||d&&U>=s}function y(){var R=tb();if(_(R))return v(R);o=setTimeout(y,p(R))}function v(R){return o=void 0,h&&r?m(R):(r=i=void 0,a)}function E(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function x(){return o===void 0?a:v(tb())}function C(){var R=tb(),D=_(R);if(r=arguments,i=this,l=R,D){if(o===void 0)return g(l);if(d)return o=setTimeout(y,e),m(l)}return o===void 0&&(o=setTimeout(y,e)),a}return C.cancel=E,C.flush=x,C}function zpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(wB);return bT(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qpe(t,e,{leading:r,maxWait:e,trailing:i})}function bT(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Wpe(t){return!!t&&typeof t=="object"}function Kpe(t){return typeof t=="symbol"||Wpe(t)&&Vpe.call(t)==Npe}function Dx(t){if(typeof t=="number")return t;if(Kpe(t))return Ox;if(bT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Ope,"");var n=Ppe.test(t);return n||Mpe.test(t)?$pe(t.slice(2),n?2:8):Dpe.test(t)?Ox:+t}var Ype=zpe;const d8=EB(Ype),Qpe={BLUE_QUESTION_ACTION_BTN:"#1589ee",WHITE:"#FFFFFF",BLUE:"#2d6ffd",GREY_PRIMARY:"#909395",GREY_PRIMARY_ONBOARDING_INAPP:"#B5B7B8",PRIMARY_1:"#1D7BFF",PRIMARY_2:"#095CD1",PRIMARY_TEXT:"#090E13",SECONDARY_TEXT:"rgba(10, 14, 19, 0.70)",QUESTION_TYPE_ICON:"#1D7BFF",SUCCESS:"#107D57",UNSUCCESS:"#DF2F3B",SECONDARY_RED1:"#DF2F3B",NEUTRALS_WHITE:"#FFFFFF",NEUTRALS_WHITE1:"#FFFFFF",NEUTRALS_GRAY1:"#F7F7F7",NEUTRALS_GRAY2:"#F2F2F1",NEUTRALS_GRAY3:"#E8E8E8",NEUTRALS_GRAY4:"#D9D9D6",NEUTRALS_GRAY5:"#B1B3B3",NEUTRALS_GRAY6:"#888B8D",NEUTRALS_GRAY7:"#6B6F73",NEUTRALS_GRAY9:"#25282A",SDK_CONTAINER_BG:"#F7F7F7",SDK_WHITE_CONTAINER_BG:"#fff",SDK_DARK_CONTAINER_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_BG:"#fff",SDK_PREDICTION_RESULT_INCORRECT_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_TEXT:"#107D57",SDK_PREDICTION_RESULT_ERROR_TITLE:"#090E13",SDK_PREDICTION_RESULT_ERROR_SUBTITLE:"#DF2F3B",SDK_PREDICTION_RESULT_CLOSE_ICON:"#6B6F73",SDK_PREDICTION_FEEDBACK_SUCCESS_ICON:"#107D57",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT1:"#CD2525",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT2:"#fff",PREDICTION_BG_LINES_CORRECT:"#01AB58",PREDICTION_BG_LINES_INCORRECT:"#888B8D",SKELETON_COLOR_1:"#f1efef",SKELETON_COLOR_2:"#f9f8f8",TABS_CONTAINER_BG:"#F2F2F1",TABS_ACTIVE_BG:"#FFFFFF",TABS_COLOR:"#6B6F73",TABS_ACTIVE_COLOR:"#1D7BFF",CARD_BG:"#FFFFFF",CARD_BORDER:"#fff",BORDER:"#E8E8E8",VOTE_BTN_BG:"#F7F7F7",VOTE_BTN_BORDER:"rgb(232, 232, 232)",VOTE_BTN_DISABLED_BORDER:"#B1B3B3",VOTE_BTN_SELECTED_BORDER:"#25282A",VOTE_BTN_NOT_SELECTED_BORDER:"#E8E8E8",VOTE_BTN_SELECTED_BG:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG_UNSET:"rgb(196, 196, 196)",VOTED_ANSWER_BG:"#FFFFFF",VOTED_BTN_RCT_BG:"#2d5694",IN_APP_BG:"rgba(255, 255, 255, 0.90)",IN_APP_QUESTION_TYPE_ICON:"#1D7BFF",IN_APP_QUESTION_TYPE_LABEL:"#82899E",IN_APP_QUESTION_QUOTE:"rgba(10, 14, 19, 0.70)",IN_APP_QUESTION_RESULT_SUBTITLE_BG:"#1D7BFF",IN_APP_QUESTION_RESULT_LINE:"#babfc5"},Xpe={BG_PRIMARY:"#13212b",BG_SECONDARY:"#152430",BG_SECONDARY1:"#435059",BORDER_PRIMARY:"rgba(255, 255, 255, 0.1)",TEXT_PRIMARY:"#f9f9f9",TEXT_PRIMARY1:"#f9f9f9",TEXT_SECONDARY:"rgba(255, 255, 255, 0.8)",TEXT_SECONDARY1:"#878787",WHITE:"#fff"},Zpe=["#107D57","#DF2F3B","#DF2F3B","#E8E8E8"],Jpe="#cee5de",efe="#f9d6d8",tfe="#E8E8E8",Lo={xs:324,sm:576,md:768,lg:992,xl:1200,xxl:1440};Object.entries(Qpe).reduce((t,[e,n])=>`
    ${t}
    --color-${e.toLowerCase().replaceAll("_","-")}: ${n};
  `,"");Object.entries(Xpe).reduce((t,[e,n])=>`
    ${t}
    --color-adv-${e.toLowerCase().replaceAll("_","-")}: ${n};
  `,"");let Cs=[],ol=0;const D0=4;let nfe=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=e.push(r),()=>{for(let s=ol+D0;s<Cs.length;)Cs[s]===r?Cs.splice(s,D0):s+=D0;let i=e.indexOf(r);~i&&(e.splice(i,1),--n.lc||n.off())}},notify(r,i){let s=!Cs.length;for(let a of e)Cs.push(a,n.value,r,i);if(s){for(ol=0;ol<Cs.length;ol+=D0)Cs[ol](Cs[ol+1],Cs[ol+2],Cs[ol+3]);Cs.length=0}},off(){},set(r){let i=n.value;i!==r&&(n.value=r,n.notify(i))},subscribe(r){let i=n.listen(r);return r(n.value),i},value:t};return n},CB=(t={})=>{let e=nfe(t);return e.setKey=function(n,r){let i=e.value;typeof r>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(i,n)):e.value[n]!==r&&(e.value={...e.value,[n]:r},e.notify(i,n))},e};const Px=Object.keys(Lo),Mx=()=>{const t=window.innerWidth;let e="sm";for(let n=Px.length-1;n>0;n--){const r=Px[n];if(!(t<Lo[r])&&t>=Lo[r]){e=r;break}}return{name:e,size:Lo[e]}},$x=t=>{var e;return(((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)<-68},ST=()=>window.matchMedia("(orientation: landscape)").matches,rfe=t=>{const[e]=N.useState(()=>CB({screen:Mx(),sdkInView:$x(t),sdkInDesktopView:ST()}));return N.useEffect(()=>{const n=d8(()=>{e.setKey("sdkInView",$x(t))},200),r=d8(()=>{const i=Mx();e.setKey("screen",i),e.setKey("sdkInDesktopView",ST())},200);return window.addEventListener("scroll",n),window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",r)}},[e,t]),[e]},Q5=(t,e,n)=>{const r=e>=Lo.lg&&e<Lo.xl?75:52;t.current&&window.scrollTo({top:t.current.offsetTop-r,...n})},ife=15,sfe=(t,e)=>{const n=N.useRef(null),r=N.useRef(0),[i]=N.useState(CB({scrollPosition:0,tabsShown:!0,scrollDirection:"forward"})),s=ot(e);return N.useEffect(()=>{const a=ST()?n.current:window;if(!a)return()=>{};const o=d8(l=>{var c;const u=l.target;if(!u)return;let d=0;ST()?d=u.scrollTop:d=((c=t.current)==null?void 0:c.getBoundingClientRect().y)||0;const h=r.current-d;if(ife>Math.abs(h))return;const m=r.current<d?"forward":"backward";r.current=d,i.set({scrollPosition:Math.round(d),scrollDirection:m,tabsShown:i.get().tabsShown})},200);return a.addEventListener("scroll",o),()=>{a.removeEventListener("scroll",o)}},[i,t,s.screen]),[n,i]},IB=t=>[e=>(...n)=>(t&&Fa.emit(t==null?void 0:t.type,t),e?e(n):null)],afe=t=>{const e=t.target;e instanceof HTMLAnchorElement&&e.target==="_blank"&&e.getAttribute("data-analytics")==="web-link"&&Fa.emit("poll",{action:"navigated",payload:{}})},xB=(t,e)=>{const n=window.innerWidth<Lo.xl;N.useEffect(()=>{const r=n&&e.useDomNode?document:t.current,i=s=>{e.listener(s,t)};return e.enabled&&(r==null||r.addEventListener(e.event,i)),()=>{r==null||r.removeEventListener(e.event,i)}},[n,e.enabled,e.listener])},ef="StreamLayerCSSReset",ofe="ttkj0ah",nb=P("div")({name:"LoadingContainer",class:"lclc0ej",propsAsIs:!1}),lfe=({feature:t,sdk:e,children:n,className:r,noWait:i})=>{const s=ot(t.status),a=ot(e.sdkStore.slStreamId);if(!i){if(a!=null&&a.loading&&!a.data)return S.jsx(nb,{className:r,children:"Event is loading..."});if(!(a!=null&&a.data))return S.jsx(nb,{className:r,children:"Event is forbidden..."});if(s!==Kl.Ready)return S.jsx(nb,{className:r,children:"Wait feature..."})}return n},LB=N.createContext({sdk:null,topNavigation:!1}),A3=()=>N.useContext(LB);var cfe=Object.defineProperty,ufe=(t,e,n)=>e in t?cfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dfe=(t,e,n)=>ufe(t,e+"",n);let hfe=class{constructor(){dfe(this,"observers",new Set)}subscribe(t){this.observers.add(t)}unsubscribe(t){this.observers.delete(t)}notify(t){this.observers.forEach(e=>e(t))}};const wp=new hfe,mfe={hiding:!1,finished:!1},RB=()=>{const[t,e]=N.useState(mfe),n=N.useRef(null);N.useEffect(()=>{const s=a=>{e(a)};return wp.subscribe(s),()=>{wp.unsubscribe(s)}},[]);const r=N.useCallback(s=>{const a={hiding:!0,finished:!1};n.current&&clearTimeout(n.current),s!=null&&s.delay?n.current=setTimeout(()=>{wp.notify(a)},s==null?void 0:s.delay):wp.notify(a)},[]),i=N.useCallback(()=>{t.hiding&&(n.current=null,wp.notify({hiding:!1,finished:!0}))},[t.hiding]);return{...t,runAnimation:r,onAnimationEnd:i}},pfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M8 4L16 12L8 20",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),ffe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"check"},N.createElement("path",{id:"Vector",d:"M4 13L9 18L20 6",stroke:"#107D57",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),gfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M10 6L16 12L10 18",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),yfe=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{width:16,height:16,rx:8,fill:"#CD2525"}),N.createElement("rect",{x:5.5,y:4.66669,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(45 5.5 4.66669)",fill:"white"}),N.createElement("rect",{x:4.66669,y:10.5,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(-45 4.66669 10.5)",fill:"white"})),Tfe=t=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Frame 3469478"},N.createElement("path",{id:"Vector 4",d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),N.createElement("path",{id:"Vector 5",d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}))),vfe=t=>N.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{x:1,y:.5,width:23,height:23,rx:11.5,stroke:"#B1B3B3"}),N.createElement("path",{d:"M13.833 8L9.83301 12L13.833 16",stroke:"#B1B3B3",strokeLinecap:"round",strokeLinejoin:"round"})),_fe=t=>N.createElement("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon"},N.createElement("path",{id:"Icon_2",d:"M10.5 6.39844L16.5 12.3984L10.5 18.3984",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),bfe=t=>N.createElement("svg",{width:64,height:65,viewBox:"0 0 64 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M43.852 8.90765C40.2818 7.13339 36.2575 6.13574 32.0002 6.13574C17.2726 6.13574 5.3335 18.0748 5.3335 32.8024C5.3335 47.53 17.2726 59.4691 32.0002 59.4691C46.7278 59.4691 58.6668 47.53 58.6668 32.8024C58.6668 31.8009 58.6116 30.8123 58.5041 29.8394M24.0002 30.1357L32.0002 38.1357L58.6668 11.4691",stroke:"#107D57",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),Sfe=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),Efe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Checkmark"},N.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.002C24 18.6294 18.6274 24.002 12 24.002C5.37258 24.002 0 18.6294 0 12.002C0 5.37454 5.37258 0.00195312 12 0.00195312C18.6274 0.00195312 24 5.37454 24 12.002ZM17.4086 8.15357C16.94 7.68494 16.1802 7.68494 15.7116 8.15357L10.4072 14.9579L7.62573 13.1036C7.07429 12.736 6.32925 12.885 5.96163 13.4365C5.59401 13.9879 5.74301 14.7329 6.29445 15.1006L9.89445 17.5006C10.3704 17.8179 11.0041 17.7551 11.4086 17.3506L17.4086 9.85063C17.8772 9.382 17.8772 8.6222 17.4086 8.15357Z",fill:"#FFFFFF"}))),kfe=t=>N.createElement("svg",{width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{id:"Icon / chevron.left",d:"M0 10C0 10.3818 0.145996 10.7075 0.449219 10.9995L9.20898 19.5684C9.44482 19.8154 9.75928 19.939 10.1187 19.939C10.8486 19.939 11.4214 19.3774 11.4214 18.6362C11.4214 18.2769 11.2754 17.9512 11.0283 17.7041L3.1333 10L11.0283 2.2959C11.2754 2.0376 11.4214 1.71191 11.4214 1.35254C11.4214 0.622559 10.8486 0.0610352 10.1187 0.0610352C9.75928 0.0610352 9.44482 0.18457 9.20898 0.431641L0.449219 9.00049C0.145996 9.29248 0.0112305 9.61816 0 10Z",fill:"white",fillOpacity:.6})),Afe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Chevron"},N.createElement("path",{id:"Chevron_2",d:"M6 11.999C6 12.1725 6.03134 12.334 6.09401 12.4837C6.15669 12.6334 6.25428 12.7756 6.3868 12.9103L14.0436 20.6565C14.2648 20.8855 14.5323 21 14.8459 21C15.0607 21 15.2544 20.9475 15.4271 20.8426C15.5998 20.7377 15.7384 20.5965 15.8431 20.4191C15.9477 20.2416 16 20.0425 16 19.8217C16 19.4989 15.8816 19.2134 15.6448 18.9654L8.74183 11.9971L15.6448 5.03271C15.8816 4.78709 16 4.5023 16 4.17834C16 3.95749 15.9477 3.75835 15.8431 3.58091C15.7384 3.40347 15.5998 3.26229 15.4271 3.15738C15.2544 3.05246 15.0607 3 14.8459 3C14.5323 3 14.2648 3.11169 14.0436 3.33508L6.3868 11.0878C6.25551 11.2225 6.15853 11.3644 6.09586 11.5134C6.03318 11.6625 6.00123 11.8244 6 11.999Z",fill:"white"}))),wfe=t=>N.createElement("svg",{width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Chevron"},N.createElement("path",{id:"Chevron_2",d:"M12 8.17222C12 8.28783 11.9781 8.39553 11.9342 8.49533C11.8903 8.59513 11.822 8.68992 11.7292 8.7797L6.36949 13.9439C6.21462 14.0965 6.02742 14.1729 5.80787 14.1729C5.65752 14.1729 5.52191 14.1379 5.40104 14.0679C5.28016 13.998 5.1831 13.9039 5.10986 13.7856C5.03662 13.6673 5 13.5345 5 13.3873C5 13.1721 5.08288 12.9818 5.24863 12.8164L10.0807 8.17095L5.24863 3.52799C5.08288 3.36425 5 3.17439 5 2.95841C5 2.81118 5.03662 2.67842 5.10986 2.56013C5.1831 2.44183 5.28016 2.34771 5.40104 2.27777C5.52191 2.20782 5.65752 2.17285 5.80787 2.17285C6.02742 2.17285 6.21462 2.24731 6.36949 2.39624L11.7292 7.56473C11.8211 7.65451 11.889 7.74909 11.9329 7.84846C11.9768 7.94784 11.9991 8.05576 12 8.17222Z",fill:"#FFFFFF"}))),Cfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 -2.43189e-06C18.6274 -2.72158e-06 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 8.1423e-07 18.6274 5.24537e-07 12C2.34843e-07 5.37258 5.37258 -2.14219e-06 12 -2.43189e-06ZM11.9999 22.5883C17.8476 22.5883 22.5881 17.8478 22.5881 12.0001C22.5881 6.15238 17.8476 1.41187 11.9999 1.41187C6.15217 1.41187 1.41166 6.15239 1.41166 12.0001C1.41166 17.8478 6.15217 22.5883 11.9999 22.5883Z",fill:"white"}),N.createElement("path",{d:"M10.8547 7.5429C10.524 7.23657 10.0131 7.23657 9.68243 7.5429C9.31416 7.88401 9.31384 8.46633 9.68174 8.80784L13.1206 12L9.68175 15.1922C9.31384 15.5337 9.31416 16.116 9.68243 16.4571C10.0131 16.7634 10.524 16.7634 10.8547 16.4571L14.9802 12.6358C15.3505 12.2928 15.3505 11.7072 14.9802 11.3642L10.8547 7.5429Z",fill:"white"})),Ife=t=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),N.createElement("path",{d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"})),xfe=t=>N.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Group 465"},N.createElement("rect",{id:"Rectangle 368",x:1.25,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 1.25 0)",fill:"white"}),N.createElement("rect",{id:"Rectangle 369",y:8.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 0 8.75)",fill:"white"}))),Lfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{y:.00195312,width:24,height:24,rx:12,fill:"#F80022"}),N.createElement("rect",{x:8.25,y:7.00195,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7.00195)",fill:"white"}),N.createElement("rect",{x:7,y:15.752,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.752)",fill:"white"})),Rfe=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Frame"},N.createElement("path",{id:"Vector",d:"M5.79479 6.80154C5.5243 6.53492 5.11861 6.53492 4.84812 6.80154C4.57768 7.06812 4.57768 7.46803 4.84812 7.73465L7.62043 10.6673C7.75567 10.8006 7.95852 10.8672 8.09376 10.8672C8.29661 10.8672 8.49945 10.8006 8.5671 10.6007L15.1936 2.40258C15.3964 2.13598 15.3964 1.66942 15.0583 1.46947C14.8555 1.26951 14.4498 1.26951 14.1793 1.60277L12.827 3.26904C11.6099 2.06932 9.85181 1.33616 8.09376 1.33616C4.37481 1.33616 1.33203 4.33546 1.33203 8.00128C1.33203 11.6671 4.37481 14.6663 8.09376 14.6663C11.8127 14.6663 14.8555 11.6671 14.8555 8.00128C14.8555 7.40141 14.7879 6.80154 14.5851 6.20168C14.4498 5.86843 14.1117 5.66848 13.7736 5.73514C13.4355 5.80176 13.2327 6.20168 13.3003 6.53492C13.4355 7.0015 13.5031 7.5347 13.5031 8.00128C13.5031 10.9339 11.0689 13.3333 8.09376 13.3333C5.11861 13.3333 2.68438 10.9339 2.68438 8.00128C2.68438 5.06861 5.11861 2.66918 8.09376 2.66918C9.58136 2.66918 10.9337 3.26904 12.0156 4.33546L8.09376 9.20096L5.79479 6.80154Z",fill:"white"}))),Nfe=t=>N.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M15.8 22.0002H6C4 22.0002 2.5 20.5002 2.5 18.5002V8.7002C2.5 6.8002 4 5.2002 6 5.2002H15.8C17.7 5.2002 19.3 6.7002 19.3 8.7002V18.5002C19.2 20.5002 17.7 22.0002 15.8 22.0002ZM6 7.3002C5.2 7.3002 4.5 7.9002 4.5 8.7002V18.5002C4.5 19.3002 5.2 20.0002 6 20.0002H15.8C16.6 20.0002 17.3 19.3002 17.3 18.5002V8.7002C17.3 7.9002 16.6 7.2002 15.8 7.2002H6V7.3002Z",fill:"#107D57"}),N.createElement("path",{d:"M21.5016 17.9C20.9016 17.9 20.5016 17.5 20.5016 16.9V6.3C20.5016 5 19.5016 4 18.2016 4H7.60157C7.00156 4 6.60156 3.6 6.60156 3C6.60156 2.4 7.00156 2 7.60157 2H18.2016C20.6016 2 22.5016 3.9 22.5016 6.3V16.9C22.5016 17.5 22.1016 17.9 21.5016 17.9Z",fill:"#107D57"})),Ofe=t=>N.createElement("svg",{width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Features"},N.createElement("path",{id:"Icon",d:"M29.481 9.15331H24.5286V8.57275C24.5286 8.25228 24.282 7.99219 23.9783 7.99219H10.7717C10.468 7.99219 10.2215 8.25228 10.2215 8.57275V9.15331H5.26902C4.96527 9.15331 4.71875 9.4134 4.71875 9.73388V12.5945C4.71875 16.4366 7.68032 19.5612 11.322 19.5612C11.344 19.5612 11.3627 19.5508 11.3837 19.5484C12.3752 21.1508 13.9204 22.3491 15.7088 22.8205C15.6395 24.2719 15.2884 24.8688 14.2297 26.0183L13.9303 26.3411C12.416 27.9806 11.322 27.9511 11.322 29.2725C11.322 29.5929 11.5685 29.853 11.8723 29.853H22.8777C23.1815 29.853 23.428 29.5929 23.428 29.2725C23.428 27.9511 22.3341 27.9806 20.8197 26.3411L20.5215 26.0172C19.4628 24.8677 19.1117 24.2707 19.0423 22.8193C20.8307 22.3491 22.3759 21.1496 23.3675 19.5473C23.3873 19.5508 23.406 19.5612 23.428 19.5612C27.0697 19.5612 30.0313 16.4366 30.0313 12.5945V9.73388C30.0313 9.4134 29.7848 9.15331 29.481 9.15331ZM5.81929 12.5945V10.3144H10.2215V15.4973C10.2215 16.497 10.4196 17.4584 10.7717 18.342C7.99947 18.0459 5.81929 15.5971 5.81929 12.5945ZM28.9307 12.5945C28.9307 15.5971 26.7506 18.0459 23.9783 18.342C24.3305 17.4596 24.5286 16.4982 24.5286 15.4973V10.3144H28.9307V12.5945Z",fill:"white"}))),Dfe=t=>N.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"CarbonUserAvatar 1"},N.createElement("g",{id:"Group 232"},N.createElement("path",{id:"Vector",d:"M19.9992 14.2861C19.2928 14.2861 18.6023 14.4956 18.015 14.888C17.4277 15.2805 16.9699 15.8382 16.6996 16.4908C16.4293 17.1434 16.3586 17.8615 16.4964 18.5543C16.6342 19.2471 16.9743 19.8835 17.4738 20.3829C17.9733 20.8824 18.6096 21.2226 19.3024 21.3604C19.9952 21.4982 20.7133 21.4274 21.3659 21.1571C22.0185 20.8868 22.5763 20.4291 22.9687 19.8417C23.3611 19.2544 23.5706 18.5639 23.5706 17.8576C23.5706 16.9104 23.1943 16.002 22.5245 15.3322C21.8548 14.6624 20.9464 14.2861 19.9992 14.2861ZM19.9992 20.0004C19.5753 20.0004 19.161 19.8747 18.8087 19.6393C18.4563 19.4038 18.1816 19.0692 18.0194 18.6776C17.8572 18.286 17.8148 17.8552 17.8975 17.4395C17.9802 17.0238 18.1843 16.642 18.4839 16.3423C18.7836 16.0426 19.1654 15.8386 19.5811 15.7559C19.9968 15.6732 20.4276 15.7156 20.8192 15.8778C21.2108 16.04 21.5454 16.3147 21.7809 16.6671C22.0163 17.0194 22.142 17.4337 22.142 17.8576C22.1415 18.4257 21.9155 18.9704 21.5138 19.3722C21.112 19.7739 20.5673 19.9999 19.9992 20.0004Z",fill:"white"}),N.createElement("path",{id:"Vector_2",d:"M20 10C18.0222 10 16.0888 10.5865 14.4443 11.6853C12.7998 12.7841 11.5181 14.3459 10.7612 16.1732C10.0043 18.0004 9.8063 20.0111 10.1922 21.9509C10.578 23.8907 11.5304 25.6725 12.9289 27.0711C14.3275 28.4696 16.1093 29.422 18.0491 29.8078C19.9889 30.1937 21.9996 29.9957 23.8268 29.2388C25.6541 28.4819 27.2159 27.2002 28.3147 25.5557C29.4135 23.9112 30 21.9778 30 20C29.997 17.3488 28.9424 14.807 27.0677 12.9323C25.193 11.0576 22.6512 10.003 20 10ZM15.7143 27.4121V26.4286C15.7149 25.8604 15.9408 25.3157 16.3425 24.914C16.7443 24.5122 17.289 24.2863 17.8571 24.2857H22.1429C22.711 24.2863 23.2557 24.5122 23.6575 24.914C24.0592 25.3157 24.2851 25.8604 24.2857 26.4286V27.4121C22.9851 28.1716 21.5061 28.5718 20 28.5718C18.4939 28.5718 17.0149 28.1716 15.7143 27.4121ZM25.7086 26.3757C25.6943 25.4388 25.3126 24.545 24.6457 23.8868C23.9787 23.2287 23.0799 22.8589 22.1429 22.8571H17.8571C16.9201 22.8589 16.0213 23.2287 15.3544 23.8868C14.6874 24.545 14.3057 25.4388 14.2914 26.3757C12.9961 25.2191 12.0827 23.6963 11.672 22.009C11.2614 20.3218 11.3729 18.5495 11.9919 16.927C12.6108 15.3046 13.708 13.9083 15.1381 12.9233C16.5682 11.9382 18.2638 11.4107 20.0004 11.4107C21.7369 11.4107 23.4325 11.9382 24.8626 12.9233C26.2927 13.9083 27.3899 15.3046 28.0088 16.927C28.6278 18.5495 28.7393 20.3218 28.3287 22.009C27.9181 23.6963 27.0039 25.2191 25.7086 26.3757Z",fill:"white"})))),Pfe=t=>N.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Features"},N.createElement("g",{id:"Icon"},N.createElement("path",{d:"M6.2368 7.85018C6.38779 7.85018 6.49435 7.75233 6.50322 7.59222C6.76084 5.50185 6.85854 5.44848 8.99025 5.09267C9.15897 5.07488 9.25666 4.98592 9.25666 4.8347C9.25666 4.69238 9.15896 4.60343 9.0258 4.57675L8.93118 4.55875C6.87281 4.16737 6.75701 4.14535 6.50322 2.08609C6.49435 1.92597 6.38779 1.82812 6.2368 1.82812C6.10356 1.82812 5.99699 1.92597 5.98805 2.07719C5.71277 4.20315 5.64167 4.26541 3.46555 4.57675C3.3323 4.59454 3.23461 4.69238 3.23461 4.8347C3.23461 4.97703 3.3323 5.07488 3.46555 5.09267L3.53156 5.10562C5.64296 5.51968 5.70672 5.53218 5.98805 7.61001C5.99699 7.75233 6.10356 7.85018 6.2368 7.85018Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{d:"M7.8622 11.3244C7.9435 11.3244 8.00088 11.2718 8.00566 11.1855C8.14438 10.06 8.19699 10.0312 9.34483 9.83963C9.43568 9.83005 9.48828 9.78216 9.48828 9.70073C9.48828 9.62409 9.43568 9.57619 9.36397 9.56183L9.31302 9.55214C8.20467 9.34139 8.14231 9.32954 8.00566 8.2207C8.00088 8.13449 7.9435 8.0818 7.8622 8.0818C7.79046 8.0818 7.73307 8.13449 7.72826 8.21591C7.58003 9.36066 7.54175 9.39419 6.36999 9.56183C6.29824 9.57141 6.24564 9.62409 6.24564 9.70073C6.24564 9.77736 6.29824 9.83005 6.36999 9.83963L6.40553 9.84661C7.54244 10.0696 7.57678 10.0763 7.72826 11.1951C7.73307 11.2718 7.79046 11.3244 7.8622 11.3244Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{d:"M2.61901 7.53919C2.61628 7.58846 2.58349 7.61857 2.53703 7.61857C2.49604 7.61857 2.46325 7.58846 2.46049 7.54467C2.37393 6.90533 2.35431 6.90149 1.70465 6.77408L1.68434 6.7701C1.64334 6.76462 1.61328 6.73452 1.61328 6.69073C1.61328 6.64693 1.64334 6.61683 1.68434 6.61135C2.35392 6.51556 2.37579 6.4964 2.46049 5.84226C2.46325 5.79573 2.49604 5.76562 2.53703 5.76562C2.58349 5.76562 2.61628 5.79573 2.61901 5.845C2.6971 6.47862 2.73273 6.48539 3.36607 6.60582L3.39519 6.61135C3.43616 6.61956 3.46622 6.64693 3.46622 6.69073C3.46622 6.73725 3.43616 6.76462 3.38425 6.7701C2.72834 6.87958 2.69828 6.896 2.61901 7.53919Z",fill:"white",style:{fill:"white",fillOpacity:1}})))),Mfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{width:24,height:24,rx:12,fill:"white",fillOpacity:.1}),N.createElement("rect",{x:8.25,y:7,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7)",fill:"white"}),N.createElement("rect",{x:7,y:15.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.75)",fill:"white"})),$fe=t=>N.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M9.16683 2.66671H7.16683C5.29999 2.66671 4.36657 2.66671 3.65353 3.03002C3.02632 3.3496 2.51639 3.85953 2.19681 4.48674C1.8335 5.19978 1.8335 6.1332 1.8335 8.00004V9.33337C1.8335 11.2002 1.8335 12.1336 2.19681 12.8467C2.51639 13.4739 3.02632 13.9838 3.65353 14.3034C4.36657 14.6667 5.29999 14.6667 7.16683 14.6667H8.50016C10.367 14.6667 11.3004 14.6667 12.0135 14.3034C12.6407 13.9838 13.1506 13.4739 13.4702 12.8467C13.8335 12.1336 13.8335 11.2002 13.8335 9.33337V7.33337M8.50016 8.00004L15.1668 1.33337M15.1668 1.33337H11.8335M15.1668 1.33337V4.66671",stroke:"#107D57",strokeLinecap:"round",strokeLinejoin:"round"})),Ufe=t=>N.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{width:32,height:32,rx:16,fill:"white"}),N.createElement("path",{d:"M10.4615 12.6875C9.44231 12.6875 8.61538 13.4665 8.61538 14.4266C8.61538 15.3868 9.44231 16.1658 10.4615 16.1658C11.4808 16.1658 12.3077 15.3868 12.3077 14.4266C12.3077 13.4665 11.4808 12.6875 10.4615 12.6875ZM10.4615 16.1658C9.10817 16.1658 8 17.2097 8 18.4846V19.7527C8 19.7527 8.61538 20.2237 10.4615 20.2237C12.3077 20.2237 12.9231 19.7527 12.9231 19.7527V18.4846C12.9231 17.2097 11.8149 16.1658 10.4615 16.1658ZM21.5385 12.6875C20.5192 12.6875 19.6923 13.4665 19.6923 14.4266C19.6923 15.3868 20.5192 16.1658 21.5385 16.1658C22.5577 16.1658 23.3846 15.3868 23.3846 14.4266C23.3846 13.4665 22.5577 12.6875 21.5385 12.6875ZM21.5385 16.1658C20.1851 16.1658 19.0769 17.2097 19.0769 18.4846V19.7527C19.0769 19.7527 19.6923 20.2237 21.5385 20.2237C23.3846 20.2237 24 19.7527 24 19.7527V18.4846C24 17.2097 22.8918 16.1658 21.5385 16.1658ZM16 15.0063C14.9808 15.0063 14.1538 15.7853 14.1538 16.7455C14.1538 17.7056 14.9808 18.4846 16 18.4846C17.0192 18.4846 17.8462 17.7056 17.8462 16.7455C17.8462 15.7853 17.0192 15.0063 16 15.0063ZM16 18.4846C14.6466 18.4846 13.5385 19.5285 13.5385 20.8034V22.0715C13.5385 22.0715 14.1538 22.5425 16 22.5425C17.8462 22.5425 18.4615 22.0715 18.4615 22.0715V20.8034C18.4615 19.5285 17.3534 18.4846 16 18.4846Z",fill:"#107D57"}),N.createElement("path",{opacity:.5,d:"M13.3908 9C12.3103 9 11.4336 9.82584 11.4336 10.8437C11.4336 11.8616 12.3103 12.6875 13.3908 12.6875C14.4713 12.6875 15.348 11.8616 15.348 10.8437C15.348 9.82584 14.4713 9 13.3908 9ZM13.3908 12.6875C13.1946 12.6875 12.9958 12.6827 12.7996 12.7451C13.192 13.2372 13.3908 13.8542 13.3908 14.5312C13.3908 14.7761 13.3296 15.0161 13.3296 15.261C13.8521 14.524 14.6956 14.0391 15.6742 13.9166C15.218 13.1796 14.3694 12.6875 13.3908 12.6875ZM18.61 9C17.5295 9 16.6528 9.82584 16.6528 10.8437C16.6528 11.8616 17.5295 12.6875 18.61 12.6875C19.6905 12.6875 20.5672 11.8616 20.5672 10.8437C20.5672 9.82584 19.6905 9 18.61 9ZM18.61 12.6875C17.6314 12.6875 16.7828 13.1796 16.3266 13.9166C17.3052 14.0391 18.1487 14.524 18.6712 15.261C18.6712 15.0161 18.61 14.7761 18.61 14.5312C18.61 13.8542 18.8088 13.2372 19.2012 12.7451C19.005 12.6827 18.8062 12.6875 18.61 12.6875Z",fill:"#107D57"})),Ffe=t=>N.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Share"},N.createElement("path",{id:"Vector",d:"M11 4.965V1.125L18 7.845L11 14.565V10.629C6 10.629 2.5 12.165 0 15.525C1 10.725 4 5.925 11 4.965Z",fill:"white"}))),Bfe=t=>N.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"sc-ANdsN kTVWJE",...t},N.createElement("path",{d:"M6.6665 3.16669H4.99984C4.26346 3.16669 3.6665 3.76364 3.6665 4.50002V11.5C3.6665 12.2364 4.26346 12.8334 4.99984 12.8334H11.9998C12.7362 12.8334 13.3332 12.2364 13.3332 11.5V9.83335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M13.3335 6.16669V3.16669H10.3335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{d:"M13.1668 3.33331L8.3335 8.16665",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),jfe=t=>N.createElement("svg",{width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Group"},N.createElement("path",{id:"Vector",d:"M12.5396 12.431L15.8603 9.00169L12.5396 5.57239",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{id:"Vector_2",d:"M15.8602 9.00159H5.57227",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),N.createElement("path",{id:"Vector_3",d:"M12.431 1L3.2862 1.00229C2.02422 1.00343 1 2.02651 1 3.28849V14.7138C1 15.3201 1.24087 15.9016 1.66961 16.3304C2.09836 16.7591 2.67987 17 3.2862 17H12.5396",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Vfe=t=>N.createElement("svg",{width:99,height:96,viewBox:"0 0 99 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Masters Logo Big"},N.createElement("path",{id:"Vector",d:"M67.4732 4.82378C66.1754 4.41151 64.8776 5.1433 63.5798 5.88539C63.117 6.15337 62.7951 6.60687 62.6844 7.13253L60.6421 16.9035C60.5616 17.2642 60.8836 17.594 61.2357 17.5116C63.3786 17.0065 65.4208 15.0894 67.5738 15.7594C69.9783 16.5118 72.3928 13.3888 74.7972 13.43V2.1543C72.3626 2.1646 69.8776 5.57618 67.4732 4.82378Z",fill:"white"}),N.createElement("path",{id:"Vector_2",d:"M98.1678 34.7754C97.6547 34.4147 97.3429 33.8272 97.3429 33.1882V31.4051C97.3429 29.8075 96.0752 28.5089 94.5159 28.5089H93.3891C92.041 28.5089 90.8035 29.1994 90.0691 30.3538L86.4272 36.1153C86.065 36.6822 85.4514 37.0223 84.7974 37.0223H82.3427C81.1253 37.0223 80.0086 37.7026 79.4251 38.8054C78.8215 39.9392 77.7752 40.7225 76.5679 40.9905V0.917313C76.5679 0.412276 76.1756 0 75.6726 0C75.1796 0 74.7772 0.412276 74.7772 0.917313V2.15414V13.4196V41.0111C73.5699 40.7431 72.5236 39.9598 71.92 38.8261C71.3465 37.7232 70.2298 37.043 69.0125 37.043H67.3626C66.0547 37.043 64.8676 37.8366 64.3344 39.0528L62.9661 42.2067C62.7448 42.7014 62.2619 43.0313 61.7287 43.0313C61.1955 43.0313 60.7126 42.7118 60.4913 42.2067L59.123 39.0528C58.5898 37.8263 57.4027 37.0327 56.0948 37.0327H9.52479C9.14249 37.0327 8.84068 37.3419 8.84068 37.7335C8.84068 38.5478 8.18674 39.2177 7.39196 39.2177H5.37986C4.99757 39.2177 4.69575 39.5269 4.69575 39.9186V42.3098C4.69575 44.5567 4.26315 46.7624 3.42813 48.834L2.20075 51.8643C1.05385 54.6884 0.510584 57.5846 0.520645 60.4396V67.4071C0.520645 69.2932 0.782218 71.1897 1.31542 73.0449C2.81444 78.2396 6.20483 82.4963 10.893 85.0215L18.3378 89.0412C18.4384 89.0928 18.539 89.1237 18.6497 89.1237L24.1528 89.1649C25.4405 89.1752 26.7081 89.5153 27.8248 90.1544L30.7826 91.8447C30.8832 91.9065 30.9939 91.9375 31.1146 91.9375H35.0684C36.4567 91.9375 37.825 92.3291 39.0121 93.0609C39.0121 93.0609 40.9437 94.2668 41.5977 94.6585C42.6439 95.2872 43.9116 95.885 46.1148 95.9984C46.6178 96.019 47.1108 95.8438 47.483 95.483C47.8553 95.1223 48.0666 94.6172 48.0666 94.0916V91.3809C48.0666 89.4123 49.2034 87.6292 50.964 86.8355L57.0003 84.1145C57.8252 83.7435 58.7508 83.6816 59.6059 83.9496L61.8595 84.6402C62.8152 84.9288 63.8313 84.9391 64.7972 84.6402L70.1493 83.0117C70.8636 82.7952 71.6081 82.7952 72.3325 83.022L74.5055 83.6507C75.5216 83.9496 76.2259 84.8979 76.2259 85.9801V91.4118C76.2259 93.937 78.238 95.9984 80.7028 95.9984C82.5439 95.9984 84.1636 94.7822 84.7169 92.9888C85.723 89.7421 86.2361 86.3614 86.2361 82.9499V80.6411C86.2361 79.0023 86.9001 77.415 88.0671 76.2916L90.2905 74.1375C91.7895 72.6739 92.6547 70.6228 92.6547 68.4996V55.616C92.6547 53.6164 93.2382 51.6994 94.3549 50.0606C94.4354 49.9472 94.4756 49.8029 94.4756 49.6586V46.6284C94.4756 44.6494 95.0591 42.7324 96.1557 41.1039L98.359 37.8263C98.4395 37.7129 98.4797 37.5686 98.4797 37.4346V35.3732C98.4797 34.9713 98.2584 34.8373 98.1678 34.7754ZM74.7872 69.2211C73.2882 68.9943 72.1816 68.2007 72.1816 67.2628C72.1816 66.3248 73.2882 65.5312 74.7872 65.3045V69.2211ZM76.5679 65.2941C78.0669 65.5209 79.1736 66.3145 79.1736 67.2525C79.1736 68.1904 78.0669 68.984 76.5679 69.2108V65.2941ZM12.6637 84.3928L11.5268 83.7847C8.45838 82.1356 6.00362 79.6619 4.32351 76.673V72.9109C6.24507 75.7556 8.85074 78.1881 12.05 79.9093L12.6637 80.2391V84.3928ZM18.3478 87.4643L15.3398 85.8461V81.6924L18.3378 83.3106H18.3478V87.4643ZM30.8832 90.2987L28.4989 88.9382C27.2011 88.1961 25.7322 87.7941 24.2534 87.7735V83.4343C25.5009 83.4652 26.7383 83.795 27.8349 84.4237L30.7927 86.1141C30.8229 86.1347 30.853 86.1244 30.8832 86.1347V90.2987ZM46.6983 91.3706V93.4835V94.0813C46.6983 94.2256 46.638 94.3596 46.5474 94.4523C46.4468 94.5451 46.3261 94.5966 46.1953 94.5863C44.2939 94.4833 43.1973 93.9782 42.3019 93.432C41.658 93.0403 39.7365 91.8447 39.7264 91.8447C38.5191 91.1026 37.161 90.68 35.7626 90.577V86.2377C36.9095 86.3408 38.0262 86.7016 39.0222 87.3097L40.6821 88.33C42.5031 89.4535 44.5756 90.0925 46.6983 90.2059V91.3706ZM63.1372 83.4446C62.8354 83.424 62.5436 83.3827 62.2519 83.3003L59.9983 82.6097C59.5154 82.4654 59.0124 82.4036 58.5194 82.4036V78.0644C58.8816 78.0644 59.2538 78.1056 59.6059 78.2087L61.8595 78.8992C62.272 79.0229 62.7046 79.0848 63.1372 79.1054V83.4446ZM77.2923 84.4959C76.8597 83.4549 75.9945 82.62 74.8878 82.3005L72.7248 81.6718C72.2117 81.5069 71.6785 81.445 71.1453 81.4554V77.1265C71.5578 77.1161 71.9703 77.1677 72.3727 77.3017L74.1534 77.8789C76.0347 78.487 77.3024 80.2494 77.3024 82.2696V84.4959H77.2923ZM83.5197 92.1848C83.4795 92.3085 83.4594 92.4322 83.4191 92.5559C83.0368 93.7721 81.9503 94.5863 80.7028 94.5863C80.5921 94.5863 80.4815 94.5657 80.3708 94.5554V90.2265C80.4513 90.2368 80.5318 90.2471 80.6223 90.2471C81.8396 90.2471 82.9362 89.5463 83.5197 88.495V92.1848ZM95.1799 38.0118C93.8217 40.032 93.1074 42.4025 93.1074 44.8556V46.9994L92.051 48.5661C90.6828 50.5965 89.9484 52.9774 89.9484 55.4408V66.2218C89.9484 67.9739 89.2442 69.6643 88.0067 70.8702L85.7834 73.0346C84.2944 74.4879 83.4694 76.539 83.5298 78.6519L83.5399 79.1363C83.6203 81.9398 83.2682 84.7226 82.5137 87.4127C82.2722 88.2682 81.4976 88.866 80.6223 88.866C79.5358 88.866 78.6605 87.959 78.6605 86.8562V82.2696C78.6605 79.631 77.0106 77.3326 74.5558 76.539L72.7751 75.9618C71.7892 75.6423 70.753 75.6423 69.767 75.9412L64.4149 77.5697C63.7106 77.7861 62.9661 77.7861 62.2519 77.5697L59.9983 76.8791C58.8313 76.5183 57.5637 76.6008 56.4469 77.1058L51.6883 79.2497C48.6501 80.6102 46.6883 83.6919 46.6883 87.0932V88.8454C44.817 88.732 42.986 88.1548 41.3763 87.1654L39.7163 86.145C38.3079 85.2792 36.7083 84.8257 35.0684 84.8257H31.3058L28.5089 83.2281C27.191 82.4757 25.692 82.0635 24.1729 82.0532L18.8307 82.0119L12.6938 78.7034C3.38789 73.653 -0.58601 62.367 3.45831 52.4208L4.68569 49.3906C5.6012 47.1437 6.06398 44.7628 6.06398 42.3304V40.6401H7.39196C8.70989 40.6401 9.81654 39.7021 10.1284 38.455H56.0948C56.8594 38.455 57.5637 38.9188 57.8755 39.6403L59.2438 42.7942C59.6764 43.8043 60.6522 44.4536 61.7287 44.4536C62.8052 44.4536 63.781 43.8043 64.2136 42.8045L65.5819 39.6506C65.8938 38.9291 66.5879 38.4653 67.3626 38.4653H69.0125C69.7268 38.4653 70.3807 38.8673 70.7228 39.5063C71.5679 41.1039 73.0769 42.1758 74.7872 42.4541V62.2639C72.0307 62.5731 69.918 64.2532 69.918 66.3042C69.918 68.5614 72.4934 70.3961 75.6726 70.3961C78.8517 70.3961 81.4272 68.5614 81.4272 66.3042C81.4272 64.2635 79.3145 62.5731 76.5579 62.2639V42.4438C78.2682 42.1655 79.7772 41.0936 80.6223 39.496C80.9644 38.857 81.6183 38.455 82.3326 38.455H84.7874C85.9141 38.455 86.9504 37.8778 87.5641 36.909L91.206 31.1371C91.6889 30.3847 92.4937 29.9312 93.379 29.9312H94.5058C95.3106 29.9312 95.9646 30.6012 95.9646 31.4257V33.2088C95.9646 34.0746 96.2865 34.8888 96.86 35.4969L95.1799 38.0118Z",fill:"white"}))),Hfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1121 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{d:"M18.0226 12.5545L19.8749 14.4067C20.1678 14.6996 20.6427 14.6996 20.9356 14.4067C21.2284 14.1138 21.2284 13.6389 20.9355 13.346L19.0833 11.4939L20.9355 9.64182C21.2284 9.34894 21.2284 8.87406 20.9356 8.58116C20.6427 8.28825 20.1678 8.28824 19.8749 8.58112L18.0226 10.4333L16.1703 8.58112C15.8774 8.28824 15.4025 8.28825 15.1096 8.58116C14.8167 8.87406 14.8167 9.34894 15.1096 9.64182L16.9619 11.4939L15.1096 13.346C14.8167 13.6389 14.8167 14.1138 15.1096 14.4067C15.4025 14.6996 15.8774 14.6996 16.1703 14.4067L18.0226 12.5545Z",fill:"white",style:{fill:"white",fillOpacity:1}})),Gfe=t=>N.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("circle",{opacity:.5,cx:24,cy:24,r:24,fill:"black",style:{fill:"black",fillOpacity:1}}),N.createElement("rect",{x:18,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("rect",{x:26,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}})),qfe=t=>N.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("circle",{opacity:.5,cx:24,cy:24.001,r:24,fill:"black"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5432 24.7938C33.215 24.3331 33.2822 23.5173 32.5432 23.0567C23.7807 17.6245 19.6442 14.918 19.1356 14.5917C18.3486 14.083 17.6 14.6973 17.6 15.2059V32.7501C17.6 33.3259 18.5309 33.8442 19.1356 33.4795C20.2201 32.8172 31.8714 25.2641 32.5336 24.8034L32.5432 24.7938Z",fill:"white"})),zfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M18.5625 5.0625V18.9375M15.6454 11.3897L7.18592 5.3471C6.68953 4.99253 6 5.34737 6 5.95739L6 18.0426C6 18.6526 6.68953 19.0075 7.18592 18.6529L15.6454 12.6103C16.0642 12.3112 16.0642 11.6888 15.6454 11.3897Z",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Wfe=t=>N.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{id:"Start - You",d:"M8 0L9.79611 5.52786H15.6085L10.9062 8.94427L12.7023 14.4721L8 11.0557L3.29772 14.4721L5.09383 8.94427L0.391548 5.52786H6.20389L8 0Z",fill:"#F4D22A"})),Kfe=t=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:22,height:22,viewBox:"0 0 22 22",fill:"none",...t},N.createElement("path",{d:"M5.5 2.78867V12.4137C5.5 13.1729 4.88426 13.75 4.125 13.75H1.375C0.615742 13.75 0 13.1343 0 12.4137V2.82734C0 2.06808 0.615742 1.49102 1.375 1.49102H4.125C4.88555 1.41367 5.5 1.99375 5.5 2.78867ZM22 12.3707C22 13.5094 21.077 14.4323 19.9375 14.4323H13.6426C14.621 16.0613 15.1259 17.9077 15.1259 18.5582C15.125 19.5714 14.3301 20.625 12.998 20.625C10.2854 20.625 11.8654 17.3529 8.34883 14.5406L7.64844 13.982C7.14141 13.5738 6.88359 12.9766 6.8793 12.375C6.87829 12.374 6.8793 12.375 6.8793 12.375L6.875 5.5C6.875 4.85117 7.18064 4.23973 7.7 3.85043L9.16695 2.75086C10.3555 1.85625 11.8035 1.375 13.2902 1.375H15.8125C16.952 1.375 17.875 2.29754 17.875 3.43664C17.875 3.59283 17.8544 3.74357 17.8215 3.88996C18.6484 4.15937 19.25 4.92422 19.25 5.84375C19.25 6.23683 19.1341 6.60043 18.9432 6.91281C19.8988 7.08984 20.625 7.92773 20.625 8.9332C20.625 9.47031 20.4148 9.955 20.0784 10.322C21.1492 10.3941 22 11.2793 22 12.3707Z",fill:"white"})),Yfe=t=>N.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M17.4777 8.95762C17.4777 8.70612 17.4177 8.47012 17.3172 8.25562C16.6467 6.09262 13.5077 6.25062 9.04275 6.14512C8.29625 6.12762 8.72325 5.24612 8.98525 3.31112C9.15575 2.05262 8.34425 0.120117 6.98025 0.120117C4.73125 0.120117 6.89475 1.89412 4.90625 6.28112C3.84375 8.62512 1.46875 7.31212 1.46875 9.66662V15.0261C1.46875 15.9426 1.55875 16.8236 2.84775 16.9686C4.09725 17.1091 3.81625 17.9996 5.61875 17.9996H14.6407C15.5597 17.9996 16.3072 17.2516 16.3072 16.3326C16.3072 15.9516 16.1737 15.6046 15.9582 15.3236C16.4682 15.0381 16.8182 14.4991 16.8182 13.8741C16.8182 13.4941 16.6852 13.1471 16.4702 12.8666C16.9817 12.5816 17.3327 12.0421 17.3327 11.4161C17.3327 10.9616 17.1487 10.5496 16.8522 10.2481C17.2307 9.94262 17.4777 9.48062 17.4777 8.95762Z",fill:"white"}),N.createElement("path",{d:"M11.5088 10.625H15.8108C16.3958 10.625 16.9448 10.312 17.2438 9.80849C17.3668 9.60099 17.2983 9.33249 17.0903 9.20899C16.8828 9.08549 16.6143 9.15499 16.4908 9.36249C16.3493 9.60199 16.0878 9.74999 15.8103 9.74999H11.4053C10.9688 9.74999 10.6138 9.39499 10.6138 8.95849C10.6138 8.52199 10.9688 8.16699 11.4053 8.16699H14.3488C14.5903 8.16699 14.7863 7.97099 14.7863 7.72949C14.7863 7.48799 14.5903 7.29199 14.3488 7.29199H11.4048C10.4858 7.29199 9.73828 8.03949 9.73828 8.95849C9.73828 9.47099 9.97578 9.92449 10.3408 10.2305C10.0333 10.533 9.84178 10.953 9.84178 11.417C9.84178 11.931 10.0808 12.386 10.4478 12.6915C10.1423 12.9935 9.95278 13.412 9.95278 13.875C9.95278 14.435 10.2323 14.929 10.6573 15.2315C10.3953 15.526 10.2313 15.9095 10.2313 16.3335C10.2313 17.2525 10.9788 18 11.8978 18H14.6398C15.2248 18 15.7743 17.6875 16.0733 17.184C16.1968 16.9765 16.1283 16.708 15.9208 16.5845C15.7128 16.462 15.4443 16.5295 15.3213 16.737C15.1788 16.9765 14.9173 17.125 14.6398 17.125H11.8978C11.4613 17.125 11.1063 16.77 11.1063 16.3335C11.1063 15.897 11.4613 15.542 11.8978 15.542H15.1508C15.7358 15.542 16.2858 15.229 16.5843 14.7255C16.7078 14.5175 16.6393 14.249 16.4318 14.126C16.2223 14.0005 15.9548 14.071 15.8323 14.2785C15.6878 14.522 15.4328 14.667 15.1508 14.667H11.6193C11.1828 14.667 10.8278 14.3115 10.8278 13.875C10.8278 13.4385 11.1828 13.0835 11.6193 13.0835H15.6648C16.2498 13.0835 16.7993 12.771 17.0983 12.2675C17.2218 12.06 17.1533 11.7915 16.9458 11.668C16.7373 11.545 16.4693 11.613 16.3463 11.8205C16.2018 12.0635 15.9468 12.2085 15.6648 12.2085H11.5088C11.0723 12.2085 10.7173 11.8535 10.7173 11.417C10.7173 10.9805 11.0718 10.625 11.5088 10.625Z",fill:"#107D57"})),Qfe=t=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Trivia"},N.createElement("rect",{id:"Rectangle 328",x:.56009,y:2.8074,width:16.55,height:16.55,rx:2.14375,transform:"rotate(-7.80777 0.56009 2.8074)",stroke:"#006747",style:{stroke:"#006747",stroke:"color(display-p3 0.0000 0.4039 0.2784)",strokeOpacity:1},strokeWidth:1.4}),N.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M9.62237 4.17188C10.5053 4.17188 11.2837 4.37793 11.8733 4.76716L11.8732 4.76718C12.5572 5.21938 12.9636 5.89049 13.0796 6.75908C13.2656 8.14856 12.2625 9.08727 11.5284 9.77271C11.2207 10.0589 10.956 10.3079 10.8501 10.5183C10.7752 10.6652 10.7366 10.8269 10.6992 10.9839C10.698 10.989 10.6967 10.994 10.6955 10.9991L10.6952 11.0004C10.5952 11.4278 10.4915 11.8706 9.72822 11.9721C9.67385 11.9793 9.6209 11.9821 9.56938 11.9821C9.28746 11.9821 9.03705 11.8777 8.84673 11.6788C8.67931 11.5056 8.56912 11.2738 8.53621 11.0234C8.40767 10.0551 9.08301 9.37328 9.68028 8.77031L9.68384 8.76671C10.2176 8.23011 10.7199 7.72213 10.6354 7.08534C10.5496 6.43425 10.1275 6.07652 9.44917 6.07652C9.35902 6.07652 9.26601 6.08367 9.1687 6.09655C8.22588 6.22243 8.06263 6.74456 7.88952 7.29821L7.88941 7.29854C7.73775 7.78506 7.58034 8.28732 6.85055 8.38463C6.79188 8.39178 6.73178 8.39608 6.6731 8.39608C6.1279 8.39608 5.72868 8.05407 5.65856 7.52462C5.56127 6.80772 5.86319 6.0307 6.48137 5.39534C7.0924 4.77002 7.94814 4.34216 8.8296 4.22482C9.09577 4.19048 9.36193 4.17188 9.62237 4.17188ZM9.88998 12.7224C9.94722 12.7152 10.0059 12.7109 10.0631 12.7109C10.7228 12.7109 11.2866 13.2032 11.3753 13.8586C11.4697 14.5812 10.9618 15.2466 10.2391 15.3439C10.1804 15.3511 10.1218 15.3554 10.0645 15.3554C9.40485 15.3554 8.84107 14.8617 8.75378 14.2077C8.65791 13.4851 9.16732 12.8197 9.88998 12.7224Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}))),Xfe=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M20.6087 5.32569H17.087V4.91284C17.087 4.68495 16.9117 4.5 16.6957 4.5H7.30435C7.08835 4.5 6.91305 4.68495 6.91305 4.91284V5.32569H3.3913C3.1753 5.32569 3 5.51064 3 5.73853V7.77273C3 10.5049 5.106 12.7269 7.69566 12.7269C7.71131 12.7269 7.72462 12.7194 7.73948 12.7178C8.44462 13.8572 9.5434 14.7093 10.8151 15.0446C10.7658 16.0767 10.5162 16.5012 9.76331 17.3186L9.55044 17.5481C8.47357 18.714 7.69566 18.693 7.69566 19.6326C7.69566 19.8605 7.87096 20.0455 8.08696 20.0455H15.9131C16.1291 20.0455 16.3044 19.8605 16.3044 19.6326C16.3044 18.693 15.5265 18.714 14.4496 17.5481L14.2375 17.3178C13.4846 16.5003 13.235 16.0759 13.1857 15.0437C14.4574 14.7093 15.5562 13.8564 16.2613 12.717C16.2754 12.7194 16.2887 12.7269 16.3044 12.7269C18.894 12.7269 21 10.5049 21 7.77273V5.73853C21 5.51064 20.8247 5.32569 20.6087 5.32569ZM3.78261 7.77273V6.15138H6.91305V9.83695C6.91305 10.5479 7.05392 11.2315 7.30435 11.8599C5.33296 11.6493 3.78261 9.90796 3.78261 7.77273ZM20.2174 7.77273C20.2174 9.90796 18.6671 11.6493 16.6957 11.8599C16.9461 11.2324 17.087 10.5487 17.087 9.83695V6.15138H20.2174V7.77273Z",fill:"#107D57",style:{fill:"#107D57",fill:"color(display-p3 0.0627 0.4902 0.3412)",fillOpacity:1}})),Zfe=t=>N.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Trophy"},N.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M2.76916 3.50002C2.76916 4.49786 2.94705 5.38348 3.30282 6.15692C2.62493 6.01847 2.05883 5.74872 1.6045 5.34768C1.15017 4.94663 0.923008 4.55992 0.923008 4.18752V3.50002H2.76916ZM11.0768 3.50002V4.18752C11.0768 4.55992 10.8497 4.94663 10.3953 5.34768C9.941 5.74872 9.3749 6.01847 8.69701 6.15692C9.05278 5.38348 9.23066 4.49786 9.23066 3.50002H11.0768ZM12 4.1875V3.27083C12 3.07986 11.9327 2.91754 11.7981 2.78385C11.6635 2.65017 11.5 2.58333 11.3077 2.58333H9.23077V1.89583C9.23077 1.58073 9.11779 1.31098 8.89183 1.08659C8.66586 0.862195 8.39423 0.75 8.07692 0.75H3.92308C3.60577 0.75 3.33414 0.862195 3.10817 1.08659C2.88221 1.31098 2.76923 1.58073 2.76923 1.89583V2.58333H0.692308C0.499999 2.58333 0.336539 2.65017 0.201923 2.78385C0.067307 2.91754 0 3.07986 0 3.27083V4.1875C0 4.52648 0.0997586 4.86784 0.299279 5.21159C0.498799 5.55534 0.768027 5.86567 1.10697 6.14258C1.44592 6.41949 1.86178 6.65223 2.35457 6.84082C2.84736 7.02941 3.36538 7.13563 3.90865 7.15951C4.11058 7.41732 4.33894 7.6441 4.59375 7.83984C4.77644 8.00217 4.90264 8.17524 4.97236 8.35905C5.04207 8.54286 5.07692 8.75651 5.07692 9C5.07692 9.25781 5.00361 9.47504 4.85697 9.65169C4.71034 9.82834 4.47596 9.91667 4.15385 9.91667C3.79327 9.91667 3.47236 10.0253 3.19111 10.2425C2.90985 10.4597 2.76923 10.7331 2.76923 11.0625V11.5208C2.76923 11.5877 2.79087 11.6426 2.83413 11.6855C2.8774 11.7285 2.93269 11.75 3 11.75H9C9.06731 11.75 9.1226 11.7285 9.16586 11.6855C9.20913 11.6426 9.23077 11.5877 9.23077 11.5208V11.0625C9.23077 10.7331 9.09015 10.4597 8.80889 10.2425C8.52764 10.0253 8.20673 9.91667 7.84615 9.91667C7.52404 9.91667 7.28966 9.82834 7.14303 9.65169C6.99639 9.47504 6.92308 9.25781 6.92308 9C6.92308 8.75651 6.95793 8.54286 7.02764 8.35905C7.09736 8.17524 7.22356 8.00217 7.40625 7.83984C7.66106 7.6441 7.88942 7.41732 8.09135 7.15951C8.63462 7.13563 9.15264 7.02941 9.64543 6.84082C10.1382 6.65223 10.5541 6.41949 10.893 6.14258C11.232 5.86567 11.5012 5.55534 11.7007 5.21159C11.9002 4.86784 12 4.52648 12 4.1875ZM5.07033 5.38491L6.0383 4.87503L7.00627 5.38491L6.8214 4.30497L7.60451 3.54016L6.52228 3.3826L6.0383 2.40003L5.55431 3.3826L4.47209 3.54016L5.25519 4.30497L5.07033 5.38491Z",fill:"white"}))),Jfe=t=>N.createElement("svg",{width:40,height:39,viewBox:"0 0 40 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{x:.796875,width:38.4,height:38.4,rx:19.2,fill:"#FFB600"}),N.createElement("path",{d:"M31.2752 10.8509H26.5795V10.3005C26.5795 9.99661 26.3458 9.75 26.0578 9.75H13.536C13.248 9.75 13.0143 9.99661 13.0143 10.3005V10.8509H8.31861C8.03061 10.8509 7.79688 11.0975 7.79688 11.4014V14.1136C7.79688 17.7566 10.6049 20.7192 14.0578 20.7192C14.0786 20.7192 14.0964 20.7092 14.1162 20.707C15.0564 22.2263 16.5214 23.3625 18.2171 23.8094C18.1513 25.1856 17.8185 25.7516 16.8146 26.8415L16.5308 27.1475C15.095 28.702 14.0578 28.674 14.0578 29.9268C14.0578 30.2307 14.2915 30.4773 14.5795 30.4773H25.0143C25.3023 30.4773 25.536 30.2307 25.536 29.9268C25.536 28.674 24.4988 28.702 23.063 27.1475L22.7802 26.8404C21.7764 25.7505 21.4435 25.1845 21.3778 23.8083C23.0734 23.3625 24.5385 22.2252 25.4786 20.7059C25.4974 20.7092 25.5152 20.7192 25.536 20.7192C28.9889 20.7192 31.7969 17.7566 31.7969 14.1136V11.4014C31.7969 11.0975 31.5632 10.8509 31.2752 10.8509ZM8.84035 14.1136V11.9518H13.0143V16.8659C13.0143 17.8138 13.2021 18.7254 13.536 19.5632C10.9075 19.2825 8.84035 16.9606 8.84035 14.1136ZM30.7534 14.1136C30.7534 16.9606 28.6863 19.2825 26.0578 19.5632C26.3917 18.7265 26.5795 17.8149 26.5795 16.8659V11.9518H30.7534V14.1136Z",fill:"white"})),e1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Trophy"},N.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M3.69197 4.66662C3.69197 5.99705 3.92914 7.17787 4.4035 8.20912C3.49966 8.02451 2.74487 7.66486 2.1391 7.13014C1.53333 6.59542 1.23046 6.0798 1.23046 5.58328V4.66662H3.69197ZM14.7686 4.66662V5.58328C14.7686 6.0798 14.4658 6.59542 13.86 7.13014C13.2542 7.66486 12.4994 8.02451 11.5956 8.20912C12.0699 7.17787 12.3071 5.99705 12.3071 4.66662H14.7686ZM15.9998 5.58329V4.36108C15.9998 4.10645 15.9101 3.89002 15.7306 3.71178C15.5511 3.53354 15.3332 3.44442 15.0768 3.44442H12.3076V2.52776C12.3076 2.10763 12.1569 1.74797 11.8556 1.44878C11.5544 1.14959 11.1922 1 10.7691 1H5.23072C4.80764 1 4.44547 1.14959 4.14419 1.44878C3.84291 1.74797 3.69227 2.10763 3.69227 2.52776V3.44442H0.923068C0.666659 3.44442 0.448714 3.53354 0.269228 3.71178C0.0897418 3.89002 0 4.10645 0 4.36108V5.58329C0 6.03525 0.13301 6.49039 0.399034 6.94872C0.665059 7.40705 1.02403 7.82082 1.47595 8.19003C1.92787 8.55924 2.48234 8.86957 3.13939 9.12101C3.79644 9.37246 4.48713 9.51409 5.21149 9.54592C5.48071 9.88967 5.7852 10.192 6.12494 10.453C6.36853 10.6695 6.53679 10.9002 6.62974 11.1453C6.72269 11.3904 6.76916 11.6752 6.76916 11.9999C6.76916 12.3436 6.67141 12.6333 6.4759 12.8688C6.28038 13.1043 5.96789 13.2221 5.53841 13.2221C5.05764 13.2221 4.62976 13.3669 4.25476 13.6566C3.87977 13.9462 3.69227 14.3106 3.69227 14.7499V15.361C3.69227 15.4501 3.72112 15.5233 3.77881 15.5806C3.8365 15.6379 3.91022 15.6665 3.99996 15.6665H11.9999C12.0896 15.6665 12.1633 15.6379 12.221 15.5806C12.2787 15.5233 12.3076 15.4501 12.3076 15.361V14.7499C12.3076 14.3106 12.1201 13.9462 11.7451 13.6566C11.3701 13.3669 10.9422 13.2221 10.4614 13.2221C10.0319 13.2221 9.71945 13.1043 9.52394 12.8688C9.32843 12.6333 9.23068 12.3436 9.23068 11.9999C9.23068 11.6752 9.27715 11.3904 9.3701 11.1453C9.46305 10.9002 9.63131 10.6695 9.8749 10.453C10.2146 10.192 10.5191 9.88967 10.7884 9.54592C11.5127 9.51409 12.2034 9.37246 12.8604 9.12101C13.5175 8.86957 14.072 8.55924 14.5239 8.19003C14.9758 7.82082 15.3348 7.40705 15.6008 6.94872C15.8668 6.49039 15.9998 6.03525 15.9998 5.58329ZM6.76047 7.1798L8.05109 6.49997L9.3417 7.1798L9.09521 5.73989L10.1393 4.72015L8.69639 4.51007L8.05109 3.2L7.40578 4.51007L5.96283 4.72015L7.00696 5.73989L6.76047 7.1798Z",fill:"#F2C94C"}))),t1e=t=>N.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9234 2.06117C12.6527 2.79041 12.797 3.88306 12.3564 4.75616L12.3698 4.78833C13.2984 5.09432 13.9688 5.96888 13.9688 7C13.9688 8.03112 13.2984 8.90568 12.3698 9.21167L12.3565 9.24364C12.7971 10.1167 12.6527 11.2094 11.9235 11.9386C11.1944 12.6678 10.1019 12.8122 9.22883 12.3718L9.19604 12.3854C8.89006 13.314 8.0155 13.9844 6.98438 13.9844C5.95325 13.9844 5.07869 13.314 4.77271 12.3854L4.74027 12.3719C3.8673 12.8121 2.77506 12.6676 2.04603 11.9386C1.31703 11.2096 1.17255 10.1174 1.61259 9.24445L1.59899 9.21167C0.670333 8.90568 0 8.03112 0 7C0 5.96888 0.670334 5.09432 1.59899 4.78833L1.61267 4.75535C1.17263 3.8824 1.31711 2.79023 2.04611 2.06123C2.77519 1.33215 3.86754 1.18772 4.74054 1.62795L4.77271 1.61461C5.07869 0.685958 5.95325 0.015625 6.98438 0.015625C8.0155 0.015625 8.89006 0.685958 9.19604 1.61461L9.22857 1.6281C10.1016 1.18761 11.1942 1.33196 11.9234 2.06117ZM9.80606 4.98029C9.97643 4.7077 9.89356 4.34862 9.62098 4.17825C9.34839 4.00788 8.98931 4.09075 8.81894 4.36333L6.29655 8.39915L5.06781 7.17041C4.84051 6.94311 4.47199 6.94311 4.24469 7.17041C4.01739 7.39771 4.01739 7.76623 4.24469 7.99353L5.99079 9.73962C6.11621 9.86504 6.29197 9.92642 6.4682 9.90635C6.64444 9.88628 6.8019 9.78695 6.89591 9.63654L9.80606 4.98029Z",fill:"#0092E9"})),n1e=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3616 7.95688C15.7313 7.77023 16.1824 7.91869 16.3691 8.28847C16.9328 9.40532 17.25 10.6674 17.25 12.0014C17.25 13.3354 16.9328 14.5975 16.3691 15.7144C16.1824 16.0841 15.7313 16.2326 15.3616 16.0459C14.9918 15.8593 14.8433 15.4082 15.03 15.0385C15.4903 14.1264 15.75 13.0953 15.75 12.0014C15.75 10.9075 15.4903 9.87641 15.03 8.96438C14.8433 8.5946 14.9918 8.14353 15.3616 7.95688Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.507 5.93713C18.87 5.73776 19.326 5.87048 19.5254 6.23356C20.4656 7.94589 21 9.91236 21 12.0014C21 14.0905 20.4656 16.057 19.5254 17.7693C19.326 18.1324 18.87 18.2651 18.507 18.0657C18.1439 17.8663 18.0112 17.4104 18.2105 17.0473C19.0323 15.5506 19.5 13.8318 19.5 12.0014C19.5 10.1711 19.0323 8.45221 18.2105 6.95552C18.0112 6.59244 18.1439 6.13649 18.507 5.93713Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1122 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}})),r1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Chevron Up"},N.createElement("path",{id:"Vector",d:"M4 9.6001L8 5.6001L12 9.6001",stroke:"#107D57",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),i1e=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"cross"},N.createElement("path",{id:"Vector",d:"M6 18L18 6M6 6L18 18",stroke:"#BA0C2F",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),s1e=t=>N.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Friends"},N.createElement("path",{id:"Vector",d:"M4.19231 7.03125C2.66346 7.03125 1.42308 8.19973 1.42308 9.63994C1.42308 11.0802 2.66346 12.2486 4.19231 12.2486C5.72115 12.2486 6.96154 11.0802 6.96154 9.63994C6.96154 8.19973 5.72115 7.03125 4.19231 7.03125ZM4.19231 12.2486C2.16226 12.2486 0.5 13.8145 0.5 15.7269V17.629C0.5 17.629 1.42308 18.3356 4.19231 18.3356C6.96154 18.3356 7.88461 17.629 7.88461 17.629V15.7269C7.88461 13.8145 6.22236 12.2486 4.19231 12.2486ZM20.8077 7.03125C19.2788 7.03125 18.0385 8.19973 18.0385 9.63994C18.0385 11.0802 19.2788 12.2486 20.8077 12.2486C22.3365 12.2486 23.5769 11.0802 23.5769 9.63994C23.5769 8.19973 22.3365 7.03125 20.8077 7.03125ZM20.8077 12.2486C18.7776 12.2486 17.1154 13.8145 17.1154 15.7269V17.629C17.1154 17.629 18.0385 18.3356 20.8077 18.3356C23.5769 18.3356 24.5 17.629 24.5 17.629V15.7269C24.5 13.8145 22.8377 12.2486 20.8077 12.2486ZM12.5 10.5095C10.9712 10.5095 9.73077 11.678 9.73077 13.1182C9.73077 14.5584 10.9712 15.7269 12.5 15.7269C14.0288 15.7269 15.2692 14.5584 15.2692 13.1182C15.2692 11.678 14.0288 10.5095 12.5 10.5095ZM12.5 15.7269C10.47 15.7269 8.80769 17.2928 8.80769 19.2051V21.1073C8.80769 21.1073 9.73077 21.8138 12.5 21.8138C15.2692 21.8138 16.1923 21.1073 16.1923 21.1073V19.2051C16.1923 17.2928 14.53 15.7269 12.5 15.7269Z",fill:"white"}),N.createElement("path",{id:"Vector_2",d:"M8.58473 1.5C6.96392 1.5 5.64893 2.73876 5.64893 4.2656C5.64893 5.79245 6.96392 7.03121 8.58473 7.03121C10.2055 7.03121 11.5205 5.79245 11.5205 4.2656C11.5205 2.73876 10.2055 1.5 8.58473 1.5ZM8.58473 7.03121C8.29038 7.03121 7.99221 7.024 7.69787 7.11763C8.28656 7.85584 8.58473 8.78131 8.58473 9.79681C8.58473 10.1641 8.49298 10.5242 8.49298 10.8915C9.27663 9.78601 10.5419 9.05859 12.0098 8.87494C11.3256 7.76942 10.0526 7.03121 8.58473 7.03121ZM16.4135 1.5C14.7927 1.5 13.4777 2.73876 13.4777 4.2656C13.4777 5.79245 14.7927 7.03121 16.4135 7.03121C18.0343 7.03121 19.3493 5.79245 19.3493 4.2656C19.3493 2.73876 18.0343 1.5 16.4135 1.5ZM16.4135 7.03121C14.9456 7.03121 13.6727 7.76942 12.9884 8.87494C14.4563 9.05859 15.7216 9.78601 16.5053 10.8915C16.5053 10.5242 16.4135 10.1641 16.4135 9.79681C16.4135 8.78131 16.7117 7.85584 17.3004 7.11763C17.006 7.024 16.7079 7.03121 16.4135 7.03121Z",fill:"white",fillOpacity:.4}))),a1e=t=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",...t},N.createElement("radialGradient",{id:"a9",cx:.66,fx:.66,cy:.3125,fy:.3125,gradientTransform:"scale(1.5)"},N.createElement("stop",{offset:0,stopColor:"#006944"}),N.createElement("stop",{offset:.3,stopColor:"#006944",stopOpacity:.9}),N.createElement("stop",{offset:.6,stopColor:"#006944",stopOpacity:.6}),N.createElement("stop",{offset:.8,stopColor:"#006944",stopOpacity:.3}),N.createElement("stop",{offset:1,stopColor:"#006944",stopOpacity:0})),N.createElement("circle",{"transform-origin":"center",fill:"none",stroke:"url(#a9)",strokeWidth:17,strokeLinecap:"round",strokeDasharray:"200 1000",strokeDashoffset:0,cx:100,cy:100,r:70},N.createElement("animateTransform",{type:"rotate",attributeName:"transform",calcMode:"spline",dur:1.8,values:"360;0",keyTimes:"0;1",keySplines:"0 0 1 1",repeatCount:"indefinite"})),N.createElement("circle",{"transform-origin":"center",fill:"none",opacity:.2,stroke:"#006944",strokeWidth:17,strokeLinecap:"round",cx:100,cy:100,r:70})),o1e=t=>N.createElement("svg",{width:86,height:21,viewBox:"0 0 86 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M39.7699 17.519L41.7975 10.3564C42.019 9.57525 42.5964 8.94819 43.3515 8.66775L43.4069 8.43457H40.5888L35.8028 14.1928L33.9712 8.43457H31.393L31.3309 8.66775C31.7723 8.88885 32.0156 9.54952 32.0156 10.087V10.1204C32.0156 13.1879 29.7696 18.4607 26.6104 18.4607C25.3827 18.4607 24.7463 17.5842 24.7463 16.8536C24.7463 15.9687 25.4791 15.3393 26.2522 15.3393C26.6778 15.3393 26.8988 15.4303 27.0895 15.5088C27.2342 15.5684 27.3615 15.6208 27.5475 15.6208C27.8106 15.6208 28.0628 15.4845 28.1888 15.2511C28.3867 14.8845 28.2367 14.4368 27.8748 14.2614L27.6773 14.1661C25.8352 13.2706 23.6992 14.6266 23.6992 16.6919V16.7205C23.6992 18.2238 24.8674 19.4811 26.3546 19.5336C30.1873 19.6694 32.751 14.4452 33.1588 10.6214L33.4534 11.656L34.9632 16.2284H35.5351L40.2511 10.5434L38.2726 17.5264C38.0457 18.3275 37.4171 18.948 36.6191 19.1592L36.5637 19.3923H40.3559L40.4177 19.1592C39.8575 18.8252 39.5911 18.1508 39.7699 17.519Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.2539 12.3311C47.4839 12.3332 45.5808 12.5062 44.568 15.4136C44.443 15.7724 44.3314 16.1004 44.2299 16.3988C43.6403 18.1314 43.3898 18.8676 42.8227 18.8676C42.6317 18.8676 42.5473 18.6987 42.4545 18.5128C42.3409 18.2851 42.2145 18.0318 41.8638 18.0318C41.5768 18.0318 41.2768 18.2645 41.2552 18.6014C41.2175 19.1835 41.9922 19.5357 42.576 19.5357C44.3546 19.5357 45.0362 18.2246 45.2587 17.6138C45.2876 17.534 45.4446 17.1017 45.6299 16.5923H47.499L47.1824 17.7708C47.0152 18.3926 46.6713 18.9015 46.0895 19.1617L46.0394 19.3947H49.0969L49.1536 19.1617C48.7397 18.8167 48.5601 18.2634 48.6943 17.7482L49.8448 13.3292C49.9332 12.9901 50.1656 12.7105 50.4806 12.5642L50.5306 12.3311H49.2539ZM47.6519 16.0223H45.8369C46.043 15.4562 46.2403 14.9158 46.3069 14.7388C46.766 13.5136 47.6389 13.0178 48.4845 12.9485L48.4757 12.9558L47.6519 16.0223Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{d:"M64.9086 12.2791C64.9086 12.4194 64.8148 12.6704 64.7165 12.8348C64.487 13.2187 64.077 13.5109 63.6767 13.6265L63.4976 13.678C63 13.8213 62.489 13.794 61.9847 13.6879L60.8352 17.7483C60.6891 18.2633 60.8565 18.8168 61.2623 19.1616L61.2001 19.395H58.0542L58.1098 19.1616C58.6973 18.9016 59.1413 18.3925 59.3228 17.7712L60.6376 13.2639C59.4267 12.8561 59.1564 12.8823 58.8962 13.2526C58.7642 13.4721 58.7796 13.7795 58.7931 14.0483C58.7962 14.1086 58.7991 14.1673 58.8003 14.2223C58.8062 14.5193 58.6037 14.7795 58.316 14.842C57.9611 14.9189 57.6305 14.6359 57.6492 14.2698V14.2688C57.6508 14.2386 57.6651 14.1553 57.6846 14.0529C57.8161 13.356 58.2541 12.7534 58.8816 12.4351L58.892 12.4299L58.8972 12.4272C59.5396 12.1051 60.5191 12.3038 61.3075 12.5205C61.3166 12.5234 61.3246 12.5252 61.3335 12.5276C61.5009 12.574 61.6597 12.6208 61.8043 12.6636V12.6662C63.3842 13.1244 63.7271 13.1473 63.9416 12.8802C64.0349 12.7644 64.0788 12.527 64.0755 12.3059C64.0716 12.0932 64.2202 11.9086 64.4259 11.8637C64.6827 11.8078 64.9221 12.0139 64.9086 12.2791Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{d:"M65.9742 12.3311L65.9123 12.5645C66.302 12.8363 66.4774 13.327 66.3516 13.7863L65.1826 17.7661C65.0012 18.3879 64.5572 18.8968 63.9697 19.1568L63.9141 19.3899H69.5602L70.0661 17.524H69.8285L69.7432 17.7028C69.4261 18.3695 68.758 18.7939 68.0255 18.7939H66.4015L67.2661 15.6704L67.956 15.6696C68.4214 15.6693 68.7712 16.0981 68.6821 16.5592H68.9197L69.4872 14.448H69.2496C69.112 14.8385 68.7468 15.0995 68.3361 15.0998L67.4239 15.1008L68.0239 12.9329L69.745 12.9316C70.3068 12.9311 70.7274 13.4515 70.6151 14.0077H70.8527L71.3034 12.3311H65.9742Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.9481 12.334H76.7502C77.7432 12.334 78.4622 13.2914 78.195 14.2577C77.9634 15.0938 77.2093 15.6717 76.3501 15.6723L75.871 15.6725C76.1731 15.6725 76.4653 15.8923 76.5235 16.1297C76.6323 16.575 76.8508 17.403 76.9765 17.8796L76.9891 17.9274C77.1191 18.4223 77.4099 18.7968 77.8116 19.0376L78.0151 19.1594L77.9597 19.3929H76.5378C75.969 19.3929 75.7192 19.0153 75.5289 18.3677C75.3836 17.8722 75.2017 16.4314 75.1884 16.3138C75.1484 15.9493 74.8437 15.6736 74.4808 15.6733H74.2406L73.6643 17.7456C73.5187 18.2606 73.6859 18.8141 74.0917 19.1589L74.0295 19.3926H70.8867L70.9421 19.1589C71.5298 18.8989 71.9736 18.39 72.155 17.7682L73.3456 13.7013C73.4277 13.2683 73.251 12.8216 72.886 12.5672L72.9481 12.334ZM75.395 15.1028C76.0496 15.1028 76.6259 14.6685 76.8136 14.0354C76.9763 13.4866 76.5692 12.9344 76.0015 12.9346L75.0017 12.9352L74.3984 15.1036L75.395 15.1028Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{d:"M55.8673 12.6932C55.7651 12.6932 55.5452 12.6228 55.2078 12.481C54.8701 12.3392 54.529 12.2686 54.1851 12.2686C53.4713 12.2686 52.8755 12.502 52.3883 13.0009C51.9828 13.4161 51.8027 13.8769 51.8027 14.2758C51.8027 14.7004 52.0486 15.1996 52.5412 15.6032C52.9175 15.9119 53.3062 16.2101 53.6975 16.5103C53.7898 16.5812 53.8823 16.6521 53.9748 16.7233C54.4843 17.1353 54.7393 17.5153 54.7393 17.8244C54.7393 18.5029 54.3023 18.8679 53.3977 18.8679C52.4785 18.8679 51.8429 18.1875 51.6391 16.9132H51.3906L50.668 19.3933H50.897C51.1957 19.182 51.4081 19.0459 51.8411 19.0459C52.0058 19.0459 52.1751 19.1238 52.3786 19.2175C52.6859 19.3588 53.0713 19.5362 53.6377 19.5362C54.3894 19.5362 54.9845 19.3786 55.4942 18.8634C55.9276 18.4134 56.1441 17.7832 56.1441 17.268C56.1441 16.7916 55.8485 16.2362 55.332 15.8361C55.0681 15.6317 54.793 15.4404 54.5168 15.2482C54.3292 15.1177 54.1411 14.9869 53.9556 14.8514C53.4585 14.478 53.21 14.161 53.21 13.8134C53.21 13.6198 53.3057 13.4271 53.497 13.2341C53.7388 12.9896 54.0627 12.9355 54.496 12.9355C55.3655 12.9355 55.9741 13.425 56.0253 14.4546H56.2546L56.861 12.2686H56.6318C56.3895 12.5519 56.1347 12.6932 55.8673 12.6932Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{d:"M84.2951 14.4543C84.2441 13.4247 83.6353 12.9353 82.7658 12.9353C82.3325 12.9353 82.0086 12.9894 81.7665 13.2338C81.5755 13.4268 81.4798 13.6201 81.4798 13.8128C81.4798 14.1605 81.7283 14.478 82.2256 14.8511C82.4108 14.9864 82.5985 15.117 82.7858 15.2473C83.0623 15.4397 83.3377 15.6313 83.6021 15.8361C84.1183 16.2363 84.4139 16.7916 84.4139 17.268C84.4139 17.7829 84.1974 18.4128 83.764 18.8634C83.2542 19.3781 82.6592 19.5362 81.9074 19.5362C81.341 19.5362 80.9556 19.3588 80.6483 19.2175C80.4448 19.1238 80.2755 19.0459 80.1107 19.0459C79.6778 19.0459 79.4655 19.182 79.167 19.3933H78.9375L79.6602 16.9132H79.9087C80.1127 18.1873 80.7483 18.8676 81.6675 18.8676C82.5721 18.8676 83.0091 18.5026 83.0091 17.8241C83.0091 17.5153 82.7538 17.1354 82.2446 16.7231C82.15 16.6502 82.0554 16.5777 81.961 16.5052C81.5718 16.2067 81.1852 15.9102 80.811 15.6032C80.3184 15.199 80.0724 14.7006 80.0724 14.2755C80.0724 13.8769 80.2526 13.4158 80.6581 13.0006C81.1453 12.502 81.7411 12.2686 82.4546 12.2686C82.7988 12.2686 83.1396 12.3392 83.4773 12.4807C83.815 12.6223 84.0349 12.6929 84.1368 12.6929C84.4048 12.6929 84.6593 12.5514 84.9013 12.2686H85.1308L84.5246 14.4543H84.2951Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4366 7.2801C21.4366 7.10548 21.2957 6.96289 21.1226 6.96289H20.88C20.6903 6.96289 20.5153 7.059 20.4126 7.21996L19.6278 8.4452C19.4953 8.65133 19.2714 8.77422 19.0281 8.77422H18.4981C18.3442 8.77422 18.203 8.8593 18.1295 8.99611C17.9478 9.33563 17.6228 9.56329 17.2542 9.62264V13.8311C17.848 13.896 18.3023 14.2547 18.3023 14.6885C18.3023 15.1685 17.7471 15.5576 17.0616 15.5576C16.3766 15.5576 15.8209 15.1685 15.8209 14.6885C15.8209 14.2547 16.2755 13.896 16.8687 13.8311V9.62264C16.5001 9.56277 16.1754 9.33511 15.9942 8.99637C15.9209 8.85956 15.78 8.77474 15.6261 8.77474H15.2708C15.1052 8.77474 14.9552 8.87295 14.8876 9.02578L14.5923 9.69643C14.4982 9.90965 14.2877 10.0478 14.0563 10.0478C13.8249 10.0478 13.6144 9.90965 13.5208 9.69564L13.225 9.02604C13.1579 8.87348 13.0074 8.77474 12.8423 8.77474H2.93715C2.87113 9.04127 2.63171 9.23926 2.34784 9.23926H2.06112V9.59927C2.06112 10.1174 1.96104 10.622 1.76425 11.0994L1.49962 11.7425C0.628527 13.8561 1.48429 16.2538 3.48955 17.3207L4.81218 18.0241L5.96298 18.0325C6.28922 18.0349 6.61208 18.1213 6.89673 18.282L7.49982 18.6223H8.31372C8.66648 18.6223 9.01273 18.7195 9.31506 18.9027L9.67301 19.121C10.0208 19.3318 10.4136 19.4542 10.8178 19.4781V19.1055C10.8178 18.3833 11.2405 17.7292 11.8948 17.4393L12.919 16.9845C13.1597 16.8777 13.4309 16.8609 13.6833 16.9368L14.1694 17.0833C14.3222 17.1295 14.4829 17.1295 14.6347 17.0841L15.7876 16.7388C16.0007 16.6747 16.2251 16.6768 16.4364 16.7437L16.8198 16.8656C17.3486 17.0334 17.7037 17.5223 17.7037 18.0827V19.0566C17.7037 19.2922 17.8934 19.4841 18.1271 19.4841C18.3143 19.4841 18.4815 19.357 18.5337 19.1756C18.6977 18.6039 18.7726 18.0126 18.7554 17.4175L18.7539 17.3144C18.7411 16.8656 18.9187 16.431 19.24 16.1214L19.7191 15.6614C19.9853 15.4048 20.1381 15.0451 20.1381 14.6732V12.3819C20.1381 11.8575 20.2946 11.3526 20.5907 10.9214L20.8179 10.5897V10.1342C20.8179 9.61266 20.9726 9.11033 21.265 8.68126L21.63 8.14506C21.507 8.01534 21.4366 7.84203 21.4366 7.65848V7.2801Z",fill:"#FCE300",style:{fill:"#FCE300",fill:"color(display-p3 0.9882 0.8902 0.0000)",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.16479 19.1581C8.95111 19.0284 8.71091 18.953 8.46344 18.9305V19.8514C8.7642 19.8745 9.05691 19.9643 9.3166 20.1218C9.31738 20.1221 9.73122 20.3763 9.87082 20.4587C10.064 20.573 10.2987 20.6817 10.7094 20.7029C10.7383 20.7042 10.7648 20.694 10.7856 20.6743C10.8072 20.6533 10.8191 20.6255 10.8191 20.5953V19.7736C10.3619 19.7492 9.91605 19.6148 9.523 19.3758L9.16479 19.1581Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.7527 18.5415C6.51744 18.4083 6.25099 18.3369 5.98116 18.3314V19.2523C6.30116 19.2578 6.61752 19.3429 6.89645 19.5002L7.40934 19.7898V18.9065C7.40284 18.9036 7.39582 18.9044 7.38932 18.9009L6.7527 18.5415Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5993 17.2219C13.5226 17.1988 13.4436 17.1904 13.3651 17.1904V18.1123C13.4722 18.1123 13.5796 18.1239 13.6838 18.1551L14.1699 18.3022C14.2323 18.3205 14.2962 18.33 14.3602 18.3334V17.4125C14.2676 17.4086 14.1754 17.3954 14.0854 17.3687L13.5993 17.2219Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.731 17.1493L16.3481 17.0275C16.2623 17.0002 16.1729 16.9891 16.0843 16.9915V17.9121C16.1987 17.9098 16.313 17.9245 16.424 17.9589L16.8896 18.0912C17.1282 18.1598 17.3151 18.3362 17.409 18.5576V18.0823C17.409 17.6532 17.1366 17.2782 16.731 17.1493Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1277 19.7819C18.1092 19.7819 18.0923 19.7777 18.0739 19.7764V20.6957C18.0978 20.6983 18.1209 20.7028 18.1454 20.7028C18.4139 20.7028 18.6491 20.5292 18.7305 20.2708C18.7388 20.2448 18.7443 20.2175 18.7521 20.1915V19.409C18.627 19.6338 18.3902 19.7819 18.1277 19.7819Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6875 16.096V16.8948C2.04935 17.5315 2.57913 18.0549 3.23993 18.4062L3.48402 18.5359V17.6534L3.35275 17.5838C2.66232 17.2167 2.10186 16.7005 1.6875 16.096Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06076 17.9608V18.8434L4.70907 19.1879V18.3048C4.70829 18.3048 4.70725 18.3048 4.70647 18.3043L4.06076 17.9608Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8159 14.8958C17.8159 14.6949 17.577 14.5274 17.2541 14.4785V15.313C17.577 15.2637 17.8159 15.0966 17.8159 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3086 14.8958C16.3086 15.0966 16.5475 15.2637 16.8704 15.313V14.4785C16.5475 14.5274 16.3086 14.6949 16.3086 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2923 1.62988C15.0123 1.54322 14.7326 1.69736 14.4526 1.85623C14.3536 1.91268 14.2831 2.00879 14.259 2.12092L13.8189 4.19615C13.8025 4.27282 13.8708 4.34214 13.9468 4.32481C14.4095 4.2182 14.8496 3.80962 15.3123 3.95246C15.8309 4.11317 16.3492 3.44987 16.8678 3.45775V1.06348C16.3464 1.06584 15.8111 1.79006 15.2923 1.62988",fill:"#BA0C2F",style:{fill:"#BA0C2F",fill:"color(display-p3 0.7294 0.0471 0.1843)",fillOpacity:1}}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2656 8.68074C20.9732 9.11033 20.8185 9.6124 20.8185 10.1336V10.5895L20.5913 10.9211C20.2949 11.352 20.1384 11.857 20.1384 12.3816V14.6727C20.1384 15.0445 19.9859 15.4046 19.7197 15.6608L19.2406 16.1214C18.919 16.4305 18.742 16.8651 18.7545 17.3141L18.7563 17.417C18.7732 18.012 18.6983 18.6037 18.5343 19.1756C18.482 19.3568 18.3149 19.4836 18.1277 19.4836C17.894 19.4836 17.7043 19.2916 17.7043 19.0561V18.0822C17.7043 17.5221 17.3492 17.0334 16.8204 16.8651L16.437 16.7435C16.2257 16.6763 16.0013 16.6747 15.7882 16.7382L14.6353 17.0835C14.4835 17.129 14.3226 17.129 14.17 17.0833L13.6839 16.9365C13.4317 16.8603 13.1603 16.8771 12.9196 16.9843L11.8954 17.4388C11.2411 17.729 10.8184 18.3828 10.8184 19.1049V19.4778C10.4142 19.4542 10.0214 19.3315 9.67385 19.1204L9.31564 18.9027C9.01332 18.7192 8.66706 18.622 8.31431 18.622H7.5004L6.89731 18.2817C6.61241 18.1208 6.28981 18.0344 5.96357 18.032L4.81276 18.0239L3.49013 17.3204C1.48461 16.2538 0.62911 13.8558 1.50021 11.7422L1.76484 11.0994C1.96162 10.6218 2.0617 10.1168 2.0617 9.59901V9.239H2.34843C2.63229 9.239 2.87171 9.04075 2.93774 8.77422H12.8429C13.008 8.77422 13.1585 8.87295 13.2256 9.02578L13.5211 9.69564C13.615 9.90912 13.8255 10.0475 14.0569 10.0475C14.2882 10.0475 14.4988 9.90939 14.5929 9.6959L14.8885 9.02525C14.9558 8.87269 15.1058 8.77422 15.2714 8.77422H15.6267C15.7806 8.77422 15.9215 8.85956 15.9948 8.99611C16.176 9.33484 16.5007 9.56251 16.8693 9.62238V13.8309C16.2761 13.896 15.8214 14.2544 15.8214 14.6882C15.8214 15.1685 16.3772 15.5574 17.0622 15.5574C17.7477 15.5574 18.3029 15.1685 18.3029 14.6882C18.3029 14.2544 17.8485 13.896 17.2548 13.8309V9.62264C17.6234 9.56277 17.9484 9.33511 18.1301 8.99611C18.2036 8.8593 18.3445 8.77396 18.4987 8.77396H19.029C19.272 8.77396 19.4958 8.65107 19.6282 8.44494L20.4132 7.21944C20.5159 7.05847 20.6908 6.96263 20.8806 6.96263H21.1234C21.2963 6.96263 21.4372 7.10495 21.4372 7.27957V7.65796C21.4372 7.84151 21.5076 8.01508 21.6306 8.14454L21.2656 8.68074ZM18.7515 20.1908C18.7437 20.2171 18.7382 20.2441 18.7299 20.2704C18.6486 20.5291 18.4133 20.7026 18.1448 20.7026C18.1203 20.7026 18.0972 20.6979 18.0733 20.6953V19.7757C18.0912 19.7775 18.1086 19.7812 18.1271 19.7812C18.3891 19.7812 18.6265 19.6331 18.7515 19.4086V20.1908ZM17.4081 18.5572C17.3143 18.3358 17.1279 18.1591 16.8893 18.0908L16.4235 17.9585C16.3125 17.9241 16.1981 17.9094 16.0837 17.9117V16.9911C16.1726 16.9887 16.2615 16.9998 16.3473 17.0273L16.7305 17.1489C17.136 17.2778 17.4081 17.6528 17.4081 18.0819V18.5572ZM14.3601 18.3327C14.2957 18.3296 14.2317 18.3204 14.1693 18.3015L13.6832 18.155C13.5795 18.1232 13.4719 18.1119 13.3645 18.1119V17.19C13.4435 17.19 13.5226 17.1986 13.5987 17.2212L14.0848 17.3683C14.1748 17.3953 14.2673 17.4084 14.3601 17.4121V18.3327ZM10.8185 20.5951C10.8185 20.6251 10.8061 20.6529 10.7847 20.6739C10.764 20.6939 10.7374 20.7038 10.7086 20.7028C10.2979 20.6815 10.0631 20.5726 9.86998 20.4583C9.73039 20.3756 9.31628 20.122 9.31576 20.1217C9.05607 19.9636 8.76311 19.8743 8.46286 19.851V18.9301C8.71008 18.9526 8.95001 19.028 9.16395 19.1577L9.5219 19.3754C9.91521 19.6144 10.3608 19.7488 10.8185 19.7732V20.5951ZM7.40902 19.7897L6.89588 19.4998C6.61669 19.3422 6.30059 19.2574 5.98059 19.2519V18.331C6.25016 18.3362 6.51661 18.4082 6.75238 18.5411L7.38901 18.9008C7.39498 18.9042 7.40252 18.9034 7.40902 18.9058V19.7897ZM4.70824 19.1875L4.06018 18.8427V17.9604L4.7059 18.3039C4.70668 18.3042 4.70772 18.3039 4.70824 18.3042V19.1875ZM3.48345 18.5355L3.23935 18.4058C2.57856 18.0545 2.04904 17.5309 1.68693 16.8944V16.0956C2.10129 16.7001 2.66174 17.2163 3.35191 17.5831L3.48345 17.653V18.5355ZM17.2536 14.4781C17.5762 14.527 17.8153 14.6945 17.8153 14.8954C17.8153 15.0962 17.5762 15.2638 17.2536 15.3129V14.4781ZM16.8698 15.3129C16.5474 15.2638 16.308 15.0962 16.308 14.8954C16.308 14.6945 16.5474 14.527 16.8698 14.4781V15.3129ZM21.9089 7.99494C21.7979 7.91906 21.7314 7.79328 21.7314 7.65778V7.27939C21.7314 6.94065 21.4582 6.66494 21.1229 6.66494H20.8801C20.59 6.66494 20.3227 6.81172 20.1649 7.05777L19.3804 8.28274C19.3027 8.40405 19.1709 8.47627 19.0284 8.47627H18.4981C18.2361 8.47627 17.9954 8.62095 17.8698 8.8557C17.7401 9.09702 17.5137 9.26271 17.2543 9.31891V0.800046C17.2543 0.692385 17.1682 0.605469 17.0616 0.605469C16.9553 0.605469 16.8688 0.692385 16.8688 0.800046V9.31891C16.6093 9.26245 16.3832 9.09676 16.2537 8.85465C16.1292 8.62148 15.8887 8.47627 15.6262 8.47627H15.2708C14.9893 8.47627 14.733 8.64432 14.6189 8.90402L14.323 9.57467C14.2763 9.68049 14.1715 9.74929 14.0563 9.74929C13.9409 9.74929 13.8364 9.68049 13.7899 9.57441L13.4943 8.90455C13.3799 8.64432 13.1239 8.47627 12.8424 8.47627H2.80773C2.72611 8.47627 2.66034 8.54296 2.66034 8.62515C2.66034 8.79951 2.51996 8.94078 2.34788 8.94078H1.91376C1.83239 8.94078 1.76637 9.00748 1.76637 9.08967V9.59883C1.76637 10.077 1.67434 10.5434 1.49186 10.9848L1.22775 11.6273C0.981833 12.2234 0.866155 12.8405 0.867194 13.4463V14.9262C0.867194 15.3261 0.924384 15.7287 1.03954 16.1247C1.36162 17.2291 2.0939 18.1329 3.10251 18.6694L4.70667 19.5223C4.72747 19.5336 4.75113 19.5396 4.77452 19.5399L5.96094 19.5488C6.23779 19.5506 6.51178 19.6239 6.75327 19.7599L7.38989 20.1194C7.41199 20.1317 7.43642 20.1383 7.46164 20.1383H8.31376C8.61296 20.1383 8.90697 20.2208 9.16276 20.3762C9.16276 20.3762 9.57998 20.6314 9.72009 20.7149C9.94521 20.8481 10.2189 20.9749 10.6926 20.9996C10.8002 21.0046 10.9065 20.9662 10.9871 20.8896C11.0666 20.8129 11.1127 20.7058 11.1127 20.5949V20.0178C11.1127 19.5997 11.357 19.2208 11.7365 19.0525L13.0376 18.4751C13.2146 18.3971 13.4137 18.384 13.5988 18.4401L14.0849 18.5869C14.2921 18.6489 14.5113 18.6494 14.719 18.5877L15.8716 18.2419C16.0242 18.1962 16.1864 18.1965 16.3416 18.244L16.81 18.3774C17.0278 18.4396 17.1804 18.6434 17.1804 18.8724V20.0259C17.1804 20.5634 17.613 21.0004 18.1449 21.0004C18.5426 21.0004 18.8904 20.7428 19.0105 20.3605C19.2281 19.6698 19.338 18.9517 19.338 18.2264V17.7359C19.338 17.3874 19.4818 17.0503 19.7326 16.8111L20.212 16.3534C20.5351 16.0425 20.7207 15.6058 20.7207 15.1549V12.4203C20.7207 11.9965 20.847 11.5879 21.0862 11.2392C21.1034 11.2145 21.113 11.1849 21.113 11.1547V10.51C21.113 10.0891 21.2375 9.68338 21.4738 9.33624L21.9479 8.6396C21.9651 8.61517 21.9742 8.58576 21.9742 8.5553V8.11836C21.9742 8.03538 21.9266 8.00676 21.9089 7.99494Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}})),l1e=t=>N.createElement("svg",{width:154,height:37,viewBox:"0 0 154 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M70.9776 30.8796L74.668 18.1381C75.0696 16.7473 76.1186 15.6318 77.4936 15.1371L77.5928 14.7217H72.466L63.7623 24.9662L60.431 14.7217H55.7389L55.6255 15.1371C56.4288 15.5291 56.8683 16.7052 56.8683 17.662V17.7227C56.8683 23.1787 52.781 32.5598 47.0352 32.5598C44.8002 32.5598 43.6425 31.0009 43.6425 29.7035C43.6425 28.1306 44.975 27.0105 46.3831 27.0105C47.744 27.0105 47.9519 27.5099 48.741 27.5099C49.2182 27.5099 49.6766 27.2672 49.9081 26.8518C50.2672 26.1984 49.9931 25.4049 49.3363 25.0922L48.9772 24.9242C45.6271 23.3327 41.7383 25.7457 41.7383 29.4188V29.4701C41.7383 32.1444 43.8646 34.38 46.5674 34.4733C53.5417 34.716 58.2055 25.4236 58.9473 18.6188L59.486 20.4577L62.2313 28.5927H63.2709L71.8518 18.4741L68.2512 30.8936C67.8401 32.3171 66.6966 33.4232 65.2412 33.7966L65.142 34.212H72.0408L72.1542 33.7966C71.1383 33.2039 70.6516 32.0044 70.9776 30.8796Z",fill:"white"}),N.createElement("path",{d:"M88.2952 21.6521H88.2385C85.016 21.6568 81.5571 21.9648 79.7143 27.1361C78.1692 31.4813 77.7487 33.2828 76.539 33.2828C75.7641 33.2828 75.9531 31.794 74.7954 31.794C74.2709 31.794 73.7275 32.2094 73.6897 32.8068C73.6236 33.8429 75.0317 34.4683 76.0949 34.4683C79.3316 34.4683 80.5696 32.1347 80.9759 31.0472C81.0279 30.9072 81.3162 30.1371 81.6517 29.2317H85.0538L84.4773 31.3273C84.1749 32.4334 83.5464 33.3388 82.488 33.8009L82.3982 34.2163H87.9597L88.0637 33.8009C87.3124 33.1848 86.9816 32.2 87.2273 31.2853L89.3206 23.4257C89.4812 22.8236 89.9018 22.3242 90.4783 22.0628L90.568 21.6475H88.7536H88.2952V21.6521ZM85.3231 28.2189H82.0202C82.3935 27.2108 82.7526 26.2493 82.8755 25.9366C83.7118 23.757 85.2995 22.8749 86.8399 22.7536L86.8257 22.7676L85.3231 28.2189Z",fill:"white"}),N.createElement("path",{d:"M116.358 22.5486C116.538 22.2545 116.708 21.8112 116.708 21.5591C116.732 21.0877 116.297 20.7237 115.829 20.8217C115.456 20.9011 115.187 21.2324 115.191 21.6058C115.196 21.9978 115.12 22.4226 114.95 22.6279C114.558 23.104 113.934 23.062 111.062 22.2452V22.2405C110.797 22.1659 110.509 22.0819 110.206 21.9978C110.187 21.9932 110.173 21.9885 110.159 21.9838C108.723 21.6011 106.941 21.2464 105.774 21.8205C105.765 21.8252 105.755 21.8298 105.746 21.8345C104.602 22.3992 103.808 23.4727 103.567 24.7142C103.53 24.8962 103.506 25.0455 103.501 25.0969C103.468 25.7456 104.068 26.2544 104.711 26.1143C105.235 26.0023 105.604 25.5403 105.59 25.0129C105.58 24.4808 105.472 23.7667 105.765 23.286C106.237 22.6279 106.729 22.5812 108.935 23.3047L106.544 31.323C106.214 32.4291 105.406 33.3345 104.338 33.7966L104.238 34.212H109.961L110.074 33.7966C109.337 33.1852 109.03 32.1957 109.299 31.2809L111.392 24.0561C112.309 24.2428 113.24 24.2941 114.147 24.0374L114.473 23.9441C115.196 23.7527 115.943 23.2347 116.358 22.5486Z",fill:"white"}),N.createElement("path",{d:"M118.649 21.6523L118.536 22.0677C119.245 22.5531 119.561 23.4259 119.335 24.2427L117.208 31.3228C116.877 32.429 116.069 33.3344 115.002 33.7964L114.902 34.2118H117.931H118.21H125.18L126.101 30.8934H125.666L125.51 31.2108C124.934 32.3963 123.72 33.1524 122.382 33.1524H119.429L121.003 27.5937H122.259C123.105 27.5937 123.743 28.3545 123.582 29.1759H124.012L125.043 25.4188H124.613C124.362 26.1142 123.696 26.5763 122.949 26.5809H121.291L122.382 22.7258L125.515 22.7211C126.536 22.7211 127.301 23.6452 127.098 24.6347H127.528L128.35 21.6523H118.649Z",fill:"white"}),N.createElement("path",{d:"M138.251 21.6582H131.333L131.22 22.0736C131.881 22.5263 132.207 23.3197 132.056 24.0898L129.892 31.324C129.561 32.4301 128.753 33.3356 127.685 33.7976L127.586 34.213H133.303L133.417 33.7976C132.68 33.1862 132.373 32.2014 132.637 31.282L133.686 27.5949H134.126C134.787 27.5949 135.34 28.085 135.416 28.7337C135.439 28.9437 135.77 31.506 136.035 32.3881C136.379 33.5409 136.833 34.213 137.868 34.213H140.453L140.552 33.7976L140.183 33.5829C139.451 33.1536 138.922 32.4908 138.685 31.6087C138.463 30.7779 138.043 29.2284 137.84 28.4117C137.736 27.9916 137.202 27.5996 136.654 27.5996H137.523C139.087 27.5996 140.457 26.5681 140.878 25.0839C141.365 23.3617 140.056 21.6582 138.251 21.6582ZM138.369 24.6872C138.029 25.812 136.98 26.5868 135.789 26.5868H133.974L135.071 22.7317H136.89C137.925 22.727 138.662 23.7118 138.369 24.6872Z",fill:"white"}),N.createElement("path",{d:"M100.265 22.2961C100.081 22.2961 99.6794 22.1701 99.0651 21.9181C98.4508 21.6661 97.8318 21.54 97.2034 21.54C95.904 21.54 94.8219 21.9554 93.9336 22.8422C93.1964 23.5796 92.8704 24.401 92.8704 25.1105C92.8704 25.8665 93.3193 26.7533 94.2124 27.4721C95.0582 28.1488 95.937 28.8022 96.8206 29.465C97.7468 30.1977 98.2098 30.8745 98.2098 31.4252C98.2098 32.634 97.416 33.2828 95.7669 33.2828C94.0942 33.2828 92.9366 32.074 92.568 29.8057H92.1144L90.8008 34.2162H91.226C91.7694 33.8382 92.1569 33.6001 92.946 33.6001C93.6973 33.6001 94.5006 34.4729 96.2158 34.4729C97.5814 34.4729 98.6682 34.1929 99.5943 33.2781C100.383 32.4753 100.776 31.3552 100.776 30.4404C100.776 29.591 100.237 28.6062 99.2966 27.8921C98.4886 27.2807 97.6286 26.7347 96.7923 26.1419C95.8898 25.4792 95.4362 24.9144 95.4362 24.2937C95.4362 23.9483 95.611 23.6076 95.9559 23.2622C96.3954 22.8282 96.986 22.7302 97.7751 22.7302C99.3581 22.7302 100.464 23.5983 100.558 25.4325H100.974L102.08 21.5447H101.664C101.215 22.0441 100.752 22.2961 100.265 22.2961Z",fill:"white"}),N.createElement("path",{d:"M149.201 22.7304C150.784 22.7304 151.89 23.6032 151.984 25.4327H152.4L153.501 21.5449H153.085C152.646 22.049 152.182 22.301 151.696 22.301C151.512 22.301 151.11 22.175 150.496 21.923C149.881 21.6709 149.262 21.5449 148.634 21.5449C147.334 21.5449 146.252 21.9603 145.364 22.8471C144.627 23.5845 144.296 24.4059 144.296 25.1153C144.296 25.8714 144.745 26.7582 145.638 27.477C146.484 28.1537 147.363 28.8071 148.246 29.4699C149.173 30.2026 149.636 30.8794 149.636 31.4301C149.636 32.6389 148.842 33.2876 147.193 33.2876C145.52 33.2876 144.362 32.0788 143.994 29.8106H143.54L142.227 34.2211H142.642C143.186 33.843 143.573 33.605 144.358 33.605C145.109 33.605 145.912 34.4778 147.627 34.4778C148.993 34.4778 150.075 34.1978 151.006 33.283C151.795 32.4802 152.187 31.3601 152.187 30.4453C152.187 29.6005 151.649 28.6111 150.708 27.897C149.9 27.2856 149.04 26.7395 148.204 26.1468C147.301 25.4841 146.848 24.9193 146.848 24.2986C146.848 23.9532 147.023 23.6125 147.368 23.2671C147.826 22.8237 148.412 22.7304 149.201 22.7304Z",fill:"white"}),N.createElement("path",{d:"M26.5433 2.60035C26.0377 2.44633 25.5321 2.72169 25.0265 3.00173C24.8469 3.09974 24.7194 3.27243 24.6768 3.46845L23.883 7.13222C23.8547 7.26757 23.9775 7.38891 24.1145 7.36091C24.9509 7.17422 25.7447 6.4508 26.5811 6.70283C27.5167 6.98753 28.4522 5.81606 29.3878 5.83006V1.60156C28.4475 1.60623 27.4789 2.88505 26.5433 2.60035Z",fill:"white"}),N.createElement("path",{d:"M38.4856 13.8398C38.2871 13.7044 38.1643 13.4851 38.1643 13.2471V12.5796C38.1643 11.9822 37.6729 11.4922 37.0633 11.4922H36.6239C36.0994 11.4922 35.6174 11.7536 35.3339 12.1876L33.9164 14.3485C33.7746 14.5632 33.5383 14.6892 33.2832 14.6892H32.3287C31.8562 14.6892 31.4215 14.9459 31.1947 15.3566C30.9631 15.7814 30.552 16.0754 30.0843 16.1734V1.1403C30.0843 0.94894 29.9283 0.794922 29.7346 0.794922C29.5409 0.794922 29.3849 0.94894 29.3849 1.1403V1.60702V5.83552V16.1827C28.9171 16.0847 28.506 15.7907 28.2745 15.3613C28.0524 14.9506 27.6177 14.6939 27.1405 14.6939H26.4979C25.9875 14.6939 25.5292 14.9879 25.3213 15.45L24.7873 16.6308C24.7023 16.8175 24.5133 16.9388 24.3054 16.9388C24.0975 16.9388 23.9085 16.8175 23.8234 16.6308L23.2895 15.45C23.0816 14.9926 22.6232 14.6939 22.1129 14.6939H4.00135C3.85487 14.6939 3.73674 14.8106 3.73674 14.9553C3.73674 15.2633 3.48158 15.5107 3.17444 15.5107H2.39007C2.24359 15.5107 2.12546 15.6273 2.12546 15.772V16.6728C2.12546 17.5176 1.96008 18.339 1.62931 19.1184L1.15207 20.2526C0.707907 21.3027 0.5 22.3901 0.5 23.4589V26.0726C0.5 26.7773 0.603954 27.4914 0.811861 28.1868C1.39306 30.1377 2.7161 31.7339 4.53529 32.6767L7.43182 34.1842C7.46962 34.2029 7.51214 34.2122 7.55467 34.2122L9.69517 34.2309C10.196 34.2355 10.6875 34.3616 11.1269 34.6043L12.2751 35.239C12.3129 35.2623 12.3602 35.2717 12.4074 35.2717H13.9431C14.4818 35.2717 15.0157 35.4163 15.474 35.6917C15.474 35.6917 16.2253 36.1444 16.4805 36.2891C16.8869 36.5225 17.3783 36.7465 18.2335 36.7932C18.4273 36.8025 18.621 36.7325 18.7675 36.5972C18.9092 36.4618 18.9943 36.2704 18.9943 36.0791V35.0616C18.9943 34.3242 19.4337 33.6521 20.1189 33.3581L22.4673 32.3406C22.7886 32.2006 23.1477 32.1773 23.4832 32.28L24.3621 32.5367C24.7354 32.644 25.1323 32.6487 25.5056 32.5367L27.5846 31.9253C27.8587 31.8459 28.1517 31.8459 28.4304 31.9299L29.2763 32.1633C29.6684 32.2706 29.9472 32.6347 29.9472 33.0361V35.071C29.9472 36.0184 30.7269 36.7932 31.6861 36.7932C32.4043 36.7932 33.0328 36.3405 33.2501 35.6637C33.6423 34.4456 33.8408 33.1761 33.8408 31.8973V31.0292C33.8408 30.4131 34.1006 29.8204 34.5543 29.3956L35.419 28.5882C36.0002 28.0421 36.3356 27.2674 36.3356 26.474V21.6481C36.3356 20.9013 36.5625 20.1779 36.9972 19.5618C37.0302 19.5198 37.0444 19.4638 37.0444 19.4125V18.2737C37.0444 17.5316 37.2712 16.8128 37.6965 16.2014L38.5517 14.9739C38.5848 14.9319 38.599 14.8806 38.599 14.8246V14.0545C38.6037 13.9098 38.5139 13.8585 38.4856 13.8398ZM30.0843 25.2838C30.6654 25.3725 31.1002 25.6665 31.1002 26.0212C31.1002 26.3759 30.6702 26.67 30.0843 26.7587V25.2838ZM5.22516 32.4433L4.78572 32.2146C3.59026 31.5939 2.63577 30.6698 1.9837 29.545V28.1355C2.73028 29.2043 3.74619 30.1144 4.98891 30.7631L5.22516 30.8845V32.4433ZM7.43654 33.5961L6.2647 32.9894V31.4305L7.43182 32.0373H7.43654V33.5961ZM12.3129 34.6556L11.3868 34.1422C10.8812 33.8622 10.3142 33.7128 9.73297 33.7035V32.0793C10.2197 32.0886 10.7016 32.2146 11.1269 32.448L12.2751 33.0827C12.2846 33.0874 12.2987 33.0874 12.3129 33.0921V34.6556ZM18.4603 35.0616V35.8551V36.0791C18.4603 36.1304 18.4367 36.1818 18.3989 36.2191C18.3611 36.2564 18.3139 36.2705 18.2619 36.2705C17.52 36.2331 17.0948 36.0418 16.7498 35.8411C16.4994 35.6964 15.7528 35.2483 15.7481 35.2483C15.2803 34.9683 14.7511 34.8143 14.2077 34.7723V33.1387C14.6519 33.1808 15.0866 33.3114 15.474 33.5401L16.1214 33.9228C16.8302 34.3429 17.6382 34.5809 18.4603 34.6276V35.0616ZM24.8582 32.0886C24.7448 32.084 24.6267 32.0653 24.5133 32.0326L23.6344 31.7713C23.4454 31.7152 23.2517 31.6966 23.0579 31.6966V30.0677C23.1997 30.0677 23.3414 30.0817 23.4832 30.1237L24.3621 30.3804C24.5227 30.4271 24.6928 30.4504 24.8582 30.4598V32.0886ZM30.363 32.4807C30.1929 32.0886 29.8574 31.7759 29.4275 31.6592L28.5864 31.4259C28.3879 31.3652 28.18 31.3419 27.9721 31.3419V29.7177C28.1328 29.713 28.2934 29.7317 28.4493 29.783L29.1392 29.9977C29.8716 30.2264 30.363 30.8891 30.363 31.6452V32.4807ZM32.787 35.365C32.7729 35.4117 32.7634 35.4584 32.7492 35.505C32.6028 35.9624 32.1775 36.2658 31.6955 36.2658C31.653 36.2658 31.6105 36.2564 31.568 36.2518V34.6323C31.601 34.6369 31.6294 34.6416 31.6625 34.6416C32.135 34.6416 32.565 34.3802 32.7918 33.9835V35.365H32.787ZM37.3232 15.0486C36.794 15.8047 36.5152 16.6915 36.5152 17.6109V18.4137L36.1041 19.0017C35.5702 19.7625 35.2867 20.6539 35.2867 21.578V25.6245C35.2867 26.2779 35.0126 26.9173 34.5306 27.3654L33.6659 28.1775C33.0847 28.7236 32.7634 29.489 32.787 30.2824L32.7918 30.4644C32.8248 31.5146 32.6878 32.56 32.3901 33.5681C32.2956 33.8902 31.9932 34.1142 31.6577 34.1142C31.2372 34.1142 30.8923 33.7782 30.8923 33.3581V31.6452C30.8923 30.6558 30.2496 29.7923 29.2952 29.4983L28.6053 29.2836C28.2225 29.1669 27.8209 29.1623 27.4334 29.2743L25.3544 29.881C25.0803 29.9604 24.7873 29.9604 24.5133 29.881L23.6344 29.6243C23.1808 29.489 22.6894 29.5217 22.2547 29.7083L20.4071 30.5111C19.2258 31.0245 18.4651 32.1773 18.4651 33.4515V34.1095C17.7374 34.0675 17.0286 33.8528 16.4002 33.4795L15.7528 33.0967C15.2047 32.7747 14.581 32.602 13.9431 32.602H12.4736L11.3868 31.9999C10.8717 31.7152 10.2905 31.5659 9.69989 31.5612L7.62082 31.5472L5.23461 30.3057C1.61514 28.4249 0.0700101 24.1917 1.64349 20.4579L2.12073 19.3238C2.47512 18.4837 2.6594 17.5922 2.6594 16.6775V16.0427H3.17444C3.68476 16.0427 4.11948 15.6927 4.2376 15.2213H22.1176C22.4153 15.2213 22.6894 15.394 22.8075 15.6647L23.3414 16.8455C23.5115 17.2235 23.8896 17.4662 24.3101 17.4662C24.7259 17.4662 25.1087 17.2235 25.2788 16.8455L25.8127 15.66C25.9356 15.3893 26.2049 15.2166 26.5026 15.2166H27.1452C27.424 15.2166 27.6791 15.366 27.8114 15.6087C28.1375 16.2061 28.7234 16.6075 29.3897 16.7148V24.145C28.317 24.2617 27.4949 24.8918 27.4949 25.6572C27.4949 26.5066 28.4966 27.1927 29.7346 27.1927C30.9726 27.1927 31.9743 26.5066 31.9743 25.6572C31.9743 24.8918 31.1521 24.257 30.0795 24.145V16.7101C30.7458 16.6028 31.3317 16.2014 31.6577 15.604C31.79 15.3613 32.0452 15.212 32.324 15.212H33.2785C33.7179 15.212 34.1195 14.9926 34.3605 14.6286L35.7781 12.4676C35.9624 12.1829 36.2789 12.0149 36.6239 12.0149H37.0633C37.3752 12.0149 37.6303 12.2669 37.6303 12.575V13.2424C37.6303 13.5644 37.7579 13.8725 37.98 14.1012L37.3232 15.0486ZM29.3849 25.2838V26.7587C28.8037 26.67 28.3737 26.3759 28.3737 26.0212C28.3737 25.6665 28.8037 25.3678 29.3849 25.2838Z",fill:"white"})),c1e=t=>N.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Group 483737"},N.createElement("g",{id:"Icon / Live"},N.createElement("path",{id:"circle-path",fillRule:"evenodd",clipRule:"evenodd",d:"M9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17Z",stroke:"#107D57"}),N.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M10.6432 6.12891C10.9551 6.12891 11.2103 6.37162 11.2302 6.67846L11.2315 6.71714V7.55879L13.3334 6.46776C13.6362 6.31058 13.9959 6.51777 14.0195 6.85057L14.0207 6.88543V11.1406C14.0207 11.4763 13.6813 11.7002 13.3764 11.578L13.345 11.5641L11.2315 10.54V11.2818C11.2315 11.5937 10.9887 11.8489 10.6819 11.8688L10.6432 11.8701H5.11851C4.80663 11.8701 4.55144 11.6274 4.53152 11.3205L4.53027 11.2818V6.71714C4.53027 6.40526 4.77299 6.15007 5.07983 6.13016L5.11851 6.12891H10.6432ZM10.2897 7.07007H5.4709V10.9289H10.2897V7.07007ZM13.0792 7.65972L11.2396 8.61454V9.49831L13.0792 10.3896V7.65972Z",fill:"#107D57"})))),u1e=t=>N.createElement("svg",{width:14,height:17,viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon / Games"},N.createElement("path",{id:"Icon / Games_2",d:"M6.27412 2.68557L6.27411 2.68557C5.62309 2.63368 5.0525 3.12172 5.00064 3.7713L5.00064 3.77134L4.14164 14.5465C4.14163 14.5465 4.14163 14.5465 4.14163 14.5465C4.08978 15.1963 4.57588 15.7681 5.22739 15.82C5.22741 15.82 5.22742 15.82 5.22744 15.82L11.3107 16.3052L11.3108 16.3052C11.9618 16.3571 12.5324 15.869 12.5842 15.2194L12.5842 15.2194L13.4432 4.4443C13.4951 3.79528 13.0091 3.22266 12.3575 3.17076C12.3575 3.17076 12.3574 3.17076 12.3574 3.17076L6.27412 2.68557ZM8.15378 7.95339C8.06822 8.08171 8.00584 8.22011 7.96597 8.36701L7.39679 8.32084C7.47153 7.93067 7.63452 7.64794 7.86868 7.44845C8.15963 7.20058 8.54037 7.08303 9.04377 7.12388C9.36277 7.14976 9.62596 7.23281 9.84206 7.36455L9.84205 7.36458L9.84603 7.36693C10.0639 7.49535 10.2189 7.65832 10.3213 7.85605C10.4234 8.05317 10.4683 8.27793 10.4483 8.53948C10.4345 8.71901 10.392 8.86521 10.3278 8.98465L10.3277 8.98461L10.3242 8.99151C10.2546 9.12905 10.1759 9.23612 10.0908 9.31799L10.0907 9.31793L10.0855 9.32326C9.98974 9.41994 9.85909 9.53313 9.69013 9.66317C9.48159 9.8217 9.31317 9.96772 9.19518 10.0999L9.19509 10.0998L9.18961 10.1063C9.10272 10.2092 9.04052 10.3244 9.00219 10.449L8.46556 10.4054C8.49427 10.3132 8.5356 10.2357 8.58714 10.17C8.70826 10.0178 8.8862 9.84033 9.1277 9.63726C9.33755 9.46764 9.50811 9.30895 9.63088 9.16198L9.39343 8.96362L9.63088 9.16198C9.77451 8.99005 9.86011 8.79 9.87715 8.56784C9.89609 8.32086 9.82923 8.08941 9.6571 7.90614C9.48861 7.71582 9.25493 7.62752 9.00193 7.60699L8.97691 7.91539L9.00193 7.60699C8.67115 7.58016 8.35479 7.66584 8.15766 7.94771L8.1576 7.94766L8.15378 7.95339ZM8.84046 11.5393L8.84024 11.5394L8.84882 11.5493C8.9033 11.6122 8.9274 11.681 8.92009 11.7763C8.91337 11.8639 8.88049 11.9307 8.81121 11.9916L8.81117 11.9915L8.8063 11.996C8.74838 12.0491 8.68489 12.0727 8.59225 12.0652C8.49804 12.0575 8.43752 12.0248 8.38914 11.9687C8.34013 11.9019 8.31721 11.826 8.32494 11.7253L8.01644 11.7016L8.32494 11.7253C8.33288 11.6218 8.36807 11.5555 8.42399 11.5042L8.2147 11.2763L8.42377 11.5044C8.48168 11.4513 8.54518 11.4277 8.63782 11.4352C8.73051 11.4427 8.79051 11.4764 8.84046 11.5393Z",stroke:"#107D57",strokeWidth:.618817}),N.createElement("path",{id:"Icon / Games_3",d:"M7.74941 0.00278796L1.66605 0.487981C1.18503 0.526267 0.82584 0.949506 0.864126 1.42843L1.72313 12.2036C1.76142 12.6832 2.18327 13.0438 2.66359 13.0055L3.18754 12.9637L3.97219 3.12062C4.0418 2.24421 4.81101 1.58916 5.68742 1.65878L8.7776 1.90524L8.68986 0.804714C8.65157 0.32509 8.22973 -0.0354984 7.74941 0.00278796Z",fill:"#107D57"}))),d1e=t=>N.createElement("svg",{width:19,height:14,viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon / LeaderBoard"},N.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M16.8236 2.46643C16.436 2.23624 16.1759 1.81093 16.1759 1.32432C16.1759 0.59292 16.7636 0 17.4885 0C18.2134 0 18.8011 0.59292 18.8011 1.32432C18.8011 1.81093 18.541 2.23624 18.1534 2.46643C18.5192 2.51678 18.8011 2.83327 18.8011 3.2162V10.7838C18.8011 11.2017 18.4653 11.5405 18.051 11.5405H16.926L16.9147 11.5404H10.9255V11.5406V13.2433C10.9255 13.6612 10.5897 14 10.1755 14H8.67539C8.26115 14 7.92534 13.6612 7.92534 13.2433V11.5406V11.5404H1.93622L1.92493 11.5405H0.799856C0.385614 11.5405 0.0498047 11.2017 0.0498047 10.7838V3.2162C0.0498047 2.83328 0.331692 2.51678 0.697521 2.46643C0.309923 2.23624 0.0498047 1.81093 0.0498047 1.32432C0.0498047 0.59292 0.637471 0 1.36239 0C2.08732 0 2.67498 0.59292 2.67498 1.32432C2.67498 1.81093 2.41487 2.23624 2.02727 2.46643C2.16328 2.48515 2.28769 2.54066 2.39032 2.62269C4.78264 1.62379 7.12768 1.12793 9.42545 1.13511C11.7225 1.14228 14.0669 1.63872 16.4584 2.62442C16.5615 2.54144 16.6867 2.48528 16.8236 2.46643ZM1.92494 10.7837L1.92493 3.21617H0.799862V10.7837H1.92494ZM16.1759 3.32547C13.8707 2.37522 11.6209 1.89875 9.42314 1.89189C7.2272 1.88503 4.97905 2.36051 2.675 3.32285V10.7837H16.1759V3.32547ZM17.4885 1.89189C17.7992 1.89189 18.0511 1.63779 18.0511 1.32433C18.0511 1.01087 17.7992 0.75676 17.4885 0.75676C17.1778 0.75676 16.926 1.01087 16.926 1.32433C16.926 1.63779 17.1778 1.89189 17.4885 1.89189ZM16.926 3.21617V10.7837H18.0511V3.21617H16.926ZM8.67538 13.2432V11.5405H10.1755V13.2432H8.67538ZM1.3624 1.89189C1.67308 1.89189 1.92494 1.63779 1.92494 1.32433C1.92494 1.01087 1.67308 0.75676 1.3624 0.75676C1.05172 0.75676 0.799862 1.01087 0.799862 1.32433C0.799862 1.63779 1.05172 1.89189 1.3624 1.89189Z",fill:"#107D57"}))),h1e=t=>N.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{clipPath:"url(#clip0_1664_3009)"},N.createElement("path",{d:"M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z",fill:"#B6B9C6"})),N.createElement("defs",null,N.createElement("clipPath",{id:"clip0_1664_3009"},N.createElement("rect",{width:24,height:24,fill:"white"})))),m1e=t=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"check"},N.createElement("path",{id:"Vector",d:"M3.59985 10.8L7.59985 14.8L16.3999 5.20001",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),p1e=t=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"cross"},N.createElement("path",{id:"Vector",d:"M5.19995 14.8L14.8 5.20001M5.19995 5.20001L14.8 14.8",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),f1e=t=>N.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 2.46154C8.52291 2.46154 2.46154 8.52291 2.46154 16C2.46154 23.4771 8.52291 29.5385 16 29.5385C23.4771 29.5385 29.5385 23.4771 29.5385 16C29.5385 8.52291 23.4771 2.46154 16 2.46154ZM0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z",fill:"#FFB600"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8.20513C16.6797 8.20513 17.2308 8.75616 17.2308 9.4359V17.641C17.2308 18.3208 16.6797 18.8718 16 18.8718C15.3203 18.8718 14.7692 18.3208 14.7692 17.641V9.4359C14.7692 8.75616 15.3203 8.20513 16 8.20513Z",fill:"#FFB600"}),N.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7692 22.5641C14.7692 21.8844 15.3203 21.3333 16 21.3333H16.0164C16.6961 21.3333 17.2472 21.8844 17.2472 22.5641C17.2472 23.2438 16.6961 23.7949 16.0164 23.7949H16C15.3203 23.7949 14.7692 23.2438 14.7692 22.5641Z",fill:"#FFB600"})),g1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon/Insight"},N.createElement("path",{id:"Fill-1",fillRule:"evenodd",clipRule:"evenodd",d:"M9.3336 9.33644C8.59749 10.0725 7.40264 10.0725 6.66652 9.33644C5.93041 8.60039 5.93041 7.40565 6.66652 6.6696C7.40264 5.93355 8.59749 5.93355 9.3336 6.6696C10.0697 7.40565 10.0697 8.60039 9.3336 9.33644Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-3",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 12.3306C11.7818 12.8833 10.8863 12.8827 10.3342 12.3306C9.78211 11.7786 9.78145 10.8832 10.3342 10.3305C10.8869 9.77781 11.7824 9.77847 12.3345 10.3305C12.8866 10.8825 12.8873 11.7779 12.3345 12.3306Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-5",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 5.66365C5.11311 6.21635 4.21831 6.21635 3.66556 5.66365C3.11281 5.11094 3.11281 4.21622 3.66556 3.66352C4.21831 3.11081 5.11311 3.11081 5.66586 3.66352C6.21861 4.21622 6.21861 5.11094 5.66586 5.66365Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-7",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 5.66365C11.7818 6.21635 10.8869 6.21635 10.3342 5.66365C9.78145 5.11094 9.78145 4.21622 10.3342 3.66352C10.8869 3.11081 11.7818 3.11081 12.3345 3.66352C12.8873 4.21622 12.8873 5.11094 12.3345 5.66365Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-9",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 12.3306C5.11378 12.8827 4.21831 12.8833 3.66556 12.3306C3.11281 11.7779 3.11347 10.8825 3.66556 10.3305C4.21764 9.77847 5.11311 9.77781 5.66586 10.3305C6.21861 10.8832 6.21795 11.7786 5.66586 12.3306Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-11",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 1.99964C8.29877 2.36766 7.70135 2.36766 7.33329 1.99964C6.96524 1.63162 6.96524 1.03425 7.33329 0.666221C7.70135 0.298198 8.29877 0.298198 8.66683 0.666221C9.03489 1.03425 9.03489 1.63162 8.66683 1.99964Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-13",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.66676C14.9652 9.03478 14.3684 9.03545 13.9997 8.66675C13.631 8.29806 13.6316 7.70136 13.9997 7.33334C14.3677 6.96531 14.9645 6.96464 15.3332 7.33334C15.7019 7.70203 15.7013 8.29873 15.3332 8.66676Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-15",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 15.3339C8.29811 15.7026 7.70202 15.7026 7.33329 15.3339C6.96457 14.9652 6.96457 14.3691 7.33329 14.0004C7.70202 13.6318 8.29811 13.6318 8.66683 14.0005C9.03555 14.3691 9.03555 14.9652 8.66683 15.3339Z",fill:"#107D57"}),N.createElement("path",{id:"Fill-17",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M2.00033 8.66676C1.6316 9.03545 1.03484 9.03478 0.666788 8.66676C0.298732 8.29873 0.298065 7.70203 0.666788 7.33334C1.03551 6.96465 1.63227 6.96531 2.00033 7.33334C2.36838 7.70136 2.36905 8.29806 2.00033 8.66676Z",fill:"#107D57"}))),y1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Poll"},N.createElement("path",{id:"Notification/Icon/Poll",fillRule:"evenodd",clipRule:"evenodd",d:"M9.7778 1.68421V5.05263H13.3333C13.8243 5.05263 14.2222 4.67561 14.2222 4.21053V2.52632C14.2222 2.06123 13.8243 1.68421 13.3333 1.68421H9.7778ZM2.66667 0C1.19391 0 0 1.13107 0 2.52632V4.21053C0 5.60577 1.19391 6.73684 2.66667 6.73684H13.3333C14.8061 6.73684 16 5.60577 16 4.21053V2.52632C16 1.13107 14.8061 0 13.3333 0H2.66667ZM4.44446 10.9473H13.3333C13.8243 10.9473 14.2222 11.3243 14.2222 11.7894V13.4736C14.2222 13.9387 13.8243 14.3157 13.3333 14.3157H4.44446V10.9473ZM0 11.7894C0 10.3942 1.19391 9.2631 2.66667 9.2631H13.3333C14.8061 9.2631 16 10.3942 16 11.7894V13.4736C16 14.8689 14.8061 15.9999 13.3333 15.9999H2.66667C1.19391 15.9999 0 14.8689 0 13.4736V11.7894Z",fill:"white",fillOpacity:.5}))),T1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon/Notification/Prediciton"},N.createElement("path",{id:"Icon/Prediction",fillRule:"evenodd",clipRule:"evenodd",d:"M16 7.00522C16 7.00522 9.20048 6.81607 9.20048 0C9.20048 6.36168 3.27729 6.95056 2.48756 7.00078L2.40094 7.00522C2.40094 7.00522 9.20048 7.19435 9.20048 14.0104C9.20048 7.64877 15.1234 7.05989 15.9131 7.00964L16 7.00522ZM6.97382 12.5652C6.97382 12.5652 3.48691 12.4724 3.48691 9.13033C3.48691 12.2496 0.449402 12.5384 0.0444186 12.563L0 12.5652C0 12.5652 3.48691 12.6579 3.48691 16C3.48691 12.8807 6.52429 12.592 6.92927 12.5673L6.97382 12.5652Z",fill:"white",fillOpacity:.5}))),v1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Icon/Notification/Trivia"},N.createElement("path",{id:"Notification/Icon/Trivia",fillRule:"evenodd",clipRule:"evenodd",d:"M2.01663 1.3808C0.739913 1.55586 -0.153153 2.73276 0.021912 4.00948L1.3808 13.9196C1.55586 15.1963 2.73276 16.0894 4.00948 15.9143L13.9196 14.5554C15.1963 14.3803 16.0894 13.2034 15.9143 11.9267L14.5554 2.01663C14.3803 0.739913 13.2034 -0.153153 11.9267 0.021912L2.01663 1.3808ZM9.59613 3.788C9.11431 3.46991 8.47813 3.30151 7.7566 3.30151C7.54377 3.30151 7.32625 3.31671 7.10872 3.34478C6.38836 3.44067 5.68901 3.79034 5.18965 4.30138C4.68445 4.82062 4.4377 5.45563 4.51722 6.04151C4.57452 6.4742 4.90078 6.7537 5.34635 6.7537C5.39429 6.7537 5.44341 6.7502 5.49136 6.74435C6.08778 6.66483 6.21642 6.25436 6.34036 5.85675L6.34045 5.85648C6.48192 5.40401 6.61534 4.97731 7.38585 4.87444C7.46537 4.86391 7.54138 4.85806 7.61506 4.85806C8.16939 4.85806 8.51436 5.15042 8.58454 5.68252C8.65353 6.20293 8.24307 6.61807 7.80684 7.0566L7.80393 7.05954C7.31582 7.55231 6.7639 8.1095 6.86895 8.90083C6.89585 9.10548 6.9859 9.29493 7.12272 9.43644C7.27826 9.599 7.4829 9.68436 7.71331 9.68436C7.75541 9.68436 7.79868 9.68203 7.84311 9.67618C8.46691 9.59324 8.55162 9.23139 8.63338 8.8821L8.63365 8.88097L8.63661 8.86859C8.66723 8.7403 8.69877 8.60813 8.75995 8.48804C8.84649 8.31613 9.06283 8.11265 9.31428 7.87875C9.9142 7.31858 10.734 6.55143 10.582 5.41589C10.4872 4.70603 10.1551 4.15757 9.59611 3.78802L9.59613 3.788ZM8.11605 10.28C8.06927 10.28 8.02132 10.2836 7.97454 10.2894C7.38396 10.3689 6.96765 10.9127 7.04599 11.5033C7.11733 12.0377 7.57808 12.4412 8.1172 12.4412C8.16397 12.4412 8.21192 12.4377 8.25987 12.4318C8.85045 12.3523 9.2656 11.8085 9.18842 11.2179C9.11591 10.6823 8.65517 10.28 8.11605 10.28Z",fill:"white",fillOpacity:.5}))),_1e=t=>N.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("rect",{x:.5,width:16,height:16,rx:8,fill:"white",style:{fill:"white",fillOpacity:1}}),N.createElement("path",{d:"M4.75 8.5L7.09375 11L12.25 5",stroke:"#107D57",style:{stroke:"#107D57",stroke:"color(display-p3 0.0627 0.4902 0.3412)",strokeOpacity:1},strokeLinecap:"round",strokeLinejoin:"round"})),b1e=t=>N.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),S1e=t=>N.createElement("svg",{width:103,height:18,viewBox:"0 0 103 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{clipPath:"url(#clip0_6919_104497)"},N.createElement("path",{d:"M9.89618 3.45801C9.91951 3.45801 9.94451 3.46134 9.96784 3.46134C9.97618 3.46134 9.98284 3.46134 9.99118 3.46467H9.99784C10.0095 3.46467 10.0212 3.46801 10.0312 3.46801C10.0412 3.46801 10.0462 3.46801 10.0545 3.47134C10.0762 3.47467 10.0962 3.47467 10.1178 3.47634C10.1412 3.47967 10.1662 3.48134 10.1895 3.48467H10.2012C10.2462 3.48967 10.2945 3.49634 10.3395 3.50467C10.4512 3.52467 10.5595 3.54801 10.6662 3.57801C10.6928 3.58301 10.7178 3.59301 10.7445 3.60134H10.7478C10.7745 3.60967 10.7995 3.61801 10.8262 3.62467C10.8528 3.63301 10.8778 3.64134 10.9045 3.65134C10.9312 3.65967 10.9562 3.66801 10.9795 3.67967C11.0012 3.68801 11.0212 3.69634 11.0428 3.70634C11.0495 3.70967 11.0578 3.71134 11.0645 3.71467C11.0828 3.72301 11.1012 3.72967 11.1195 3.73801C11.1262 3.74134 11.1312 3.74301 11.1378 3.74634C11.1562 3.75467 11.1712 3.76134 11.1895 3.76967C11.1962 3.77301 11.2045 3.77467 11.2128 3.78134C11.2345 3.78967 11.2528 3.79801 11.2728 3.80967C11.2762 3.80967 11.2795 3.81301 11.2812 3.81301C11.3045 3.82467 11.3295 3.83634 11.3512 3.84801C11.3695 3.85634 11.3878 3.86801 11.4062 3.87634C11.4212 3.88134 11.4328 3.89134 11.4462 3.89967C11.4645 3.91134 11.4828 3.91967 11.5012 3.93134C11.5045 3.93467 11.5078 3.93467 11.5095 3.93634L11.5728 3.97467H11.5762L15.2178 6.18801L15.4412 6.32467C16.3228 6.90801 16.9028 7.88467 16.9028 8.99301C16.9028 10.1013 16.3262 11.0763 15.4445 11.6613L15.2095 11.803L11.5745 14.0113H11.5712L11.5078 14.0497C11.5078 14.0497 11.5012 14.053 11.4995 14.0547C11.4812 14.0663 11.4628 14.0747 11.4445 14.0863C11.4595 14.078 11.4745 14.0697 11.4895 14.0597L5.94951 17.433C5.94951 17.433 5.94618 17.433 5.94618 17.4363L5.74451 17.558H5.74118C5.19784 17.863 4.55784 18.0247 3.87784 17.993C2.73618 17.938 1.75784 17.3463 1.19284 16.4847C0.837844 15.9413 0.64451 15.2913 0.681177 14.6013C0.71451 13.983 0.922844 13.4147 1.26118 12.9397L1.26951 12.9247L4.04451 8.99634L6.77784 5.12634C6.81118 5.07967 6.84784 5.03301 6.87784 4.98467C6.87451 4.98967 6.86951 4.99967 6.86284 5.00467C6.87118 4.98967 6.88118 4.97634 6.88951 4.96134C6.88951 4.95801 6.89284 4.95801 6.89284 4.95634C6.89618 4.95301 6.89951 4.94801 6.90118 4.94467C6.90118 4.94467 6.90118 4.94134 6.90451 4.94134C6.91951 4.92134 6.93451 4.90134 6.94618 4.87801C6.96118 4.85801 6.97618 4.83801 6.99118 4.81634C7.00618 4.79634 7.02118 4.77634 7.03618 4.75467C7.03951 4.75134 7.03951 4.74967 7.04284 4.74634C7.04618 4.74301 7.04618 4.74134 7.04951 4.74134C7.06451 4.72134 7.07951 4.70134 7.09784 4.67967C7.10951 4.66467 7.12118 4.65134 7.13451 4.63634C7.16784 4.59801 7.20118 4.56134 7.23784 4.52301C7.25284 4.50801 7.26451 4.49467 7.27951 4.47967C7.30118 4.45634 7.32118 4.43634 7.34618 4.41634C7.36451 4.39967 7.38284 4.38134 7.40118 4.36467C7.41951 4.34801 7.43451 4.33301 7.45284 4.31801C7.45618 4.31467 7.45951 4.31301 7.45951 4.31301C7.47118 4.30134 7.48118 4.29301 7.49284 4.28467C7.50451 4.27301 7.51951 4.26134 7.53284 4.25301C7.53618 4.24967 7.53951 4.24801 7.54118 4.24801C7.55951 4.23301 7.57451 4.21967 7.59284 4.20467C7.60784 4.18967 7.62618 4.17801 7.64118 4.16634C7.65618 4.15467 7.66784 4.14634 7.68284 4.13467C7.70118 4.11967 7.71951 4.10801 7.73784 4.09467C7.75284 4.08634 7.76451 4.07467 7.77951 4.06634C7.78618 4.06134 7.79451 4.05467 7.80284 4.05134C7.81784 4.03967 7.83284 4.03134 7.84784 4.02301C7.85118 4.01967 7.85618 4.01801 7.85951 4.01467C7.87784 4.00301 7.89618 3.99134 7.91118 3.98301C7.91784 3.97801 7.92618 3.97467 7.93284 3.96801C7.94784 3.95967 7.95951 3.95134 7.97451 3.94134C7.98284 3.93634 7.99284 3.92967 8.00118 3.92467C8.01618 3.91634 8.03451 3.90801 8.04951 3.89634C8.05284 3.89301 8.05784 3.89134 8.06451 3.88801C8.08618 3.87634 8.10451 3.86467 8.12451 3.85634C8.12784 3.85301 8.13118 3.85301 8.13618 3.85134C8.15784 3.83967 8.17784 3.82801 8.19951 3.81967C8.19951 3.81967 8.20284 3.81967 8.20284 3.81634C8.22618 3.80467 8.24784 3.79301 8.27284 3.78134C8.27284 3.78134 8.27618 3.78134 8.27618 3.77801C8.29451 3.76967 8.31284 3.76134 8.33284 3.75134C8.34118 3.74801 8.35118 3.74301 8.35951 3.73967C8.37118 3.73467 8.38284 3.72801 8.39618 3.72467C8.41118 3.71967 8.42284 3.71301 8.43784 3.70801C8.46118 3.69967 8.48284 3.69134 8.50784 3.68134C8.52284 3.67634 8.53451 3.66967 8.54951 3.66634C8.57118 3.65801 8.59118 3.65134 8.61284 3.64301C8.63118 3.63801 8.65284 3.63134 8.66951 3.62301C8.75451 3.59634 8.83784 3.57134 8.92284 3.54967C8.94118 3.54467 8.96284 3.54134 8.97951 3.53801C9.08451 3.51467 9.19451 3.49467 9.30284 3.48301C9.32951 3.47967 9.35784 3.47801 9.38451 3.47467C9.42118 3.47134 9.45951 3.46967 9.49618 3.46634C9.51118 3.46634 9.52284 3.46301 9.53784 3.46301H9.55951C9.58951 3.46301 9.61618 3.45967 9.64784 3.45967H9.73784C9.79451 3.45967 9.84284 3.45967 9.89451 3.46301L9.89618 3.45801ZM10.6662 14.413C10.5612 14.4413 10.4512 14.4647 10.3395 14.4863C10.4512 14.4663 10.5595 14.443 10.6662 14.413ZM9.56118 14.5313H9.56951C9.56118 14.5313 9.54784 14.5313 9.53951 14.528C9.54618 14.528 9.55451 14.5313 9.56118 14.5313ZM7.08784 13.293C7.05451 13.253 7.02451 13.2147 6.99451 13.1747C7.02451 13.2147 7.05784 13.253 7.08784 13.293ZM6.90284 13.043C6.90284 13.043 6.90618 13.0463 6.90618 13.048C6.90284 13.0447 6.90284 13.043 6.89951 13.0363C6.89618 13.033 6.89618 13.0297 6.89284 13.0247C6.86951 12.9897 6.84784 12.953 6.82284 12.918C6.84451 12.953 6.86784 12.9913 6.88951 13.0247C6.89618 13.0297 6.89784 13.0363 6.90118 13.0413L6.90284 13.043ZM6.89451 13.0263C6.85784 12.968 6.81951 12.913 6.77618 12.858L6.89451 13.0263Z",fill:"#1652A8",style:{fill:"#1652A8",fill:"color(display-p3 0.0863 0.3216 0.6588)",fillOpacity:1}}),N.createElement("g",{opacity:.85},N.createElement("path",{d:"M5.77088 0.453306L5.97588 0.578306L5.97921 0.581639L11.5225 3.94997C11.5075 3.94164 11.4925 3.93331 11.4775 3.92331C11.4959 3.93497 11.5142 3.94331 11.5325 3.95497C11.5359 3.95831 11.5392 3.95831 11.5409 3.95997L11.6042 3.99831H11.6075L15.2492 6.21164L15.4725 6.34831C16.3542 6.93164 16.9342 7.9083 16.9342 9.01664C16.9342 10.125 16.3575 11.1 15.4759 11.685L15.2409 11.8266L11.6059 14.035H11.6025L11.5392 14.0733C11.5392 14.0733 11.5325 14.0766 11.5309 14.0783C11.5125 14.09 11.4942 14.0983 11.4759 14.11C11.4642 14.1183 11.4492 14.125 11.4359 14.1333C11.4175 14.145 11.3992 14.1533 11.3809 14.1616C11.3575 14.1733 11.3359 14.185 11.3109 14.1966C11.3075 14.2 11.3042 14.2 11.3025 14.2C11.2842 14.2116 11.2625 14.22 11.2425 14.2283C11.2359 14.2316 11.2275 14.2333 11.2192 14.24C11.2009 14.2483 11.1859 14.255 11.1675 14.2633C11.1609 14.2666 11.1592 14.2683 11.1525 14.2683C11.1309 14.2766 11.1109 14.285 11.0859 14.2966C11.0625 14.3083 11.0342 14.3166 11.0109 14.325C10.9875 14.3333 10.9592 14.345 10.9359 14.3533C10.9092 14.3616 10.8842 14.37 10.8575 14.38C10.8309 14.3883 10.8059 14.3966 10.7792 14.4033H10.7759C10.7492 14.4116 10.7242 14.4183 10.6975 14.4266C10.5925 14.455 10.4825 14.4783 10.3709 14.4983C10.3259 14.5066 10.2775 14.5133 10.2325 14.5183C10.2259 14.5183 10.2242 14.5183 10.2209 14.5216C10.1975 14.525 10.1725 14.5283 10.1492 14.53C10.1009 14.5366 10.0525 14.5383 10.0042 14.5416C9.92921 14.5483 9.85254 14.5483 9.77754 14.5483H9.68088C9.65421 14.5483 9.62921 14.545 9.60254 14.545C9.59421 14.545 9.58088 14.545 9.57254 14.5416C9.53254 14.5383 9.49088 14.5366 9.45254 14.5333C9.27421 14.5166 9.09588 14.4866 8.92754 14.4466C8.90421 14.44 8.87921 14.435 8.85254 14.4266C8.81921 14.4183 8.78588 14.41 8.74921 14.3983C8.73088 14.3933 8.70921 14.3866 8.69254 14.3816C8.66588 14.3733 8.64088 14.365 8.61421 14.355C8.58754 14.3466 8.56254 14.3383 8.53921 14.3266C8.51588 14.3183 8.48754 14.3066 8.46421 14.2983C8.44088 14.29 8.41921 14.2816 8.39754 14.27C8.38921 14.2666 8.38254 14.265 8.37421 14.2583C8.35588 14.25 8.33754 14.2416 8.31754 14.2316C8.31754 14.2316 8.31421 14.2316 8.31421 14.2283C8.29088 14.2166 8.26588 14.205 8.24254 14.1933C8.21921 14.1816 8.19421 14.17 8.17088 14.155C8.14754 14.1433 8.12254 14.1283 8.10088 14.1166C8.07754 14.105 8.05254 14.09 8.03088 14.0766C8.00754 14.0616 7.98588 14.0483 7.96088 14.0366C7.93754 14.0216 7.91588 14.0083 7.89421 13.9933C7.87254 13.9783 7.85254 13.965 7.83088 13.95C7.82754 13.95 7.82754 13.9466 7.82421 13.945C7.80588 13.9333 7.78754 13.9183 7.76754 13.905C7.76421 13.9016 7.76088 13.9016 7.75921 13.9C7.74088 13.885 7.72254 13.8733 7.70421 13.86C7.70088 13.8566 7.69588 13.855 7.69254 13.8483C7.67421 13.8333 7.65588 13.82 7.63754 13.805C7.63754 13.805 7.63421 13.805 7.63421 13.8016C7.61588 13.7866 7.59754 13.7733 7.57754 13.755C7.57421 13.7516 7.57088 13.7516 7.56921 13.7483C7.55421 13.7366 7.53921 13.7216 7.52421 13.71C7.51754 13.705 7.51254 13.6983 7.50588 13.695C7.49421 13.6833 7.47921 13.6716 7.46588 13.66C7.43921 13.6366 7.41421 13.6133 7.39088 13.5866C7.37254 13.57 7.35754 13.5516 7.33921 13.535C7.32754 13.5233 7.31754 13.5116 7.30588 13.5C7.29421 13.4883 7.28421 13.48 7.27588 13.4683C7.25754 13.4516 7.24254 13.43 7.22421 13.4133C7.19088 13.375 7.15754 13.3383 7.12421 13.2966C7.09088 13.2566 7.06088 13.2183 7.03088 13.1783C7.01588 13.1583 7.00088 13.1383 6.98588 13.1166C6.97088 13.0966 6.95588 13.0766 6.94421 13.0533C6.94088 13.05 6.94088 13.0483 6.93754 13.0416C6.93421 13.0383 6.93421 13.0366 6.93088 13.03C6.90754 12.995 6.88588 12.9583 6.86088 12.9233C6.88254 12.9583 6.90588 12.995 6.92754 13.03C6.89088 12.9716 6.85254 12.9166 6.80921 12.8616L4.07921 8.99664L1.34088 5.12997L1.23254 4.97664L1.22921 4.97164C0.92421 4.51164 0.737543 3.97497 0.707543 3.39497C0.670877 2.70497 0.86421 2.05164 1.22088 1.50997C1.78588 0.648306 2.76588 0.0566391 3.90421 -2.75556e-05C4.58421 -0.0150276 5.22421 0.148306 5.77088 0.453306Z",fill:"url(#paint0_linear_6919_104497)",style:{}})),N.createElement("path",{d:"M32.4132 12.862C31.2015 12.862 30.4482 12.0503 30.4482 10.7203V8.4453H32.6632V7.02697H30.4482V4.72363L28.8548 5.9053V7.0253H27.9648V8.44363H28.8548V10.7053C28.8548 12.9953 30.1982 14.412 32.4282 14.412H32.7682V12.862H32.4132Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M19.9812 12.5767L21.4028 11.4651C22.0395 12.4867 22.8995 13.0351 23.9962 13.0351C25.1962 13.0351 25.9512 12.2651 25.9512 11.3017C25.9512 10.1901 24.7662 9.83506 23.5212 9.43506C22.0545 8.96172 20.4695 8.36839 20.4695 6.38339C20.4695 4.73839 21.9362 3.43506 23.9362 3.43506C25.5812 3.43506 26.6028 4.07172 27.4328 5.03506L26.1145 6.01339C25.6262 5.25839 24.8995 4.85839 23.9362 4.85839C22.8395 4.85839 22.1278 5.51006 22.1278 6.35506C22.1278 7.39172 23.2695 7.73339 24.5128 8.14839C25.9945 8.65172 27.6095 9.29006 27.6095 11.3051C27.6095 12.9651 26.2462 14.5501 24.0095 14.5501C22.1578 14.5501 20.8978 13.7651 19.9795 12.5801L19.9812 12.5767Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M38.2695 10.7367C38.2695 8.56503 39.9379 6.8667 42.1095 6.8667C44.2812 6.8667 45.9062 8.4467 45.9062 10.6334V11.2534H39.7912C39.9979 12.39 40.8845 13.1434 42.1695 13.1434C43.1745 13.1434 43.9429 12.6117 44.3262 11.8134L45.6262 12.5367C44.9762 13.7484 43.8095 14.545 42.1695 14.545C39.8362 14.545 38.2695 12.8767 38.2695 10.735V10.7367ZM39.8645 9.91003H44.2962C44.0595 8.8467 43.2479 8.25503 42.1095 8.25503C40.9712 8.25503 40.1595 8.93503 39.8645 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M33.7549 10.72C33.7549 8.42999 35.0982 7.02832 37.3282 7.02832H38.0366V8.56499H37.3132C36.1016 8.56499 35.3199 9.40665 35.3349 10.7367V14.415H33.7549V10.7233V10.72Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M46.6882 10.7218C46.6882 8.56517 48.3865 6.88184 50.5132 6.88184C52.6399 6.88184 54.3082 8.56517 54.3082 10.7218V14.4135H52.7582V13.4535C52.2415 14.1468 51.4432 14.5468 50.4682 14.5468C48.3565 14.5468 46.6865 12.8935 46.6865 10.7218H46.6882ZM52.7882 10.7218C52.7882 9.40684 51.7832 8.3585 50.5132 8.3585C49.2432 8.3585 48.2382 9.40684 48.2382 10.7218C48.2382 12.0368 49.2282 13.0852 50.5132 13.0852C51.7982 13.0852 52.7882 12.0218 52.7882 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M55.3027 10.2717C55.3027 8.30667 56.6461 6.875 58.6411 6.875C59.7777 6.875 60.6944 7.33333 61.2694 8.10167C61.8161 7.33333 62.7027 6.875 63.8394 6.875C65.8477 6.875 67.2511 8.27833 67.2511 10.2717V14.4067H65.6711V10.2867C65.6711 9.165 64.9177 8.38167 63.8394 8.38167C62.7611 8.38167 62.0527 9.18 62.0677 10.2433V14.4083H60.4877V10.2883C60.4877 9.16667 59.7194 8.38333 58.6411 8.38333C57.5627 8.38333 56.8694 9.18167 56.8827 10.245V14.41H55.3027V10.275V10.2717Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M68.2646 3.62695H69.8746V12.872H74.2313V14.4086H68.2646V3.62695Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M89.418 10.7367C89.418 8.56503 91.0863 6.8667 93.258 6.8667C95.4296 6.8667 97.0546 8.4467 97.0546 10.6334V11.2534H90.9396C91.1463 12.39 92.033 13.1434 93.318 13.1434C94.323 13.1434 95.0913 12.6117 95.4746 11.8134L96.7746 12.5367C96.1246 13.7484 94.958 14.545 93.318 14.545C90.9846 14.545 89.418 12.8767 89.418 10.735V10.7367ZM91.013 9.91003H95.4446C95.208 8.8467 94.3963 8.25503 93.258 8.25503C92.1196 8.25503 91.308 8.93503 91.013 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M74.4948 10.7218C74.4948 8.56517 76.1932 6.88184 78.3198 6.88184C80.4465 6.88184 82.1148 8.56517 82.1148 10.7218V14.4135H80.5648V13.4535C80.0482 14.1468 79.2498 14.5468 78.2748 14.5468C76.1632 14.5468 74.4932 12.8935 74.4932 10.7218H74.4948ZM80.5948 10.7218C80.5948 9.40684 79.5898 8.3585 78.3198 8.3585C77.0498 8.3585 76.0448 9.40684 76.0448 10.7218C76.0448 12.0368 77.0348 13.0852 78.3198 13.0852C79.6048 13.0852 80.5948 12.0218 80.5948 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M85.0381 14.0498L81.9814 7.0498H83.6798L85.8364 12.1748L87.8748 7.0498H89.5431L85.0831 17.8465H83.4581L85.0381 14.0515V14.0498Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),N.createElement("path",{d:"M98.041 10.7151C98.041 8.4251 99.3843 7.02344 101.614 7.02344H102.323V8.5601H101.599C100.388 8.5601 99.606 9.40177 99.621 10.7318V14.4101H98.041V10.7184V10.7151Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}})),N.createElement("defs",null,N.createElement("linearGradient",{id:"paint0_linear_6919_104497",x1:4.31754,y1:8.70664,x2:13.6359,y2:3.59497,gradientUnits:"userSpaceOnUse"},N.createElement("stop",{offset:.2,stopColor:"#1589EE",style:{stopColor:"#1589EE",stopColor:"color(display-p3 0.0824 0.5373 0.9333)",stopOpacity:1}}),N.createElement("stop",{offset:1,stopColor:"#5EB4FF",style:{stopColor:"#5EB4FF",stopColor:"color(display-p3 0.3686 0.7059 1.0000)",stopOpacity:1}})),N.createElement("clipPath",{id:"clip0_6919_104497"},N.createElement("rect",{width:101.648,height:18,fill:"white",style:{fill:"white",fillOpacity:1},transform:"translate(0.675781)"})))),E1e=t=>N.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("g",{id:"Frame 3469523"},N.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,fill:"black"}),N.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,stroke:"#F2F2F1"}),N.createElement("g",{id:"layer1"},N.createElement("path",{id:"path1009",d:"M5.10046 5L8.32856 9.3097L5.08008 12.8137H5.81118L8.65522 9.74589L10.9531 12.8137H13.4411L10.0314 8.26155L13.055 5H12.3239L9.70471 7.82536L7.58843 5H5.10046ZM6.1756 5.53771H7.31858L12.3658 12.2759H11.2228L6.1756 5.53771Z",fill:"white"})))),Ux={"invite-game-icon":s1e,"icon-trophy":e1e,"icon-trophy-green":Zfe,"icon-trophy-solid":Jfe,"icon-trivia":v1e,"icon-thumb-down":Kfe,"icon-thumb-up":Yfe,"icon-star":Wfe,"icon-prediction":T1e,"icon-insight":g1e,"icon-poll":y1e,"icon-play":qfe,"icon-pause":Gfe,"icon-masters-logo":Vfe,"icon-logout":jfe,"icon-link":Bfe,"icon-external-link":$fe,"icon-invite-arrow":Ffe,"icon-friends":Ufe,"icon-exit":Mfe,"icon-default-user-avatar":Dfe,"icon-copy":Nfe,"icon-cross":Tfe,"icon-close":Lfe,"icon-close-btn-white":xfe,"icon-close-btn-gray":Ife,"icon-circle-arrow-right":Cfe,"icon-chevron":wfe,"icon-chevron-white-left":Afe,"icon-chevron-left":kfe,"icon-check":ffe,"icon-check-white":Efe,"icon-check-green":Sfe,"icon-check-circle":bfe,"icon-btn-channels":c1e,"icon-btn-feature-groups":u1e,"icon-btn-leaderboard":d1e,"icon-arrow":pfe,"icon-twitter-verified":t1e,"icon-trophy-bet-pack":Xfe,"icon-trivia-transparent":Qfe,dashboard:Ofe,iconMute:Hfe,iconUnMute:n1e,correct:m1e,iconSkip:zfe,incorrect:p1e,questionExpired:f1e,selected:b1e,selectedBetPack:_1e,circleClose:yfe,incorrectVoted:i1e,mastersLogo:o1e,streamLayerLogo:S1e,twitter:E1e,iconUp:r1e,iconCopySuccess:Rfe,chevronRight:gfe,noImageIcon:h1e,iconArrowRight:_fe,iconEarlyPrediction:Pfe,iconArrowPrev:vfe,mastersLogoWhite:l1e,loader:a1e},We=({name:t,style:e,className:n,...r})=>{if(!Ux[t])return S.jsx("span",{children:t});const i=Ux[t];return S.jsx(i,{"data-testid":"svg-icon",style:e,className:n,...r})};var Fx=typeof window>"u"?N.useEffect:N.useLayoutEffect,k1e=({isPlaying:t,duration:e,startAt:n=0,updateInterval:r=0,onComplete:i,onUpdate:s})=>{let[a,o]=N.useState(n),l=N.useRef(0),c=N.useRef(n),u=N.useRef(n*-1e3),d=N.useRef(null),h=N.useRef(null),m=N.useRef(null),g=y=>{let v=y/1e3;if(h.current===null){h.current=v,d.current=requestAnimationFrame(g);return}let E=v-h.current,x=l.current+E;h.current=v,l.current=x;let C=c.current+(r===0?x:(x/r|0)*r),R=c.current+x,D=typeof e=="number"&&R>=e;o(D?e:C),D||(d.current=requestAnimationFrame(g))},p=()=>{d.current&&cancelAnimationFrame(d.current),m.current&&clearTimeout(m.current),h.current=null},_=N.useCallback(y=>{p(),l.current=0;let v=typeof y=="number"?y:n;c.current=v,o(v),t&&(d.current=requestAnimationFrame(g))},[t,n]);return Fx(()=>{if(s==null||s(a),e&&a>=e){u.current+=e*1e3;let{shouldRepeat:y=!1,delay:v=0,newStartAt:E}=(i==null?void 0:i(u.current/1e3))||{};y&&(m.current=setTimeout(()=>_(E),v*1e3))}},[a,e]),Fx(()=>(t&&(d.current=requestAnimationFrame(g)),p),[t,e,r]),{elapsedTime:a,reset:_}},A1e=(t,e,n)=>{let r=t/2,i=e/2,s=r-i,a=2*s,o=n==="clockwise"?"1,0":"0,1",l=2*Math.PI*s;return{path:`m ${r},${i} a ${s},${s} 0 ${o} 0,${a} a ${s},${s} 0 ${o} 0,-${a}`,pathLength:l}},Bx=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,w1e=t=>({position:"relative",width:t,height:t}),C1e={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},NB=(t,e,n,r,i)=>{if(r===0)return e;let s=(i?r-t:t)/r;return e+n*s},jx=t=>{var e,n;return(n=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,i,s,a)=>`#${i}${i}${s}${s}${a}${a}`).substring(1).match(/.{2}/g))==null?void 0:e.map(r=>parseInt(r,16)))!=null?n:[]},I1e=(t,e)=>{var n;let{colors:r,colorsTime:i,isSmoothColorTransition:s=!0}=t;if(typeof r=="string")return r;let a=(n=i==null?void 0:i.findIndex((h,m)=>h>=e&&e>=i[m+1]))!=null?n:-1;if(!i||a===-1)return r[0];if(!s)return r[a];let o=i[a]-e,l=i[a]-i[a+1],c=jx(r[a]),u=jx(r[a+1]),d=!!t.isGrowing;return`rgb(${c.map((h,m)=>NB(o,h,u[m]-h,l,d)|0).join(",")})`},x1e=t=>{let{duration:e,initialRemainingTime:n,updateInterval:r,size:i=180,strokeWidth:s=12,trailStrokeWidth:a,isPlaying:o=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=t,h=N.useRef(),m=Math.max(s,a??0),{path:g,pathLength:p}=A1e(i,m,c),{elapsedTime:_}=k1e({isPlaying:o,duration:e,startAt:Bx(e,n),updateInterval:r,onUpdate:typeof d=="function"?v=>{let E=Math.ceil(e-v);E!==h.current&&(h.current=E,d(E))}:void 0,onComplete:typeof u=="function"?v=>{var E;let{shouldRepeat:x,delay:C,newInitialRemainingTime:R}=(E=u(v))!=null?E:{};if(x)return{shouldRepeat:x,delay:C,newStartAt:Bx(e,R)}}:void 0}),y=e-_;return{elapsedTime:_,path:g,pathLength:p,remainingTime:Math.ceil(y),rotation:c,size:i,stroke:I1e(t,y),strokeDashoffset:NB(_,0,p,e,l),strokeWidth:s}},X5=t=>{let{children:e,strokeLinecap:n,trailColor:r,trailStrokeWidth:i}=t,{path:s,pathLength:a,stroke:o,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:h}=x1e(t);return ci.createElement("div",{style:w1e(d)},ci.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},ci.createElement("path",{d:s,fill:"none",stroke:r??"#d9d9d9",strokeWidth:i??h}),ci.createElement("path",{d:s,fill:"none",stroke:o,strokeLinecap:n??"round",strokeWidth:h,strokeDasharray:a,strokeDashoffset:l})),typeof e=="function"&&ci.createElement("div",{style:C1e},e({remainingTime:c,elapsedTime:u,color:o})))};X5.displayName="CountdownCircleTimer";const L1e=[10,10,1,0],R1e=P("div")({name:"RemainingTimeCircle",class:"r165427",propsAsIs:!1}),N1e=P("div")({name:"RemainingTime",class:"r17garf3",propsAsIs:!1}),O1e=Jpe,h8=efe,Vx=tfe,D1e=({className:t,duration:e=30,onTimerExpired:n,isPlaying:r=!0})=>S.jsx(X5,{isPlaying:r,strokeWidth:0,duration:e,colors:h8,size:24,onComplete:n,children:({remainingTime:i})=>S.jsx(N1e,{className:t,children:e===0?0:i})}),P1e=({isPlaying:t=!0,duration:e=30,onTimerExpired:n})=>{const[r,i]=N.useState(e>10?O1e:h8),[s,a]=N.useState(2);N.useEffect(()=>{e===0&&(a(0),i(Vx))},[e]);const o=({remainingTime:u})=>S.jsx(R1e,{children:e===0?0:u}),l=N.useCallback(()=>{n==null||n(),i(Vx)},[n,i]),c=N.useCallback(u=>{u===10&&i(h8)},[i]);return S.jsx(X5,{isPlaying:t,duration:e,colors:Zpe,colorsTime:L1e,size:32,strokeWidth:s,trailStrokeWidth:2,trailColor:r,onComplete:l,onUpdate:c,children:o})},M1e=P("div")({name:"CloseIconWrap",class:"c3v6bv6",propsAsIs:!1}),$1e=P("div")({name:"TimerWrap",class:"teuhmro",propsAsIs:!1}),U1e=()=>We,F1e=P(U1e())({name:"Icon",class:"i17rfxv5",propsAsIs:!0}),S1=({close:t,className:e,timerClassName:n,skipIcon:r,isPlaying:i=!0,duration:s=0,autoClose:a})=>{const[o,l]=N.useState(s===0);N.useEffect(()=>{l(!s)},[s]);const c=N.useCallback(()=>{a===qU.ENABLED?t==null||t():l(!0)},[a,t]);return o?S.jsxs(M1e,{onClick:t,className:e,style:r?{width:"auto"}:{},children:[r&&S.jsx("span",{children:"Skip"}),S.jsx(F1e,{name:r?"iconSkip":"icon-cross"})]}):S.jsx($1e,{children:S.jsx(D1e,{className:n,isPlaying:i,duration:s,onTimerExpired:c})})},dg={[Te.TWEET]:{label:"Insight",iconName:"icon-insight"},[Te.PROMOTION]:{label:"Insight",iconName:"icon-insight"},[Te.UNSET]:void 0,[Te.FACTOID]:{label:"Insight",iconName:"icon-insight"},[Te.POLL]:{label:"Poll",iconName:"icon-poll"},[Te.TRIVIA]:{label:"Trivia",iconName:"icon-trivia"},[Te.PREDICTION]:{label:"Prediction",iconName:"icon-prediction"}},B1e={[Te.TWEET]:"Learn more",[Te.FACTOID]:"Learn more",[Te.POLL]:"Answer",[Te.TRIVIA]:"Answer",[Te.PREDICTION]:"Answer",[Te.PROMOTION]:"",[Te.UNSET]:""},j1e=P("div")({name:"Container",class:"c1vwopgc",propsAsIs:!1}),V1e=P("div")({name:"QuestionTypeWrap",class:"qyktpt0",propsAsIs:!1}),H1e=()=>We,G1e=P(H1e())({name:"QuestionTypeIcon",class:"q951jdx",propsAsIs:!0}),q1e=P("span")({name:"QuestionTypeTitle",class:"qss5f0e",propsAsIs:!1}),z1e=P("div")({name:"CloseIconWrap",class:"c1ao1jtv",propsAsIs:!1}),W1e=()=>We,K1e=P(W1e())({name:"CloseIcon",class:"cvsl7l3",propsAsIs:!0}),OB=({type:t,closeTimer:e,close:n,label:r})=>{const i=t?dg[t]:{label:r,iconName:void 0};return S.jsxs(j1e,{children:[S.jsxs(V1e,{children:[(i==null?void 0:i.iconName)&&S.jsx(G1e,{"data-type-trivia":t===Te.TRIVIA,"data-type-poll":t===Te.POLL,name:i.iconName}),(i==null?void 0:i.label)&&S.jsx(q1e,{children:i.label})]}),e!=null&&e.seconds?S.jsx(S1,{close:n,autoClose:e.auto,duration:e.seconds}):S.jsx(z1e,{onClick:n,children:S.jsx(K1e,{name:"icon-cross"})})]})},DB=P("div")({name:"Container",class:"cqg02m",propsAsIs:!1}),Ri=({children:t,style:e,loading:n})=>n?S.jsx(DB,{style:e,children:t}):t,Z5=t=>t.split(/\s+/).map(e=>e[0]).join("").toUpperCase(),PB=t=>t?t.toLocaleString("en-US"):"0",Y1e=t=>{const e=new Date(t);if(!e)return"";const n=new Date,r=Math.floor(n.getTime()-e.getTime());return r<6e4?`${Math.floor(r/1e3)}s`:r<36e5?`${Math.floor(r/6e4)}m`:r<864e5?`${Math.floor(r/36e5)}h`:e.getFullYear()===n.getFullYear()?`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:`${e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})}`},Q1e=P("div")({name:"Container",class:"c1zy8a",propsAsIs:!1}),X1e=P("div")({name:"Title",class:"t1vih9p5",propsAsIs:!1}),Z1e=P("div")({name:"Indicator",class:"i1fbnvpb",propsAsIs:!1}),Hx=({indicator:t,title:e})=>S.jsxs(Q1e,{children:[S.jsx(X1e,{children:e}),S.jsx(Z1e,{children:t})]}),J1e=P("div")({name:"Container",class:"ctmhwyc",propsAsIs:!1}),ege=P("div")({name:"Indicator",class:"i1jri200",propsAsIs:!1}),tge=P("div")({name:"Title",class:"t8s05oq",propsAsIs:!1}),P0=({indicator:t,title:e})=>S.jsxs(J1e,{children:[S.jsx(ege,{children:t}),S.jsx(tge,{children:e})]}),nge=P("div")({name:"Container",class:"c1yrpn9o",propsAsIs:!1}),rge=P("div")({name:"TopInfo",class:"t17fwahh",propsAsIs:!1}),ige=P("div")({name:"BottomInfo",class:"by6w7e9",propsAsIs:!1}),sge=P("div")({name:"User",class:"u1g7arbm",propsAsIs:!1}),age=P("img")({name:"Avatar",class:"a1ldeata",propsAsIs:!1}),oge=P("div")({name:"UserInfo",class:"u10d4koz",propsAsIs:!1}),lge=P("div")({name:"UserName",class:"u1q6roj0",propsAsIs:!1}),cge=P("div")({name:"UserRating",class:"ui0m425",propsAsIs:!1}),uge=P("img")({name:"TrophyIcon",class:"t1el3mrn",propsAsIs:!1}),dge=P("div")({name:"RtsContainer",class:"r2vgnxv",propsAsIs:!1}),hge=P("div")({name:"RtsDivider",class:"roqn06j",propsAsIs:!1}),mge=P("div")({name:"Rts",class:"r15adx7c",propsAsIs:!1}),Gx=P("div")({name:"RtsIndicator",class:"rv59lta",propsAsIs:!1}),qx=P("div")({name:"RtsLabel",class:"r55lotb",propsAsIs:!1}),pge=P("div")({name:"Divider",class:"d1knfgqt",propsAsIs:!1}),fge=P("div")({name:"Ranks",class:"r1mqo824",propsAsIs:!1}),gge=P("div")({name:"Statistics",class:"sxareh6",propsAsIs:!1}),yge=P("div")({name:"AvatarPlaceholder",class:"amcu48h",propsAsIs:!1}),Tge=P("button")({name:"UserAccountBtn",class:"u32nfkp",propsAsIs:!1}),vge="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Trophy'%3e%3cpath%20id='Combined%20Shape'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.69197%204.66662C3.69197%205.99705%203.92914%207.17787%204.4035%208.20912C3.49966%208.02451%202.74487%207.66486%202.1391%207.13014C1.53333%206.59542%201.23046%206.0798%201.23046%205.58328V4.66662H3.69197ZM14.7686%204.66662V5.58328C14.7686%206.0798%2014.4658%206.59542%2013.86%207.13014C13.2542%207.66486%2012.4994%208.02451%2011.5956%208.20912C12.0699%207.17787%2012.3071%205.99705%2012.3071%204.66662H14.7686ZM15.9998%205.58329V4.36108C15.9998%204.10645%2015.9101%203.89002%2015.7306%203.71178C15.5511%203.53354%2015.3332%203.44442%2015.0768%203.44442H12.3076V2.52776C12.3076%202.10763%2012.1569%201.74797%2011.8556%201.44878C11.5544%201.14959%2011.1922%201%2010.7691%201H5.23072C4.80764%201%204.44547%201.14959%204.14419%201.44878C3.84291%201.74797%203.69227%202.10763%203.69227%202.52776V3.44442H0.923068C0.666659%203.44442%200.448714%203.53354%200.269228%203.71178C0.0897418%203.89002%200%204.10645%200%204.36108V5.58329C0%206.03525%200.13301%206.49039%200.399034%206.94872C0.665059%207.40705%201.02403%207.82082%201.47595%208.19003C1.92787%208.55924%202.48234%208.86957%203.13939%209.12101C3.79644%209.37246%204.48713%209.51409%205.21149%209.54592C5.48071%209.88967%205.7852%2010.192%206.12494%2010.453C6.36853%2010.6695%206.53679%2010.9002%206.62974%2011.1453C6.72269%2011.3904%206.76916%2011.6752%206.76916%2011.9999C6.76916%2012.3436%206.67141%2012.6333%206.4759%2012.8688C6.28038%2013.1043%205.96789%2013.2221%205.53841%2013.2221C5.05764%2013.2221%204.62976%2013.3669%204.25476%2013.6566C3.87977%2013.9462%203.69227%2014.3106%203.69227%2014.7499V15.361C3.69227%2015.4501%203.72112%2015.5233%203.77881%2015.5806C3.8365%2015.6379%203.91022%2015.6665%203.99996%2015.6665H11.9999C12.0896%2015.6665%2012.1633%2015.6379%2012.221%2015.5806C12.2787%2015.5233%2012.3076%2015.4501%2012.3076%2015.361V14.7499C12.3076%2014.3106%2012.1201%2013.9462%2011.7451%2013.6566C11.3701%2013.3669%2010.9422%2013.2221%2010.4614%2013.2221C10.0319%2013.2221%209.71945%2013.1043%209.52394%2012.8688C9.32843%2012.6333%209.23068%2012.3436%209.23068%2011.9999C9.23068%2011.6752%209.27715%2011.3904%209.3701%2011.1453C9.46305%2010.9002%209.63131%2010.6695%209.8749%2010.453C10.2146%2010.192%2010.5191%209.88967%2010.7884%209.54592C11.5127%209.51409%2012.2034%209.37246%2012.8604%209.12101C13.5175%208.86957%2014.072%208.55924%2014.5239%208.19003C14.9758%207.82082%2015.3348%207.40705%2015.6008%206.94872C15.8668%206.49039%2015.9998%206.03525%2015.9998%205.58329ZM6.76047%207.1798L8.05109%206.49997L9.3417%207.1798L9.09521%205.73989L10.1393%204.72015L8.69639%204.51007L8.05109%203.2L7.40578%204.51007L5.96283%204.72015L7.00696%205.73989L6.76047%207.1798Z'%20fill='%23F2C94C'/%3e%3c/g%3e%3c/svg%3e",MB=({loading:t,hideFriendsRank:e,avatar:n,name:r,points:i,friendsRank:s,rank:a,streak:o,correct:l,incorrect:c,inTop:u,successRate:d})=>S.jsxs(nge,{"data-loading":t,children:[S.jsx(rge,{children:S.jsx(Ri,{loading:t,children:S.jsxs(sge,{children:[S.jsxs(Tge,{children:[n&&S.jsx(age,{alt:"avatar",src:n}),!n&&S.jsx(yge,{children:Z5(r||"")})]}),S.jsxs(oge,{children:[S.jsx(lge,{children:r}),S.jsxs(cge,{children:[S.jsxs(dge,{children:[S.jsxs(mge,{children:[S.jsx(uge,{alt:"rank-icon",src:vge}),S.jsxs(Gx,{children:[PB(i),S.jsx(qx,{children:"PTS"})]})]}),e&&S.jsxs(Gx,{children:[S.jsx(hge,{}),a||0,S.jsx(qx,{children:"global rank"})]})]}),S.jsx(pge,{}),!e&&S.jsxs("div",{children:["TOP ",u||0,"%"]})]})]})]})})}),S.jsxs(ige,{children:[!e&&S.jsxs(fge,{children:[S.jsx(Ri,{loading:t,style:{width:"100%"},children:S.jsx(Hx,{indicator:s||0,title:"Friends rank"})}),S.jsx(Ri,{loading:t,style:{width:"100%"},children:S.jsx(Hx,{indicator:a||0,title:"Global rank"})})]}),S.jsx(Ri,{loading:t,children:S.jsxs(gge,{children:[S.jsx(P0,{indicator:o||0,title:"Win streak"}),S.jsx(P0,{indicator:l||0,title:"Correct"}),S.jsx(P0,{indicator:c||0,title:"Incorrect"}),S.jsx(P0,{indicator:`${d||0}%`,title:"Succ. rate"})]})})]})]});var $B={exports:{}},Gi={},UB={exports:{}},FB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var Ae=re-1>>>1,W=Y[Ae];if(0<i(W,te))Y[Ae]=te,Y[re]=W,re=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var Ae=0,W=Y.length,J=W>>>1;Ae<J;){var le=2*(Ae+1)-1,ve=Y[le],Re=le+1,Me=Y[Re];if(0>i(ve,re))Re<W&&0>i(Me,ve)?(Y[Ae]=Me,Y[Re]=re,Ae=Re):(Y[Ae]=ve,Y[le]=re,Ae=le);else if(Re<W&&0>i(Me,re))Y[Ae]=Me,Y[Re]=re,Ae=Re;else break e}}return te}function i(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,m=!1,g=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=Y)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function x(Y){if(p=!1,E(Y),!g)if(n(l)!==null)g=!0,oe(C);else{var te=n(c);te!==null&&_e(x,te.startTime-Y)}}function C(Y,te){g=!1,p&&(p=!1,y(U),U=-1),m=!0;var re=h;try{for(E(te),d=n(l);d!==null&&(!(d.expirationTime>te)||Y&&!X());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,h=d.priorityLevel;var W=Ae(d.expirationTime<=te);te=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),E(te)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var le=n(c);le!==null&&_e(x,le.startTime-te),J=!1}return J}finally{d=null,h=re,m=!1}}var R=!1,D=null,U=-1,K=5,V=-1;function X(){return!(t.unstable_now()-V<K)}function he(){if(D!==null){var Y=t.unstable_now();V=Y;var te=!0;try{te=D(!0,Y)}finally{te?ie():(R=!1,D=null)}}else R=!1}var ie;if(typeof v=="function")ie=function(){v(he)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ne=pe.port2;pe.port1.onmessage=he,ie=function(){ne.postMessage(null)}}else ie=function(){_(he,0)};function oe(Y){D=Y,R||(R=!0,ie())}function _e(Y,te){U=_(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,oe(C))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var re=h;h=te;try{return Y()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=h;h=Y;try{return te()}finally{h=re}},t.unstable_scheduleCallback=function(Y,te,re){var Ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=re+W,Y={id:u++,callback:te,priorityLevel:Y,startTime:re,expirationTime:W,sortIndex:-1},re>Ae?(Y.sortIndex=re,e(c,Y),n(l)===null&&Y===n(c)&&(p?(y(U),U=-1):p=!0,_e(x,re-Ae))):(Y.sortIndex=W,e(l,Y),g||m||(g=!0,oe(C))),Y},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(Y){var te=h;return function(){var re=h;h=te;try{return Y.apply(this,arguments)}finally{h=re}}}})(FB);UB.exports=FB;var _ge=UB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bge=ci,Ui=_ge;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BB=new Set,E1={};function qu(t,e){im(t,e),im(t+"Capture",e)}function im(t,e){for(E1[t]=e,t=0;t<e.length;t++)BB.add(e[t])}var Fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m8=Object.prototype.hasOwnProperty,Sge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zx={},Wx={};function Ege(t){return m8.call(Wx,t)?!0:m8.call(zx,t)?!1:Sge.test(t)?Wx[t]=!0:(zx[t]=!0,!1)}function kge(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Age(t,e,n,r){if(e===null||typeof e>"u"||kge(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var J5=/[\-:]([a-z])/g;function e9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J5,e9);pr[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J5,e9);pr[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J5,e9);pr[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function t9(t,e,n,r){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Age(e,n,i,r)&&(n=null),r||i===null?Ege(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xo=bge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M0=Symbol.for("react.element"),Yd=Symbol.for("react.portal"),Qd=Symbol.for("react.fragment"),n9=Symbol.for("react.strict_mode"),p8=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),VB=Symbol.for("react.context"),r9=Symbol.for("react.forward_ref"),f8=Symbol.for("react.suspense"),g8=Symbol.for("react.suspense_list"),i9=Symbol.for("react.memo"),Sl=Symbol.for("react.lazy"),HB=Symbol.for("react.offscreen"),Kx=Symbol.iterator;function Cp(t){return t===null||typeof t!="object"?null:(t=Kx&&t[Kx]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,rb;function tf(t){if(rb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+t}var ib=!1;function sb(t,e){if(!t||ib)return"";ib=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ib=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tf(t):""}function wge(t){switch(t.tag){case 5:return tf(t.type);case 16:return tf("Lazy");case 13:return tf("Suspense");case 19:return tf("SuspenseList");case 0:case 2:case 15:return t=sb(t.type,!1),t;case 11:return t=sb(t.type.render,!1),t;case 1:return t=sb(t.type,!0),t;default:return""}}function y8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qd:return"Fragment";case Yd:return"Portal";case p8:return"Profiler";case n9:return"StrictMode";case f8:return"Suspense";case g8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VB:return(t.displayName||"Context")+".Consumer";case jB:return(t._context.displayName||"Context")+".Provider";case r9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i9:return e=t.displayName||null,e!==null?e:y8(t.type)||"Memo";case Sl:e=t._payload,t=t._init;try{return y8(t(e))}catch{}}return null}function Cge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y8(e);case 8:return e===n9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ige(t){var e=GB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $0(t){t._valueTracker||(t._valueTracker=Ige(t))}function qB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ET(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function T8(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zB(t,e){e=e.checked,e!=null&&t9(t,"checked",e,!1)}function v8(t,e){zB(t,e);var n=dc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_8(t,e.type,n):e.hasOwnProperty("defaultValue")&&_8(t,e.type,dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _8(t,e,n){(e!=="number"||ET(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nf=Array.isArray;function Ah(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b8(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ie(92));if(nf(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dc(n)}}function WB(t,e){var n=dc(e.value),r=dc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S8(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var U0,YB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(U0=U0||document.createElement("div"),U0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=U0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function k1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xge=["Webkit","ms","Moz","O"];Object.keys(Pf).forEach(function(t){xge.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pf[e]=Pf[t]})});function QB(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pf.hasOwnProperty(t)&&Pf[t]?(""+e).trim():e+"px"}function XB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QB(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lge=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E8(t,e){if(e){if(Lge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function k8(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A8=null;function s9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w8=null,wh=null,Ch=null;function Jx(t){if(t=pg(t)){if(typeof w8!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=L3(e),w8(t.stateNode,t.type,e))}}function ZB(t){wh?Ch?Ch.push(t):Ch=[t]:wh=t}function JB(){if(wh){var t=wh,e=Ch;if(Ch=wh=null,Jx(t),e)for(t=0;t<e.length;t++)Jx(e[t])}}function ej(t,e){return t(e)}function tj(){}var ab=!1;function nj(t,e,n){if(ab)return t(e,n);ab=!0;try{return ej(t,e,n)}finally{ab=!1,(wh!==null||Ch!==null)&&(tj(),JB())}}function A1(t,e){var n=t.stateNode;if(n===null)return null;var r=L3(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ie(231,e,typeof n));return n}var C8=!1;if(Fo)try{var Ip={};Object.defineProperty(Ip,"passive",{get:function(){C8=!0}}),window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{C8=!1}function Rge(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mf=!1,kT=null,AT=!1,I8=null,Nge={onError:function(t){Mf=!0,kT=t}};function Oge(t,e,n,r,i,s,a,o,l){Mf=!1,kT=null,Rge.apply(Nge,arguments)}function Dge(t,e,n,r,i,s,a,o,l){if(Oge.apply(this,arguments),Mf){if(Mf){var c=kT;Mf=!1,kT=null}else throw Error(Ie(198));AT||(AT=!0,I8=c)}}function zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eL(t){if(zu(t)!==t)throw Error(Ie(188))}function Pge(t){var e=t.alternate;if(!e){if(e=zu(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eL(i),t;if(s===r)return eL(i),e;s=s.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?t:e}function ij(t){return t=Pge(t),t!==null?sj(t):null}function sj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sj(t);if(e!==null)return e;t=t.sibling}return null}var aj=Ui.unstable_scheduleCallback,tL=Ui.unstable_cancelCallback,Mge=Ui.unstable_shouldYield,$ge=Ui.unstable_requestPaint,vn=Ui.unstable_now,Uge=Ui.unstable_getCurrentPriorityLevel,a9=Ui.unstable_ImmediatePriority,oj=Ui.unstable_UserBlockingPriority,wT=Ui.unstable_NormalPriority,Fge=Ui.unstable_LowPriority,lj=Ui.unstable_IdlePriority,w3=null,Oa=null;function Bge(t){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(w3,t,void 0,(t.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:Hge,jge=Math.log,Vge=Math.LN2;function Hge(t){return t>>>=0,t===0?32:31-(jge(t)/Vge|0)|0}var F0=64,B0=4194304;function rf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function CT(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=rf(o):(s&=a,s!==0&&(r=rf(s)))}else a=n&~i,a!==0?r=rf(a):s!==0&&(r=rf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hs(e),i=1<<n,r|=t[n],e&=~i;return r}function Gge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qge(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Hs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Gge(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function x8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cj(){var t=F0;return F0<<=1,!(F0&4194240)&&(F0=64),t}function ob(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hs(e),t[e]=n}function zge(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function o9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function uj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dj,l9,hj,mj,pj,L8=!1,j0=[],Yl=null,Ql=null,Xl=null,w1=new Map,C1=new Map,xl=[],Wge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nL(t,e){switch(t){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":w1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":C1.delete(e.pointerId)}}function xp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pg(e),e!==null&&l9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kge(t,e,n,r,i){switch(e){case"focusin":return Yl=xp(Yl,t,e,n,r,i),!0;case"dragenter":return Ql=xp(Ql,t,e,n,r,i),!0;case"mouseover":return Xl=xp(Xl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return w1.set(s,xp(w1.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,C1.set(s,xp(C1.get(s)||null,t,e,n,r,i)),!0}return!1}function fj(t){var e=su(t.target);if(e!==null){var n=zu(e);if(n!==null){if(e=n.tag,e===13){if(e=rj(n),e!==null){t.blockedOn=e,pj(t.priority,function(){hj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=R8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);A8=r,n.target.dispatchEvent(r),A8=null}else return e=pg(n),e!==null&&l9(e),t.blockedOn=n,!1;e.shift()}return!0}function rL(t,e,n){Xy(t)&&n.delete(e)}function Yge(){L8=!1,Yl!==null&&Xy(Yl)&&(Yl=null),Ql!==null&&Xy(Ql)&&(Ql=null),Xl!==null&&Xy(Xl)&&(Xl=null),w1.forEach(rL),C1.forEach(rL)}function Lp(t,e){t.blockedOn===e&&(t.blockedOn=null,L8||(L8=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,Yge)))}function I1(t){function e(i){return Lp(i,t)}if(0<j0.length){Lp(j0[0],t);for(var n=1;n<j0.length;n++){var r=j0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yl!==null&&Lp(Yl,t),Ql!==null&&Lp(Ql,t),Xl!==null&&Lp(Xl,t),w1.forEach(e),C1.forEach(e),n=0;n<xl.length;n++)r=xl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)fj(n),n.blockedOn===null&&xl.shift()}var Ih=Xo.ReactCurrentBatchConfig,IT=!0;function Qge(t,e,n,r){var i=vt,s=Ih.transition;Ih.transition=null;try{vt=1,c9(t,e,n,r)}finally{vt=i,Ih.transition=s}}function Xge(t,e,n,r){var i=vt,s=Ih.transition;Ih.transition=null;try{vt=4,c9(t,e,n,r)}finally{vt=i,Ih.transition=s}}function c9(t,e,n,r){if(IT){var i=R8(t,e,n,r);if(i===null)yb(t,e,r,xT,n),nL(t,r);else if(Kge(i,t,e,n,r))r.stopPropagation();else if(nL(t,r),e&4&&-1<Wge.indexOf(t)){for(;i!==null;){var s=pg(i);if(s!==null&&dj(s),s=R8(t,e,n,r),s===null&&yb(t,e,r,xT,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yb(t,e,r,null,n)}}var xT=null;function R8(t,e,n,r){if(xT=null,t=s9(r),t=su(t),t!==null)if(e=zu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xT=t,null}function gj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uge()){case a9:return 1;case oj:return 4;case wT:case Fge:return 16;case lj:return 536870912;default:return 16}default:return 16}}var Pl=null,u9=null,Zy=null;function yj(){if(Zy)return Zy;var t,e=u9,n=e.length,r,i="value"in Pl?Pl.value:Pl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Zy=i.slice(t,1<r?1-r:void 0)}function Jy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function V0(){return!0}function iL(){return!1}function qi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?V0:iL,this.isPropagationStopped=iL,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=V0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=V0)},persist:function(){},isPersistent:V0}),e}var Um={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d9=qi(Um),mg=en({},Um,{view:0,detail:0}),Zge=qi(mg),lb,cb,Rp,C3=en({},mg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rp&&(Rp&&t.type==="mousemove"?(lb=t.screenX-Rp.screenX,cb=t.screenY-Rp.screenY):cb=lb=0,Rp=t),lb)},movementY:function(t){return"movementY"in t?t.movementY:cb}}),sL=qi(C3),Jge=en({},C3,{dataTransfer:0}),e0e=qi(Jge),t0e=en({},mg,{relatedTarget:0}),ub=qi(t0e),n0e=en({},Um,{animationName:0,elapsedTime:0,pseudoElement:0}),r0e=qi(n0e),i0e=en({},Um,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s0e=qi(i0e),a0e=en({},Um,{data:0}),aL=qi(a0e),o0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c0e[t])?!!e[t]:!1}function h9(){return u0e}var d0e=en({},mg,{key:function(t){if(t.key){var e=o0e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l0e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h9,charCode:function(t){return t.type==="keypress"?Jy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h0e=qi(d0e),m0e=en({},C3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oL=qi(m0e),p0e=en({},mg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h9}),f0e=qi(p0e),g0e=en({},Um,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0e=qi(g0e),T0e=en({},C3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v0e=qi(T0e),_0e=[9,13,27,32],m9=Fo&&"CompositionEvent"in window,$f=null;Fo&&"documentMode"in document&&($f=document.documentMode);var b0e=Fo&&"TextEvent"in window&&!$f,Tj=Fo&&(!m9||$f&&8<$f&&11>=$f),lL=" ",cL=!1;function vj(t,e){switch(t){case"keyup":return _0e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _j(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xd=!1;function S0e(t,e){switch(t){case"compositionend":return _j(e);case"keypress":return e.which!==32?null:(cL=!0,lL);case"textInput":return t=e.data,t===lL&&cL?null:t;default:return null}}function E0e(t,e){if(Xd)return t==="compositionend"||!m9&&vj(t,e)?(t=yj(),Zy=u9=Pl=null,Xd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tj&&e.locale!=="ko"?null:e.data;default:return null}}var k0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k0e[t.type]:e==="textarea"}function bj(t,e,n,r){ZB(r),e=LT(e,"onChange"),0<e.length&&(n=new d9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uf=null,x1=null;function A0e(t){Nj(t,0)}function I3(t){var e=eh(t);if(qB(e))return t}function w0e(t,e){if(t==="change")return e}var Sj=!1;if(Fo){var db;if(Fo){var hb="oninput"in document;if(!hb){var dL=document.createElement("div");dL.setAttribute("oninput","return;"),hb=typeof dL.oninput=="function"}db=hb}else db=!1;Sj=db&&(!document.documentMode||9<document.documentMode)}function hL(){Uf&&(Uf.detachEvent("onpropertychange",Ej),x1=Uf=null)}function Ej(t){if(t.propertyName==="value"&&I3(x1)){var e=[];bj(e,x1,t,s9(t)),nj(A0e,e)}}function C0e(t,e,n){t==="focusin"?(hL(),Uf=e,x1=n,Uf.attachEvent("onpropertychange",Ej)):t==="focusout"&&hL()}function I0e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I3(x1)}function x0e(t,e){if(t==="click")return I3(e)}function L0e(t,e){if(t==="input"||t==="change")return I3(e)}function R0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ys=typeof Object.is=="function"?Object.is:R0e;function L1(t,e){if(Ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m8.call(e,i)||!Ys(t[i],e[i]))return!1}return!0}function mL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pL(t,e){var n=mL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mL(n)}}function kj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Aj(){for(var t=window,e=ET();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ET(t.document)}return e}function p9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N0e(t){var e=Aj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kj(n.ownerDocument.documentElement,n)){if(r!==null&&p9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pL(n,s);var a=pL(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var O0e=Fo&&"documentMode"in document&&11>=document.documentMode,Zd=null,N8=null,Ff=null,O8=!1;function fL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O8||Zd==null||Zd!==ET(r)||(r=Zd,"selectionStart"in r&&p9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ff&&L1(Ff,r)||(Ff=r,r=LT(N8,"onSelect"),0<r.length&&(e=new d9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zd)))}function H0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jd={animationend:H0("Animation","AnimationEnd"),animationiteration:H0("Animation","AnimationIteration"),animationstart:H0("Animation","AnimationStart"),transitionend:H0("Transition","TransitionEnd")},mb={},wj={};Fo&&(wj=document.createElement("div").style,"AnimationEvent"in window||(delete Jd.animationend.animation,delete Jd.animationiteration.animation,delete Jd.animationstart.animation),"TransitionEvent"in window||delete Jd.transitionend.transition);function x3(t){if(mb[t])return mb[t];if(!Jd[t])return t;var e=Jd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wj)return mb[t]=e[n];return t}var Cj=x3("animationend"),Ij=x3("animationiteration"),xj=x3("animationstart"),Lj=x3("transitionend"),Rj=new Map,gL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bc(t,e){Rj.set(t,e),qu(e,[t])}for(var pb=0;pb<gL.length;pb++){var fb=gL[pb],D0e=fb.toLowerCase(),P0e=fb[0].toUpperCase()+fb.slice(1);bc(D0e,"on"+P0e)}bc(Cj,"onAnimationEnd");bc(Ij,"onAnimationIteration");bc(xj,"onAnimationStart");bc("dblclick","onDoubleClick");bc("focusin","onFocus");bc("focusout","onBlur");bc(Lj,"onTransitionEnd");im("onMouseEnter",["mouseout","mouseover"]);im("onMouseLeave",["mouseout","mouseover"]);im("onPointerEnter",["pointerout","pointerover"]);im("onPointerLeave",["pointerout","pointerover"]);qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(sf));function yL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Dge(r,e,void 0,t),t.currentTarget=null}function Nj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;yL(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;yL(i,o,c),s=l}}}if(AT)throw t=I8,AT=!1,I8=null,t}function $t(t,e){var n=e[U8];n===void 0&&(n=e[U8]=new Set);var r=t+"__bubble";n.has(r)||(Oj(e,t,2,!1),n.add(r))}function gb(t,e,n){var r=0;e&&(r|=4),Oj(n,t,r,e)}var G0="_reactListening"+Math.random().toString(36).slice(2);function R1(t){if(!t[G0]){t[G0]=!0,BB.forEach(function(n){n!=="selectionchange"&&(M0e.has(n)||gb(n,!1,t),gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[G0]||(e[G0]=!0,gb("selectionchange",!1,e))}}function Oj(t,e,n,r){switch(gj(e)){case 1:var i=Qge;break;case 4:i=Xge;break;default:i=c9}n=i.bind(null,e,n,t),i=void 0,!C8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=su(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}nj(function(){var c=s,u=s9(n),d=[];e:{var h=Rj.get(t);if(h!==void 0){var m=d9,g=t;switch(t){case"keypress":if(Jy(n)===0)break e;case"keydown":case"keyup":m=h0e;break;case"focusin":g="focus",m=ub;break;case"focusout":g="blur",m=ub;break;case"beforeblur":case"afterblur":m=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=e0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f0e;break;case Cj:case Ij:case xj:m=r0e;break;case Lj:m=y0e;break;case"scroll":m=Zge;break;case"wheel":m=v0e;break;case"copy":case"cut":case"paste":m=s0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oL}var p=(e&4)!==0,_=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=c,E;v!==null;){E=v;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,y!==null&&(x=A1(v,y),x!=null&&p.push(N1(v,x,E)))),_)break;v=v.return}0<p.length&&(h=new m(h,g,null,n,u),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==A8&&(g=n.relatedTarget||n.fromElement)&&(su(g)||g[Bo]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?su(g):null,g!==null&&(_=zu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(p=sL,x="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=oL,x="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:eh(m),E=g==null?h:eh(g),h=new p(x,v+"leave",m,n,u),h.target=_,h.relatedTarget=E,x=null,su(u)===c&&(p=new p(y,v+"enter",g,n,u),p.target=E,p.relatedTarget=_,x=p),_=x,m&&g)t:{for(p=m,y=g,v=0,E=p;E;E=ld(E))v++;for(E=0,x=y;x;x=ld(x))E++;for(;0<v-E;)p=ld(p),v--;for(;0<E-v;)y=ld(y),E--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=ld(p),y=ld(y)}p=null}else p=null;m!==null&&TL(d,h,m,p,!1),g!==null&&_!==null&&TL(d,_,g,p,!0)}}e:{if(h=c?eh(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=w0e;else if(uL(h))if(Sj)C=L0e;else{C=I0e;var R=C0e}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=x0e);if(C&&(C=C(t,c))){bj(d,C,n,u);break e}R&&R(t,h,c),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&_8(h,"number",h.value)}switch(R=c?eh(c):window,t){case"focusin":(uL(R)||R.contentEditable==="true")&&(Zd=R,N8=c,Ff=null);break;case"focusout":Ff=N8=Zd=null;break;case"mousedown":O8=!0;break;case"contextmenu":case"mouseup":case"dragend":O8=!1,fL(d,n,u);break;case"selectionchange":if(O0e)break;case"keydown":case"keyup":fL(d,n,u)}var D;if(m9)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Xd?vj(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Tj&&n.locale!=="ko"&&(Xd||U!=="onCompositionStart"?U==="onCompositionEnd"&&Xd&&(D=yj()):(Pl=u,u9="value"in Pl?Pl.value:Pl.textContent,Xd=!0)),R=LT(c,U),0<R.length&&(U=new aL(U,t,null,n,u),d.push({event:U,listeners:R}),D?U.data=D:(D=_j(n),D!==null&&(U.data=D)))),(D=b0e?S0e(t,n):E0e(t,n))&&(c=LT(c,"onBeforeInput"),0<c.length&&(u=new aL("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=D))}Nj(d,e)})}function N1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function LT(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=A1(t,n),s!=null&&r.unshift(N1(t,s,i)),s=A1(t,e),s!=null&&r.push(N1(t,s,i))),t=t.return}return r}function ld(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TL(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=A1(n,s),l!=null&&a.unshift(N1(n,l,o))):i||(l=A1(n,s),l!=null&&a.push(N1(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var $0e=/\r\n?/g,U0e=/\u0000|\uFFFD/g;function vL(t){return(typeof t=="string"?t:""+t).replace($0e,`
`).replace(U0e,"")}function q0(t,e,n){if(e=vL(e),vL(t)!==e&&n)throw Error(Ie(425))}function RT(){}var D8=null,P8=null;function M8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $8=typeof setTimeout=="function"?setTimeout:void 0,F0e=typeof clearTimeout=="function"?clearTimeout:void 0,_L=typeof Promise=="function"?Promise:void 0,B0e=typeof queueMicrotask=="function"?queueMicrotask:typeof _L<"u"?function(t){return _L.resolve(null).then(t).catch(j0e)}:$8;function j0e(t){setTimeout(function(){throw t})}function Tb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),I1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);I1(e)}function Zl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fm=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Fm,O1="__reactProps$"+Fm,Bo="__reactContainer$"+Fm,U8="__reactEvents$"+Fm,V0e="__reactListeners$"+Fm,H0e="__reactHandles$"+Fm;function su(t){var e=t[Ea];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bo]||n[Ea]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bL(t);t!==null;){if(n=t[Ea])return n;t=bL(t)}return e}t=n,n=t.parentNode}return null}function pg(t){return t=t[Ea]||t[Bo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function L3(t){return t[O1]||null}var F8=[],th=-1;function Sc(t){return{current:t}}function Bt(t){0>th||(t.current=F8[th],F8[th]=null,th--)}function Ot(t,e){th++,F8[th]=t.current,t.current=e}var hc={},Nr=Sc(hc),gi=Sc(!1),Ru=hc;function sm(t,e){var n=t.type.contextTypes;if(!n)return hc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yi(t){return t=t.childContextTypes,t!=null}function NT(){Bt(gi),Bt(Nr)}function SL(t,e,n){if(Nr.current!==hc)throw Error(Ie(168));Ot(Nr,e),Ot(gi,n)}function Dj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,Cge(t)||"Unknown",i));return en({},n,r)}function OT(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hc,Ru=Nr.current,Ot(Nr,t),Ot(gi,gi.current),!0}function EL(t,e,n){var r=t.stateNode;if(!r)throw Error(Ie(169));n?(t=Dj(t,e,Ru),r.__reactInternalMemoizedMergedChildContext=t,Bt(gi),Bt(Nr),Ot(Nr,t)):Bt(gi),Ot(gi,n)}var ho=null,R3=!1,vb=!1;function Pj(t){ho===null?ho=[t]:ho.push(t)}function G0e(t){R3=!0,Pj(t)}function Ec(){if(!vb&&ho!==null){vb=!0;var t=0,e=vt;try{var n=ho;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ho=null,R3=!1}catch(i){throw ho!==null&&(ho=ho.slice(t+1)),aj(a9,Ec),i}finally{vt=e,vb=!1}}return null}var nh=[],rh=0,DT=null,PT=0,rs=[],is=0,Nu=null,Co=1,Io="";function qc(t,e){nh[rh++]=PT,nh[rh++]=DT,DT=t,PT=e}function Mj(t,e,n){rs[is++]=Co,rs[is++]=Io,rs[is++]=Nu,Nu=t;var r=Co;t=Io;var i=32-Hs(r)-1;r&=~(1<<i),n+=1;var s=32-Hs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Co=1<<32-Hs(e)+i|n<<i|r,Io=s+t}else Co=1<<s|n<<i|r,Io=t}function f9(t){t.return!==null&&(qc(t,1),Mj(t,1,0))}function g9(t){for(;t===DT;)DT=nh[--rh],nh[rh]=null,PT=nh[--rh],nh[rh]=null;for(;t===Nu;)Nu=rs[--is],rs[is]=null,Io=rs[--is],rs[is]=null,Co=rs[--is],rs[is]=null}var Pi=null,Ni=null,qt=!1,Us=null;function $j(t,e){var n=os(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pi=t,Ni=Zl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pi=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nu!==null?{id:Co,overflow:Io}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=os(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pi=t,Ni=null,!0):!1;default:return!1}}function B8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j8(t){if(qt){var e=Ni;if(e){var n=e;if(!kL(t,e)){if(B8(t))throw Error(Ie(418));e=Zl(n.nextSibling);var r=Pi;e&&kL(t,e)?$j(r,n):(t.flags=t.flags&-4097|2,qt=!1,Pi=t)}}else{if(B8(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,qt=!1,Pi=t}}}function AL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pi=t}function z0(t){if(t!==Pi)return!1;if(!qt)return AL(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M8(t.type,t.memoizedProps)),e&&(e=Ni)){if(B8(t))throw Uj(),Error(Ie(418));for(;e;)$j(t,e),e=Zl(e.nextSibling)}if(AL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ni=Zl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=Pi?Zl(t.stateNode.nextSibling):null;return!0}function Uj(){for(var t=Ni;t;)t=Zl(t.nextSibling)}function am(){Ni=Pi=null,qt=!1}function y9(t){Us===null?Us=[t]:Us.push(t)}var q0e=Xo.ReactCurrentBatchConfig;function Np(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,t))}return t}function W0(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wL(t){var e=t._init;return e(t._payload)}function Fj(t){function e(y,v){if(t){var E=y.deletions;E===null?(y.deletions=[v],y.flags|=16):E.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=nc(y,v),y.index=0,y.sibling=null,y}function s(y,v,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<v?(y.flags|=2,v):E):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,v,E,x){return v===null||v.tag!==6?(v=wb(E,y.mode,x),v.return=y,v):(v=i(v,E),v.return=y,v)}function l(y,v,E,x){var C=E.type;return C===Qd?u(y,v,E.props.children,x,E.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&wL(C)===v.type)?(x=i(v,E.props),x.ref=Np(y,v,E),x.return=y,x):(x=a2(E.type,E.key,E.props,null,y.mode,x),x.ref=Np(y,v,E),x.return=y,x)}function c(y,v,E,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Cb(E,y.mode,x),v.return=y,v):(v=i(v,E.children||[]),v.return=y,v)}function u(y,v,E,x,C){return v===null||v.tag!==7?(v=Tu(E,y.mode,x,C),v.return=y,v):(v=i(v,E),v.return=y,v)}function d(y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=wb(""+v,y.mode,E),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case M0:return E=a2(v.type,v.key,v.props,null,y.mode,E),E.ref=Np(y,null,v),E.return=y,E;case Yd:return v=Cb(v,y.mode,E),v.return=y,v;case Sl:var x=v._init;return d(y,x(v._payload),E)}if(nf(v)||Cp(v))return v=Tu(v,y.mode,E,null),v.return=y,v;W0(y,v)}return null}function h(y,v,E,x){var C=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:o(y,v,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case M0:return E.key===C?l(y,v,E,x):null;case Yd:return E.key===C?c(y,v,E,x):null;case Sl:return C=E._init,h(y,v,C(E._payload),x)}if(nf(E)||Cp(E))return C!==null?null:u(y,v,E,x,null);W0(y,E)}return null}function m(y,v,E,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(E)||null,o(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case M0:return y=y.get(x.key===null?E:x.key)||null,l(v,y,x,C);case Yd:return y=y.get(x.key===null?E:x.key)||null,c(v,y,x,C);case Sl:var R=x._init;return m(y,v,E,R(x._payload),C)}if(nf(x)||Cp(x))return y=y.get(E)||null,u(v,y,x,C,null);W0(v,x)}return null}function g(y,v,E,x){for(var C=null,R=null,D=v,U=v=0,K=null;D!==null&&U<E.length;U++){D.index>U?(K=D,D=null):K=D.sibling;var V=h(y,D,E[U],x);if(V===null){D===null&&(D=K);break}t&&D&&V.alternate===null&&e(y,D),v=s(V,v,U),R===null?C=V:R.sibling=V,R=V,D=K}if(U===E.length)return n(y,D),qt&&qc(y,U),C;if(D===null){for(;U<E.length;U++)D=d(y,E[U],x),D!==null&&(v=s(D,v,U),R===null?C=D:R.sibling=D,R=D);return qt&&qc(y,U),C}for(D=r(y,D);U<E.length;U++)K=m(D,y,U,E[U],x),K!==null&&(t&&K.alternate!==null&&D.delete(K.key===null?U:K.key),v=s(K,v,U),R===null?C=K:R.sibling=K,R=K);return t&&D.forEach(function(X){return e(y,X)}),qt&&qc(y,U),C}function p(y,v,E,x){var C=Cp(E);if(typeof C!="function")throw Error(Ie(150));if(E=C.call(E),E==null)throw Error(Ie(151));for(var R=C=null,D=v,U=v=0,K=null,V=E.next();D!==null&&!V.done;U++,V=E.next()){D.index>U?(K=D,D=null):K=D.sibling;var X=h(y,D,V.value,x);if(X===null){D===null&&(D=K);break}t&&D&&X.alternate===null&&e(y,D),v=s(X,v,U),R===null?C=X:R.sibling=X,R=X,D=K}if(V.done)return n(y,D),qt&&qc(y,U),C;if(D===null){for(;!V.done;U++,V=E.next())V=d(y,V.value,x),V!==null&&(v=s(V,v,U),R===null?C=V:R.sibling=V,R=V);return qt&&qc(y,U),C}for(D=r(y,D);!V.done;U++,V=E.next())V=m(D,y,U,V.value,x),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?U:V.key),v=s(V,v,U),R===null?C=V:R.sibling=V,R=V);return t&&D.forEach(function(he){return e(y,he)}),qt&&qc(y,U),C}function _(y,v,E,x){if(typeof E=="object"&&E!==null&&E.type===Qd&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case M0:e:{for(var C=E.key,R=v;R!==null;){if(R.key===C){if(C=E.type,C===Qd){if(R.tag===7){n(y,R.sibling),v=i(R,E.props.children),v.return=y,y=v;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Sl&&wL(C)===R.type){n(y,R.sibling),v=i(R,E.props),v.ref=Np(y,R,E),v.return=y,y=v;break e}n(y,R);break}else e(y,R);R=R.sibling}E.type===Qd?(v=Tu(E.props.children,y.mode,x,E.key),v.return=y,y=v):(x=a2(E.type,E.key,E.props,null,y.mode,x),x.ref=Np(y,v,E),x.return=y,y=x)}return a(y);case Yd:e:{for(R=E.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(y,v.sibling),v=i(v,E.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Cb(E,y.mode,x),v.return=y,y=v}return a(y);case Sl:return R=E._init,_(y,v,R(E._payload),x)}if(nf(E))return g(y,v,E,x);if(Cp(E))return p(y,v,E,x);W0(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,E),v.return=y,y=v):(n(y,v),v=wb(E,y.mode,x),v.return=y,y=v),a(y)):n(y,v)}return _}var om=Fj(!0),Bj=Fj(!1),MT=Sc(null),$T=null,ih=null,T9=null;function v9(){T9=ih=$T=null}function _9(t){var e=MT.current;Bt(MT),t._currentValue=e}function V8(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xh(t,e){$T=t,T9=ih=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hi=!0),t.firstContext=null)}function fs(t){var e=t._currentValue;if(T9!==t)if(t={context:t,memoizedValue:e,next:null},ih===null){if($T===null)throw Error(Ie(308));ih=t,$T.dependencies={lanes:0,firstContext:t}}else ih=ih.next=t;return e}var au=null;function b9(t){au===null?au=[t]:au.push(t)}function jj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,b9(e)):(n.next=i.next,i.next=n),e.interleaved=n,jo(t,r)}function jo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var El=!1;function S9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jo(t,n)}return i=r.interleaved,i===null?(e.next=e,b9(r)):(e.next=i.next,i.next=e),r.interleaved=e,jo(t,n)}function e2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o9(t,n)}}function CL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function UT(t,e,n,r){var i=t.updateQueue;El=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(h=e,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=en({},d,h);break e;case 2:El=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Du|=a,t.lanes=a,t.memoizedState=d}}function IL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var fg={},Da=Sc(fg),D1=Sc(fg),P1=Sc(fg);function ou(t){if(t===fg)throw Error(Ie(174));return t}function E9(t,e){switch(Ot(P1,e),Ot(D1,t),Ot(Da,fg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S8(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S8(e,t)}Bt(Da),Ot(Da,e)}function lm(){Bt(Da),Bt(D1),Bt(P1)}function Hj(t){ou(P1.current);var e=ou(Da.current),n=S8(e,t.type);e!==n&&(Ot(D1,t),Ot(Da,n))}function k9(t){D1.current===t&&(Bt(Da),Bt(D1))}var Yt=Sc(0);function FT(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _b=[];function A9(){for(var t=0;t<_b.length;t++)_b[t]._workInProgressVersionPrimary=null;_b.length=0}var t2=Xo.ReactCurrentDispatcher,bb=Xo.ReactCurrentBatchConfig,Ou=0,Zt=null,Pn=null,qn=null,BT=!1,Bf=!1,M1=0,z0e=0;function vr(){throw Error(Ie(321))}function w9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ys(t[n],e[n]))return!1;return!0}function C9(t,e,n,r,i,s){if(Ou=s,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t2.current=t===null||t.memoizedState===null?Q0e:X0e,t=n(r,i),Bf){s=0;do{if(Bf=!1,M1=0,25<=s)throw Error(Ie(301));s+=1,qn=Pn=null,e.updateQueue=null,t2.current=Z0e,t=n(r,i)}while(Bf)}if(t2.current=jT,e=Pn!==null&&Pn.next!==null,Ou=0,qn=Pn=Zt=null,BT=!1,e)throw Error(Ie(300));return t}function I9(){var t=M1!==0;return M1=0,t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Zt.memoizedState=qn=t:qn=qn.next=t,qn}function gs(){if(Pn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Pn.next;var e=qn===null?Zt.memoizedState:qn.next;if(e!==null)qn=e,Pn=t;else{if(t===null)throw Error(Ie(310));Pn=t,t={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},qn===null?Zt.memoizedState=qn=t:qn=qn.next=t}return qn}function $1(t,e){return typeof e=="function"?e(t):e}function Sb(t){var e=gs(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=Pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Ou&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Zt.lanes|=u,Du|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Ys(r,e.memoizedState)||(hi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Zt.lanes|=s,Du|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eb(t){var e=gs(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ys(s,e.memoizedState)||(hi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gj(){}function qj(t,e){var n=Zt,r=gs(),i=e(),s=!Ys(r.memoizedState,i);if(s&&(r.memoizedState=i,hi=!0),r=r.queue,x9(Kj.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qn!==null&&qn.memoizedState.tag&1){if(n.flags|=2048,U1(9,Wj.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(Ie(349));Ou&30||zj(n,e,i)}return i}function zj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wj(t,e,n,r){e.value=n,e.getSnapshot=r,Yj(e)&&Qj(t)}function Kj(t,e,n){return n(function(){Yj(e)&&Qj(t)})}function Yj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ys(t,n)}catch{return!0}}function Qj(t){var e=jo(t,1);e!==null&&Gs(e,t,1,-1)}function xL(t){var e=oa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$1,lastRenderedState:t},e.queue=t,t=t.dispatch=Y0e.bind(null,Zt,t),[e.memoizedState,t]}function U1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xj(){return gs().memoizedState}function n2(t,e,n,r){var i=oa();Zt.flags|=t,i.memoizedState=U1(1|e,n,void 0,r===void 0?null:r)}function N3(t,e,n,r){var i=gs();r=r===void 0?null:r;var s=void 0;if(Pn!==null){var a=Pn.memoizedState;if(s=a.destroy,r!==null&&w9(r,a.deps)){i.memoizedState=U1(e,n,s,r);return}}Zt.flags|=t,i.memoizedState=U1(1|e,n,s,r)}function LL(t,e){return n2(8390656,8,t,e)}function x9(t,e){return N3(2048,8,t,e)}function Zj(t,e){return N3(4,2,t,e)}function Jj(t,e){return N3(4,4,t,e)}function eV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tV(t,e,n){return n=n!=null?n.concat([t]):null,N3(4,4,eV.bind(null,e,t),n)}function L9(){}function nV(t,e){var n=gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rV(t,e){var n=gs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iV(t,e,n){return Ou&21?(Ys(n,e)||(n=cj(),Zt.lanes|=n,Du|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hi=!0),t.memoizedState=n)}function W0e(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=bb.transition;bb.transition={};try{t(!1),e()}finally{vt=n,bb.transition=r}}function sV(){return gs().memoizedState}function K0e(t,e,n){var r=tc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aV(t))oV(e,n);else if(n=jj(t,e,n,r),n!==null){var i=Wr();Gs(n,t,r,i),lV(n,e,r)}}function Y0e(t,e,n){var r=tc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aV(t))oV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ys(o,a)){var l=e.interleaved;l===null?(i.next=i,b9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jj(t,e,i,r),n!==null&&(i=Wr(),Gs(n,t,r,i),lV(n,e,r))}}function aV(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function oV(t,e){Bf=BT=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lV(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o9(t,n)}}var jT={readContext:fs,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},Q0e={readContext:fs,useCallback:function(t,e){return oa().memoizedState=[t,e===void 0?null:e],t},useContext:fs,useEffect:LL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,n2(4194308,4,eV.bind(null,e,t),n)},useLayoutEffect:function(t,e){return n2(4194308,4,t,e)},useInsertionEffect:function(t,e){return n2(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K0e.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=oa();return t={current:t},e.memoizedState=t},useState:xL,useDebugValue:L9,useDeferredValue:function(t){return oa().memoizedState=t},useTransition:function(){var t=xL(!1),e=t[0];return t=W0e.bind(null,t[1]),oa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=oa();if(qt){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=e(),Xn===null)throw Error(Ie(349));Ou&30||zj(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,LL(Kj.bind(null,r,s,t),[t]),r.flags|=2048,U1(9,Wj.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=oa(),e=Xn.identifierPrefix;if(qt){var n=Io,r=Co;n=(r&~(1<<32-Hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=M1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z0e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X0e={readContext:fs,useCallback:nV,useContext:fs,useEffect:x9,useImperativeHandle:tV,useInsertionEffect:Zj,useLayoutEffect:Jj,useMemo:rV,useReducer:Sb,useRef:Xj,useState:function(){return Sb($1)},useDebugValue:L9,useDeferredValue:function(t){var e=gs();return iV(e,Pn.memoizedState,t)},useTransition:function(){var t=Sb($1)[0],e=gs().memoizedState;return[t,e]},useMutableSource:Gj,useSyncExternalStore:qj,useId:sV,unstable_isNewReconciler:!1},Z0e={readContext:fs,useCallback:nV,useContext:fs,useEffect:x9,useImperativeHandle:tV,useInsertionEffect:Zj,useLayoutEffect:Jj,useMemo:rV,useReducer:Eb,useRef:Xj,useState:function(){return Eb($1)},useDebugValue:L9,useDeferredValue:function(t){var e=gs();return Pn===null?e.memoizedState=t:iV(e,Pn.memoizedState,t)},useTransition:function(){var t=Eb($1)[0],e=gs().memoizedState;return[t,e]},useMutableSource:Gj,useSyncExternalStore:qj,useId:sV,unstable_isNewReconciler:!1};function Os(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function H8(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O3={isMounted:function(t){return(t=t._reactInternals)?zu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=tc(t),s=Ro(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jl(t,s,i),e!==null&&(Gs(e,t,i,r),e2(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=tc(t),s=Ro(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jl(t,s,i),e!==null&&(Gs(e,t,i,r),e2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=tc(t),i=Ro(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jl(t,i,r),e!==null&&(Gs(e,t,r,n),e2(e,t,r))}};function RL(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!L1(n,r)||!L1(i,s):!0}function cV(t,e,n){var r=!1,i=hc,s=e.contextType;return typeof s=="object"&&s!==null?s=fs(s):(i=yi(e)?Ru:Nr.current,r=e.contextTypes,s=(r=r!=null)?sm(t,i):hc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O3,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function NL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O3.enqueueReplaceState(e,e.state,null)}function G8(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},S9(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fs(s):(s=yi(e)?Ru:Nr.current,i.context=sm(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(H8(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&O3.enqueueReplaceState(i,i.state,null),UT(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cm(t,e){try{var n="",r=e;do n+=wge(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function q8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var J0e=typeof WeakMap=="function"?WeakMap:Map;function uV(t,e,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){HT||(HT=!0,ek=r),q8(t,e)},n}function dV(t,e,n){n=Ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){q8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){q8(t,e),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function OL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new J0e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mye.bind(null,t,e,n),e.then(t,t))}function DL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ro(-1,1),e.tag=2,Jl(n,e,1))),n.lanes|=1),t)}var eye=Xo.ReactCurrentOwner,hi=!1;function Br(t,e,n,r){e.child=t===null?Bj(e,null,n,r):om(e,t.child,n,r)}function ML(t,e,n,r,i){n=n.render;var s=e.ref;return xh(e,i),r=C9(t,e,n,r,s,i),n=I9(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vo(t,e,i)):(qt&&n&&f9(e),e.flags|=1,Br(t,e,r,i),e.child)}function $L(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!U9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hV(t,e,s,r,i)):(t=a2(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:L1,n(a,r)&&t.ref===e.ref)return Vo(t,e,i)}return e.flags|=1,t=nc(s,r),t.ref=e.ref,t.return=e,e.child=t}function hV(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(L1(s,r)&&t.ref===e.ref)if(hi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hi=!0);else return e.lanes=t.lanes,Vo(t,e,i)}return z8(t,e,n,r,i)}function mV(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ah,Ci),Ci|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(ah,Ci),Ci|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ot(ah,Ci),Ci|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ot(ah,Ci),Ci|=r;return Br(t,e,i,n),e.child}function pV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z8(t,e,n,r,i){var s=yi(n)?Ru:Nr.current;return s=sm(e,s),xh(e,i),n=C9(t,e,n,r,s,i),r=I9(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vo(t,e,i)):(qt&&r&&f9(e),e.flags|=1,Br(t,e,n,i),e.child)}function UL(t,e,n,r,i){if(yi(n)){var s=!0;OT(e)}else s=!1;if(xh(e,i),e.stateNode===null)r2(t,e),cV(e,n,r),G8(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=fs(c):(c=yi(n)?Ru:Nr.current,c=sm(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&NL(e,a,r,c),El=!1;var h=e.memoizedState;a.state=h,UT(e,r,a,i),l=e.memoizedState,o!==r||h!==l||gi.current||El?(typeof u=="function"&&(H8(e,n,u,r),l=e.memoizedState),(o=El||RL(e,n,o,r,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Vj(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Os(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=fs(l):(l=yi(n)?Ru:Nr.current,l=sm(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&NL(e,a,r,l),El=!1,h=e.memoizedState,a.state=h,UT(e,r,a,i);var g=e.memoizedState;o!==d||h!==g||gi.current||El?(typeof m=="function"&&(H8(e,n,m,r),g=e.memoizedState),(c=El||RL(e,n,c,r,h,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return W8(t,e,n,r,s,i)}function W8(t,e,n,r,i,s){pV(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&EL(e,n,!1),Vo(t,e,s);r=e.stateNode,eye.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=om(e,t.child,null,s),e.child=om(e,null,o,s)):Br(t,e,o,s),e.memoizedState=r.state,i&&EL(e,n,!0),e.child}function fV(t){var e=t.stateNode;e.pendingContext?SL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SL(t,e.context,!1),E9(t,e.containerInfo)}function FL(t,e,n,r,i){return am(),y9(i),e.flags|=256,Br(t,e,n,r),e.child}var K8={dehydrated:null,treeContext:null,retryLane:0};function Y8(t){return{baseLanes:t,cachePool:null,transitions:null}}function gV(t,e,n){var r=e.pendingProps,i=Yt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(Yt,i&1),t===null)return j8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=M3(a,r,0,null),t=Tu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y8(n),e.memoizedState=K8,t):R9(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tye(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=nc(o,s):(s=Tu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Y8(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=K8,r}return s=t.child,t=s.sibling,r=nc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R9(t,e){return e=M3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function K0(t,e,n,r){return r!==null&&y9(r),om(e,t.child,null,n),t=R9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tye(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=kb(Error(Ie(422))),K0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=M3({mode:"visible",children:r.children},i,0,null),s=Tu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&om(e,t.child,null,a),e.child.memoizedState=Y8(a),e.memoizedState=K8,s);if(!(e.mode&1))return K0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Ie(419)),r=kb(s,r,void 0),K0(t,e,a,r)}if(o=(a&t.childLanes)!==0,hi||o){if(r=Xn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jo(t,i),Gs(r,t,i,-1))}return $9(),r=kb(Error(Ie(421))),K0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pye.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ni=Zl(i.nextSibling),Pi=e,qt=!0,Us=null,t!==null&&(rs[is++]=Co,rs[is++]=Io,rs[is++]=Nu,Co=t.id,Io=t.overflow,Nu=e),e=R9(e,r.children),e.flags|=4096,e)}function BL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),V8(t.return,e,n)}function Ab(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yV(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Br(t,e,r.children,n),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BL(t,n,e);else if(t.tag===19)BL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&FT(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ab(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&FT(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ab(e,!0,n,null,s);break;case"together":Ab(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function r2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Du|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,n=nc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nye(t,e,n){switch(e.tag){case 3:fV(e),am();break;case 5:Hj(e);break;case 1:yi(e.type)&&OT(e);break;case 4:E9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ot(MT,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Yt,Yt.current&1),e.flags|=128,null):n&e.child.childLanes?gV(t,e,n):(Ot(Yt,Yt.current&1),t=Vo(t,e,n),t!==null?t.sibling:null);Ot(Yt,Yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,mV(t,e,n)}return Vo(t,e,n)}var TV,Q8,vV,_V;TV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Q8=function(){};vV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ou(Da.current);var s=null;switch(n){case"input":i=T8(t,i),r=T8(t,r),s=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),s=[];break;case"textarea":i=b8(t,i),r=b8(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=RT)}E8(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(E1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(E1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};_V=function(t,e,n,r){n!==r&&(e.flags|=4)};function Op(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rye(t,e,n){var r=e.pendingProps;switch(g9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return yi(e.type)&&NT(),_r(e),null;case 3:return r=e.stateNode,lm(),Bt(gi),Bt(Nr),A9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(z0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(rk(Us),Us=null))),Q8(t,e),_r(e),null;case 5:k9(e);var i=ou(P1.current);if(n=e.type,t!==null&&e.stateNode!=null)vV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return _r(e),null}if(t=ou(Da.current),z0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ea]=e,r[O1]=s,t=(e.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(i=0;i<sf.length;i++)$t(sf[i],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":Yx(r,s),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r);break;case"textarea":Xx(r,s),$t("invalid",r)}E8(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&q0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&q0(r.textContent,o,t),i=["children",""+o]):E1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&$t("scroll",r)}switch(n){case"input":$0(r),Qx(r,s,!0);break;case"textarea":$0(r),Zx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=RT)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ea]=e,t[O1]=r,TV(t,e,!1,!1),e.stateNode=t;e:{switch(a=k8(n,r),n){case"dialog":$t("cancel",t),$t("close",t),i=r;break;case"iframe":case"object":case"embed":$t("load",t),i=r;break;case"video":case"audio":for(i=0;i<sf.length;i++)$t(sf[i],t);i=r;break;case"source":$t("error",t),i=r;break;case"img":case"image":case"link":$t("error",t),$t("load",t),i=r;break;case"details":$t("toggle",t),i=r;break;case"input":Yx(t,r),i=T8(t,r),$t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),$t("invalid",t);break;case"textarea":Xx(t,r),i=b8(t,r),$t("invalid",t);break;default:i=r}E8(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?XB(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YB(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&k1(t,l):typeof l=="number"&&k1(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(E1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$t("scroll",t):l!=null&&t9(t,s,l,a))}switch(n){case"input":$0(t),Qx(t,r,!1);break;case"textarea":$0(t),Zx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ah(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ah(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=RT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)_V(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(n=ou(P1.current),ou(Da.current),z0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ea]=e,(s=r.nodeValue!==n)&&(t=Pi,t!==null))switch(t.tag){case 3:q0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&q0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ea]=e,e.stateNode=r}return _r(e),null;case 13:if(Bt(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&Ni!==null&&e.mode&1&&!(e.flags&128))Uj(),am(),e.flags|=98560,s=!1;else if(s=z0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Ea]=e}else am(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else Us!==null&&(rk(Us),Us=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?Fn===0&&(Fn=3):$9())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return lm(),Q8(t,e),t===null&&R1(e.stateNode.containerInfo),_r(e),null;case 10:return _9(e.type._context),_r(e),null;case 17:return yi(e.type)&&NT(),_r(e),null;case 19:if(Bt(Yt),s=e.memoizedState,s===null)return _r(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Op(s,!1);else{if(Fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=FT(t),a!==null){for(e.flags|=128,Op(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(Yt,Yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&vn()>um&&(e.flags|=128,r=!0,Op(s,!1),e.lanes=4194304)}else{if(!r)if(t=FT(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Op(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qt)return _r(e),null}else 2*vn()-s.renderingStartTime>um&&n!==1073741824&&(e.flags|=128,r=!0,Op(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vn(),e.sibling=null,n=Yt.current,Ot(Yt,r?n&1|2:n&1),e):(_r(e),null);case 22:case 23:return M9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ci&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function iye(t,e){switch(g9(e),e.tag){case 1:return yi(e.type)&&NT(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lm(),Bt(gi),Bt(Nr),A9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k9(e),null;case 13:if(Bt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));am()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Yt),null;case 4:return lm(),null;case 10:return _9(e.type._context),null;case 22:case 23:return M9(),null;case 24:return null;default:return null}}var Y0=!1,kr=!1,sye=typeof WeakSet=="function"?WeakSet:Set,De=null;function sh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){sn(t,e,r)}else n.current=null}function bV(t,e,n){try{n()}catch(r){sn(t,e,r)}}var jL=!1;function aye(t,e){if(D8=IT,t=Aj(),p9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++u===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P8={focusedElem:t,selectionRange:n},IT=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,_=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Os(e.type,p),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(x){sn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return g=jL,jL=!1,g}function jf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bV(e,n,s)}i=i.next}while(i!==r)}}function D3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X8(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SV(t){var e=t.alternate;e!==null&&(t.alternate=null,SV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ea],delete e[O1],delete e[U8],delete e[V0e],delete e[H0e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EV(t){return t.tag===5||t.tag===3||t.tag===4}function VL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Z8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=RT));else if(r!==4&&(t=t.child,t!==null))for(Z8(t,e,n),t=t.sibling;t!==null;)Z8(t,e,n),t=t.sibling}function J8(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(J8(t,e,n),t=t.sibling;t!==null;)J8(t,e,n),t=t.sibling}var ar=null,Ms=!1;function ll(t,e,n){for(n=n.child;n!==null;)kV(t,e,n),n=n.sibling}function kV(t,e,n){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(w3,n)}catch{}switch(n.tag){case 5:kr||sh(n,e);case 6:var r=ar,i=Ms;ar=null,ll(t,e,n),ar=r,Ms=i,ar!==null&&(Ms?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(Ms?(t=ar,n=n.stateNode,t.nodeType===8?Tb(t.parentNode,n):t.nodeType===1&&Tb(t,n),I1(t)):Tb(ar,n.stateNode));break;case 4:r=ar,i=Ms,ar=n.stateNode.containerInfo,Ms=!0,ll(t,e,n),ar=r,Ms=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bV(n,e,a),i=i.next}while(i!==r)}ll(t,e,n);break;case 1:if(!kr&&(sh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){sn(n,e,o)}ll(t,e,n);break;case 21:ll(t,e,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,ll(t,e,n),kr=r):ll(t,e,n);break;default:ll(t,e,n)}}function HL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sye),e.forEach(function(r){var i=fye.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Is(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ar=o.stateNode,Ms=!1;break e;case 3:ar=o.stateNode.containerInfo,Ms=!0;break e;case 4:ar=o.stateNode.containerInfo,Ms=!0;break e}o=o.return}if(ar===null)throw Error(Ie(160));kV(s,a,i),ar=null,Ms=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){sn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AV(e,t),e=e.sibling}function AV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Is(e,t),na(t),r&4){try{jf(3,t,t.return),D3(3,t)}catch(p){sn(t,t.return,p)}try{jf(5,t,t.return)}catch(p){sn(t,t.return,p)}}break;case 1:Is(e,t),na(t),r&512&&n!==null&&sh(n,n.return);break;case 5:if(Is(e,t),na(t),r&512&&n!==null&&sh(n,n.return),t.flags&32){var i=t.stateNode;try{k1(i,"")}catch(p){sn(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&zB(i,s),k8(o,a);var c=k8(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?XB(i,d):u==="dangerouslySetInnerHTML"?YB(i,d):u==="children"?k1(i,d):t9(i,u,d,c)}switch(o){case"input":v8(i,s);break;case"textarea":WB(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ah(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ah(i,!!s.multiple,s.defaultValue,!0):Ah(i,!!s.multiple,s.multiple?[]:"",!1))}i[O1]=s}catch(p){sn(t,t.return,p)}}break;case 6:if(Is(e,t),na(t),r&4){if(t.stateNode===null)throw Error(Ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){sn(t,t.return,p)}}break;case 3:if(Is(e,t),na(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{I1(e.containerInfo)}catch(p){sn(t,t.return,p)}break;case 4:Is(e,t),na(t);break;case 13:Is(e,t),na(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(D9=vn())),r&4&&HL(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(kr=(c=kr)||u,Is(e,t),kr=c):Is(e,t),na(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(De=t,u=t.child;u!==null;){for(d=De=u;De!==null;){switch(h=De,m=h.child,h.tag){case 0:case 11:case 14:case 15:jf(4,h,h.return);break;case 1:sh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){sn(r,n,p)}}break;case 5:sh(h,h.return);break;case 22:if(h.memoizedState!==null){qL(d);continue}}m!==null?(m.return=h,De=m):qL(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QB("display",a))}catch(p){sn(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){sn(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Is(e,t),na(t),r&4&&HL(t);break;case 21:break;default:Is(e,t),na(t)}}function na(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EV(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(k1(i,""),r.flags&=-33);var s=VL(t);J8(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=VL(t);Z8(t,o,a);break;default:throw Error(Ie(161))}}catch(l){sn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oye(t,e,n){De=t,wV(t)}function wV(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var i=De,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Y0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||kr;o=Y0;var c=kr;if(Y0=a,(kr=l)&&!c)for(De=i;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?zL(i):l!==null?(l.return=a,De=l):zL(i);for(;s!==null;)De=s,wV(s),s=s.sibling;De=i,Y0=o,kr=c}GL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,De=s):GL(t)}}function GL(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||D3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Os(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IL(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IL(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&I1(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}kr||e.flags&512&&X8(e)}catch(h){sn(e,e.return,h)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function qL(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function zL(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{D3(4,e)}catch(l){sn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{X8(e)}catch(l){sn(e,s,l)}break;case 5:var a=e.return;try{X8(e)}catch(l){sn(e,a,l)}}}catch(l){sn(e,e.return,l)}if(e===t){De=null;break}var o=e.sibling;if(o!==null){o.return=e.return,De=o;break}De=e.return}}var lye=Math.ceil,VT=Xo.ReactCurrentDispatcher,N9=Xo.ReactCurrentOwner,us=Xo.ReactCurrentBatchConfig,ct=0,Xn=null,xn=null,hr=0,Ci=0,ah=Sc(0),Fn=0,F1=null,Du=0,P3=0,O9=0,Vf=null,si=null,D9=0,um=1/0,io=null,HT=!1,ek=null,ec=null,Q0=!1,Ml=null,GT=0,Hf=0,tk=null,i2=-1,s2=0;function Wr(){return ct&6?vn():i2!==-1?i2:i2=vn()}function tc(t){return t.mode&1?ct&2&&hr!==0?hr&-hr:q0e.transition!==null?(s2===0&&(s2=cj()),s2):(t=vt,t!==0||(t=window.event,t=t===void 0?16:gj(t.type)),t):1}function Gs(t,e,n,r){if(50<Hf)throw Hf=0,tk=null,Error(Ie(185));hg(t,n,r),(!(ct&2)||t!==Xn)&&(t===Xn&&(!(ct&2)&&(P3|=n),Fn===4&&Ll(t,hr)),Ti(t,r),n===1&&ct===0&&!(e.mode&1)&&(um=vn()+500,R3&&Ec()))}function Ti(t,e){var n=t.callbackNode;qge(t,e);var r=CT(t,t===Xn?hr:0);if(r===0)n!==null&&tL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tL(n),e===1)t.tag===0?G0e(WL.bind(null,t)):Pj(WL.bind(null,t)),B0e(function(){!(ct&6)&&Ec()}),n=null;else{switch(uj(r)){case 1:n=a9;break;case 4:n=oj;break;case 16:n=wT;break;case 536870912:n=lj;break;default:n=wT}n=DV(n,CV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CV(t,e){if(i2=-1,s2=0,ct&6)throw Error(Ie(327));var n=t.callbackNode;if(Lh()&&t.callbackNode!==n)return null;var r=CT(t,t===Xn?hr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qT(t,r);else{e=r;var i=ct;ct|=2;var s=xV();(Xn!==t||hr!==e)&&(io=null,um=vn()+500,yu(t,e));do try{dye();break}catch(o){IV(t,o)}while(!0);v9(),VT.current=s,ct=i,xn!==null?e=0:(Xn=null,hr=0,e=Fn)}if(e!==0){if(e===2&&(i=x8(t),i!==0&&(r=i,e=nk(t,i))),e===1)throw n=F1,yu(t,0),Ll(t,r),Ti(t,vn()),n;if(e===6)Ll(t,r);else{if(i=t.current.alternate,!(r&30)&&!cye(i)&&(e=qT(t,r),e===2&&(s=x8(t),s!==0&&(r=s,e=nk(t,s))),e===1))throw n=F1,yu(t,0),Ll(t,r),Ti(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:zc(t,si,io);break;case 3:if(Ll(t,r),(r&130023424)===r&&(e=D9+500-vn(),10<e)){if(CT(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$8(zc.bind(null,t,si,io),e);break}zc(t,si,io);break;case 4:if(Ll(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Hs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lye(r/1960))-r,10<r){t.timeoutHandle=$8(zc.bind(null,t,si,io),r);break}zc(t,si,io);break;case 5:zc(t,si,io);break;default:throw Error(Ie(329))}}}return Ti(t,vn()),t.callbackNode===n?CV.bind(null,t):null}function nk(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(yu(t,e).flags|=256),t=qT(t,e),t!==2&&(e=si,si=n,e!==null&&rk(e)),t}function rk(t){si===null?si=t:si.push.apply(si,t)}function cye(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ys(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(t,e){for(e&=~O9,e&=~P3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hs(e),r=1<<n;t[n]=-1,e&=~r}}function WL(t){if(ct&6)throw Error(Ie(327));Lh();var e=CT(t,0);if(!(e&1))return Ti(t,vn()),null;var n=qT(t,e);if(t.tag!==0&&n===2){var r=x8(t);r!==0&&(e=r,n=nk(t,r))}if(n===1)throw n=F1,yu(t,0),Ll(t,e),Ti(t,vn()),n;if(n===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zc(t,si,io),Ti(t,vn()),null}function P9(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(um=vn()+500,R3&&Ec())}}function Pu(t){Ml!==null&&Ml.tag===0&&!(ct&6)&&Lh();var e=ct;ct|=1;var n=us.transition,r=vt;try{if(us.transition=null,vt=1,t)return t()}finally{vt=r,us.transition=n,ct=e,!(ct&6)&&Ec()}}function M9(){Ci=ah.current,Bt(ah)}function yu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F0e(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(g9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&NT();break;case 3:lm(),Bt(gi),Bt(Nr),A9();break;case 5:k9(r);break;case 4:lm();break;case 13:Bt(Yt);break;case 19:Bt(Yt);break;case 10:_9(r.type._context);break;case 22:case 23:M9()}n=n.return}if(Xn=t,xn=t=nc(t.current,null),hr=Ci=e,Fn=0,F1=null,O9=P3=Du=0,si=Vf=null,au!==null){for(e=0;e<au.length;e++)if(n=au[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}au=null}return t}function IV(t,e){do{var n=xn;try{if(v9(),t2.current=jT,BT){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}BT=!1}if(Ou=0,qn=Pn=Zt=null,Bf=!1,M1=0,N9.current=null,n===null||n.return===null){Fn=1,F1=e,xn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=hr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=DL(a);if(m!==null){m.flags&=-257,PL(m,a,o,s,e),m.mode&1&&OL(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){OL(s,c,e),$9();break e}l=Error(Ie(426))}}else if(qt&&o.mode&1){var _=DL(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),PL(_,a,o,s,e),y9(cm(l,o));break e}}s=l=cm(l,o),Fn!==4&&(Fn=2),Vf===null?Vf=[s]:Vf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=uV(s,l,e);CL(s,y);break e;case 1:o=l;var v=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ec===null||!ec.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=dV(s,o,e);CL(s,x);break e}}s=s.return}while(s!==null)}RV(n)}catch(C){e=C,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function xV(){var t=VT.current;return VT.current=jT,t===null?jT:t}function $9(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Xn===null||!(Du&268435455)&&!(P3&268435455)||Ll(Xn,hr)}function qT(t,e){var n=ct;ct|=2;var r=xV();(Xn!==t||hr!==e)&&(io=null,yu(t,e));do try{uye();break}catch(i){IV(t,i)}while(!0);if(v9(),ct=n,VT.current=r,xn!==null)throw Error(Ie(261));return Xn=null,hr=0,Fn}function uye(){for(;xn!==null;)LV(xn)}function dye(){for(;xn!==null&&!Mge();)LV(xn)}function LV(t){var e=OV(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,e===null?RV(t):xn=e,N9.current=null}function RV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iye(n,e),n!==null){n.flags&=32767,xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fn=6,xn=null;return}}else if(n=rye(n,e,Ci),n!==null){xn=n;return}if(e=e.sibling,e!==null){xn=e;return}xn=e=t}while(e!==null);Fn===0&&(Fn=5)}function zc(t,e,n){var r=vt,i=us.transition;try{us.transition=null,vt=1,hye(t,e,n,r)}finally{us.transition=i,vt=r}return null}function hye(t,e,n,r){do Lh();while(Ml!==null);if(ct&6)throw Error(Ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zge(t,s),t===Xn&&(xn=Xn=null,hr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Q0||(Q0=!0,DV(wT,function(){return Lh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=us.transition,us.transition=null;var a=vt;vt=1;var o=ct;ct|=4,N9.current=null,aye(t,n),AV(n,t),N0e(P8),IT=!!D8,P8=D8=null,t.current=n,oye(n),$ge(),ct=o,vt=a,us.transition=s}else t.current=n;if(Q0&&(Q0=!1,Ml=t,GT=i),s=t.pendingLanes,s===0&&(ec=null),Bge(n.stateNode),Ti(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(HT)throw HT=!1,t=ek,ek=null,t;return GT&1&&t.tag!==0&&Lh(),s=t.pendingLanes,s&1?t===tk?Hf++:(Hf=0,tk=t):Hf=0,Ec(),null}function Lh(){if(Ml!==null){var t=uj(GT),e=us.transition,n=vt;try{if(us.transition=null,vt=16>t?16:t,Ml===null)var r=!1;else{if(t=Ml,Ml=null,GT=0,ct&6)throw Error(Ie(331));var i=ct;for(ct|=4,De=t.current;De!==null;){var s=De,a=s.child;if(De.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(De=c;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:jf(8,u,s)}var d=u.child;if(d!==null)d.return=u,De=d;else for(;De!==null;){u=De;var h=u.sibling,m=u.return;if(SV(u),u===c){De=null;break}if(h!==null){h.return=m,De=h;break}De=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}De=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,De=a;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,De=y;break e}De=s.return}}var v=t.current;for(De=v;De!==null;){a=De;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,De=E;else e:for(a=v;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:D3(9,o)}}catch(C){sn(o,o.return,C)}if(o===a){De=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,De=x;break e}De=o.return}}if(ct=i,Ec(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(w3,t)}catch{}r=!0}return r}finally{vt=n,us.transition=e}}return!1}function KL(t,e,n){e=cm(n,e),e=uV(t,e,1),t=Jl(t,e,1),e=Wr(),t!==null&&(hg(t,1,e),Ti(t,e))}function sn(t,e,n){if(t.tag===3)KL(t,t,n);else for(;e!==null;){if(e.tag===3){KL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){t=cm(n,t),t=dV(e,t,1),e=Jl(e,t,1),t=Wr(),e!==null&&(hg(e,1,t),Ti(e,t));break}}e=e.return}}function mye(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(hr&n)===n&&(Fn===4||Fn===3&&(hr&130023424)===hr&&500>vn()-D9?yu(t,0):O9|=n),Ti(t,e)}function NV(t,e){e===0&&(t.mode&1?(e=B0,B0<<=1,!(B0&130023424)&&(B0=4194304)):e=1);var n=Wr();t=jo(t,e),t!==null&&(hg(t,e,n),Ti(t,n))}function pye(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NV(t,n)}function fye(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),NV(t,n)}var OV;OV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)hi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hi=!1,nye(t,e,n);hi=!!(t.flags&131072)}else hi=!1,qt&&e.flags&1048576&&Mj(e,PT,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;r2(t,e),t=e.pendingProps;var i=sm(e,Nr.current);xh(e,n),i=C9(null,e,r,t,i,n);var s=I9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)?(s=!0,OT(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,S9(e),i.updater=O3,e.stateNode=i,i._reactInternals=e,G8(e,r,t,n),e=W8(null,e,r,!0,s,n)):(e.tag=0,qt&&s&&f9(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(r2(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yye(r),t=Os(r,t),i){case 0:e=z8(null,e,r,t,n);break e;case 1:e=UL(null,e,r,t,n);break e;case 11:e=ML(null,e,r,t,n);break e;case 14:e=$L(null,e,r,Os(r.type,t),n);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),z8(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),UL(t,e,r,i,n);case 3:e:{if(fV(e),t===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vj(t,e),UT(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cm(Error(Ie(423)),e),e=FL(t,e,r,n,i);break e}else if(r!==i){i=cm(Error(Ie(424)),e),e=FL(t,e,r,n,i);break e}else for(Ni=Zl(e.stateNode.containerInfo.firstChild),Pi=e,qt=!0,Us=null,n=Bj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(am(),r===i){e=Vo(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return Hj(e),t===null&&j8(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,M8(r,i)?a=null:s!==null&&M8(r,s)&&(e.flags|=32),pV(t,e),Br(t,e,a,n),e.child;case 6:return t===null&&j8(e),null;case 13:return gV(t,e,n);case 4:return E9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=om(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),ML(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ot(MT,r._currentValue),r._currentValue=a,s!==null)if(Ys(s.value,a)){if(s.children===i.children&&!gi.current){e=Vo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ro(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),V8(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ie(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),V8(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xh(e,n),i=fs(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=Os(r,e.pendingProps),i=Os(r.type,i),$L(t,e,r,i,n);case 15:return hV(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),r2(t,e),e.tag=1,yi(r)?(t=!0,OT(e)):t=!1,xh(e,n),cV(e,r,i),G8(e,r,i,n),W8(null,e,r,!0,t,n);case 19:return yV(t,e,n);case 22:return mV(t,e,n)}throw Error(Ie(156,e.tag))};function DV(t,e){return aj(t,e)}function gye(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(t,e,n,r){return new gye(t,e,n,r)}function U9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yye(t){if(typeof t=="function")return U9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r9)return 11;if(t===i9)return 14}return 2}function nc(t,e){var n=t.alternate;return n===null?(n=os(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function a2(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")U9(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Qd:return Tu(n.children,i,s,e);case n9:a=8,i|=8;break;case p8:return t=os(12,n,e,i|2),t.elementType=p8,t.lanes=s,t;case f8:return t=os(13,n,e,i),t.elementType=f8,t.lanes=s,t;case g8:return t=os(19,n,e,i),t.elementType=g8,t.lanes=s,t;case HB:return M3(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jB:a=10;break e;case VB:a=9;break e;case r9:a=11;break e;case i9:a=14;break e;case Sl:a=16,r=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=os(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Tu(t,e,n,r){return t=os(7,t,r,e),t.lanes=n,t}function M3(t,e,n,r){return t=os(22,t,r,e),t.elementType=HB,t.lanes=n,t.stateNode={isHidden:!1},t}function wb(t,e,n){return t=os(6,t,null,e),t.lanes=n,t}function Cb(t,e,n){return e=os(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tye(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ob(0),this.expirationTimes=ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ob(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F9(t,e,n,r,i,s,a,o,l){return t=new Tye(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=os(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S9(s),t}function vye(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PV(t){if(!t)return hc;t=t._reactInternals;e:{if(zu(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var n=t.type;if(yi(n))return Dj(t,n,e)}return e}function MV(t,e,n,r,i,s,a,o,l){return t=F9(n,r,!0,t,i,s,a,o,l),t.context=PV(null),n=t.current,r=Wr(),i=tc(n),s=Ro(r,i),s.callback=e??null,Jl(n,s,i),t.current.lanes=i,hg(t,i,r),Ti(t,r),t}function $3(t,e,n,r){var i=e.current,s=Wr(),a=tc(i);return n=PV(n),e.context===null?e.context=n:e.pendingContext=n,e=Ro(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jl(i,e,a),t!==null&&(Gs(t,i,a,s),e2(t,i,a)),a}function zT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B9(t,e){YL(t,e),(t=t.alternate)&&YL(t,e)}function _ye(){return null}var $V=typeof reportError=="function"?reportError:function(t){console.error(t)};function j9(t){this._internalRoot=t}U3.prototype.render=j9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));$3(t,e,null,null)};U3.prototype.unmount=j9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pu(function(){$3(null,t,null,null)}),e[Bo]=null}};function U3(t){this._internalRoot=t}U3.prototype.unstable_scheduleHydration=function(t){if(t){var e=mj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xl.length&&e!==0&&e<xl[n].priority;n++);xl.splice(n,0,t),n===0&&fj(t)}};function V9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function F3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QL(){}function bye(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zT(a);s.call(c)}}var a=MV(e,r,t,0,null,!1,!1,"",QL);return t._reactRootContainer=a,t[Bo]=a.current,R1(t.nodeType===8?t.parentNode:t),Pu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=zT(l);o.call(c)}}var l=F9(t,0,!1,null,null,!1,!1,"",QL);return t._reactRootContainer=l,t[Bo]=l.current,R1(t.nodeType===8?t.parentNode:t),Pu(function(){$3(e,l,n,r)}),l}function B3(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=zT(a);o.call(l)}}$3(e,a,t,i)}else a=bye(n,e,t,i,r);return zT(a)}dj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rf(e.pendingLanes);n!==0&&(o9(e,n|1),Ti(e,vn()),!(ct&6)&&(um=vn()+500,Ec()))}break;case 13:Pu(function(){var r=jo(t,1);if(r!==null){var i=Wr();Gs(r,t,1,i)}}),B9(t,1)}};l9=function(t){if(t.tag===13){var e=jo(t,134217728);if(e!==null){var n=Wr();Gs(e,t,134217728,n)}B9(t,134217728)}};hj=function(t){if(t.tag===13){var e=tc(t),n=jo(t,e);if(n!==null){var r=Wr();Gs(n,t,e,r)}B9(t,e)}};mj=function(){return vt};pj=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};w8=function(t,e,n){switch(e){case"input":if(v8(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=L3(r);if(!i)throw Error(Ie(90));qB(r),v8(r,i)}}}break;case"textarea":WB(t,n);break;case"select":e=n.value,e!=null&&Ah(t,!!n.multiple,e,!1)}};ej=P9;tj=Pu;var Sye={usingClientEntryPoint:!1,Events:[pg,eh,L3,ZB,JB,P9]},Dp={findFiberByHostInstance:su,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eye={bundleType:Dp.bundleType,version:Dp.version,rendererPackageName:Dp.rendererPackageName,rendererConfig:Dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ij(t),t===null?null:t.stateNode},findFiberByHostInstance:Dp.findFiberByHostInstance||_ye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X0.isDisabled&&X0.supportsFiber)try{w3=X0.inject(Eye),Oa=X0}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sye;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V9(e))throw Error(Ie(200));return vye(t,e,null,n)};Gi.createRoot=function(t,e){if(!V9(t))throw Error(Ie(299));var n=!1,r="",i=$V;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F9(t,1,!1,null,null,n,!1,r,i),t[Bo]=e.current,R1(t.nodeType===8?t.parentNode:t),new j9(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=ij(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return Pu(t)};Gi.hydrate=function(t,e,n){if(!F3(e))throw Error(Ie(200));return B3(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!V9(t))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=$V;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=MV(e,null,t,1,n??null,i,!1,s,a),t[Bo]=e.current,R1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new U3(e)};Gi.render=function(t,e,n){if(!F3(e))throw Error(Ie(200));return B3(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!F3(t))throw Error(Ie(40));return t._reactRootContainer?(Pu(function(){B3(null,null,t,!1,function(){t._reactRootContainer=null,t[Bo]=null})}),!0):!1};Gi.unstable_batchedUpdates=P9;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!F3(n))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return B3(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function UV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UV)}catch(t){console.error(t)}}UV(),$B.exports=Gi;var WT=$B.exports;const kye=P("div")({name:"StaticContainer",class:"svm502q",propsAsIs:!1}),XL=`
  .sl-hide-on-modal {
    height: 0 !important;
    opacity: 0 !important;
    overflow: hidden !important;
  }
`,Aye=`
  .sl-pill-button {
    display: none !important;
  }
`,FV=()=>window.innerWidth>=Lo.lg&&window.innerWidth<Lo.xl?76:53,ZL=t=>{var e;const n=FV();return Math.round((((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)-n)<=0},BV=({children:t,container:e,useContainer:n})=>{const[r]=N.useState(()=>ZL(e)),[i,s]=N.useState(!1);return N.useEffect(()=>{if(!e.current||!r)return s(!0),()=>{};const a=window.scrollY;return s(!0),()=>{ZL(e)&&window.scrollTo({top:a,behavior:"instant"})}},[]),N.useEffect(()=>{if(i&&e.current&&r){const a=FV();window.scrollTo({top:e.current.offsetTop-a,behavior:"instant"})}},[i]),!e.current||!i?null:n?WT.createPortal(S.jsxs(kye,{children:[t,S.jsx("style",{children:XL}),S.jsx("style",{children:Aye})]}),e.current,"modal-node"):WT.createPortal(S.jsxs(S.Fragment,{children:[S.jsx("style",{children:XL}),t]}),e.current,"modal-node")},wye=P("div")({name:"Container",class:"c1pgyo67",propsAsIs:!1}),Cye="sx17qu6",Iye="h1692c5m",Bm=({children:t,style:e,className:n,enabled:r=!0,hiding:i,onAnimationEnd:s})=>S.jsx(wye,{style:e,className:Bn(n,r&&Cye,r&&i&&Iye),onAnimationEnd:s,children:t}),xye=()=>Bm,Lye=P(xye())({name:"GrowingContainer",class:"gck55ev",propsAsIs:!0}),jV=({children:t,style:e,enabled:n,animate:r,...i})=>{const s=N.useRef(null);return S.jsx(Lye,{...i,enabled:n&&r,style:{...e,...(()=>{const a=s==null?void 0:s.current,o=a&&window.getComputedStyle(a),l=o==null?void 0:o.getPropertyValue("height");return n?{height:r?l:0}:{}})()},children:S.jsx("div",{ref:s,children:t})})},JL=P("div")({name:"SponsorLogoWrap",class:"s8p5v5z",propsAsIs:!1}),Rye=()=>We,eR=P(Rye())({name:"SponsorLogo",class:"s755yti",propsAsIs:!0}),Nye=({mastersApp:t})=>t?S.jsx(JL,{children:S.jsx(eR,{name:"mastersLogo"})}):S.jsx(JL,{children:S.jsx(eR,{name:"streamLayerLogo"})}),Oye=P("div")({name:"Container",class:"c1gcvmcj",propsAsIs:!1}),Dye=P("div")({name:"Title",class:"tnr592a",propsAsIs:!1}),Pye=P("div")({name:"Description",class:"d1e8jqpv",propsAsIs:!1}),Mye=()=>We,$ye=P(Mye())({name:"Icon",class:"i1vs651k",propsAsIs:!0}),Uye=({icon:t,title:e,description:n})=>S.jsxs(Oye,{children:[S.jsx($ye,{name:t}),S.jsx(Dye,{children:e}),S.jsx(Pye,{children:n})]}),Fye=()=>jV,Bye=P(Fye())({name:"ShowInContainer",class:"s16sbdnm",propsAsIs:!0}),Pc=P("div")({name:"FeedbackContainer",class:"fbhorgl",propsAsIs:!1}),jye=P("div")({name:"Container",class:"c1g20ja7",propsAsIs:!1}),Vye=()=>We,tR=P(Vye())({name:"IconPrediction",class:"i455ozj",propsAsIs:!0}),Pp=P("div")({name:"FeedbackIconWrap",class:"f1913njx",propsAsIs:!1}),Z0=P("div")({name:"FeedbackHeader",class:"fzfk69z",propsAsIs:!1}),Hye=P("span")({name:"FeedbackTitle",class:"fx87qaj",propsAsIs:!1}),Qc=P("span")({name:"FeedbackDescription",class:"fvek9ew",propsAsIs:!1}),Gye=P("div")({name:"FeedbackTitleWrap",class:"f1kbtp09",propsAsIs:!1}),qye=P("div")({name:"FeedbackResultDescriptionWrap",class:"f4i8rro",propsAsIs:!1}),zye=()=>Qc,Wye=P(zye())({name:"FeedbackDynamicDescription",class:"fqyssr",propsAsIs:!0}),Kye=()=>Qc,Yye=P(Kye())({name:"FeedbackResultDescription",class:"fyv794i",propsAsIs:!0}),Ib=P("div")({name:"FeedbackText",class:"f1jkj9vx",propsAsIs:!1}),Qye=P("span")({name:"DynamicWrap",class:"d1pxh3a6",propsAsIs:!1}),Xye=P("div")({name:"EarlyFeedbackDescription",class:"e1afvufn",propsAsIs:!1}),nR=({feedbackMessages:t,questionVotedCorrectly:e,questionVoted:n,questionType:r,hasCorrectAnswer:i,showExpiredNotification:s,showClosedNotificationTrivia:a,votedInCurrentRender:o,votedAfterQuestionClosed:l,voteErrorMessage:c,enteredAnActiveQuestion:u,marketClosed:d,percentsAnimated:h,votedAnswer:m,isEarlyPrediction:g,correctAnswer:p})=>{const _=n&&(r===Te.TRIVIA||r===Te.PREDICTION),y=r===Te.PREDICTION&&!i,v=d&&r===Te.PREDICTION&&!n||r===Te.PREDICTION&&l&&o&&u,E=_&&y,x=_&&i,C=r===Te.PREDICTION&&n&&o&&i,R=n&&r===Te.POLL&&o,D=e?"correct":"incorrect",U=e?t==null?void 0:t.correctFeedback:t==null?void 0:t.incorrectFeedback;return s||a||E||x||v||R||C||c?S.jsx(Bye,{enabled:o,animate:h,children:S.jsxs(jye,{"data-prediction":y,children:[c&&!v&&S.jsxs(Pc,{children:[!g&&S.jsx(tR,{name:"questionExpired"}),S.jsx(Qc,{children:c})]}),!c&&s&&S.jsxs(Pc,{children:[!g&&S.jsx(Pp,{children:S.jsx(We,{name:"questionExpired"})}),S.jsxs("div",{children:[S.jsx(Z0,{children:S.jsx(Qc,{children:"Question Expired"})}),S.jsx(Ib,{children:"You can still answer to see if you're correct, but no points are awarded for expired questions."})]})]}),!c&&a&&S.jsxs(Pc,{children:[S.jsx(Pp,{children:S.jsx(We,{name:"questionExpired"})}),S.jsxs("div",{children:[S.jsx(Z0,{children:S.jsx(Qc,{children:"Question Closed"})}),S.jsx(Ib,{children:"This question was answered after the moderator closed the question. So the points for this answer won’t tally."})]})]}),v&&S.jsxs(Pc,{children:[!g&&S.jsx(Pp,{children:S.jsx(We,{name:"questionExpired"})}),S.jsxs("div",{children:[S.jsx(Z0,{children:S.jsx(Qc,{children:g?i?"The results are already in!":"Question is Closed":"Question Closed"})}),S.jsx(Ib,{children:g?S.jsx(Xye,{children:i?`Correct: ${p==null?void 0:p.text}`:"Event affecting the outcome has occurred."}):"This event has already taken place, so the ability to make a prediction on its outcome is no longer available."})]})]}),!c&&E&&S.jsxs(Pc,{children:[!g&&S.jsx(tR,{name:"icon-prediction"}),S.jsxs(Wye,{children:["Your pick has been recorded. ",S.jsx(Qye,{children:"We’ll notify you of the result."})]})]}),!c&&R&&S.jsxs(Pc,{children:[!g&&S.jsx(Pp,{"data-feedback-type":"correct",children:S.jsx(We,{name:"correct"})}),S.jsx(Qc,{children:"Thanks for answering. Please stay tuned for the next question."})]}),!c&&(x||C)&&S.jsxs(Pc,{children:[!g&&S.jsx(Pp,{"data-feedback-type":D,children:S.jsx(We,{name:D})}),S.jsx("div",{children:S.jsxs(Z0,{children:[g?S.jsx(Gye,{children:D==="incorrect"?S.jsxs(S.Fragment,{children:[S.jsx("div",{children:"So close!"}),S.jsx("div",{children:"Better luck next time"})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{children:"That’s correct!"}),S.jsx("div",{children:"You chose wisely."})]})}):S.jsx(Hye,{"data-feedback-type":D,children:U==null?void 0:U.title}),g?S.jsxs(qye,{children:[S.jsxs("div",{children:["Your pick: ",m==null?void 0:m.text]}),S.jsx("div",{children:D==="incorrect"?`Correct: ${p==null?void 0:p.text}`:""})]}):S.jsx(Yye,{children:U==null?void 0:U.description})]})})]})]})}):null},VV=P("div")({name:"Container",class:"c14ielyq",propsAsIs:!1}),Zye=()=>AB,Jye=P(Zye())({name:"QuestionScrollContainer",class:"q1tlqx57",propsAsIs:!0}),e2e=P("div")({name:"TopShadow",class:"t1hq58md",propsAsIs:!1}),t2e=P("div")({name:"BottomShadow",class:"b1c8nxcx",propsAsIs:!1}),n2e=P("div")({name:"SponsorLogo",class:"siozuc3",propsAsIs:!1}),HV=P("div")({name:"Content",class:"cpnc44r",propsAsIs:!1}),r2e=P("div")({name:"Title",class:"tq7p3w0",propsAsIs:!1}),i2e=P("div")({name:"OptionsWrap",class:"o1jlfj9g",propsAsIs:!1}),GV=P("div")({name:"Options",class:"o84pmnd",propsAsIs:!1}),s2e=()=>Bm,a2e=P(s2e())({name:"AlertContainer",class:"a1dybjw9",propsAsIs:!0}),o2e=P("div")({name:"EarlyPrediction",class:"e1l05ict",propsAsIs:!1}),l2e=()=>We,c2e=P(l2e())({name:"EarlyPredictionIcon",class:"ez9juex",propsAsIs:!0}),u2e=()=>We,d2e=P(u2e())({name:"SponsorIcon",class:"s8p4aob",propsAsIs:!0});var H9={},KT=function(){return KT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},KT.apply(this,arguments)},h2e=function(){function t(e,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var a=s-i.startTime;i.remaining=i.duration-a,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(a,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(a,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(a/i.duration);var o=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=o?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),a<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var a,o,l,c,u=s<0?"-":"";a=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(a+="").split(".");if(o=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,m=0,g=0,p=o.length;g<p;++g)i.options.useIndianSeparators&&g===4&&(h=2,m=1),g!==0&&m%h==0&&(c=i.options.separator+c),m++,c=o[p-g-1]+c;o=c}return i.options.numerals&&i.options.numerals.length&&(o=o.replace(/[0-9]/g,function(_){return i.options.numerals[+_]}),l=l.replace(/[0-9]/g,function(_){return i.options.numerals[+_]})),u+i.options.prefix+o+l+i.options.suffix},this.easeOutExpo=function(s,a,o,l){return o*(1-Math.pow(2,-10*s/l))*1024/1023+a},this.options=KT(KT({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(e){if(e&&window&&!e.once){var n=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>s||i>n)&&!e.paused&&e.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var n=e-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(e){var n;if(this.el){var r=this.formattingFn(e);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},t.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},t.prototype.validateValue=function(e){var n=Number(e);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const m2e=Object.freeze(Object.defineProperty({__proto__:null,CountUp:h2e},Symbol.toStringTag,{value:"Module"})),p2e=zme(m2e);Object.defineProperty(H9,"__esModule",{value:!0});var zn=ci,f2e=p2e;function g2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){v2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2e(t){var e=y2e(t,"string");return typeof e=="symbol"?e:String(e)}function v2e(t,e,n){return e=T2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ik.apply(this,arguments)}function _2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qV(t,e){if(t==null)return{};var n=_2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b2e(t,e){return S2e(t)||g2e(t,e)||E2e(t,e)||k2e()}function S2e(t){if(Array.isArray(t))return t}function E2e(t,e){if(t){if(typeof t=="string")return iR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(t,e)}}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zn.useLayoutEffect:zn.useEffect;function Ds(t){var e=zn.useRef(t);return A2e(function(){e.current=t}),zn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var w2e=function(t,e){var n=e.decimal,r=e.decimals,i=e.duration,s=e.easingFn,a=e.end,o=e.formattingFn,l=e.numerals,c=e.prefix,u=e.separator,d=e.start,h=e.suffix,m=e.useEasing,g=e.useGrouping,p=e.useIndianSeparators,_=e.enableScrollSpy,y=e.scrollSpyDelay,v=e.scrollSpyOnce,E=e.plugin;return new f2e.CountUp(t,a,{startVal:d,duration:i,decimal:n,decimalPlaces:r,easingFn:s,formattingFn:o,numerals:l,separator:u,prefix:c,suffix:h,plugin:E,useEasing:m,useIndianSeparators:p,useGrouping:g,enableScrollSpy:_,scrollSpyDelay:y,scrollSpyOnce:v})},C2e=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],I2e={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},zV=function(t){var e=Object.fromEntries(Object.entries(t).filter(function(U){var K=b2e(U,2),V=K[1];return V!==void 0})),n=zn.useMemo(function(){return YT(YT({},I2e),e)},[t]),r=n.ref,i=n.startOnMount,s=n.enableReinitialize,a=n.delay,o=n.onEnd,l=n.onStart,c=n.onPauseResume,u=n.onReset,d=n.onUpdate,h=qV(n,C2e),m=zn.useRef(),g=zn.useRef(),p=zn.useRef(!1),_=Ds(function(){return w2e(typeof r=="string"?r:r.current,h)}),y=Ds(function(U){var K=m.current;if(K&&!U)return K;var V=_();return m.current=V,V}),v=Ds(function(){var U=function(){return y(!0).start(function(){o==null||o({pauseResume:E,reset:x,start:R,update:C})})};a&&a>0?g.current=setTimeout(U,a*1e3):U(),l==null||l({pauseResume:E,reset:x,update:C})}),E=Ds(function(){y().pauseResume(),c==null||c({reset:x,start:R,update:C})}),x=Ds(function(){y().el&&(g.current&&clearTimeout(g.current),y().reset(),u==null||u({pauseResume:E,start:R,update:C}))}),C=Ds(function(U){y().update(U),d==null||d({pauseResume:E,reset:x,start:R})}),R=Ds(function(){x(),v()}),D=Ds(function(U){i&&(U&&x(),v())});return zn.useEffect(function(){p.current?s&&D(!0):(p.current=!0,D())},[s,p,D,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),zn.useEffect(function(){return function(){x()}},[x]),{start:R,pauseResume:E,reset:x,update:C,getCountUp:y}},x2e=["className","redraw","containerProps","children","style"],L2e=function(t){var e=t.className,n=t.redraw,r=t.containerProps,i=t.children,s=t.style,a=qV(t,x2e),o=zn.useRef(null),l=zn.useRef(!1),c=zV(YT(YT({},a),{},{ref:o,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),u=c.start,d=c.reset,h=c.update,m=c.pauseResume,g=c.getCountUp,p=Ds(function(){u()}),_=Ds(function(E){t.preserveValue||d(),h(E)}),y=Ds(function(){if(typeof t.children=="function"&&!(o.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}g()});zn.useEffect(function(){y()},[y]),zn.useEffect(function(){l.current&&_(t.end)},[t.end,_]);var v=n&&t;return zn.useEffect(function(){n&&l.current&&p()},[p,n,v]),zn.useEffect(function(){!n&&l.current&&p()},[p,n,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),zn.useEffect(function(){l.current=!0},[]),typeof i=="function"?i({countUpRef:o,start:u,reset:d,update:h,pauseResume:m,getCountUp:g}):zn.createElement("span",ik({className:e,ref:o,style:s},r),typeof t.start<"u"?g().formattingFn(t.start):"")},R2e=H9.default=L2e;H9.useCountUp=zV;const gg=({value:t=0,decimals:e,duration:n=1,preserveValue:r=!0,...i})=>{const[,s]=t.toString().split("."),a=e??((s==null?void 0:s.length)||0);return S.jsx(R2e,{end:t,...i,duration:n,decimals:a,enableScrollSpy:!1,preserveValue:r})},N2e=P("button")({name:"ButtonContainer",class:"b1b6dl8t",propsAsIs:!1}),O2e=P("div")({name:"ButtonPctWrap",class:"b4iik8i",propsAsIs:!1}),D2e=P("div")({name:"ButtonPct",class:"b1gq1lnf",propsAsIs:!1}),P2e=P("span")({name:"ButtonBody",class:"b1j65z51",propsAsIs:!1}),M2e=P("div")({name:"IconContainer",class:"i19tpfua",propsAsIs:!1}),$2e=P("div")({name:"IconWrap",class:"i1tubmma",propsAsIs:!1}),WV=P("img")({name:"Icon",class:"i1grrgwj",propsAsIs:!1}),U2e=()=>WV,F2e=P(U2e())({name:"IconDefault",class:"ibemyq8",propsAsIs:!0}),B2e=()=>WV,j2e=P(B2e())({name:"IconCircle",class:"i1dceht",propsAsIs:!0}),V2e=P("span")({name:"Title",class:"t116q4vq",propsAsIs:!1}),H2e=P("span")({name:"Indicators",class:"i17ajcu2",propsAsIs:!1}),G2e=P("div")({name:"PtsWrap",class:"pu9kmlb",propsAsIs:!1}),q2e=P("span")({name:"Pts",class:"p1j2j0s0",propsAsIs:!1}),z2e=P("span")({name:"Percentage",class:"p1mzj1sj",propsAsIs:!1}),W2e=()=>We,K2e=P(W2e())({name:"CheckIcon",class:"cichgz8",propsAsIs:!0}),sR={[un.CENTERED]:t=>S.jsx(F2e,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[un.TRANSPARENT]:t=>S.jsx(M2e,{"data-testid":"vote-icon",children:S.jsx($2e,{style:{backgroundImage:`url(${t})`}})}),[un.ROUNDED]:t=>S.jsx(j2e,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[un.NONE]:()=>null,[un.UNSET]:()=>null},Y2e=({questionType:t,hasCorrectAnswer:e,correct:n,youVoted:r,questionVoted:i})=>{if(t===Te.POLL&&r)return"voted";if(t===Te.PREDICTION){if(!e&&i)return r?"voted":"unset";if(e&&i)return r?n?"correct":"incorrect":"unset";if(r)return"correct"}return t===Te.TRIVIA&&i&&r?n?"correct":"incorrect":"unset"},Q2e=({questionType:t,questionVoted:e,correct:n,hasCorrectAnswer:r,questionStatus:i})=>t===Te.TRIVIA?e&&n:t===Te.PREDICTION?e&&n&&r||i===ht.RESOLVED&&n:!1,X2e=t=>{var e;const{id:n,icon:r,text:i,percentageDecimal:s,points:a,onVote:o,markThatVoted:l,onPercentsAnimated:c,youSelected:u,youVoted:d,questionVoted:h,imageMode:m,answerTimeExpired:g,questionStatus:p,isLoading:_,questionType:y,correct:v,hasCorrectAnswer:E,marketClosed:x,isEarlyPrediction:C}=t,[R,D]=N.useState(0),U=Y2e(t),K=Q2e({questionType:y,questionVoted:h,correct:v,hasCorrectAnswer:E,questionStatus:p}),V=x&&y===Te.PREDICTION,X=h||V,he=y===Te.PREDICTION&&!h&&!x,ie=h&&!u&&U!=="incorrect"&&!d;return N.useLayoutEffect(()=>{D(0),requestAnimationFrame(()=>{D(s)})},[s]),S.jsxs(N2e,{value:n,"data-selected":u,"data-answer-state":U,disabled:h||_||g||V,"data-is-not-checked":ie,onClick:pe=>{l(y===Te.PREDICTION?x:p===ht.RESOLVED),o(pe)},children:[S.jsx(O2e,{children:S.jsx(D2e,{"data-answer-state":U,"data-is-not-checked":ie,style:{width:`${X?R:0}%`},onTransitionEnd:()=>{V||c==null||c()}})}),S.jsxs(P2e,{children:[r&&m&&((e=sR[m])==null?void 0:e.call(sR,r)),S.jsx(V2e,{children:i}),he&&S.jsxs(G2e,{children:[a,S.jsx(q2e,{children:"pts"})]}),X&&S.jsxs(H2e,{children:[K&&S.jsx(K2e,{name:C?"selectedBetPack":"selected"}),S.jsx(z2e,{children:S.jsx(gg,{value:s,suffix:"%"})})]})]})]})},Z2e=()=>jV,J2e=P(Z2e())({name:"ShowInContainer",class:"sie6cqo",propsAsIs:!0}),eTe=P("div")({name:"WinBarContainer",class:"wgizw4u",propsAsIs:!1}),tTe=P("div")({name:"Content",class:"c1l3ucjp",propsAsIs:!1}),nTe=P("div")({name:"Title",class:"tx7j799",propsAsIs:!1}),rTe=()=>We,iTe=P(rTe())({name:"WinIcon",class:"w4lwuj0",propsAsIs:!0}),sTe=P("div")({name:"Points",class:"po9i64o",propsAsIs:!1}),aTe=P("span")({name:"PointsCount",class:"pe5g05h",propsAsIs:!1}),oTe=P("span")({name:"PointsUnits",class:"p1hdtpmb",propsAsIs:!1}),lTe=({title:t,points:e,isPlayingTimer:n,isTimer:r,animatePoints:i,questionType:s,timerDuration:a,votedInCurrentRender:o,percentsAnimated:l,onTimerExpired:c})=>S.jsx(J2e,{enabled:s===Te.PREDICTION&&o,animate:l,children:S.jsxs(eTe,{style:{justifyContent:s===Te.PREDICTION?"center":"space-between"},children:[S.jsxs(tTe,{children:[t&&S.jsx(nTe,{children:t}),e!==void 0&&s!==Te.POLL&&S.jsxs(S.Fragment,{children:[S.jsx(iTe,{name:"icon-trophy"}),S.jsxs(sTe,{children:[S.jsx(aTe,{children:i?S.jsx(gg,{value:e,delay:.3}):e}),S.jsx(oTe,{children:"PTS"})]})]})]}),r&&s!==Te.PREDICTION&&S.jsx(P1e,{isPlaying:n,onTimerExpired:c,duration:a})]})}),cTe=(t,e)=>{switch(t){case"already_voted":return e===Te.POLL?"You’ve already answered this question on another device.":"You’ve already answered this question on another device. So the points for this answer won't tally.";default:return"Something went wrong, please try again"}},uTe=()=>S.jsx(VV,{children:S.jsxs(HV,{children:[S.jsx(Ri,{loading:!0,style:{height:"40px",borderRadius:"100px"}}),S.jsx(Ri,{loading:!0,style:{height:"24px",margin:"16px 0"}}),S.jsx(GV,{children:Array.from({length:5}).map((t,e)=>S.jsx(Ri,{loading:!0,style:{height:"44px"}},e))})]})}),dTe=({openedQuestion:t,isLoading:e,vote:n,close:r,isEarlyPrediction:i})=>{var s,a;const o=t.subject,l=t.type,c=t.status,u=(s=t.options)==null?void 0:s.options,d=t.marketClosed,h=t.id,m=N.useRef(),[g,p]=N.useState(!1),[_,y]=N.useState(!1),[v,E]=N.useState(!0),[x,C]=N.useState(!1),[R,D]=N.useState(!1),[U,K]=N.useState(""),[V,X]=N.useState(""),[he,ie]=N.useState(!1),[pe,ne]=N.useState(!1),{runAnimation:oe,finished:_e}=RB();N.useEffect(()=>{_e&&r()},[r,_e]),N.useEffect(()=>{l===Te.PREDICTION?d&&E(!1):c===ht.RESOLVED&&E(!1)},[]);const Y=N.useCallback(pt=>{y(pt),p(!0)},[]),te=N.useRef(!1),re=N.useCallback(async pt=>{if(!te.current&&(te.current=!0,h)){const tr=pt.currentTarget.value;K(tr);try{await n(h,tr)}catch(nr){X(cTe(nr.message,l)),K(""),console.error("Error while voting",nr),te.current=!1}}},[l,h,K,n]),Ae=N.useCallback(()=>{C(!0),oe({delay:3500})},[oe]),W=N.useCallback(()=>{D(!0),oe({delay:3500})},[oe]),J=t==null?void 0:t.answers.find(pt=>pt.youVoted===!0),le=N.useMemo(()=>!!(t!=null&&t.answers.find(pt=>pt.correct===!0)),[t]),ve=N.useMemo(()=>t==null?void 0:t.answers.find(pt=>pt.correct===!0),[t]);N.useEffect(()=>{J&&g&&!pe&&(m.current=setTimeout(W,1e4),ne(!0))},[J]),N.useEffect(()=>()=>{clearTimeout(m.current)},[]);const Re=N.useMemo(()=>t?t.answers.map(pt=>{var tr;return{...pt,questionVoted:!!J,youSelected:U===pt.id,isLoading:e,hasCorrectAnswer:le,questionType:t.type,answerTimeExpired:x,questionStatus:c,imageMode:(tr=t.appearance)==null?void 0:tr.images,onVote:re}}):[],[le,x,e,t,J,c,re,U]);N.useEffect(()=>{const pt=Re.some(({percentageDecimal:nr})=>nr!==0),tr=J&&l===Te.PREDICTION;V&&(i||!pt||d&&tr)&&ie(!0)},[Re,V,i,d,l,J]);const Me=u&&(u.case==="trivia"||u.case==="prediction")?u.value:void 0,Ue=c===ht.RESOLVED&&l===Te.TRIVIA&&!J&&!v,Ge=l===Te.TRIVIA&&_,Je=N.useMemo(()=>l===Te.PREDICTION?i?!1:!!(J&&!le||J&&le&&ve!=null&&ve.youVoted):!0,[l,J,le,ve,i]),hn=N.useMemo(()=>{if(l===Te.PREDICTION&&J&&(!le||le&&ve!=null&&ve.youVoted))return J.points;if(!(Ue||x))return J?J.correct?J.pointsEarned:0:ve==null?void 0:ve.points},[x,J,ve,Ue,l,le]),fr=N.useMemo(()=>l===Te.PREDICTION&&J?le?le&&ve!=null&&ve.youVoted?"You won":"":"To win":Ue||x?"Time expired":l===Te.POLL?"Time remaining":J?"You won":"To win",[x,l,J,Ue,le,ve]),bs=!Je||Je&&l===Te.PREDICTION&&g&&!he,Wi=(l===Te.TRIVIA||l===Te.PREDICTION)&&J&&le&&(ve==null?void 0:ve.youVoted),Ss=J||Ue||Ge||l===Te.TRIVIA&&c===ht.RESOLVED&&v;return S.jsxs(Jye,{children:[i&&S.jsx(e2e,{}),S.jsx(VV,{style:i?{marginTop:"-40px"}:{},children:S.jsxs(HV,{id:"questionContent",children:[!i&&S.jsx(nR,{feedbackMessages:Me,questionVoted:!!J,questionVotedCorrectly:J==null?void 0:J.correct,questionType:l,hasCorrectAnswer:le,showExpiredNotification:Ue,showClosedNotificationTrivia:Ge,votedInCurrentRender:g,votedAfterQuestionClosed:_,enteredAnActiveQuestion:v,marketClosed:d,percentsAnimated:he,voteErrorMessage:V,votedAnswer:J}),Je&&S.jsx(lTe,{title:fr,points:hn,onTimerExpired:Ae,questionType:t.type,isTimer:!e,isPlayingTimer:!J,animatePoints:Wi,timerDuration:Ss?0:Number(((a=t==null?void 0:t.appearance)==null?void 0:a.autoHideInterval)||"30"),votedInCurrentRender:g,percentsAnimated:he}),!i&&(x||R)?S.jsx(a2e,{children:S.jsx(Uye,{icon:"icon-check-circle",title:"More to come...",description:R?S.jsxs(S.Fragment,{children:["Stay tuned for more questions ",S.jsx("br",{})," and insights."]}):S.jsxs(S.Fragment,{children:["Watch for additional enhanced stream ",S.jsx("br",{})," interactive experience."]})})}):S.jsxs(S.Fragment,{children:[i&&S.jsxs(o2e,{children:[S.jsx(c2e,{name:"iconEarlyPrediction"}),"EARLY PREDICTION"]}),S.jsx(r2e,{style:bs?{marginTop:0}:{},children:o}),i&&S.jsx(nR,{feedbackMessages:Me,questionVoted:!!J,questionVotedCorrectly:J==null?void 0:J.correct,questionType:l,hasCorrectAnswer:le,showExpiredNotification:Ue,showClosedNotificationTrivia:Ge,votedInCurrentRender:g,votedAfterQuestionClosed:_,enteredAnActiveQuestion:v,marketClosed:d,percentsAnimated:he,voteErrorMessage:V,isEarlyPrediction:i,correctAnswer:ve,votedAnswer:J}),S.jsxs(i2e,{children:[S.jsx(GV,{children:Re.map(pt=>S.jsx(X2e,{...pt,markThatVoted:Y,onPercentsAnimated:()=>ie(!0),votedAfterQuestionClosed:_,enteredAnActiveQuestion:v,marketClosed:d,isEarlyPrediction:i},pt.id))}),i&&S.jsxs(S.Fragment,{children:[S.jsx(t2e,{}),S.jsx(n2e,{children:S.jsx(d2e,{name:"mastersLogoWhite"})})]})]})]})]})})]})},hTe=P("div")({name:"Container",class:"c1bgb86j",propsAsIs:!1}),mTe=P("video")({name:"Player",class:"p6703cq",propsAsIs:!1}),pTe=P("img")({name:"Poster",class:"p12ow7zo",propsAsIs:!1}),fTe=P("div")({name:"Control",class:"cdpal9o",propsAsIs:!1}),gTe="t1xke4ml",yTe="h1yzxv57",TTe=t=>{for(const e of t)e.isIntersecting?e.target instanceof HTMLVideoElement&&e.target.autoplay&&e.target.play():e.target instanceof HTMLVideoElement&&!e.target.paused&&e.target.pause()},KV=new IntersectionObserver(TTe,{threshold:.5}),G9=new Set,vTe=t=>{KV.observe(t),G9.add(t)},_Te=t=>{KV.unobserve(t),G9.delete(t)},YV=()=>{for(const t of G9)t instanceof HTMLVideoElement&&!t.paused&&t.pause()},j3=({poster:t,source:e,aspectRatio:n,controlVideo:r,onPlay:i,onPause:s,autoPlay:a,hideControls:o})=>{const l=N.useRef(null),[c,u]=N.useState(!1),[d,h]=N.useState(!0),m=N.useCallback(()=>{r==null||r({muted:!0})},[r]),g=N.useCallback(()=>{r==null||r({muted:!1})},[r]),p=y=>{y.stopPropagation();const v=l==null?void 0:l.current;if(v){if(c)v.pause();else{const E=l==null?void 0:l.current;if(!E)return;YV(),E.play().catch(x=>console.log(x)),h(!1)}Fa.emit("interactions",{action:"tap",payload:{}})}},_=()=>{var y;(y=l==null?void 0:l.current)==null||y.load(),h(!0)};return N.useEffect(()=>{const y=l==null?void 0:l.current;return()=>{y&&(y.paused||g())}},[g]),N.useEffect(()=>{const y=l.current;return y?(vTe(y),()=>_Te(y)):()=>{}},[]),S.jsxs(hTe,{onClick:o?void 0:p,className:Bn(c&&gTe,o&&yTe),style:n?{aspectRatio:n}:{},children:[S.jsx(mTe,{ref:l,src:e,autoPlay:a,onPlay:()=>{m(),u(!0),h(!1),i==null||i()},onPause:()=>{g(),u(!1),s==null||s()},onEnded:()=>{g(),u(!1),_()},style:{visibility:d?"hidden":"visible"},controls:!1,playsInline:!0}),S.jsx(pTe,{src:t,style:{visibility:d?"visible":"hidden"}}),!o&&S.jsx(fTe,{children:c?S.jsx(We,{name:"icon-pause"}):S.jsx(We,{name:"icon-play"})})]})},bTe=P("div")({name:"Container",class:"cgn5uen",propsAsIs:!1}),STe=P("div")({name:"Content",class:"c1px8nt6",propsAsIs:!1}),ETe=P("h3")({name:"Title",class:"t5et2jt",propsAsIs:!1}),kTe=P("div")({name:"Description",class:"d1i2kpk2",propsAsIs:!1}),ATe=P("img")({name:"Image",class:"id3lh3p",propsAsIs:!1}),wTe=P("div")({name:"ImageContainer",class:"i1gfjeu5",propsAsIs:!1}),QV=({instantView:t,isDetail:e,notification:n,controlVideo:r})=>{const i=t==null?void 0:t.heading,s=t==null?void 0:t.body,a=i||s,o=n==null?void 0:n.title,l=n==null?void 0:n.body;return S.jsxs(bTe,{children:[(t==null?void 0:t.video)&&S.jsx(j3,{source:t.video.url,poster:t.video.thumbnailUrl,controlVideo:r,autoPlay:t.autoPlayVideo===og.ENABLED}),(t==null?void 0:t.image)&&!(t!=null&&t.video)&&S.jsx(wTe,{"data-rounded":t.imageMode===un.ROUNDED,children:S.jsx(ATe,{src:t==null?void 0:t.image})}),S.jsxs(STe,{children:[S.jsx(ETe,{children:e&&a?i:o}),S.jsx(kTe,{children:e&&a?s:l})]})]})},CTe=P("div")({name:"Container",class:"c1euiow",propsAsIs:!1}),ITe=P("a")({name:"WebLinkBtn",class:"w19zie3h",propsAsIs:!1}),xTe=()=>We,LTe=P(xTe())({name:"WebLinkIcon",class:"wyg5v7z",propsAsIs:!0}),RTe=({instantView:t,...e})=>S.jsxs(CTe,{children:[S.jsx(QV,{instantView:t,...e,isDetail:!0}),(t==null?void 0:t.webLink)&&S.jsxs(ITe,{href:t==null?void 0:t.webLink.url,target:"_blank","data-analytics":"web-link",children:[t==null?void 0:t.webLink.label,S.jsx(LTe,{name:"icon-external-link"})]})]}),NTe=P("div")({name:"Container",class:"cjq447q",propsAsIs:!1}),OTe=P("div")({name:"ImageContainer",class:"i14egogb",propsAsIs:!1}),DTe=P("img")({name:"Image",class:"i2g9g4l",propsAsIs:!1}),PTe=()=>We,MTe=P(PTe())({name:"TwitterIcon",class:"t1c454nm",propsAsIs:!0}),$Te=P("div")({name:"Details",class:"d11nigc3",propsAsIs:!1}),UTe=P("div")({name:"Name",class:"nrxa4k8",propsAsIs:!1}),FTe=P("div")({name:"UserNameAndDate",class:"u1p051g3",propsAsIs:!1}),XV=({image:t,name:e,userName:n,verified:r,createdTweet:i})=>{const s=i&&Y1e(i);return S.jsxs(NTe,{children:[t&&S.jsxs(OTe,{children:[S.jsx(DTe,{className:"SL_AccountImage",src:t}),S.jsx(MTe,{name:"twitter"})]}),S.jsxs($Te,{children:[e&&S.jsxs(UTe,{className:"SL_TweetAccountName",children:[e," ",r&&S.jsx(We,{name:"icon-twitter-verified"})]}),n&&S.jsxs(FTe,{className:"SL_TweetAccountUserName",children:["@",n," ",s&&`･ ${s}`]})]})]})},BTe=P("div")({name:"Container",class:"c1kzqw87",propsAsIs:!1}),jTe=P("div")({name:"Details",class:"d9r1hf9",propsAsIs:!1}),VTe=P("div")({name:"Body",class:"bezygt5",propsAsIs:!1}),Mp=P("div")({name:"ImagesContainer",class:"i1y8f7ym",propsAsIs:!1}),xb=P("div")({name:"ImagesBlock",class:"i18gwonx",propsAsIs:!1}),ZV=P("img")({name:"Image",class:"i3g0xjd",propsAsIs:!1}),HTe=()=>ZV,cl=P(HTe())({name:"ImageFullSize",class:"io8rt7p",propsAsIs:!0}),GTe=()=>ZV,Lb=P(GTe())({name:"ImageHalfSize",class:"i4hn3ox",propsAsIs:!0}),qTe=new RegExp("\\s?https?://t.co[^\\s]+(\\s+)?$"),JV=t=>t==null?void 0:t.replace(qTe,""),q9=({image:t,body:e,account:n,accountVerified:r,tweet:i,isDetail:s,controlVideo:a})=>{var o,l,c,u,d,h,m,g,p;const _=(l=(o=i==null?void 0:i.meta)==null?void 0:o.extendedEntities)==null?void 0:l.media,y=_==null?void 0:_.find(({type:E})=>E==="photo"),v=(h=(d=(u=(c=_==null?void 0:_[0])==null?void 0:c.videoInfo)==null?void 0:u.variants)==null?void 0:d.find(({contentType:E})=>E==="video/mp4"))==null?void 0:h.url;return S.jsxs(BTe,{children:[S.jsxs(jTe,{children:[S.jsx(XV,{image:t,name:(m=i==null?void 0:i.meta)==null?void 0:m.accountName,userName:n,verified:r,createdTweet:i==null?void 0:i.date}),S.jsx(VTe,{children:JV(e)}),!s&&y&&S.jsx(Mp,{children:S.jsx(cl,{src:_==null?void 0:_[0].mediaUrlHttps})}),s&&y&&S.jsxs(S.Fragment,{children:[(_==null?void 0:_.length)===1&&S.jsx(Mp,{children:S.jsx(cl,{src:_[0].mediaUrlHttps})}),(_==null?void 0:_.length)===2&&S.jsxs(Mp,{children:[S.jsx(Lb,{src:_[0].mediaUrlHttps}),S.jsx(Lb,{src:_[1].mediaUrlHttps})]}),(_==null?void 0:_.length)===3&&S.jsxs(Mp,{children:[S.jsx(Lb,{src:_[0].mediaUrlHttps}),S.jsxs(xb,{children:[S.jsx(cl,{src:_[1].mediaUrlHttps}),S.jsx(cl,{src:_[2].mediaUrlHttps})]})]}),(_==null?void 0:_.length)===4&&S.jsxs(Mp,{children:[S.jsxs(xb,{children:[S.jsx(cl,{src:_[0].mediaUrlHttps}),S.jsx(cl,{src:_[1].mediaUrlHttps})]}),S.jsxs(xb,{children:[S.jsx(cl,{src:_[2].mediaUrlHttps}),S.jsx(cl,{src:_[3].mediaUrlHttps})]})]})]})]}),!y&&(((g=_==null?void 0:_[0])==null?void 0:g.type)==="video"||((p=_==null?void 0:_[0])==null?void 0:p.type)==="animated_gif")&&v&&S.jsx(j3,{source:v,poster:_[0].mediaUrlHttps,controlVideo:a})]})},zTe=P("div")({name:"Container",class:"c1dcxmvf",propsAsIs:!1}),WTe=P("blockquote")({name:"Quote",class:"qb4q22c",propsAsIs:!1}),KTe=t=>S.jsxs(zTe,{children:[t.title&&S.jsx(WTe,{children:t.title}),S.jsx(q9,{...t,isDetail:!0})]}),YTe=P("div")({name:"QuestionContainer",class:"q14ckf9e",propsAsIs:!1}),QTe=({openedQuestion:t})=>{var e,n;const{sdk:r}=A3();return((e=t==null?void 0:t.attributes)==null?void 0:e.attributes.case)==="insight"?S.jsx(RTe,{...t.attributes.attributes.value,controlVideo:r==null?void 0:r.controlVideoPlayer}):((n=t==null?void 0:t.attributes)==null?void 0:n.attributes.case)==="tweet"?S.jsx(KTe,{...t.attributes.attributes.value,controlVideo:r==null?void 0:r.controlVideoPlayer}):null},XTe=({extendedQuestion:t,vote:e,close:n})=>{const{loading:r,data:i}=t;return i?S.jsx(dTe,{vote:e,close:n,openedQuestion:i,isLoading:!!r}):S.jsx(uTe,{})},ZTe=({gamification:t,skipAutoClose:e,hideSponsor:n,className:r,hideHeader:i})=>{var s,a,o,l,c;const u=ot(t.openedQuestion.$store),d=ot(t.openedQuestion.$extendedStore);if(!u)return null;const h=u.type,m=((a=(s=d.data)==null?void 0:s.options)==null?void 0:a.options.case)==="factoid"?d.data.options.options.value.closeTimer:void 0;return S.jsxs(YTe,{className:r,children:[!i&&S.jsx(OB,{closeTimer:e?void 0:m,close:t.closeQuestion,type:((o=u.attributes)==null?void 0:o.type)||Te.UNSET}),h==="question"&&S.jsx(XTe,{vote:t.submitAnswer,close:t.closeQuestion,extendedQuestion:d}),h!=="question"&&S.jsx(QTe,{openedQuestion:u}),!n&&S.jsx(Nye,{sponsorLogo:(c=(l=d.data)==null?void 0:l.sponsorship)==null?void 0:c.logo})]})},JTe=P("div")({name:"Container",class:"c115qtkr",propsAsIs:!1}),eve=P("div")({name:"STabs",class:"sxnslc8",propsAsIs:!1}),tve=P("button")({name:"Button",class:"b1umzux0",propsAsIs:!1}),nve=P("span")({name:"Title",class:"tspsaas",propsAsIs:!1});var af=(t=>(t.HOME="home",t.LEADERBOARD="leaderboard",t))(af||{});const aR=({title:t,active:e,onClick:n})=>S.jsx(tve,{onClick:n,"data-selected":e,children:S.jsx(nve,{children:t})}),rve=({activePage:t="home",toggleActivePage:e})=>S.jsx(JTe,{children:S.jsxs(eve,{"data-position":t==="home"?"left":"right",children:[S.jsx(aR,{title:"Home",active:t==="home",onClick:()=>e("home")}),S.jsx(aR,{title:"Friends",active:t==="leaderboard",onClick:()=>e("leaderboard")})]})}),ive=P("button")({name:"Container",class:"cpjnajb",propsAsIs:!1}),sve=P("div")({name:"Content",class:"c4m6kaz",propsAsIs:!1}),ave=P("span")({name:"Title",class:"t1h8t9cc",propsAsIs:!1}),ove=()=>S.jsx(ive,{children:S.jsxs(sve,{children:[S.jsx(We,{name:"iconCopySuccess"}),S.jsx(ave,{children:"Link Copied to Clipboard"})]})}),eH=t=>{const e=N.useRef(),[n,r]=N.useState(null),i=N.useCallback(async s=>{var a;if(s&&(a=navigator==null?void 0:navigator.clipboard)!=null&&a.writeText){e.current&&(clearTimeout(e.current),r(null));try{await navigator.clipboard.writeText(s),t.current&&(r(WT.createPortal(S.jsx(ove,{}),t.current)),e.current=setTimeout(()=>{r(null)},1e3))}catch(o){console.error("Unable to copy to clipboard",o)}}},[t]);return N.useEffect(()=>()=>{clearTimeout(e.current)},[]),[i,n]},lve=P("div")({name:"Container",class:"c1ux29ft",propsAsIs:!1}),cve=()=>We,uve=P(cve())({name:"FriendsIcon",class:"f10ncfg2",propsAsIs:!0}),dve=P("div")({name:"Content",class:"c1yc07bd",propsAsIs:!1}),hve=P("div")({name:"Title",class:"tj6cq7w",propsAsIs:!1}),mve=P("div")({name:"Description",class:"d1ag78xo",propsAsIs:!1}),pve=()=>We,fve=P(pve())({name:"ArrowInviteIcon",class:"awohrz6",propsAsIs:!0}),gve=({title:t,description:e,onClick:n,className:r})=>{const[i]=IB({type:"invitation",action:"sent",payload:{from:v1.TITLE_CARD}});return S.jsxs(lve,{onClick:i(n),className:r,children:[S.jsx(uve,{name:"icon-friends"}),S.jsxs(dve,{children:[S.jsx(hve,{children:t}),S.jsx(mve,{children:e})]}),S.jsx(fve,{name:"icon-copy"})]})};let ds;typeof window<"u"?ds=window:typeof self<"u"?ds=self:ds=WE;let sk=null,ak=null;const oR=20,Rb=ds.clearTimeout,lR=ds.setTimeout,Nb=ds.cancelAnimationFrame||ds.mozCancelAnimationFrame||ds.webkitCancelAnimationFrame,cR=ds.requestAnimationFrame||ds.mozRequestAnimationFrame||ds.webkitRequestAnimationFrame;Nb==null||cR==null?(sk=Rb,ak=function(t){return lR(t,oR)}):(sk=function([t,e]){Nb(t),Rb(e)},ak=function(t){const e=cR(function(){Rb(n),t()}),n=lR(function(){Nb(e),t()},oR);return[e,n]});function yve(t){let e,n,r,i,s,a,o;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(p){const _=p.__resizeTriggers__,y=_.firstElementChild,v=_.lastElementChild,E=y.firstElementChild;v.scrollLeft=v.scrollWidth,v.scrollTop=v.scrollHeight,E.style.width=y.offsetWidth+1+"px",E.style.height=y.offsetHeight+1+"px",y.scrollLeft=y.scrollWidth,y.scrollTop=y.scrollHeight},s=function(p){return p.offsetWidth!==p.__resizeLast__.width||p.offsetHeight!==p.__resizeLast__.height},o=function(p){if(p.target.className&&typeof p.target.className.indexOf=="function"&&p.target.className.indexOf("contract-trigger")<0&&p.target.className.indexOf("expand-trigger")<0)return;const _=this;a(this),this.__resizeRAF__&&sk(this.__resizeRAF__),this.__resizeRAF__=ak(function(){s(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(y){y.call(_,p)}))})};let u=!1,d="";r="animationstart";const h="Webkit Moz O ms".split(" ");let m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{const p=document.createElement("fakeelement");if(p.style.animationName!==void 0&&(u=!0),u===!1){for(let _=0;_<h.length;_++)if(p.style[h[_]+"AnimationName"]!==void 0){g=h[_],d="-"+g.toLowerCase()+"-",r=m[_],u=!0;break}}}n="resizeanim",e="@"+d+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=d+"animation: 1ms "+n+"; "}const c=function(u){if(!u.getElementById("detectElementResize")){const d=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',h=u.head||u.getElementsByTagName("head")[0],m=u.createElement("style");m.id="detectElementResize",m.type="text/css",t!=null&&m.setAttribute("nonce",t),m.styleSheet?m.styleSheet.cssText=d:m.appendChild(u.createTextNode(d)),h.appendChild(m)}};return{addResizeListener:function(u,d){if(l)u.attachEvent("onresize",d);else{if(!u.__resizeTriggers__){const h=u.ownerDocument,m=ds.getComputedStyle(u);m&&m.position==="static"&&(u.style.position="relative"),c(h),u.__resizeLast__={},u.__resizeListeners__=[],(u.__resizeTriggers__=h.createElement("div")).className="resize-triggers";const g=h.createElement("div");g.className="expand-trigger",g.appendChild(h.createElement("div"));const p=h.createElement("div");p.className="contract-trigger",u.__resizeTriggers__.appendChild(g),u.__resizeTriggers__.appendChild(p),u.appendChild(u.__resizeTriggers__),a(u),u.addEventListener("scroll",o,!0),r&&(u.__resizeTriggers__.__animationListener__=function(_){_.animationName===n&&a(u)},u.__resizeTriggers__.addEventListener(r,u.__resizeTriggers__.__animationListener__))}u.__resizeListeners__.push(d)}},removeResizeListener:function(u,d){if(l)u.detachEvent("onresize",d);else if(u.__resizeListeners__.splice(u.__resizeListeners__.indexOf(d),1),!u.__resizeListeners__.length){u.removeEventListener("scroll",o,!0),u.__resizeTriggers__.__animationListener__&&(u.__resizeTriggers__.removeEventListener(r,u.__resizeTriggers__.__animationListener__),u.__resizeTriggers__.__animationListener__=null);try{u.__resizeTriggers__=!u.removeChild(u.__resizeTriggers__)}catch{}}}}}class Tve extends N.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:i}=this.props;if(this._parentNode){const s=window.getComputedStyle(this._parentNode)||{},a=parseFloat(s.paddingLeft||"0"),o=parseFloat(s.paddingRight||"0"),l=parseFloat(s.paddingTop||"0"),c=parseFloat(s.paddingBottom||"0"),u=this._parentNode.getBoundingClientRect(),d=u.height-l-c,h=u.width-a-o,m=this._parentNode.offsetHeight-l-c,g=this._parentNode.offsetWidth-a-o;(!n&&(this.state.height!==m||this.state.scaledHeight!==d)||!r&&(this.state.width!==g||this.state.scaledWidth!==h))&&(this.setState({height:m,width:g,scaledHeight:d,scaledWidth:h}),typeof i=="function"&&i({height:m,scaledHeight:d,scaledWidth:h,width:g}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props,n=this._autoSizer?this._autoSizer.parentNode:null;if(n!=null&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){this._parentNode=n;const r=n.ownerDocument.defaultView.ResizeObserver;r!=null?(this._resizeObserver=new r(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(n)):(this._detectElementResize=yve(e),this._detectElementResize.addResizeListener(n,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:r,disableHeight:i=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:o,onResize:l,style:c={},tagName:u="div",...d}=this.props,{height:h,scaledHeight:m,scaledWidth:g,width:p}=this.state,_={overflow:"visible"},y={};let v=!1;return i||(h===0&&(v=!0),_.height=0,y.height=h,y.scaledHeight=m),s||(p===0&&(v=!0),_.width=0,y.width=p,y.scaledWidth=g),a&&(v=!1),N.createElement(u,{ref:this._setRef,style:{..._,...c},...d},!v&&e(y))}}function vve(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,r=t.startIndex,i=t.stopIndex;return!(r>n||i<e)}function _ve(t){for(var e=t.isItemLoaded,n=t.itemCount,r=t.minimumBatchSize,i=t.startIndex,s=t.stopIndex,a=[],o=null,l=null,c=i;c<=s;c++){var u=e(c);u?l!==null&&(a.push(o,l),o=l=null):(l=c,o===null&&(o=c))}if(l!==null){for(var d=Math.min(Math.max(l,o+r-1),n-1),h=l+1;h<=d&&!e(h);h++)l=h;a.push(o,l)}if(a.length)for(;a[1]-a[0]+1<r&&a[0]>0;){var m=a[0]-1;if(!e(m))a[0]=m;else break}return a}var bve=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Sve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Eve=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},uR=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t};(function(t){Eve(e,t);function e(){var n,r,i,s;bve(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return s=(r=(i=uR(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),i),i._lastRenderedStartIndex=-1,i._lastRenderedStopIndex=-1,i._memoizedUnloadedRanges=[],i._onItemsRendered=function(c){var u=c.visibleStartIndex,d=c.visibleStopIndex;i._lastRenderedStartIndex=u,i._lastRenderedStopIndex=d,i._ensureRowsLoaded(u,d)},i._setRef=function(c){i._listRef=c},r),uR(i,s)}return Sve(e,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,r){var i=this.props,s=i.isItemLoaded,a=i.itemCount,o=i.minimumBatchSize,l=o===void 0?10:o,c=i.threshold,u=c===void 0?15:c,d=_ve({isItemLoaded:s,itemCount:a,minimumBatchSize:l,startIndex:Math.max(0,n-u),stopIndex:Math.min(a-1,r+u)});(this._memoizedUnloadedRanges.length!==d.length||this._memoizedUnloadedRanges.some(function(h,m){return d[m]!==h}))&&(this._memoizedUnloadedRanges=d,this._loadUnloadedRanges(d))}},{key:"_loadUnloadedRanges",value:function(n){for(var r=this,i=this.props.loadMoreItems||this.props.loadMoreRows,s=function(o){var l=n[o],c=n[o+1],u=i(l,c);u!=null&&u.then(function(){if(vve({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:l,stopIndex:c})){if(r._listRef==null)return;typeof r._listRef.resetAfterIndex=="function"?r._listRef.resetAfterIndex(l,!0):(typeof r._listRef._getItemStyleCache=="function"&&r._listRef._getItemStyleCache(-1),r._listRef.forceUpdate())}})},a=0;a<n.length;a+=2)s(a)}}]),e})(N.PureComponent);const kve=P("div")({name:"Container",class:"culdu4a",propsAsIs:!1}),Ave=P("div")({name:"Position",class:"pwf8e69",propsAsIs:!1}),wve=P("img")({name:"Avatar",class:"atf4yh4",propsAsIs:!1}),Cve=P("div")({name:"AvatarPlaceholder",class:"a1dg29ja",propsAsIs:!1}),Ive=P("div")({name:"Content",class:"c10a68rc",propsAsIs:!1}),xve=P("div")({name:"NameContainer",class:"nc4kck5",propsAsIs:!1}),Lve=P("span")({name:"Name",class:"njsrqgr",propsAsIs:!1}),Rve=()=>We,Nve=P(Rve())({name:"CurrentUserBadge",class:"c17uc4zr",propsAsIs:!0});var tH={exports:{}},Ove="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dve=Ove,Pve=Dve;function nH(){}function rH(){}rH.resetWarningCache=nH;var Mve=function(){function t(r,i,s,a,o,l){if(l!==Pve){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rH,resetWarningCache:nH};return n.PropTypes=n,n};tH.exports=Mve();var $ve=tH.exports;const Ei=EB($ve);let ok=class extends N.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const n={get passive(){e=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){return(this.props.getScrollParent&&this.props.getScrollParent())??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let n=window;this.props.useWindow===!1&&(n=e),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,n=window,r=this.getParentElement(e);let i;if(this.props.useWindow){const s=document.documentElement||document.body.parentNode||document.body,a=n.pageYOffset!==void 0?n.pageYOffset:s.scrollTop;this.props.isReverse?i=a:i=this.calculateOffset(e,a)}else this.props.isReverse?i=r.scrollTop:i=e.scrollHeight-r.scrollTop-r.clientHeight;i<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,n){return e?this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:n,element:r,hasMore:i,initialLoad:s,isReverse:a,loader:o,loadMore:l,pageStart:c,ref:u,threshold:d,useCapture:h,useWindow:m,getScrollParent:g,...p}=e;p.ref=y=>{this.scrollComponent=y,u&&u(y)};const _=[n];return i&&(o?a?_.unshift(o):_.push(o):this.defaultLoader&&(a?_.unshift(this.defaultLoader):_.push(this.defaultLoader))),ci.createElement(r,p,_)}};an(ok,"propTypes",{children:Ei.node.isRequired,element:Ei.node,hasMore:Ei.bool,initialLoad:Ei.bool,isReverse:Ei.bool,loader:Ei.node,loadMore:Ei.func.isRequired,pageStart:Ei.number,ref:Ei.func,getScrollParent:Ei.func,threshold:Ei.number,useCapture:Ei.bool,useWindow:Ei.bool}),an(ok,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});const Uve=({friendsRank:t,avatar:e,name:n,userId:r,points:i,isCurrentUser:s,style:a})=>S.jsxs(kve,{"data-name":r,style:a,children:[S.jsx(Ave,{children:t||0}),S.jsxs(Ive,{children:[e?S.jsx(wve,{alt:"leaderboard-item-avatar",src:e}):S.jsx(Cve,{children:Z5(n||"")}),S.jsxs(xve,{children:[S.jsx(Lve,{children:n||""}),s&&S.jsx(Nve,{name:"icon-star"})]})]}),S.jsx("div",{children:PB(i)})]}),Fve=P("div")({name:"Container",class:"c16btbfp",propsAsIs:!1}),Bve=({items:t,currentUserId:e,openItemDetail:n,fetchMore:r,scrollNode:i,hasMore:s})=>{const a=N.useCallback(o=>{const l=o.target.getAttribute("data-name");l&&n(l)},[n]);return S.jsx(ok,{loadMore:r,initialLoad:!1,hasMore:s,useWindow:!1,getScrollParent:()=>i.current,children:S.jsx(Fve,{onClick:a,children:t.map(o=>S.jsx(Uve,{...o,isCurrentUser:!!e&&e===o.userId},o.userId))})})},jve=P("div")({name:"Container",class:"c1itm4k7",propsAsIs:!1}),Vve=P("div")({name:"IconContainer",class:"i1w4fsni",propsAsIs:!1}),Hve=()=>We,Gve=P(Hve())({name:"InviteGameIcon",class:"i19m85r1",propsAsIs:!0}),qve=P("div")({name:"Content",class:"c1mbu204",propsAsIs:!1}),zve=P("div")({name:"Heading",class:"h1amdqtv",propsAsIs:!1}),Wve=P("div")({name:"Subtext",class:"s1lhlj9j",propsAsIs:!1}),Kve=P("div")({name:"LinkContainer",class:"l1wot35e",propsAsIs:!1}),Yve=P("div")({name:"LinkInfo",class:"l1jdw39q",propsAsIs:!1}),Qve=P("span")({name:"LinkTitle",class:"l1cr5mk",propsAsIs:!1}),Xve=P("span")({name:"LinkAddress",class:"lvi87q4",propsAsIs:!1}),Zve=()=>We,Jve=P(Zve())({name:"LinkIcon",class:"l1pqlvw3",propsAsIs:!0}),iH=({inviteLink:t,inviteCardTitle:e,inviteCardSubtext:n,primaryColor:r,className:i})=>{const s=N.useRef(null),[a,o]=eH(s),[l]=IB({type:"invitation",action:"sent",payload:{from:v1.MENU}});return S.jsxs(jve,{className:i,children:[S.jsx(Vve,{style:{backgroundColor:r},children:S.jsx(Gve,{name:"invite-game-icon"})}),S.jsxs(qve,{children:[S.jsx(zve,{children:e||""}),S.jsx(Wve,{children:n||""})]}),t&&S.jsxs(Kve,{ref:s,onClick:l(()=>a(t)),children:[S.jsxs(Yve,{children:[S.jsx(Qve,{children:"Invite link"}),S.jsx(Xve,{children:t})]}),S.jsx(Jve,{name:"icon-copy"})]}),o]})},e3e=P("div")({name:"InviteFriendsContainer",class:"i1c9dygq",propsAsIs:!1}),t3e=({deepLink:t})=>S.jsx(e3e,{children:S.jsx(iH,{inviteLink:t,inviteCardTitle:"It’s More Fun With Friends",inviteCardSubtext:"Invite and compete against your friends for the top spot on the leaderboard."})}),n3e=P("div")({name:"InviteLinkContainer",class:"i1odbhm4",propsAsIs:!1}),r3e=({gamification:t,scrollNode:e,scrollStore:n})=>{const r=N.useRef(null),{data:i,hasMore:s,loading:a,key:o}=ot(t.leaderboardList.$store),{data:l}=ot(t.deepLink.$store),[c,u]=eH(r);return!i.length&&!a?S.jsx(t3e,{deepLink:l}):S.jsxs(S.Fragment,{children:[S.jsx(Bve,{items:i,scrollNode:e,scrollStore:n,fetchMore:t.leaderboardList.fetchMore,hasMore:s,openItemDetail:t.openUser,currentUserId:t.currentUserId.get()},o),l&&S.jsx(n3e,{ref:r,children:S.jsx(gve,{onClick:()=>c(l),title:"Invite Friends",description:"Challenge them now!"})}),u]})},z9=P("div")({name:"QuestionItem",class:"q1w97g3p",propsAsIs:!1}),i3e=P("div")({name:"QuestionCaption",class:"q2sl39u",propsAsIs:!1}),s3e=P("div")({name:"QuestionBody",class:"qd5h0uc",propsAsIs:!1}),a3e=P("div")({name:"QuestionAction",class:"q105uluy",propsAsIs:!1}),o3e=()=>We,o2=P(o3e())({name:"QuestionActionIcon",class:"q1fa0b9h",propsAsIs:!0}),l3e=()=>o2,c3e=P(l3e())({name:"QuestionCheckIcon",class:"qxlt78s",propsAsIs:!0}),u3e=()=>We,d3e=P(u3e())({name:"QuestionTypeIcon",class:"qmg0vkx",propsAsIs:!0}),h3e=P("div")({name:"QuestionTypeLabel",class:"q1uz5j1g",propsAsIs:!1}),m3e=P("div")({name:"QuestionContent",class:"qc3icwa",propsAsIs:!1}),sH=P("button")({name:"PlayButton",class:"p169lohr",propsAsIs:!1}),p3e=P("div")({name:"SkeletonContainer",class:"s1f43z3r",propsAsIs:!1}),f3e=()=>DB,g3e=P(f3e())({name:"SkeletonButton",class:"s16k8geu",propsAsIs:!0}),y3e={[ko.LOST]:S.jsx(o2,{name:"incorrectVoted"}),[ko.WON]:S.jsx(c3e,{name:"icon-check"}),[ko.UNSET]:S.jsx(o2,{name:"icon-arrow"}),[ko.DNP]:S.jsx(o2,{name:"icon-arrow"})},T3e=()=>S.jsxs(p3e,{children:[S.jsx(Ri,{loading:!0,style:{width:"35%"}}),S.jsx(Ri,{loading:!0,style:{width:"70%"}}),S.jsx(g3e,{})]}),aH=({questionTypeData:t,questionType:e,questionStatus:n})=>S.jsxs(i3e,{className:"SL_QuestionCaption",children:[S.jsx(d3e,{className:"SL_QuestionTypeIcon","data-testid":"question-type-icon","data-type-trivia":e===Te.TRIVIA,"data-type-poll":e===Te.POLL,name:t.iconName}),S.jsxs(h3e,{className:"SL_QuestionTypeLabel",children:[t.label,e===Te.TRIVIA&&n===ht.RESOLVED&&" • Expired"]})]}),v3e=({questionId:t,questionType:e,questionStatus:n,subject:r,openForVoting:i,status:s})=>{const a=dg[e],o=y3e[s];return a?S.jsxs(z9,{"data-name":t,children:[S.jsxs(m3e,{children:[S.jsx(aH,{questionTypeData:a,questionType:e,questionStatus:n}),S.jsx(s3e,{children:r||""})]}),S.jsx(a3e,{children:i?S.jsx(sH,{children:"Play"}):o})]}):null},_3e=()=>z9,b3e=P(_3e())({name:"Container",class:"cll3md7",propsAsIs:!0}),S3e=()=>sH,E3e=P(S3e())({name:"ActionBtn",class:"a10g1iik",propsAsIs:!0}),k3e=({questionId:t,...e})=>S.jsxs(b3e,{"data-name":t,children:[S.jsx(QV,{questionId:t,...e}),S.jsx(E3e,{"data-name":t,children:"View Insight"})]}),A3e=()=>z9,w3e=P(A3e())({name:"Container",class:"cl56x6b",propsAsIs:!0}),C3e=P("button")({name:"ActionButton",class:"a11pzf92",propsAsIs:!1}),I3e=P("blockquote")({name:"Quote",class:"q1hbaleq",propsAsIs:!1}),x3e=({...t})=>S.jsxs(w3e,{"data-name":t.tweetId,children:[t.title&&S.jsx(I3e,{children:t.title}),S.jsx(q9,{...t}),S.jsx(C3e,{"data-name":t.tweetId,children:"View Insight"})]}),dR=P("div")({name:"QuestionsContainer",class:"qvghv3l",propsAsIs:!1}),L3e=({questions:t,openQuestion:e,controlVideo:n})=>t?S.jsx(dR,{onClick:r=>{const i=r.target.getAttribute("data-name");i&&(YV(),e(i,{openedFrom:"list"}))},children:t==null?void 0:t.map(r=>{var i,s,a;if(r.type==="question"&&((i=r.attributes)==null?void 0:i.attributes.case)==="question"){const o=r.attributes.attributes.value;return S.jsx(v3e,{...o},o.questionId)}if(r.type==="insight"&&((s=r.attributes)==null?void 0:s.attributes.case)==="insight"){const o=r.attributes.attributes.value;return S.jsx(k3e,{controlVideo:n,...o},o.questionId)}if(r.type==="tweet"&&((a=r.attributes)==null?void 0:a.attributes.case)==="tweet"){const o=r.attributes.attributes.value,l=r.attributes.id;return S.jsx(x3e,{controlVideo:n,...o,tweetId:l},l)}return null})}):S.jsx(dR,{children:Array.from({length:5}).map((r,i)=>S.jsx(T3e,{},i))}),R3e=({store:t,openQuestion:e})=>{const{sdk:n}=A3(),r=ot(t);return S.jsx(L3e,{openQuestion:e,questions:r.data,controlVideo:n==null?void 0:n.controlVideoPlayer})},N3e=({userSummary:t})=>{var e;const[n,r]=N.useState(void 0);return N.useEffect(()=>{const i=t.$store.subscribe(s=>{s&&r(s)});return()=>{i()}},[t]),S.jsx(MB,{loading:!(n!=null&&n.summary),...n==null?void 0:n.summary,successRate:(e=n==null?void 0:n.percentage)==null?void 0:e.correct})},O3e=({gamification:t,className:e,scrollStore:n,scrollNode:r,appNode:i,style:s,responsiveStore:a})=>{const{tabsShown:o}=ot(n,{keys:["tabsShown"]}),l=ot(t.friendsTabEnabled),[c,u]=N.useState(af.HOME),[,d]=Lpe(),{sdkInDesktopView:h,screen:m}=ot(a,{keys:["sdkInDesktopView"]}),g=_=>{d(()=>{var y;u(_),h===!1&&(((y=i.current)==null?void 0:y.getBoundingClientRect().y)||0)<0&&Q5(i,m.size,{behavior:"instant"})})};N.useEffect(()=>n.subscribe(_=>{if(_.scrollPosition===0){n.setKey("tabsShown",!0);return}a.get().sdkInDesktopView?n.setKey("tabsShown",_.scrollDirection==="backward"):n.setKey("tabsShown",_.scrollDirection==="forward")}),[n,a]),N.useEffect(()=>{l||u(af.HOME)},[l]);let p="0px";return h?p=o?"0px":"calc(0px - var(--header-height))":p=o?"var(--header-height)":"0px",S.jsxs(ppe,{className:Bn(e,"SL-Tabs"),style:s,children:[l&&S.jsx(Tpe,{style:{top:p},children:S.jsx(rve,{activePage:c,toggleActivePage:g})}),c===af.HOME&&S.jsxs(S.Fragment,{children:[S.jsx(mpe,{children:S.jsx(vpe,{children:S.jsx(N3e,{userSummary:t.userSummary})})}),S.jsx(K5,{style:{flex:1},children:S.jsx(R3e,{openQuestion:t.openQuestion,store:t.feedList.getStore()})})]}),c===af.LEADERBOARD&&S.jsx(gpe,{children:S.jsx(r3e,{scrollStore:n,scrollNode:r,gamification:t})})]})},D3e=()=>Bm,hR=P(D3e())({name:"OpenedContainer",class:"ouvguos",propsAsIs:!0}),mR="t1eu4lbg",P3e=P("div")({name:"UserContainer",class:"uuv2xqo",propsAsIs:!1}),M3e=({correct:t,incorrect:e})=>{const n=t+e;return n===0?0:Math.round(t/n*100)},$3e=({gamification:t,scrollStore:e,className:n,appNode:r,scrollNode:i,responsiveStore:s})=>S.jsx(O3e,{appNode:r,scrollStore:e,scrollNode:i,className:n,gamification:t,responsiveStore:s}),U3e=({gamification:t,className:e,appNode:n,responsiveStore:r})=>{const{topNavigation:i}=A3(),s=ot(t.openedQuestion.$store),a=ot(t.openedUser),{sdkInDesktopView:o}=ot(r,{keys:["sdkInDesktopView"]}),{hiding:l,onAnimationEnd:c}=RB();if(!n.current||!s&&!a)return null;const u=s?S.jsx(hR,{className:Bn(e,!i&&mR),hiding:l,onAnimationEnd:c,children:S.jsx(ZTe,{gamification:t})}):a?S.jsx(hR,{className:Bn(e,!i&&mR),hiding:l,onAnimationEnd:c,children:S.jsxs(P3e,{children:[S.jsx(OB,{label:"Friend's Rank",close:t.closeUser}),S.jsx(Y5,{children:S.jsx(MB,{...a,successRate:M3e(a)})})]})}):null;return S.jsx(BV,{container:n,useContainer:!o,children:u})},F3e=N.lazy(()=>yU(()=>Promise.resolve().then(()=>VY),void 0,import.meta.url)),B3e=({sdk:t,feature:e,className:n,scrollStore:r,appNode:i,scrollNode:s,responsiveStore:a})=>{const o=N.useMemo(()=>e&&e.featureConfig.get().type===Qe.GAMES?S.jsx(lfe,{className:n,sdk:t,feature:e,children:S.jsx(F3e,{appNode:i,scrollStore:r,scrollNode:s,className:n,responsiveStore:a,gamification:e})}):null,[t,e,n,a,r,s,i]);return S.jsx(N.Suspense,{fallback:S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"page loading..."}),children:o})},j3e=({feature:t,className:e,appNode:n,responsiveStore:r})=>t&&t.featureConfig.get().type===Qe.GAMES?S.jsx(U3e,{className:e,appNode:n,responsiveStore:r,gamification:t}):null,V3e=P("div")({name:"Buttons",class:"b5o8qbl",propsAsIs:!1}),H3e=({children:t,className:e})=>S.jsx(V3e,{className:e,children:t}),oH=P("div")({name:"Navigation",class:"n6tbwuy",propsAsIs:!1}),G3e=()=>H3e,pR=P(G3e())({name:"NavigationItems",class:"n1up4z7v",propsAsIs:!0}),q3e=P("button")({name:"SButton",class:"sxxa0c",propsAsIs:!1}),z3e=P("span")({name:"ButtonIcon",class:"b193dcyu",propsAsIs:!1}),W3e=P("span")({name:"ButtonLabel",class:"b40tuix",propsAsIs:!1}),K3e="s14xk0af",Y3e="ha3mg7c",Q3e="h103yr45",J0=({disabled:t,active:e,onClick:n,label:r,icon:i,id:s})=>S.jsx(q3e,{onClick:n,disabled:t,className:Bn(e&&K3e,!e&&(s==="channels"||s==="featuredGroups")&&Y3e,!e&&s==="leaderboard"&&Q3e),children:S.jsxs(S.Fragment,{children:[i&&S.jsx(z3e,{children:i}),S.jsx(W3e,{children:r})]})}),X3e=()=>We,Z3e=P(X3e())({name:"ButtonIcon",class:"b11wpe79",propsAsIs:!0}),J3e=P("div")({name:"Container",class:"calnblm",propsAsIs:!1}),e_e=P("div")({name:"Title",class:"t1438p52",propsAsIs:!1}),t_e=P("div")({name:"CloseIconWrap",class:"c17srj38",propsAsIs:!1}),n_e=()=>We,r_e=P(n_e())({name:"CloseIcon",class:"clqia8k",propsAsIs:!0}),i_e=()=>We,s_e=P(i_e())({name:"DashboardIcon",class:"df5w958",propsAsIs:!0}),a_e="h12x6aiv",o_e=N.forwardRef(({sdk:t,className:e},n)=>{const r=()=>{t.closeFeature()};return S.jsxs(oH,{className:Bn(e,a_e),children:[S.jsxs(J3e,{children:[S.jsxs(e_e,{children:[S.jsx(s_e,{name:"dashboard"}),"Dashboard"]}),S.jsx(t_e,{onClick:r,children:S.jsx(r_e,{name:"icon-cross"})})]}),S.jsx("div",{ref:n})]})}),l_e=N.forwardRef(({sdk:t,className:e},n)=>{const r=ot(t.sdkStore.organizationSettings),i=ot(t.sdkStore.streamSettings),s=ot(t.getActiveFeature()),a=N.useMemo(()=>{const l=(i==null?void 0:i.data)||(r==null?void 0:r.data);return l!=null&&l.overlays?l.overlays:[]},[r,i]),o=N.useMemo(()=>[...a.filter(({enableSdkButton:l,type:c})=>c===Qe.GAMES||l).map(l=>({id:l.type,onClick:()=>t.openFeature(l.type),disabled:!(l.type in tpe),label:l.name,icon:S.jsx("img",{src:l.icon,alt:""}),position:l.position*10}))].sort((l,c)=>l.position-c.position),[a,t]);return S.jsxs(oH,{className:e,children:[o.length!==0&&S.jsx(pR,{children:[S.jsx(J0,{id:"Channels",onClick:()=>t.closeFeature(),label:"Channels",active:s===0},"Channels"),...o.map(l=>l.id===Qe.GAMES?S.jsx(J0,{...l,active:l.id===s,label:"StreamLayer +",id:"featuredGroups",icon:S.jsx(Z3e,{name:"icon-btn-feature-groups","data-selected":l.id===s})},l.id):S.jsx(J0,{...l,icon:void 0,active:l.id===s},l.id))]}),!o.length&&S.jsx(pR,{children:[S.jsx(J0,{id:"empty",label:"No Features...",active:!1,disabled:!0},"empty")]}),S.jsx("div",{ref:n})]})}),c_e=P("div")({name:"InsightContainer",class:"i1pqqgpo",propsAsIs:!1}),u_e=P("img")({name:"Image",class:"igj7luu",propsAsIs:!1}),d_e=P("div")({name:"ImageContainer",class:"i1qne9g6",propsAsIs:!1}),h_e=P("div")({name:"InsightContent",class:"itpr98r",propsAsIs:!1}),m_e=P("h3")({name:"Title",class:"t17iaqp8",propsAsIs:!1}),p_e=P("div")({name:"Description",class:"d16t3y7s",propsAsIs:!1}),f_e=P("button")({name:"ActionBtn",class:"a12495er",propsAsIs:!1}),g_e=({video:t,image:e,imageMode:n,heading:r,body:i,action:s,controlVideo:a})=>S.jsxs(c_e,{children:[(t==null?void 0:t.url)&&S.jsx(j3,{source:t.url,poster:t.thumbnailUrl,controlVideo:a}),e&&!(t!=null&&t.url)&&S.jsx(d_e,{"data-rounded":n===un.ROUNDED,children:S.jsx(u_e,{src:e,alt:r})}),S.jsxs(h_e,{children:[S.jsx(m_e,{children:r}),S.jsx(p_e,{children:i}),s&&S.jsx(f_e,{onClick:s,children:"View Insight"})]})]}),y_e=P("div")({name:"Container",class:"c1eptrjd",propsAsIs:!1}),T_e=P("div")({name:"CloseIconWrap",class:"crylm65",propsAsIs:!1}),v_e=()=>We,__e=P(v_e())({name:"CloseIcon",class:"c9mrcz7",propsAsIs:!0}),b_e=P("div")({name:"Header",class:"hw3lzv4",propsAsIs:!1}),S_e=()=>We,E_e=P(S_e())({name:"TypeIcon",class:"t1rrb3kf",propsAsIs:!0}),k_e=P("span")({name:"TypeName",class:"t1ydnjov",propsAsIs:!1}),A_e=P("div")({name:"Question",class:"qlf90cl",propsAsIs:!1}),w_e=P("button")({name:"AnswerButton",class:"a1e0nhcl",propsAsIs:!1}),C_e=P("div")({name:"Container",class:"c1t4f0x4",propsAsIs:!1}),I_e=P("button")({name:"ActionBtn",class:"a16w1nl6",propsAsIs:!1}),x_e=P("div")({name:"QuoteWrap",class:"q14u54rf",propsAsIs:!1}),L_e=P("blockquote")({name:"Quote",class:"q1hxm6zo",propsAsIs:!1}),R_e=({action:t,...e})=>S.jsxs(C_e,{children:[e.title&&S.jsx(x_e,{children:S.jsx(L_e,{children:e.title})}),S.jsx(q9,{...e}),t&&S.jsx(I_e,{onClick:t,children:"View Insight"})]}),fR=({close:t,action:e,controlVideo:n,data:{questionType:r,question:i,insight:s,tweet:a}})=>{const o=dg[r];return o?S.jsxs(y_e,{onClick:e,style:r===Te.TWEET?{paddingTop:"12px"}:{},children:[S.jsx(T_e,{onClick:l=>{l.stopPropagation(),t&&t(l)},children:S.jsx(__e,{name:"icon-cross"})}),r!==Te.TWEET&&S.jsxs(b_e,{children:[S.jsx(E_e,{"data-type-trivia":r===Te.TRIVIA,"data-type-poll":r===Te.POLL,name:o.iconName}),S.jsx(k_e,{children:o.label})]}),r===Te.FACTOID&&s&&S.jsx(g_e,{...s,action:e,controlVideo:n}),r===Te.TWEET&&a&&S.jsx(R_e,{...a,action:e,controlVideo:n}),r!==Te.FACTOID&&r!==Te.TWEET&&S.jsxs(S.Fragment,{children:[S.jsx(A_e,{children:i==null?void 0:i.title}),S.jsx(w_e,{children:"Answer"})]})]}):null},cd=P("div")({name:"BGWrap",class:"b1dqe0sz",propsAsIs:!1}),_i=P("div")({name:"BGLineBase",class:"b1v6w7ni",propsAsIs:!1}),N_e=()=>_i,O_e=P(N_e())({name:"BGOneLineOne",class:"b2nqb1p",propsAsIs:!0}),D_e=()=>_i,P_e=P(D_e())({name:"BGOneLineTwo",class:"b1xxgmbk",propsAsIs:!0}),M_e=()=>_i,$_e=P(M_e())({name:"BGOneLineThree",class:"b63lwcb",propsAsIs:!0}),U_e=()=>_i,gR=P(U_e())({name:"BGTwoLineOne",class:"b2iah4",propsAsIs:!0}),F_e=()=>_i,yR=P(F_e())({name:"BGTwoLineTwo",class:"b1xezvf6",propsAsIs:!0}),B_e=()=>_i,TR=P(B_e())({name:"BGTwoLineThree",class:"b1jz1hg0",propsAsIs:!0}),j_e=()=>_i,vR=P(j_e())({name:"BGThreeLineOne",class:"b18ho1tk",propsAsIs:!0}),V_e=()=>_i,_R=P(V_e())({name:"BGThreeLineTwo",class:"b14uvjfm",propsAsIs:!0}),H_e=()=>_i,bR=P(H_e())({name:"BGThreeLineThree",class:"b11c3ns7",propsAsIs:!0}),G_e=()=>_i,SR=P(G_e())({name:"BGThreeLineFour",class:"b1bqhhet",propsAsIs:!0}),q_e=()=>_i,z_e=P(q_e())({name:"BGFourLineOne",class:"b1xyzi7o",propsAsIs:!0}),W_e=()=>_i,K_e=P(W_e())({name:"BGFourLineTwo",class:"byo0rup",propsAsIs:!0}),Y_e=()=>_i,Q_e=P(Y_e())({name:"BGFourLineThree",class:"b1oyiqgv",propsAsIs:!0}),X_e=()=>_i,Z_e=P(X_e())({name:"BGFourLineFour",class:"bx3ddqw",propsAsIs:!0}),J_e=({step:t,correct:e})=>S.jsxs(S.Fragment,{children:[S.jsxs(cd,{"data-active":t===1,"data-first-screen":"true",children:[S.jsx(O_e,{}),S.jsx(P_e,{}),S.jsx($_e,{})]}),S.jsxs(cd,{"data-active":t===2,children:[S.jsx(gR,{}),S.jsx(yR,{}),S.jsx(TR,{})]}),S.jsxs(cd,{"data-active":t===3,children:[S.jsx(gR,{}),S.jsx(yR,{}),S.jsx(TR,{})]}),e?S.jsxs(S.Fragment,{children:[S.jsxs(cd,{"data-active":t===4,"data-correct":"true",children:[S.jsx(vR,{}),S.jsx(_R,{}),S.jsx(bR,{}),S.jsx(SR,{})]}),S.jsxs(cd,{"data-active":t===5,"data-correct":"true",children:[S.jsx(vR,{}),S.jsx(_R,{}),S.jsx(bR,{}),S.jsx(SR,{})]})]}):S.jsxs(cd,{"data-active":t===4,"data-correct":"false",children:[S.jsx(z_e,{}),S.jsx(K_e,{}),S.jsx(Q_e,{}),S.jsx(Z_e,{})]})]}),e4e=118,t4e=()=>Bm,n4e=P(t4e())({name:"Container",class:"c10131zw",propsAsIs:!0}),r4e=P("div")({name:"InnerContainer",class:"ir6k2eo",propsAsIs:!1}),Mc=P("div")({name:"Content",class:"c1hwoq9l",propsAsIs:!1}),of=P("div")({name:"Title",class:"t4ujo4g",propsAsIs:!1}),i4e=()=>of,s4e=P(i4e())({name:"PointsTitle",class:"p1pjil1h",propsAsIs:!0}),ey=P("div")({name:"Subtitle",class:"s1iorwr9",propsAsIs:!1}),ER=P("div")({name:"SubtitleFG",class:"s51sv9d",propsAsIs:!1}),ty=P("div")({name:"AnswerText",class:"a1lbk2ye",propsAsIs:!1}),a4e=()=>We,lH=P(a4e())({name:"FeedbackIcon",class:"frcvk3t",propsAsIs:!0}),o4e=()=>lH,kR=P(o4e())({name:"FeedbackIconCorrect",class:"f33p82r",propsAsIs:!0}),l4e=()=>lH,c4e=P(l4e())({name:"FeedbackIconIncorrect",class:"f12r9net",propsAsIs:!0}),AR=P("div")({name:"CloseIconWrap",class:"c1fw6699",propsAsIs:!1}),u4e=()=>We,wR=P(u4e())({name:"CloseIcon",class:"c115o126",propsAsIs:!0}),d4e="data:image/svg+xml,%3csvg%20width='154'%20height='37'%20viewBox='0%200%20154%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M70.9776%2030.8796L74.668%2018.1381C75.0696%2016.7473%2076.1186%2015.6318%2077.4936%2015.1371L77.5928%2014.7217H72.466L63.7623%2024.9662L60.431%2014.7217H55.7389L55.6255%2015.1371C56.4288%2015.5291%2056.8683%2016.7052%2056.8683%2017.662V17.7227C56.8683%2023.1787%2052.781%2032.5598%2047.0352%2032.5598C44.8002%2032.5598%2043.6425%2031.0009%2043.6425%2029.7035C43.6425%2028.1306%2044.975%2027.0105%2046.3831%2027.0105C47.744%2027.0105%2047.9519%2027.5099%2048.741%2027.5099C49.2182%2027.5099%2049.6766%2027.2672%2049.9081%2026.8518C50.2672%2026.1984%2049.9931%2025.4049%2049.3363%2025.0922L48.9772%2024.9242C45.6271%2023.3327%2041.7383%2025.7457%2041.7383%2029.4188V29.4701C41.7383%2032.1444%2043.8646%2034.38%2046.5674%2034.4733C53.5417%2034.716%2058.2055%2025.4236%2058.9473%2018.6188L59.486%2020.4577L62.2313%2028.5927H63.2709L71.8518%2018.4741L68.2512%2030.8936C67.8401%2032.3171%2066.6966%2033.4232%2065.2412%2033.7966L65.142%2034.212H72.0408L72.1542%2033.7966C71.1383%2033.2039%2070.6516%2032.0044%2070.9776%2030.8796Z'%20fill='white'/%3e%3cpath%20d='M88.2952%2021.6521H88.2385C85.016%2021.6568%2081.5571%2021.9648%2079.7143%2027.1361C78.1692%2031.4813%2077.7487%2033.2828%2076.539%2033.2828C75.7641%2033.2828%2075.9531%2031.794%2074.7954%2031.794C74.2709%2031.794%2073.7275%2032.2094%2073.6897%2032.8068C73.6236%2033.8429%2075.0317%2034.4683%2076.0949%2034.4683C79.3316%2034.4683%2080.5696%2032.1347%2080.9759%2031.0472C81.0279%2030.9072%2081.3162%2030.1371%2081.6517%2029.2317H85.0538L84.4773%2031.3273C84.1749%2032.4334%2083.5464%2033.3388%2082.488%2033.8009L82.3982%2034.2163H87.9597L88.0637%2033.8009C87.3124%2033.1848%2086.9816%2032.2%2087.2273%2031.2853L89.3206%2023.4257C89.4812%2022.8236%2089.9018%2022.3242%2090.4783%2022.0628L90.568%2021.6475H88.7536H88.2952V21.6521ZM85.3231%2028.2189H82.0202C82.3935%2027.2108%2082.7526%2026.2493%2082.8755%2025.9366C83.7118%2023.757%2085.2995%2022.8749%2086.8399%2022.7536L86.8257%2022.7676L85.3231%2028.2189Z'%20fill='white'/%3e%3cpath%20d='M116.358%2022.5486C116.538%2022.2545%20116.708%2021.8112%20116.708%2021.5591C116.732%2021.0877%20116.297%2020.7237%20115.829%2020.8217C115.456%2020.9011%20115.187%2021.2324%20115.191%2021.6058C115.196%2021.9978%20115.12%2022.4226%20114.95%2022.6279C114.558%2023.104%20113.934%2023.062%20111.062%2022.2452V22.2405C110.797%2022.1659%20110.509%2022.0819%20110.206%2021.9978C110.187%2021.9932%20110.173%2021.9885%20110.159%2021.9838C108.723%2021.6011%20106.941%2021.2464%20105.774%2021.8205C105.765%2021.8252%20105.755%2021.8298%20105.746%2021.8345C104.602%2022.3992%20103.808%2023.4727%20103.567%2024.7142C103.53%2024.8962%20103.506%2025.0455%20103.501%2025.0969C103.468%2025.7456%20104.068%2026.2544%20104.711%2026.1143C105.235%2026.0023%20105.604%2025.5403%20105.59%2025.0129C105.58%2024.4808%20105.472%2023.7667%20105.765%2023.286C106.237%2022.6279%20106.729%2022.5812%20108.935%2023.3047L106.544%2031.323C106.214%2032.4291%20105.406%2033.3345%20104.338%2033.7966L104.238%2034.212H109.961L110.074%2033.7966C109.337%2033.1852%20109.03%2032.1957%20109.299%2031.2809L111.392%2024.0561C112.309%2024.2428%20113.24%2024.2941%20114.147%2024.0374L114.473%2023.9441C115.196%2023.7527%20115.943%2023.2347%20116.358%2022.5486Z'%20fill='white'/%3e%3cpath%20d='M118.649%2021.6523L118.536%2022.0677C119.245%2022.5531%20119.561%2023.4259%20119.335%2024.2427L117.208%2031.3228C116.877%2032.429%20116.069%2033.3344%20115.002%2033.7964L114.902%2034.2118H117.931H118.21H125.18L126.101%2030.8934H125.666L125.51%2031.2108C124.934%2032.3963%20123.72%2033.1524%20122.382%2033.1524H119.429L121.003%2027.5937H122.259C123.105%2027.5937%20123.743%2028.3545%20123.582%2029.1759H124.012L125.043%2025.4188H124.613C124.362%2026.1142%20123.696%2026.5763%20122.949%2026.5809H121.291L122.382%2022.7258L125.515%2022.7211C126.536%2022.7211%20127.301%2023.6452%20127.098%2024.6347H127.528L128.35%2021.6523H118.649Z'%20fill='white'/%3e%3cpath%20d='M138.251%2021.6582H131.333L131.22%2022.0736C131.881%2022.5263%20132.207%2023.3197%20132.056%2024.0898L129.892%2031.324C129.561%2032.4301%20128.753%2033.3356%20127.685%2033.7976L127.586%2034.213H133.303L133.417%2033.7976C132.68%2033.1862%20132.373%2032.2014%20132.637%2031.282L133.686%2027.5949H134.126C134.787%2027.5949%20135.34%2028.085%20135.416%2028.7337C135.439%2028.9437%20135.77%2031.506%20136.035%2032.3881C136.379%2033.5409%20136.833%2034.213%20137.868%2034.213H140.453L140.552%2033.7976L140.183%2033.5829C139.451%2033.1536%20138.922%2032.4908%20138.685%2031.6087C138.463%2030.7779%20138.043%2029.2284%20137.84%2028.4117C137.736%2027.9916%20137.202%2027.5996%20136.654%2027.5996H137.523C139.087%2027.5996%20140.457%2026.5681%20140.878%2025.0839C141.365%2023.3617%20140.056%2021.6582%20138.251%2021.6582ZM138.369%2024.6872C138.029%2025.812%20136.98%2026.5868%20135.789%2026.5868H133.974L135.071%2022.7317H136.89C137.925%2022.727%20138.662%2023.7118%20138.369%2024.6872Z'%20fill='white'/%3e%3cpath%20d='M100.265%2022.2961C100.081%2022.2961%2099.6794%2022.1701%2099.0651%2021.9181C98.4508%2021.6661%2097.8318%2021.54%2097.2034%2021.54C95.904%2021.54%2094.8219%2021.9554%2093.9336%2022.8422C93.1964%2023.5796%2092.8704%2024.401%2092.8704%2025.1105C92.8704%2025.8665%2093.3193%2026.7533%2094.2124%2027.4721C95.0582%2028.1488%2095.937%2028.8022%2096.8206%2029.465C97.7468%2030.1977%2098.2098%2030.8745%2098.2098%2031.4252C98.2098%2032.634%2097.416%2033.2828%2095.7669%2033.2828C94.0942%2033.2828%2092.9366%2032.074%2092.568%2029.8057H92.1144L90.8008%2034.2162H91.226C91.7694%2033.8382%2092.1569%2033.6001%2092.946%2033.6001C93.6973%2033.6001%2094.5006%2034.4729%2096.2158%2034.4729C97.5814%2034.4729%2098.6682%2034.1929%2099.5943%2033.2781C100.383%2032.4753%20100.776%2031.3552%20100.776%2030.4404C100.776%2029.591%20100.237%2028.6062%2099.2966%2027.8921C98.4886%2027.2807%2097.6286%2026.7347%2096.7923%2026.1419C95.8898%2025.4792%2095.4362%2024.9144%2095.4362%2024.2937C95.4362%2023.9483%2095.611%2023.6076%2095.9559%2023.2622C96.3954%2022.8282%2096.986%2022.7302%2097.7751%2022.7302C99.3581%2022.7302%20100.464%2023.5983%20100.558%2025.4325H100.974L102.08%2021.5447H101.664C101.215%2022.0441%20100.752%2022.2961%20100.265%2022.2961Z'%20fill='white'/%3e%3cpath%20d='M149.201%2022.7304C150.784%2022.7304%20151.89%2023.6032%20151.984%2025.4327H152.4L153.501%2021.5449H153.085C152.646%2022.049%20152.182%2022.301%20151.696%2022.301C151.512%2022.301%20151.11%2022.175%20150.496%2021.923C149.881%2021.6709%20149.262%2021.5449%20148.634%2021.5449C147.334%2021.5449%20146.252%2021.9603%20145.364%2022.8471C144.627%2023.5845%20144.296%2024.4059%20144.296%2025.1153C144.296%2025.8714%20144.745%2026.7582%20145.638%2027.477C146.484%2028.1537%20147.363%2028.8071%20148.246%2029.4699C149.173%2030.2026%20149.636%2030.8794%20149.636%2031.4301C149.636%2032.6389%20148.842%2033.2876%20147.193%2033.2876C145.52%2033.2876%20144.362%2032.0788%20143.994%2029.8106H143.54L142.227%2034.2211H142.642C143.186%2033.843%20143.573%2033.605%20144.358%2033.605C145.109%2033.605%20145.912%2034.4778%20147.627%2034.4778C148.993%2034.4778%20150.075%2034.1978%20151.006%2033.283C151.795%2032.4802%20152.187%2031.3601%20152.187%2030.4453C152.187%2029.6005%20151.649%2028.6111%20150.708%2027.897C149.9%2027.2856%20149.04%2026.7395%20148.204%2026.1468C147.301%2025.4841%20146.848%2024.9193%20146.848%2024.2986C146.848%2023.9532%20147.023%2023.6125%20147.368%2023.2671C147.826%2022.8237%20148.412%2022.7304%20149.201%2022.7304Z'%20fill='white'/%3e%3cpath%20d='M26.5433%202.60035C26.0377%202.44633%2025.5321%202.72169%2025.0265%203.00173C24.8469%203.09974%2024.7194%203.27243%2024.6768%203.46845L23.883%207.13222C23.8547%207.26757%2023.9775%207.38891%2024.1145%207.36091C24.9509%207.17422%2025.7447%206.4508%2026.5811%206.70283C27.5167%206.98753%2028.4522%205.81606%2029.3878%205.83006V1.60156C28.4475%201.60623%2027.4789%202.88505%2026.5433%202.60035Z'%20fill='white'/%3e%3cpath%20d='M38.4856%2013.8398C38.2871%2013.7044%2038.1643%2013.4851%2038.1643%2013.2471V12.5796C38.1643%2011.9822%2037.6729%2011.4922%2037.0633%2011.4922H36.6239C36.0994%2011.4922%2035.6174%2011.7536%2035.3339%2012.1876L33.9164%2014.3485C33.7746%2014.5632%2033.5383%2014.6892%2033.2832%2014.6892H32.3287C31.8562%2014.6892%2031.4215%2014.9459%2031.1947%2015.3566C30.9631%2015.7814%2030.552%2016.0754%2030.0843%2016.1734V1.1403C30.0843%200.94894%2029.9283%200.794922%2029.7346%200.794922C29.5409%200.794922%2029.3849%200.94894%2029.3849%201.1403V1.60702V5.83552V16.1827C28.9171%2016.0847%2028.506%2015.7907%2028.2745%2015.3613C28.0524%2014.9506%2027.6177%2014.6939%2027.1405%2014.6939H26.4979C25.9875%2014.6939%2025.5292%2014.9879%2025.3213%2015.45L24.7873%2016.6308C24.7023%2016.8175%2024.5133%2016.9388%2024.3054%2016.9388C24.0975%2016.9388%2023.9085%2016.8175%2023.8234%2016.6308L23.2895%2015.45C23.0816%2014.9926%2022.6232%2014.6939%2022.1129%2014.6939H4.00135C3.85487%2014.6939%203.73674%2014.8106%203.73674%2014.9553C3.73674%2015.2633%203.48158%2015.5107%203.17444%2015.5107H2.39007C2.24359%2015.5107%202.12546%2015.6273%202.12546%2015.772V16.6728C2.12546%2017.5176%201.96008%2018.339%201.62931%2019.1184L1.15207%2020.2526C0.707907%2021.3027%200.5%2022.3901%200.5%2023.4589V26.0726C0.5%2026.7773%200.603954%2027.4914%200.811861%2028.1868C1.39306%2030.1377%202.7161%2031.7339%204.53529%2032.6767L7.43182%2034.1842C7.46962%2034.2029%207.51214%2034.2122%207.55467%2034.2122L9.69517%2034.2309C10.196%2034.2355%2010.6875%2034.3616%2011.1269%2034.6043L12.2751%2035.239C12.3129%2035.2623%2012.3602%2035.2717%2012.4074%2035.2717H13.9431C14.4818%2035.2717%2015.0157%2035.4163%2015.474%2035.6917C15.474%2035.6917%2016.2253%2036.1444%2016.4805%2036.2891C16.8869%2036.5225%2017.3783%2036.7465%2018.2335%2036.7932C18.4273%2036.8025%2018.621%2036.7325%2018.7675%2036.5972C18.9092%2036.4618%2018.9943%2036.2704%2018.9943%2036.0791V35.0616C18.9943%2034.3242%2019.4337%2033.6521%2020.1189%2033.3581L22.4673%2032.3406C22.7886%2032.2006%2023.1477%2032.1773%2023.4832%2032.28L24.3621%2032.5367C24.7354%2032.644%2025.1323%2032.6487%2025.5056%2032.5367L27.5846%2031.9253C27.8587%2031.8459%2028.1517%2031.8459%2028.4304%2031.9299L29.2763%2032.1633C29.6684%2032.2706%2029.9472%2032.6347%2029.9472%2033.0361V35.071C29.9472%2036.0184%2030.7269%2036.7932%2031.6861%2036.7932C32.4043%2036.7932%2033.0328%2036.3405%2033.2501%2035.6637C33.6423%2034.4456%2033.8408%2033.1761%2033.8408%2031.8973V31.0292C33.8408%2030.4131%2034.1006%2029.8204%2034.5543%2029.3956L35.419%2028.5882C36.0002%2028.0421%2036.3356%2027.2674%2036.3356%2026.474V21.6481C36.3356%2020.9013%2036.5625%2020.1779%2036.9972%2019.5618C37.0302%2019.5198%2037.0444%2019.4638%2037.0444%2019.4125V18.2737C37.0444%2017.5316%2037.2712%2016.8128%2037.6965%2016.2014L38.5517%2014.9739C38.5848%2014.9319%2038.599%2014.8806%2038.599%2014.8246V14.0545C38.6037%2013.9098%2038.5139%2013.8585%2038.4856%2013.8398ZM30.0843%2025.2838C30.6654%2025.3725%2031.1002%2025.6665%2031.1002%2026.0212C31.1002%2026.3759%2030.6702%2026.67%2030.0843%2026.7587V25.2838ZM5.22516%2032.4433L4.78572%2032.2146C3.59026%2031.5939%202.63577%2030.6698%201.9837%2029.545V28.1355C2.73028%2029.2043%203.74619%2030.1144%204.98891%2030.7631L5.22516%2030.8845V32.4433ZM7.43654%2033.5961L6.2647%2032.9894V31.4305L7.43182%2032.0373H7.43654V33.5961ZM12.3129%2034.6556L11.3868%2034.1422C10.8812%2033.8622%2010.3142%2033.7128%209.73297%2033.7035V32.0793C10.2197%2032.0886%2010.7016%2032.2146%2011.1269%2032.448L12.2751%2033.0827C12.2846%2033.0874%2012.2987%2033.0874%2012.3129%2033.0921V34.6556ZM18.4603%2035.0616V35.8551V36.0791C18.4603%2036.1304%2018.4367%2036.1818%2018.3989%2036.2191C18.3611%2036.2564%2018.3139%2036.2705%2018.2619%2036.2705C17.52%2036.2331%2017.0948%2036.0418%2016.7498%2035.8411C16.4994%2035.6964%2015.7528%2035.2483%2015.7481%2035.2483C15.2803%2034.9683%2014.7511%2034.8143%2014.2077%2034.7723V33.1387C14.6519%2033.1808%2015.0866%2033.3114%2015.474%2033.5401L16.1214%2033.9228C16.8302%2034.3429%2017.6382%2034.5809%2018.4603%2034.6276V35.0616ZM24.8582%2032.0886C24.7448%2032.084%2024.6267%2032.0653%2024.5133%2032.0326L23.6344%2031.7713C23.4454%2031.7152%2023.2517%2031.6966%2023.0579%2031.6966V30.0677C23.1997%2030.0677%2023.3414%2030.0817%2023.4832%2030.1237L24.3621%2030.3804C24.5227%2030.4271%2024.6928%2030.4504%2024.8582%2030.4598V32.0886ZM30.363%2032.4807C30.1929%2032.0886%2029.8574%2031.7759%2029.4275%2031.6592L28.5864%2031.4259C28.3879%2031.3652%2028.18%2031.3419%2027.9721%2031.3419V29.7177C28.1328%2029.713%2028.2934%2029.7317%2028.4493%2029.783L29.1392%2029.9977C29.8716%2030.2264%2030.363%2030.8891%2030.363%2031.6452V32.4807ZM32.787%2035.365C32.7729%2035.4117%2032.7634%2035.4584%2032.7492%2035.505C32.6028%2035.9624%2032.1775%2036.2658%2031.6955%2036.2658C31.653%2036.2658%2031.6105%2036.2564%2031.568%2036.2518V34.6323C31.601%2034.6369%2031.6294%2034.6416%2031.6625%2034.6416C32.135%2034.6416%2032.565%2034.3802%2032.7918%2033.9835V35.365H32.787ZM37.3232%2015.0486C36.794%2015.8047%2036.5152%2016.6915%2036.5152%2017.6109V18.4137L36.1041%2019.0017C35.5702%2019.7625%2035.2867%2020.6539%2035.2867%2021.578V25.6245C35.2867%2026.2779%2035.0126%2026.9173%2034.5306%2027.3654L33.6659%2028.1775C33.0847%2028.7236%2032.7634%2029.489%2032.787%2030.2824L32.7918%2030.4644C32.8248%2031.5146%2032.6878%2032.56%2032.3901%2033.5681C32.2956%2033.8902%2031.9932%2034.1142%2031.6577%2034.1142C31.2372%2034.1142%2030.8923%2033.7782%2030.8923%2033.3581V31.6452C30.8923%2030.6558%2030.2496%2029.7923%2029.2952%2029.4983L28.6053%2029.2836C28.2225%2029.1669%2027.8209%2029.1623%2027.4334%2029.2743L25.3544%2029.881C25.0803%2029.9604%2024.7873%2029.9604%2024.5133%2029.881L23.6344%2029.6243C23.1808%2029.489%2022.6894%2029.5217%2022.2547%2029.7083L20.4071%2030.5111C19.2258%2031.0245%2018.4651%2032.1773%2018.4651%2033.4515V34.1095C17.7374%2034.0675%2017.0286%2033.8528%2016.4002%2033.4795L15.7528%2033.0967C15.2047%2032.7747%2014.581%2032.602%2013.9431%2032.602H12.4736L11.3868%2031.9999C10.8717%2031.7152%2010.2905%2031.5659%209.69989%2031.5612L7.62082%2031.5472L5.23461%2030.3057C1.61514%2028.4249%200.0700101%2024.1917%201.64349%2020.4579L2.12073%2019.3238C2.47512%2018.4837%202.6594%2017.5922%202.6594%2016.6775V16.0427H3.17444C3.68476%2016.0427%204.11948%2015.6927%204.2376%2015.2213H22.1176C22.4153%2015.2213%2022.6894%2015.394%2022.8075%2015.6647L23.3414%2016.8455C23.5115%2017.2235%2023.8896%2017.4662%2024.3101%2017.4662C24.7259%2017.4662%2025.1087%2017.2235%2025.2788%2016.8455L25.8127%2015.66C25.9356%2015.3893%2026.2049%2015.2166%2026.5026%2015.2166H27.1452C27.424%2015.2166%2027.6791%2015.366%2027.8114%2015.6087C28.1375%2016.2061%2028.7234%2016.6075%2029.3897%2016.7148V24.145C28.317%2024.2617%2027.4949%2024.8918%2027.4949%2025.6572C27.4949%2026.5066%2028.4966%2027.1927%2029.7346%2027.1927C30.9726%2027.1927%2031.9743%2026.5066%2031.9743%2025.6572C31.9743%2024.8918%2031.1521%2024.257%2030.0795%2024.145V16.7101C30.7458%2016.6028%2031.3317%2016.2014%2031.6577%2015.604C31.79%2015.3613%2032.0452%2015.212%2032.324%2015.212H33.2785C33.7179%2015.212%2034.1195%2014.9926%2034.3605%2014.6286L35.7781%2012.4676C35.9624%2012.1829%2036.2789%2012.0149%2036.6239%2012.0149H37.0633C37.3752%2012.0149%2037.6303%2012.2669%2037.6303%2012.575V13.2424C37.6303%2013.5644%2037.7579%2013.8725%2037.98%2014.1012L37.3232%2015.0486ZM29.3849%2025.2838V26.7587C28.8037%2026.67%2028.3737%2026.3759%2028.3737%2026.0212C28.3737%2025.6665%2028.8037%2025.3678%2029.3849%2025.2838Z'%20fill='white'/%3e%3c/svg%3e",h4e="data:image/svg+xml,%3csvg%20width='159'%20height='28'%20viewBox='0%200%20159%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_6919_71839)'%3e%3cpath%20d='M4.13243%2025.9198C5.34921%2026.9052%207.05161%2027.0267%208.39597%2026.224L22.9838%2017.5138C25.4013%2016.0703%2025.4117%2012.5721%2023.0028%2011.1144L17.4686%207.76522C15.4767%206.55981%2012.8918%207.10053%2011.5501%209.00325L3.27399%2020.7399C2.14132%2022.3462%202.44805%2024.5556%203.97544%2025.7926L4.13243%2025.9198Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M4.11673%202.57147C5.33939%201.58127%207.0516%201.46387%208.39797%202.27791L22.9843%2011.0971C25.3835%2012.5477%2025.3874%2016.0265%2022.9914%2017.4824L17.5405%2020.7946C15.5485%2022.005%2012.9594%2021.4661%2011.6157%2019.5615L3.27518%207.7386C2.142%206.1323%202.44856%203.92248%203.97619%202.68529L4.11673%202.57147Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M49.8088%2020.0063C47.924%2020.0063%2046.7521%2018.7437%2046.7521%2016.6748V13.1359H50.1977V10.9296H46.7521V7.34668L44.2736%209.18483V10.9271H42.8892V13.1333H44.2736V16.6515C44.2736%2020.2137%2046.3632%2022.4174%2049.8321%2022.4174H50.361V20.0063H49.8088Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M30.4704%2019.5631L32.6818%2017.8339C33.6722%2019.4231%2035.01%2020.2761%2036.7159%2020.2761C38.5826%2020.2761%2039.757%2019.0783%2039.757%2017.5798C39.757%2015.8505%2037.9137%2015.2983%2035.977%2014.6761C33.6956%2013.9398%2031.23%2013.0168%2031.23%209.92907C31.23%207.37018%2033.5115%205.34277%2036.6226%205.34277C39.1815%205.34277%2040.7707%206.33314%2042.0618%207.83166L40.0111%209.35351C39.2515%208.17907%2038.1211%207.55685%2036.6226%207.55685C34.9167%207.55685%2033.8096%208.57055%2033.8096%209.88499C33.8096%2011.4976%2035.5856%2012.0291%2037.5196%2012.6746C39.8244%2013.4576%2042.3367%2014.4506%2042.3367%2017.585C42.3367%2020.1672%2040.2159%2022.6328%2036.7367%2022.6328C33.8563%2022.6328%2031.8963%2021.4117%2030.4678%2019.5683L30.4704%2019.5631Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M58.9189%2016.7007C58.9189%2013.3225%2061.5141%2010.6807%2064.8923%2010.6807C68.2704%2010.6807%2070.7982%2013.1384%2070.7982%2016.5399V17.5044H61.286C61.6075%2019.2725%2062.9867%2020.4444%2064.9856%2020.4444C66.5489%2020.4444%2067.7441%2019.6173%2068.3404%2018.3755L70.3627%2019.5007C69.3515%2021.3855%2067.5367%2022.6247%2064.9856%2022.6247C61.356%2022.6247%2058.9189%2020.0296%2058.9189%2016.6981V16.7007ZM61.4001%2015.4147H68.2938C67.9256%2013.7607%2066.663%2012.8403%2064.8923%2012.8403C63.1215%2012.8403%2061.8589%2013.8981%2061.4001%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M51.8955%2016.6752C51.8955%2013.113%2053.9851%2010.9326%2057.454%2010.9326H58.5559V13.323H57.4307C55.5459%2013.323%2054.33%2014.6322%2054.3533%2016.7011V22.423H51.8955V16.6804V16.6752Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M72.0138%2016.6774C72.0138%2013.3226%2074.6557%2010.7041%2077.9638%2010.7041C81.272%2010.7041%2083.8672%2013.3226%2083.8672%2016.6774V22.42H81.456V20.9267C80.6523%2022.0052%2079.4105%2022.6274%2077.8938%2022.6274C74.609%2022.6274%2072.0112%2020.0556%2072.0112%2016.6774H72.0138ZM81.5027%2016.6774C81.5027%2014.6319%2079.9394%2013.0011%2077.9638%2013.0011C75.9883%2013.0011%2074.4249%2014.6319%2074.4249%2016.6774C74.4249%2018.723%2075.9649%2020.3537%2077.9638%2020.3537C79.9627%2020.3537%2081.5027%2018.6997%2081.5027%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M85.4155%2015.978C85.4155%2012.9214%2087.5052%2010.6943%2090.6085%2010.6943C92.3766%2010.6943%2093.8026%2011.4073%2094.697%2012.6025C95.5474%2011.4073%2096.9266%2010.6943%2098.6948%2010.6943C101.819%2010.6943%20104.002%2012.8773%20104.002%2015.978V22.4103H101.544V16.0014C101.544%2014.2566%20100.372%2013.038%2098.6948%2013.038C97.0174%2013.038%2095.9155%2014.2799%2095.9389%2015.934V22.4129H93.4811V16.004C93.4811%2014.2592%2092.2859%2013.0406%2090.6085%2013.0406C88.9311%2013.0406%2087.8526%2014.2825%2087.8733%2015.9366V22.4154H85.4155V15.9832V15.978Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M105.578%205.6416H108.082V20.0227H114.859V22.4131H105.578V5.6416Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M138.483%2016.7007C138.483%2013.3225%20141.078%2010.6807%20144.456%2010.6807C147.834%2010.6807%20150.362%2013.1384%20150.362%2016.5399V17.5044H140.85C141.171%2019.2725%20142.551%2020.4444%20144.55%2020.4444C146.113%2020.4444%20147.308%2019.6173%20147.904%2018.3755L149.927%2019.5007C148.916%2021.3855%20147.101%2022.6247%20144.55%2022.6247C140.92%2022.6247%20138.483%2020.0296%20138.483%2016.6981V16.7007ZM140.964%2015.4147H147.858C147.49%2013.7607%20146.227%2012.8403%20144.456%2012.8403C142.685%2012.8403%20141.423%2013.8981%20140.964%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M115.269%2016.6774C115.269%2013.3226%20117.911%2010.7041%20121.219%2010.7041C124.527%2010.7041%20127.122%2013.3226%20127.122%2016.6774V22.42H124.711V20.9267C123.907%2022.0052%20122.665%2022.6274%20121.149%2022.6274C117.864%2022.6274%20115.266%2020.0556%20115.266%2016.6774H115.269ZM124.758%2016.6774C124.758%2014.6319%20123.194%2013.0011%20121.219%2013.0011C119.243%2013.0011%20117.68%2014.6319%20117.68%2016.6774C117.68%2018.723%20119.22%2020.3537%20121.219%2020.3537C123.218%2020.3537%20124.758%2018.6997%20124.758%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M131.67%2021.8547L126.915%2010.9658H129.557L132.912%2018.938L136.082%2010.9658H138.678L131.74%2027.7606H129.212L131.67%2021.8573V21.8547Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M151.897%2016.6674C151.897%2013.1052%20153.987%2010.9248%20157.455%2010.9248H158.557V13.3152H157.432C155.547%2013.3152%20154.331%2014.6244%20154.355%2016.6933V22.4152H151.897V16.6726V16.6674Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_6919_71839'%3e%3crect%20width='158.12'%20height='28'%20fill='white'%20style='fill:white;fill-opacity:1;'%20transform='translate(0.44043)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",m4e=(t,e,n)=>t===e?"translateY(0px)":t>e?`translateY(${n}px)`:"translateY(-100%)",p4e=({close:t,votedAnswer:e,mastersApp:n,correct:r,correctAnswerTitle:i,questionTitle:s,saveHeight:a,style:o,hiding:l})=>{const[c,u]=N.useState(1),d=N.useRef({});N.useEffect(()=>{const g=setInterval(()=>{u(p=>r&&p>4||!r&&p>3?p:++p)},3e3);return()=>clearInterval(g)},[r]),N.useEffect(()=>{var g,p;d.current[c]&&a(((p=(g=d.current[c])==null?void 0:g.getBoundingClientRect())==null?void 0:p.height)||e4e)},[c,a]);const h=g=>p=>{d.current&&(d.current[g]=p)},m=g=>({transform:m4e(g,c,o.height)});return S.jsx(n4e,{style:o.height?o:{...o,paddingTop:0,paddingBottom:0},hiding:l,children:S.jsxs(r4e,{style:{height:o.height,minHeight:o.height,backgroundColor:c>3?r?"var(--color-sdk-prediction-result-success-bg)":"var(--color-sdk-prediction-result-incorrect-bg)":"var(--color-primary-1)"},children:[S.jsx(J_e,{step:c,correct:r}),n&&S.jsxs(Mc,{ref:h(1),style:m(1),children:[S.jsx("img",{alt:"sponsor-logo",src:d4e}),S.jsx(ER,{children:"Featured Groups +"})]}),!n&&S.jsx(Mc,{ref:h(1),style:m(1),children:S.jsx("img",{alt:"sponsor-logo",src:h4e})}),S.jsxs(Mc,{ref:h(2),style:m(2),children:[S.jsx(of,{children:"Prediction results are in!"}),n&&S.jsx(ER,{children:"Featured Groups +"})]}),S.jsxs(Mc,{ref:h(3),style:m(3),children:[S.jsx(of,{children:s}),S.jsx(ey,{children:S.jsxs(ty,{children:[S.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})})]}),r?S.jsxs(S.Fragment,{children:[S.jsxs(Mc,{ref:h(4),style:{...m(4),color:"var(--color-sdk-prediction-result-success-text)"},children:[S.jsxs(of,{children:["Congratulations!",S.jsx("br",{}),"You answered correctly."]}),S.jsxs(ey,{children:[S.jsx(kR,{name:"selected"}),S.jsxs(ty,{children:[S.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]})]}),S.jsxs(Mc,{ref:h(5),style:{...m(5),color:"var(--color-sdk-prediction-result-success-text)"},children:[S.jsx(s4e,{children:c===5&&S.jsx(gg,{delay:.5,prefix:"+",suffix:" points",value:e==null?void 0:e.points})}),S.jsxs(ey,{children:[S.jsx(kR,{name:"selected"}),S.jsxs(ty,{children:[S.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),S.jsx(AR,{onClick:t,children:S.jsx(wR,{name:"icon-cross"})})]})]}):S.jsxs(Mc,{ref:h(4),style:m(4),children:[S.jsxs(of,{style:{color:"var(--color-sdk-prediction-result-error-title)"},children:["Better luck next time!",S.jsx("br",{}),"Correct: ",i,"."]}),S.jsxs(ey,{style:{color:"var(--color-sdk-prediction-result-error-subtitle)"},children:[S.jsx(c4e,{name:"circleClose"}),S.jsxs(ty,{children:[S.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),S.jsx(AR,{onClick:t,children:S.jsx(wR,{name:"icon-cross"})})]})]})})},f4e=t=>{const[e,n]=N.useState(!1),[r,i]=N.useState(!1),s=N.useRef(null),a=N.useCallback(()=>{i(!0),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{i(!1)},1e3)},[]),o=N.useCallback(async l=>{n(!0);const c=l.map(u=>new Promise((d,h)=>{const m=new Image;m.onload=()=>d(u),m.onerror=()=>h(),m.src=u}));await Promise.allSettled(c),n(!1)},[]);return N.useEffect(()=>{t&&(a(),o(t))},[t,a,o]),{loading:e,throttled:r}},g4e=P("div")({name:"Container",class:"cl51m2q",propsAsIs:!1}),y4e=P("img")({name:"Avatar",class:"a2yhhhr",propsAsIs:!1}),T4e=P("div")({name:"AvatarPlaceholder",class:"a1dtxxlr",propsAsIs:!1}),v4e=P("div")({name:"Content",class:"c12clm3w",propsAsIs:!1}),_4e=P("span")({name:"Name",class:"n14lctn7",propsAsIs:!1}),b4e=({avatar:t,name:e})=>S.jsxs(g4e,{children:[t&&S.jsx(y4e,{src:t}),!t&&S.jsx(T4e,{children:Z5(e||"")}),S.jsxs(v4e,{children:[S.jsxs(_4e,{children:[e," "]}),"is waiting for you!"]})]}),S4e=P("div")({name:"Container",class:"c1htq1lb",propsAsIs:!1}),E4e=P("div")({name:"Graphic",class:"gjyzpp7",propsAsIs:!1}),k4e=P("img")({name:"GraphicImage",class:"g16mldgz",propsAsIs:!1}),A4e=P("div")({name:"Headline",class:"h69js65",propsAsIs:!1}),w4e=P("div")({name:"TaglineContainer",class:"tmm7qmo",propsAsIs:!1}),C4e=P("div")({name:"Tagline",class:"t17knuw2",propsAsIs:!1}),I4e=P("div")({name:"Content",class:"c1b74psg",propsAsIs:!1}),x4e=P("div")({name:"StepsContainer",class:"s1y99ug7",propsAsIs:!1}),L4e=P("span")({name:"StepIndicator",class:"sgf3v5n",propsAsIs:!1}),R4e=P("div")({name:"InvitingUserWrap",class:"i1sj6gn8",propsAsIs:!1}),N4e=({loading:t,steps:e,currentStep:n,inviterName:r})=>{const{headline:i,tagline:s}=e[n];return S.jsxs(S4e,{children:[s&&S.jsx(w4e,{children:S.jsx(Ri,{loading:t,children:S.jsx(C4e,{children:s})})}),S.jsxs(I4e,{"data-welcome-screen":n===0,children:[S.jsx(E4e,{children:S.jsx(Ri,{loading:t,children:e.map(({graphicSrc:a},o)=>S.jsx(k4e,{src:a,"data-active":n===o}))})}),i&&S.jsx(Ri,{loading:t,children:S.jsx(A4e,{children:i})})]}),r&&n===0&&S.jsx(R4e,{children:S.jsx(b4e,{name:r})}),S.jsx(x4e,{style:t?{visibility:"hidden"}:{},children:Array.from({length:e.length}).map((a,o)=>S.jsx(L4e,{"data-active":n===o},o))})]})},O4e=P("div")({name:"Container",class:"cm0bev",propsAsIs:!1}),D4e=P("div")({name:"Content",class:"ce7x737",propsAsIs:!1}),P4e=P("div")({name:"Title",class:"tc2tor6",propsAsIs:!1}),M4e=P("div")({name:"RulesList",class:"r1k5klql",propsAsIs:!1}),$4e=P("div")({name:"RulesItem",class:"r1tf3ft2",propsAsIs:!1}),U4e=P("div")({name:"RuleIcon",class:"rwpvg1k",propsAsIs:!1}),F4e=P("div")({name:"RuleText",class:"rbxiag0",propsAsIs:!1}),B4e=P("button")({name:"TermsButton",class:"t6cyrry",propsAsIs:!1}),j4e=({rules:t,rulesTitle:e,termsText:n,primaryColor:r,openTerms:i})=>S.jsxs(O4e,{children:[S.jsxs(D4e,{children:[S.jsx(P4e,{children:e}),S.jsx(M4e,{children:t==null?void 0:t.map(({label:s,icon:a},o)=>S.jsxs($4e,{children:[a&&S.jsx(U4e,{style:{backgroundColor:r},children:S.jsx(We,{name:a,"data-icon":a})}),S.jsx(F4e,{children:s})]},o))})]}),n&&S.jsx(B4e,{onClick:i,children:"See Terms and Conditions"})]}),V4e=P("div")({name:"Container",class:"cj0g35h",propsAsIs:!1}),H4e=P("div")({name:"Content",class:"c1xkhrbn",propsAsIs:!1}),G4e=P("div")({name:"Title",class:"tifzb8b",propsAsIs:!1}),q4e=P("div")({name:"ScrollingText",class:"stduw5c",propsAsIs:!1}),z4e=({termsTitle:t,termsText:e})=>S.jsx(V4e,{children:S.jsxs(H4e,{children:[S.jsx(G4e,{children:t}),S.jsx(q4e,{children:e})]})}),W4e=P("button")({name:"SButton",class:"s1nve60q",propsAsIs:!1}),K4e=P("span")({name:"ButtonLabel",class:"b1xoswwx",propsAsIs:!1}),Y4e=({disabled:t,variant:e="primary",onClick:n,children:r,...i})=>S.jsx(W4e,{onClick:n,disabled:t,"data-variant":e,...i,children:S.jsx(K4e,{children:r})}),Q4e=P("div")({name:"Container",class:"c18uddbs",propsAsIs:!1}),X4e=P("div")({name:"Content",class:"cvcfjf6",propsAsIs:!1}),Z4e=P("div")({name:"OnboardingHeader",class:"o1ie27lw",propsAsIs:!1}),J4e=P("button")({name:"CloseBtn",class:"c15cjkwi",propsAsIs:!1}),ebe=()=>We,tbe=P(ebe())({name:"IconClose",class:"i1mavjt2",propsAsIs:!0}),nbe=P("div")({name:"OnboardingFooter",class:"o1x0dyzv",propsAsIs:!1}),rbe=()=>Y4e,ibe=P(rbe())({name:"OnboardingActionBtn",class:"o1jfi9c3",propsAsIs:!0}),ud={steps:!1,rules:!1,inviteCard:!1},sbe=({gamification:t,steps:e,rules:n,rulesBtnLabel:r,rulesTitle:i,termsTitle:s,termsText:a,primaryColor:o,inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,inviteCardBtnLabel:d,loading:h,inviterName:m,sdk:g,onClose:p})=>{const[_,y]=N.useState(0),[v,E]=N.useState(!1),[x,C]=N.useState(ud);N.useEffect(()=>{e!=null&&e.length?C({...ud,steps:!0}):n!=null&&n.length?C({...ud,rules:!0}):C({...ud,inviteCard:!0})},[]);const R=N.useMemo(()=>x.steps&&_===0?"Continue":x.rules?v||!r?"Got it":r:x.inviteCard?d||"Play Now":"Next",[x,_,v,r,d]),D=N.useCallback(()=>{e!=null&&e.length&&_<e.length-1?y(K=>++K):n!=null&&n.length&&x.steps?C({...ud,rules:!0}):x.rules&&C({...ud,inviteCard:!0})},[_,e==null?void 0:e.length,n==null?void 0:n.length,x,y,C]),U=async()=>{x.inviteCard?await t.onboardingStatus.submitInplay():x.rules&&v?E(!1):D()};return N.useEffect(()=>{!h&&m&&g.inviteDisplayed()},[h,m,g]),S.jsx(Tve,{children:({width:K,height:V})=>S.jsxs(Q4e,{style:{width:K,height:V,maxHeight:V},children:[S.jsx(Z4e,{children:S.jsx(J4e,{onClick:p,children:S.jsx(tbe,{name:"icon-close-btn-gray"})})}),S.jsxs(X4e,{children:[x.steps&&(e==null?void 0:e.length)&&S.jsx(N4e,{loading:h,steps:e,currentStep:_,inviterName:m}),x.rules&&!v&&S.jsx(j4e,{rules:n,rulesTitle:i,termsText:a,primaryColor:o,openTerms:()=>E(!0)}),x.rules&&v&&S.jsx(z4e,{termsTitle:s,termsText:a}),x.inviteCard&&S.jsx(iH,{inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,primaryColor:o})]}),S.jsx(nbe,{children:S.jsx(Ri,{loading:h,style:{width:"100%"},children:S.jsx(ibe,{onClick:U,children:R})})})]})})},abe=P("div")({name:"Container",class:"c1qjj4d4",propsAsIs:!1}),obe=P("div")({name:"CloseIconWrap",class:"c1lg6b8a",propsAsIs:!1}),lbe=()=>We,cbe=P(lbe())({name:"CloseIcon",class:"c159el66",propsAsIs:!0}),ube=P("div")({name:"Title",class:"t16xmufv",propsAsIs:!1}),dbe=P("img")({name:"SponsorLogo",class:"s83lc21",propsAsIs:!1}),hbe=P("div")({name:"PresentsTitle",class:"p1p7igia",propsAsIs:!1}),mbe=P("div")({name:"Subtitle",class:"s1eftsbu",propsAsIs:!1}),pbe=P("div")({name:"Description",class:"d8uezec",propsAsIs:!1}),fbe=P("button")({name:"ActionButton",class:"a1h1bk90",propsAsIs:!1}),CR=({close:t,action:e,onboarding:n})=>{var r,i,s,a,o,l,c,u;return S.jsxs(abe,{children:[S.jsx(obe,{onClick:t,children:S.jsx(cbe,{name:"icon-cross"})}),((i=(r=n==null?void 0:n.titleCard)==null?void 0:r.media)==null?void 0:i.sponsorLogo)&&S.jsxs(ube,{children:[S.jsx(dbe,{alt:"sponsor-logo",src:(a=(s=n==null?void 0:n.titleCard)==null?void 0:s.media)==null?void 0:a.sponsorLogo}),S.jsx(hbe,{children:"PRESENTS"})]}),((o=n==null?void 0:n.titleCard)==null?void 0:o.title)&&S.jsx(mbe,{children:(l=n==null?void 0:n.titleCard)==null?void 0:l.title}),((c=n==null?void 0:n.titleCard)==null?void 0:c.subtitle)&&S.jsx(pbe,{children:(u=n==null?void 0:n.titleCard)==null?void 0:u.subtitle}),S.jsx(fbe,{onClick:e,children:"Play Now"})]})},lk=[{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_1.png",tagline:"",headline:S.jsxs(S.Fragment,{children:["Welcome to ",S.jsx("br",{})," Live Challenge"]})},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_2.png",headline:"Live insights, polls, trivia and predictions."},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_3.png",headline:"Win points and play against friends."}],gbe=P("div")({name:"OnboardingContainer",class:"o1xni1kr",propsAsIs:!1}),ybe=()=>Bm,Tbe=P(ybe())({name:"OnboardingNotificationContainer",class:"o1vnouv7",propsAsIs:!0}),IR=P("div")({name:"InnerContainer",class:"i59uefw",propsAsIs:!1}),vbe=P("div")({name:"OnboardingOverlap",class:"ovnr8ov",propsAsIs:!1}),_be=({deepLink:t,onboardingOpts:e,notification:n,gamification:r,loading:i,sdk:s,throttled:a})=>{var o,l,c,u,d,h,m;const g=ot(r.friends.getStore()),[p,_]=N.useState(void 0),y=N.useMemo(()=>{var v,E;const x=s.getInviter();return x?(E=(v=g.data)==null?void 0:v.find(({slId:C})=>C===x))==null?void 0:E.name:""},[g.data,s]);return N.useEffect(()=>{const v=t.$store.subscribe(E=>{E&&_(E.data)});return()=>{v()}},[t.$store]),S.jsxs(gbe,{children:[S.jsx(sbe,{loading:i,rules:[{label:"Answer as many questions as you like.",icon:"icon-btn-feature-groups"},{label:"Win points for each correct trivia or prediction answer.",icon:"icon-thumb-up"},{label:"Top the leader board and best your friends.",icon:"icon-trophy"}],rulesBtnLabel:(o=e.rules)==null?void 0:o.buttonLabel,rulesTitle:(l=e.rules)==null?void 0:l.heading,termsTitle:"Terms and Conditions",termsText:(c=e.rules)==null?void 0:c.terms,steps:lk,primaryColor:(u=e.inviteCard)==null?void 0:u.iconColor,inviteLink:p,inviteCardTitle:(d=e.inviteCard)==null?void 0:d.heading,inviteCardSubtext:(h=e.inviteCard)==null?void 0:h.subtext,inviteCardBtnLabel:(m=e.inviteCard)==null?void 0:m.buttonLabel,onClose:()=>{var v;(v=n.close)==null||v.call(n)},gamification:r,sdk:s,inviterName:y}),a&&S.jsx(vbe,{})]})},bbe=({sdk:t,notification:e,saveHeight:n,style:r,appNode:i,sdkInDesktopView:s,responsiveStore:a})=>{const o=N.useRef(null),l=e.data.onboarding,[c,u]=N.useState(l==null?void 0:l.instantOpen),d=t.getFeature(Qe.GAMES),h=N.useMemo(()=>lk==null?void 0:lk.map(({graphicSrc:_})=>_),[]),{screen:m}=ot(a,{keys:["screen"]});N.useLayoutEffect(()=>{var _;n(((_=o.current)==null?void 0:_.getBoundingClientRect().height)||0)},[n]);const{loading:g,throttled:p}=f4e(h);return c&&d&&l&&i.current?S.jsx(BV,{container:i,useContainer:!s,children:S.jsx(_be,{throttled:p,notification:e,setOpened:u,gamification:d,onboardingOpts:l,deepLink:d.deepLink,loading:g,renderToNode:i,sdk:t})}):S.jsxs(S.Fragment,{children:[S.jsx(IR,{ref:o,style:{position:"absolute",visibility:"hidden"},children:S.jsx(CR,{close:()=>{},action:()=>{},onboarding:l})}),S.jsx(Tbe,{style:r,hiding:e.hiding,children:S.jsx(IR,{children:S.jsx(CR,{close:e.close,action:()=>{var _;u(!0),(((_=i.current)==null?void 0:_.getBoundingClientRect().y)||0)<0&&Q5(i,m.size,{behavior:"smooth"})},onboarding:l})})})]})},Sbe=P("button")({name:"Container",class:"crkmfw1",propsAsIs:!1}),Ebe=P("div")({name:"Content",class:"c11awpy4",propsAsIs:!1}),kbe=P("span")({name:"Title",class:"t154z7mh",propsAsIs:!1}),Abe=({title:t,onClick:e,className:n,style:r})=>S.jsx(Sbe,{onClick:e,className:n,style:r,children:S.jsxs(Ebe,{children:[S.jsx(We,{name:"iconUp"}),t&&S.jsx(kbe,{children:t})]})}),wbe=()=>Bm,Cbe=P(wbe())({name:"Container",class:"c8ol1ve",propsAsIs:!0}),cH=P("div")({name:"InnerContainer",class:"iqfywam",propsAsIs:!1}),Ibe=()=>cH,xbe=P(Ibe())({name:"HiddenContainer",class:"hokmtod",propsAsIs:!0}),Lbe=P("div")({name:"NotificationRefreshing",class:"n192d1q8",propsAsIs:!1}),Rbe=()=>Abe,Nbe=P(Rbe())({name:"Pill",class:"p1lha68t",propsAsIs:!0}),Obe=t=>{const[e,n]=N.useState(0),r=N.useRef(null),i=N.useMemo(()=>new ResizeObserver(o=>{var l;for(const c of o)if(c.contentBoxSize){const u=(l=r.current)==null?void 0:l.getBoundingClientRect();u&&n(u.height)}}),[]),s=N.useCallback(o=>{r.current=o},[]),a=N.useCallback(o=>{n(o)},[]);return N.useEffect(()=>{const o=r.current;return o?(i.observe(o),()=>{i.unobserve(o)}):()=>{}},[t]),N.useEffect(()=>()=>{i.disconnect()}),[s,e,a]},Dbe=({sdk:t,notification:e,appNode:n,responsiveStore:r,hasActiveFeature:i})=>{var s,a;const{sdkInDesktopView:o}=ot(r,{keys:["sdkInDesktopView"]}),{sdk:l}=A3(),[c,u,d]=Obe(e.id);let h=u;return i||(h="auto"),e.type===Wl.QUESTION?S.jsxs(S.Fragment,{children:[S.jsx(xbe,{ref:c,children:S.jsx(fR,{...e})}),S.jsxs(Cbe,{style:{height:e.hiding?0:h},hiding:e.hiding,children:[S.jsx(cH,{style:{height:"100%"},children:S.jsx(fR,{...e,controlVideo:l==null?void 0:l.controlVideoPlayer})}),S.jsx(Lbe,{},e.id)]})]}):e.type===Wl.QUESTION_RESOLVED&&(a=(s=e.data)==null?void 0:s.question)!=null&&a.predictionResult?S.jsx(p4e,{style:{height:e.hiding?0:u},saveHeight:d,close:e.close,hiding:e.hiding,...e.data.question}):e.type===Wl.ONBOARDING?S.jsx(bbe,{style:{height:e.hiding?0:h},saveHeight:d,sdk:t,notification:e,sdkInDesktopView:o,appNode:n,responsiveStore:r}):null},Pbe="p7vfi6t",Mbe=({pill:t,setPill:e,appNode:n,headerNode:r,scrollNode:i,responsiveStore:s,scrollStore:a})=>{var o,l;const{screen:c}=ot(s,{keys:["screen"]}),{tabsShown:u,scrollPosition:d}=ot(a,{keys:["tabsShown","scrollPosition"]});N.useEffect(()=>{s.get().sdkInDesktopView?d<50&&e(null):d>-50&&e(null)},[d,s,e]);const h=s.get().sdkInDesktopView?n:r;return!t||!h.current?null:WT.createPortal(S.jsx(Nbe,{title:t.type===Wl.QUESTION_RESOLVED?"Prediction result":`New ${((l=dg[(o=t.data)==null?void 0:o.questionType])==null?void 0:l.label)||"notification"}`,onClick:()=>{var m;s.get().sdkInDesktopView?(m=i.current)==null||m.scrollTo({top:0,behavior:"smooth"}):Q5(n,c.size,{behavior:"smooth"}),e(null)},className:Bn(u&&Pbe,"sl-pill-button")}),h.current)},$be=({sdk:t,headerNode:e,scrollNode:n,responsiveStore:r,appNode:i,scrollStore:s,hasActiveFeature:a})=>{const[o]=N.useState(t.getNotificationsStore()),l=ot(o),[c,u]=N.useState(null),d=N.useMemo(()=>t.getActiveNotification(),[t,l]);return N.useEffect(()=>{d&&Fa.emit("notification",{action:"rendered",payload:{questionId:d.data.questionId,questionType:d.data.questionType}})},[d]),N.useEffect(()=>{const{sdkInDesktopView:h,sdkInView:m}=r.get();d&&(h||m)&&(!h&&m&&u(d),h&&window.requestAnimationFrame(()=>{s.get().scrollPosition!==0&&u(d)}))},[d]),N.useEffect(()=>{d||u(null)},[d]),S.jsxs(S.Fragment,{children:[!c&&d&&S.jsx(Dbe,{appNode:i,sdk:t,hasActiveFeature:a,notification:d,responsiveStore:r}),c&&S.jsx(Mbe,{pill:c,setPill:u,appNode:i,notification:d,headerNode:e,scrollNode:n,scrollStore:s,responsiveStore:r})]})},Ube=t=>{const e=ot(t.status),n=ot(t.sdkStore.slStreamId),r=ot(t.userId()),i=ot(t.getActiveFeature()),s=e==="ready"&&!!n.data;return N.useEffect(()=>{const a=t.getFeature(Qe.GAMES);a&&i!==Qe.GAMES&&(a.closeQuestion(),a.closeUser()),a==null||a.openedQuestionId.subscribe(o=>{o&&i!==Qe.GAMES&&t.openFeature(Qe.GAMES)})},[i,t]),{sdkReady:s,activeFeature:i,isLogged:!!r}},Fbe=({sdk:t,className:e,scrollStore:n,appNode:r,scrollNode:i,responsiveStore:s})=>{const[,a]=Rpe(t);return S.jsx(B3e,{className:e,scrollNode:i,appNode:r,scrollStore:n,feature:a,responsiveStore:s,sdk:t})},Bbe=({sdk:t,className:e,appNode:n,responsiveStore:r})=>{const i=ot(t.featuresList.getStore());return i?Array.from(i,s=>{const a=t.getFeature(s);return a?S.jsx(j3e,{className:e,appNode:n,feature:a,responsiveStore:r,sdk:t},s):null}):null},jbe=({sdk:t,topNavigation:e})=>{const n=N.useRef(null),r=N.useRef(null),[i]=rfe(n),[s,a]=sfe(n,i),{sdkReady:o,activeFeature:l,isLogged:c}=Ube(t),u=!!o;xB(n,{enabled:u,event:"click",listener:afe});const d=N.useMemo(()=>({sdk:t,topNavigation:e}),[t,e]);return N.useEffect(()=>{yU(()=>Promise.resolve().then(()=>VY),void 0,import.meta.url)},[]),S.jsx(LB.Provider,{value:d,children:S.jsxs(upe,{ref:n,className:e?"":"c10llmat",children:[u&&e&&S.jsx(l_e,{className:ef,sdk:t,ref:r}),u&&!e&&!!l&&S.jsx(o_e,{className:Bn(ef,"sl-hide-on-modal"),sdk:t,ref:r}),S.jsxs(AB,{className:"sl-hide-on-modal",ref:s,"data-nav":(!!l&&u).toString(),children:[u&&S.jsx($be,{sdk:t,scrollNode:s,headerNode:r,appNode:n,scrollStore:a,responsiveStore:i,hasActiveFeature:!!l}),u&&S.jsx(Fbe,{scrollStore:a,responsiveStore:i,scrollNode:s,appNode:n,className:ef,sdk:t}),u&&S.jsx(Bbe,{responsiveStore:i,appNode:n,className:ef,sdk:t})]}),u&&!c&&S.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"You are not logged in."})]})})},V3=({children:t,customTheme:e,themeMode:n,style:r})=>S.jsx("div",{className:"StreamLayerSDKTheme",children:S.jsx("div",{className:Bn(ofe,n,e),style:r,children:t})}),jm=()=>{const{sdk:t}=N.useContext(Mu);return t},Vbe=()=>{const{event:t}=N.useContext(Mu);return t},H3=()=>{const{sdk:t}=N.useContext(Mu),[e,n]=N.useState({});return N.useEffect(()=>{var r;return t!=null&&t.options?(r=t==null?void 0:t.options)==null?void 0:r.subscribe(i=>{n({theme:i.theme,themeMode:i.themeMode})}):()=>{}},[t==null?void 0:t.options]),e},G3=()=>{const{sdk:t}=N.useContext(Mu),[e,n]=N.useState({});return N.useEffect(()=>t!=null&&t.uiState?t==null?void 0:t.uiState.subscribe(r=>{n({...r})}):()=>{},[t==null?void 0:t.uiState]),e},xR=({event:t,topNavigation:e,theme:n,withSidebarNotification:r=!0})=>{const{sdk:i,status:s}=N.useContext(Mu),a=G3(),o=H3(),{event:l}=N.useContext(Mu);if(s===ck.UNSET)throw new Error("Wrap app in `StreamLayerProvider`");return s===ck.CONNECTED?S.jsx("div",{className:"StreamLayerSDK",children:"wait"}):i===null?S.jsx("div",{className:"StreamLayerSDK",children:"sdk not initialized"}):!a.app&&!a.appNotification||!a.app&&a.appNotification&&!r?null:S.jsx("div",{className:"StreamLayerSDK",children:S.jsx(V3,{customTheme:n??o.theme,themeMode:o.themeMode,children:S.jsx(jbe,{sdk:i,event:(l==null?void 0:l.current)||t,topNavigation:e})})})},Tl=({event:t})=>{const e=jm(),n=Vbe();return N.useEffect(()=>(e&&(t&&(e.createEventSession(t),n&&(n.current=t)),!t&&n!=null&&n.current&&(e.createEventSession(""),n.current="")),()=>{e&&e.disableApp()}),[t,n,e]),null};var ck=(t=>(t[t.UNSET=0]="UNSET",t[t.CONNECTED=1]="CONNECTED",t[t.READY=2]="READY",t))(ck||{});const Hbe={status:0,sdk:null},Mu=N.createContext(Hbe),Gbe=({sdkKey:t,theme:e,themeMode:n,plugins:r,children:i,event:s,production:a=!0,autoEnable:o=!0,withAdNotification:l,withAd:c=!0,betPack:u=!1,hideFriends:d,skipOnboarding:h,friendsTab:m="enabled",onDeepLinkHandled:g,videoPlayerController:p,onContentActivate:_})=>{const y=Hme({sdkKey:t,plugins:r,production:a,autoEnable:o,onDeepLinkHandled:g,videoPlayerController:p,onContentActivate:_,hideFriends:d,skipOnboarding:h,withAdNotification:l,withAd:c,friendsTab:m,betPack:u}),v=N.useRef(""),E=N.useMemo(()=>y?{sdk:y,status:2,event:v}:{status:1,sdk:null,event:v},[y]);return N.useEffect(()=>{y&&(y.options.setKey("friendsTab",m),y.options.setKey("theme",e),y.options.setKey("themeMode",n),y.options.setKey("skipOnboarding",h),y.options.setKey("betPack",u))},[y,m,e,n,h,u]),N.useEffect(()=>()=>{g&&(y==null||y.removeDeepLinkHandler(g)),p&&(y==null||y.removeVideoPlayerController(p))},[y]),N.useEffect(()=>{localStorage.getItem("SL_DEBUG")&&console.log("StreamLayerProvider mounted with props:",{sdkKey:!!t,onDeepLinkHandled:!!g,videoPlayerController:!!p})},[t,g,p]),S.jsxs(Mu.Provider,{value:E,children:[s!==void 0&&S.jsx(Tl,{event:s}),i]})},yg=P("div")({name:"Media",class:"m1bcvojl",propsAsIs:!1}),qbe=()=>yg,zbe=P(qbe())({name:"MediaImgBottom",class:"m58gin0",propsAsIs:!0}),Wbe=()=>yg,LR=P(Wbe())({name:"MediaImgSolid",class:"m1atm8do",propsAsIs:!0}),Kbe=()=>yg,Ybe=P(Kbe())({name:"MediaImgRounded",class:"myx3xoi",propsAsIs:!0}),Qbe=()=>yg,Xbe=P(Qbe())({name:"MediaImgCentered",class:"m1bwv0gx",propsAsIs:!0}),Zbe=()=>yg,Jbe=P(Zbe())({name:"MediaImgInsight",class:"mntjanp",propsAsIs:!0}),eSe=P("div")({name:"VideoIcon",class:"v1kofb47",propsAsIs:!1}),tSe={[un.UNSET]:LR,[un.NONE]:LR,[un.ROUNDED]:Ybe,[un.CENTERED]:Xbe,[un.TRANSPARENT]:zbe},RR=({src:t,imageMode:e=un.UNSET,withVideo:n,fromInsight:r})=>{if(e===un.NONE)return null;const i=r?Jbe:tSe[e];return S.jsxs(i,{children:[S.jsx("img",{src:t,alt:""}),n&&S.jsx(eSe,{children:S.jsx(We,{name:"icon-play"})})]})},nSe=P("div")({name:"NotificationContent",class:"nuraq9m",propsAsIs:!1}),rSe=P("div")({name:"NotificationContainer",class:"ns1nzpg",propsAsIs:!1}),uH=P("div")({name:"Body",class:"b1j59nzs",propsAsIs:!1}),iSe=P("div")({name:"Title",class:"t9vmnpp",propsAsIs:!1}),sSe=P("button")({name:"Button",class:"b14ivj5k",propsAsIs:!1}),aSe=()=>We,oSe=P(aSe())({name:"StyledChevronRight",class:"s1atci8n",propsAsIs:!0}),lSe=P("div")({name:"QuoteWrap",class:"q4w8jgs",propsAsIs:!1}),cSe=P("blockquote")({name:"Quote",class:"qaa0kez",propsAsIs:!1}),uSe=P("div")({name:"Body",class:"b1wvd52w",propsAsIs:!1}),dSe=P("div")({name:"Container",class:"ccvukea",propsAsIs:!1}),hSe=({image:t,tweet:e,account:n,accountVerified:r,body:i,title:s})=>{var a;return S.jsxs(dSe,{children:[s&&S.jsx(lSe,{children:S.jsx(cSe,{children:s})}),S.jsx(XV,{image:t,name:(a=e==null?void 0:e.meta)==null?void 0:a.accountName,userName:n,verified:r,createdTweet:e==null?void 0:e.date}),S.jsx(uSe,{children:JV(i)})]})},mSe=({title:t,questionType:e,questionTypeData:n})=>S.jsxs(uH,{children:[S.jsx(aH,{questionTypeData:n,questionType:e,questionStatus:ht.UNSET}),t&&S.jsx(iSe,{children:t})]}),pSe=({tweet:t})=>t?S.jsx(uH,{children:S.jsx(hSe,{...t,controlVideo:()=>{}})}):null,fSe=({action:t,questionType:e,inApp:n,insight:r,tweet:i})=>{var s;const a=dg[e],o=B1e[e];if(!a||!n||!n.notification)return null;const{title:l,image:c,imageMode:u}=n.notification;let d=c;e===Te.TWEET&&i!=null&&i.tweetMedia&&(d=i.tweetMedia.image),u===un.NONE&&(d="");const h=n.useMediaFromContent&&(r==null?void 0:r.image),m=e===Te.TWEET&&((s=i==null?void 0:i.tweetMedia)==null?void 0:s.video)||e===Te.FACTOID&&(r==null?void 0:r.video);return S.jsx(rSe,{className:"SL_InApp",onClick:t,children:S.jsxs(nSe,{style:d?{}:{paddingLeft:"1.5rem"},children:[d&&!h&&S.jsx(RR,{src:d,imageMode:u,withVideo:!!m}),h&&S.jsx(RR,{src:h,fromInsight:!0,withVideo:!!m}),e===Te.TWEET?S.jsx(pSe,{tweet:i}):S.jsx(mSe,{questionTypeData:a,questionType:e,title:l}),S.jsx(sSe,{name:"inapp-button",children:o||"Open"}),S.jsx(oSe,{name:"chevronRight"})]})})},gSe=P("div")({name:"NotificationContainer",class:"n11jcrxe",propsAsIs:!1}),NR=P("img")({name:"Icon",class:"i1vmpt6u",propsAsIs:!1}),ySe=P("div")({name:"IconContainer",class:"i180665s",propsAsIs:!1}),TSe=()=>We,vSe=P(TSe())({name:"TitleIcon",class:"t16zzzei",propsAsIs:!0}),_Se=()=>S1,bSe=P(_Se())({name:"Close",class:"c1sur0q2",propsAsIs:!0}),SSe=P("div")({name:"Body",class:"bai9j52",propsAsIs:!1}),ESe=P("div")({name:"Title",class:"t1bnt25p",propsAsIs:!1}),kSe=P("div")({name:"Description",class:"dmixjec",propsAsIs:!1}),ASe=P("button")({name:"Button",class:"b1ubkw1q",propsAsIs:!1}),wSe=({open:t,close:e,...n})=>{var r,i;return S.jsxs(gSe,{onClick:()=>{t==null||t(),n&&(n.instantOpen=!0)},children:[S.jsxs(ySe,{children:[S.jsx(NR,{className:"on-light",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification.png"}),S.jsx(NR,{className:"on-dark",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification-dark.png"})]}),S.jsxs(SSe,{children:[S.jsxs(ESe,{children:[S.jsx(vSe,{name:"icon-trophy-solid"}),(r=n==null?void 0:n.titleCard)==null?void 0:r.title]}),S.jsxs(kSe,{children:[S.jsx("span",{children:(i=n==null?void 0:n.titleCard)==null?void 0:i.subtitle}),S.jsx(ASe,{name:"inapp-button",children:"Play Now"})]})]}),S.jsx(bSe,{close:s=>{s==null||s.stopPropagation(),e==null||e()}})]})},CSe=P("div")({name:"Container",class:"cef8huz",propsAsIs:!1}),ISe=()=>We,xSe=P(ISe())({name:"CheckIcon",class:"c1mo15kk",propsAsIs:!0}),LSe=()=>We,RSe=P(LSe())({name:"PredictionIcon",class:"p16zkqnm",propsAsIs:!0}),NSe=P("div")({name:"PredictionIconContainer",class:"pjszi7a",propsAsIs:!1}),OSe=P("div")({name:"BodyContainer",class:"bftbmo3",propsAsIs:!1}),DSe=P("div")({name:"Body",class:"barrbyu",propsAsIs:!1}),PSe=P("div")({name:"Subtitle",class:"sz7237i",propsAsIs:!1}),MSe=({step:t,children:e,answer:n,state:r="pending"})=>{const[i,s]=N.useState(0),[a]=N.useState(()=>new ResizeObserver(l=>{var c,u;s((u=(c=l==null?void 0:l[0])==null?void 0:c.contentRect)==null?void 0:u.width)})),o=N.useCallback(l=>{l||a.disconnect(),a.observe(l)},[a]);return N.useMemo(()=>()=>{a.disconnect()},[a]),S.jsxs(CSe,{children:[S.jsx(NSe,{children:S.jsx(RSe,{name:"icon-prediction"})}),S.jsx(OSe,{style:{minWidth:`${i}px`},children:S.jsx(DSe,{children:e},t)}),S.jsx(PSe,{ref:o,className:r,children:S.jsxs("div",{children:[S.jsx(xSe,{name:"icon-check"}),"Your Pick: ",n]})})]})},$Se=P("div")({name:"Container",class:"ckyzolp",propsAsIs:!1}),W9=P("div")({name:"Line",class:"l16t1zr7",propsAsIs:!1}),USe=()=>W9,FSe=P(USe())({name:"Line1",class:"le78kvg",propsAsIs:!0}),BSe=()=>W9,jSe=P(BSe())({name:"Line2",class:"l1o7966d",propsAsIs:!0}),VSe=()=>W9,HSe=P(VSe())({name:"Line3",class:"lu9lyxq",propsAsIs:!0}),GSe=()=>S.jsxs($Se,{children:[S.jsx(FSe,{children:S.jsx("div",{})}),S.jsx(jSe,{children:S.jsx("div",{})}),S.jsx(HSe,{children:S.jsx("div",{})})]}),qSe=P("div")({name:"Container",class:"c10jy6zf",propsAsIs:!1}),zSe=()=>We,WSe=P(zSe())({name:"CheckIcon",class:"c1c7scay",propsAsIs:!0}),KSe=()=>S.jsxs(qSe,{children:[S.jsx(WSe,{name:"icon-check"})," Prediction results are in!"]}),YSe=P("div")({name:"Container",class:"cf6k2yy",propsAsIs:!1}),QSe=P("div")({name:"Caption",class:"c1c8xjus",propsAsIs:!1}),XSe=P("div")({name:"Title",class:"t1d1uekn",propsAsIs:!1}),ZSe=({title:t})=>S.jsxs(YSe,{children:[S.jsx(QSe,{children:"Results for"}),S.jsx(XSe,{children:t})]}),dH=P("div")({name:"Container",class:"c181a1as",propsAsIs:!1}),hH=P("div")({name:"Title",class:"t1cduox6",propsAsIs:!1}),JSe=()=>We,mH=P(JSe())({name:"CorrectIcon",class:"c1onrv6j",propsAsIs:!0}),eEe=()=>mH,tEe=P(eEe())({name:"InCorrectIcon",class:"i17n9o7e",propsAsIs:!0}),nEe=()=>S.jsxs(dH,{children:[S.jsxs(hH,{children:["Congratulations!",S.jsx("br",{}),"You answered correctly."]}),S.jsx(mH,{name:"icon-check"})]}),rEe=({title:t})=>S.jsxs(dH,{children:[S.jsxs(hH,{children:["Better luck next time!",S.jsx("br",{}),"Correct: ",t]}),S.jsx(tEe,{name:"icon-cross"})]}),iEe=P("div")({name:"Container",class:"cnxgcs2",propsAsIs:!1}),sEe=P("div")({name:"Title",class:"t903f8n",propsAsIs:!1}),aEe=()=>We,oEe=P(aEe())({name:"CheckIcon",class:"ceyu3qj",propsAsIs:!0}),lEe=({points:t})=>S.jsxs(iEe,{children:[S.jsxs(sEe,{children:["You won ",S.jsx(gg,{delay:.5,prefix:"+",suffix:" points",value:t})]}),S.jsx(oEe,{name:"icon-trophy-solid"})]}),OR=P("div")({name:"Container",class:"cq3agu2",propsAsIs:!1}),DR=P("div")({name:"Body",class:"b16qj0do",propsAsIs:!1}),PR={1:3e3,2:4e3,3:4e3,4:4e3},cEe=({close:t,action:e,setStep:n,votedAnswer:r,correct:i,correctAnswerTitle:s,questionTitle:a,step:o})=>{if(N.useEffect(()=>{if(n){const c=setTimeout(()=>{PR[o+1]&&(i||o<3)?n(o+1):t==null||t()},PR[o]);return()=>{c&&clearTimeout(c)}}return()=>{}},[n,o,t,i]),o===1)return S.jsx(OR,{children:S.jsx(DR,{children:S.jsx(KSe,{})})});let l="pending";return(o===3||o===4)&&(l=i?"correct":"incorrect"),S.jsx(OR,{onClick:()=>e==null?void 0:e(),children:S.jsxs(DR,{children:[o!==1&&S.jsx(GSe,{},o),S.jsxs(MSe,{state:l,step:o,answer:(r==null?void 0:r.title)||"unknown",children:[o===2&&S.jsx(ZSe,{title:a||"unknown"}),o===3&&i&&S.jsx(nEe,{}),o===3&&!i&&S.jsx(rEe,{title:s||"unknown"}),o===4&&S.jsx(lEe,{points:(r==null?void 0:r.points)||0})]})]})})},uEe=({close:t,action:e,votedAnswer:n,correct:r,correctAnswerTitle:i,questionTitle:s})=>{const[a,o]=N.useState(1);return S.jsx(cEe,{close:t,action:e,votedAnswer:n,correct:r,correctAnswerTitle:i,questionTitle:s,setStep:o,step:a,title:""})},dEe=P("div")({name:"NotificationContainer",class:"n1i4h28u",propsAsIs:!1}),hEe=t=>S.jsx(dEe,{children:S.jsx(uEe,{...t})}),mEe=({sdk:t})=>{const[e]=N.useState(t.getNotificationsStore()),n=ot(e),r=t.getFeature(Qe.GAMES),i=N.useMemo(()=>t.getActiveNotification(),[t,n]);return N.useEffect(()=>{i&&Fa.emit("notification",{action:"rendered",payload:{questionId:i.data.questionId,questionType:i.data.questionType}})},[i]),i&&i.type===Wl.QUESTION_RESOLVED?i.data.question&&i.data.questionType===Te.PREDICTION?S.jsx(hEe,{action:i.action,close:i.close,...i.data.question}):null:i&&i.type===Wl.ONBOARDING?i.data.onboarding?S.jsx(wSe,{open:r==null?void 0:r.openFeature,close:i.close,...i.data.onboarding}):null:i&&S.jsx(fSe,{...i.data,action:i.action})},pEe=({theme:t})=>{const e=jm(),n=H3(),r=G3();return e&&(r.appNotification||r.onboardingNotification)?r.app&&!r.onboardingNotification?null:S.jsx("div",{className:"StreamLayerSDK",children:S.jsx(V3,{customTheme:t??n.theme,themeMode:n.themeMode,children:S.jsx(mEe,{sdk:e})})}):null},fEe=P("div")({name:"PointsContainer",class:"psiob9b",propsAsIs:!1}),gEe=P("div")({name:"PointsIcon",class:"p1gqe4lh",propsAsIs:!1}),yEe=()=>We,TEe=P(yEe())({name:"PointsSvg",class:"p15syg2y",propsAsIs:!0}),vEe=P("div")({name:"PointsBody",class:"p12n4f2h",propsAsIs:!1}),_Ee=P("div")({name:"PointsTitle",class:"poqmx89",propsAsIs:!1}),bEe=P("div")({name:"PointsValue",class:"prj9b3v",propsAsIs:!1}),SEe=({points:t,onClick:e})=>S.jsxs(fEe,{className:ef,onClick:e,children:[S.jsx(gEe,{children:S.jsx(TEe,{name:"icon-trophy-solid"})}),S.jsxs(vEe,{children:[S.jsx(_Ee,{children:"Total points"}),S.jsx(bEe,{children:S.jsx(gg,{value:t})})]})]}),EEe=({gamification:t})=>{const e=t.userSummary.$store,[n,r]=N.useState(0);return N.useEffect(()=>{const i=e.subscribe(s=>{var a;(a=s==null?void 0:s.summary)!=null&&a.points&&r(s.summary.points)});return()=>{i()}},[e]),S.jsx(SEe,{points:n,onClick:()=>{const i=t.status.get();i===Kl.Suspended?(t.openFeature(),Fa.emit("app",{action:"open",payload:{}})):i===Kl.Ready&&(t.closeFeature(!1),Fa.emit("app",{action:"close",payload:{}}))}})},kEe=({sdk:t})=>{if(!ot(t.featuresList.getStore()))return null;const e=t.getFeature(Qe.GAMES);return e?S.jsx(EEe,{gamification:e}):null},AEe=({theme:t})=>{const e=jm(),n=H3();return e?S.jsx("div",{className:"StreamLayerSDK",children:S.jsx(V3,{customTheme:t??n.theme,themeMode:n.themeMode,children:S.jsx(kEe,{sdk:e})})}):null},wEe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function pH(t){return typeof t=="string"&&wEe.test(t)}function MR(t){if(!pH(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}function CEe(t){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e}const IEe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xEe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function LEe(t,e,n,r,i,s){const a=typeof n=="string"?CEe(n):n,o=typeof r=="string"?MR(r):r;if(typeof r=="string"&&(r=MR(r)),(r==null?void 0:r.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(o),l.set(a,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){s=s||0;for(let c=0;c<16;++c)i[s+c]=l[c];return i}return dF(l)}function REe(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Ob(t,e){return t<<e|t>>>32-e}function NEe(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520],r=new Uint8Array(t.length+1);r.set(t),r[t.length]=128,t=r;const i=t.length/4+2,s=Math.ceil(i/16),a=new Array(s);for(let o=0;o<s;++o){const l=new Uint32Array(16);for(let c=0;c<16;++c)l[c]=t[o*64+c*4]<<24|t[o*64+c*4+1]<<16|t[o*64+c*4+2]<<8|t[o*64+c*4+3];a[o]=l}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<s;++o){const l=new Uint32Array(80);for(let g=0;g<16;++g)l[g]=a[o][g];for(let g=16;g<80;++g)l[g]=Ob(l[g-3]^l[g-8]^l[g-14]^l[g-16],1);let c=n[0],u=n[1],d=n[2],h=n[3],m=n[4];for(let g=0;g<80;++g){const p=Math.floor(g/20),_=Ob(c,5)+REe(p,u,d,h)+m+e[p]+l[g]>>>0;m=h,h=d,d=Ob(u,30)>>>0,u=c,c=_}n[0]=n[0]+c>>>0,n[1]=n[1]+u>>>0,n[2]=n[2]+d>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+m>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}function QT(t,e,n,r){return LEe(80,NEe,t,e,n,r)}QT.DNS=IEe;QT.URL=xEe;const OEe=P("div")({name:"Container",class:"c5b6wdg",propsAsIs:!1}),DEe="a1rlj479",PEe="s35f1di",MEe="sj4471g",$Ee="b12050d8",UEe="b1d5ybek",FEe=t=>t==="left"||t==="right"?PEe:$Ee,BEe=t=>t==="left"||t==="right"?MEe:UEe,jEe=t=>t==="left"?"avdxyl3":t==="right"?"a1bisd08":t==="top"?"a1u9y2aj":"a1qqaks",K9=({children:t,style:e,className:n,enabled:r=!0,hiding:i,direction:s="left",onAnimationEnd:a})=>S.jsx(OEe,{style:e,className:Bn(n,DEe,jEe(s),r&&!i&&FEe(s),r&&i&&BEe(s)),onAnimationEnd:a,children:t}),VEe=P("a")({name:"Link",class:"l1sgte8c",propsAsIs:!1}),HEe=P("div")({name:"BannerContainer",class:"b7yfc72",propsAsIs:!1}),GEe=()=>VEe,qEe=P(GEe())({name:"BannerLink",class:"bejjq94",propsAsIs:!0}),zEe=({promotion:t,promotionId:e,hiding:n,direction:r="bottom"})=>{var i,s;if(!((i=t.additionalBanner)!=null&&i.imageUrl))return null;let a=(s=t.additionalBanner)==null?void 0:s.url;return a&&a.indexOf("http")!==0&&(a=`https://${a}`),S.jsx(K9,{direction:r,hiding:n,children:S.jsx(HEe,{className:"BannerContainer",children:S.jsx(qEe,{as:a?"a":"span",className:"BannerLink",href:a,style:{backgroundImage:`url(${t.additionalBanner.imageUrl})`,cursor:a?"pointer":"default"},"data-promo-id":e,"data-promo-type":t.type,"data-analytics":"banner",target:"_blank"})})})},WEe=P("div")({name:"NotificationContent",class:"n18wsqoo",propsAsIs:!1}),KEe=P("div")({name:"Body",class:"b1ia90c2",propsAsIs:!1}),YEe=P("div")({name:"Title",class:"tg2z08v",propsAsIs:!1}),QEe=P("div")({name:"Text",class:"t59zdk1",propsAsIs:!1}),Y9=P("div")({name:"MediaImgBottom",class:"m1ab9fq",propsAsIs:!1}),XEe=()=>Y9,ZEe=P(XEe())({name:"MediaImgMiddle",class:"m9fsr0y",propsAsIs:!0}),JEe=P("img")({name:"CtaIcon",class:"cvi9y5q",propsAsIs:!1}),e8e=P("button")({name:"Button",class:"bgl6boa",propsAsIs:!1}),t8e=P("div")({name:"Logo",class:"l5mq0z",propsAsIs:!1}),n8e=P("div")({name:"Footer",class:"f1mse0ft",propsAsIs:!1}),r8e=P("div")({name:"Vector",class:"v1hcloah",propsAsIs:!1}),i8e=P("div")({name:"NotificationContainer",class:"n3n65jf",propsAsIs:!1}),s8e={[uo.BOTTOM]:Y9,[uo.MIDDLE]:ZEe},a8e=({src:t,imagePosition:e})=>{const n=s8e[e]||Y9;return S.jsx(n,{children:S.jsx("img",{src:t,alt:""})})},o8e=({notification:t,open:e})=>{if(!t||!t.promotion||t.enabled!==T1.NOTIFICATION_ENABLED)return null;const{title:n,body:r,image:i,promotion:s}=t,{sponsorLogo:a,sponsorLogoMode:o,imagePosition:l,ctaButton:c}=s;return S.jsxs(i8e,{className:"SL_Lower_Third_Notification",onClick:e,children:[S.jsxs(WEe,{children:[S.jsx(a8e,{src:i,imagePosition:l}),S.jsxs(KEe,{children:[n&&S.jsx(YEe,{children:n}),r&&S.jsx(QEe,{children:r})]})]}),S.jsxs(n8e,{children:[o!==y5.NOTIFICATION_SPONSOR_LOGO_NONE&&S.jsxs(S.Fragment,{children:[S.jsx(t8e,{children:S.jsx("img",{src:a,alt:n})}),S.jsx(r8e,{})]}),S.jsxs(e8e,{name:"promo-button",style:{color:c==null?void 0:c.textColor,backgroundColor:c==null?void 0:c.color},children:[(c==null?void 0:c.ctaIcon)&&(c==null?void 0:c.ctaIconMode)===T5.CTA_ICON_TRANSPARENT&&S.jsx(JEe,{src:c==null?void 0:c.ctaIcon,alt:"cta-icon"}),(c==null?void 0:c.label)||"Open"]})]})]})},l8e=P("div")({name:"NotificationContent",class:"n1ku6hz",propsAsIs:!1}),c8e=P("div")({name:"NotificationContainer",class:"nbxqmol",propsAsIs:!1}),u8e=P("div")({name:"Body",class:"b1gu3eml",propsAsIs:!1}),d8e=P("div")({name:"Title",class:"t1u17zva",propsAsIs:!1}),h8e=P("div")({name:"Text",class:"t10ko1g",propsAsIs:!1}),q3=P("div")({name:"Media",class:"mntc42e",propsAsIs:!1}),m8e=()=>q3,$R=P(m8e())({name:"MediaImgFit",class:"ml060eo",propsAsIs:!0}),p8e=()=>q3,fH=P(p8e())({name:"MediaImgCentered",class:"m1vqlvig",propsAsIs:!0}),f8e=()=>fH,g8e=P(f8e())({name:"MediaImgBottom",class:"m1e7tvi5",propsAsIs:!0}),y8e=()=>q3,T8e=P(y8e())({name:"MediaImgSolid",class:"mqvntt2",propsAsIs:!0}),v8e=()=>q3,_8e=P(v8e())({name:"MediaImgMiddle",class:"m12jtj3u",propsAsIs:!0}),b8e=P("img")({name:"CtaIcon",class:"ckq1frv",propsAsIs:!1}),S8e=P("button")({name:"Button",class:"bis90pl",propsAsIs:!1}),E8e=()=>We,k8e=P(E8e())({name:"StyledChevronRight",class:"s9mjmz3",propsAsIs:!0}),A8e=P("div")({name:"Logo",class:"l1cf50a7",propsAsIs:!1}),w8e={[uo.UNSET]:$R,[uo.FIT]:$R,[uo.CENTERED]:fH,[uo.BOTTOM]:g8e,[uo.SOLID]:T8e,[uo.MIDDLE]:_8e},C8e=({src:t,imagePosition:e})=>{const n=w8e[e];return S.jsx(n,{children:S.jsx("img",{src:t,alt:""})})},I8e=({notification:t,open:e,promotionId:n,hiding:r,direction:i="left"})=>{if(!t||!t.promotion||t.enabled!==T1.NOTIFICATION_ENABLED)return null;if(t.promotion.mode===g5.LOWER_THIRD)return S.jsx(o8e,{notification:t,open:e});const{title:s,body:a,image:o,promotion:l}=t,{sponsorLogo:c,sponsorLogoMode:u,imagePosition:d,ctaButton:h}=l;return S.jsx(K9,{className:"SL_Rich_Notification",direction:i,hiding:r,children:S.jsxs(c8e,{onClick:e,children:[u!==y5.NOTIFICATION_SPONSOR_LOGO_NONE&&c&&S.jsx(A8e,{children:S.jsx("img",{src:c,alt:s})}),S.jsxs(l8e,{children:[S.jsx(C8e,{src:o,imagePosition:d}),S.jsxs(u8e,{children:[s&&S.jsx(d8e,{children:s}),a&&S.jsx(h8e,{children:a})]}),S.jsxs(S8e,{name:"promo-button",style:{color:h==null?void 0:h.textColor,backgroundColor:h==null?void 0:h.color},children:[(h==null?void 0:h.ctaIcon)&&(h==null?void 0:h.ctaIconMode)===T5.CTA_ICON_TRANSPARENT&&S.jsx(b8e,{src:h==null?void 0:h.ctaIcon,alt:"cta-icon"}),(h==null?void 0:h.label)||"Open"]}),S.jsx(k8e,{name:"chevronRight"})]})]})})},UR=globalThis||void 0||self,x8e=P("div")({name:"OverlayContainer",class:"okzhq2w",propsAsIs:!1}),gH=P("div")({name:"PromoOverlay",class:"pmgz5i",propsAsIs:!1}),yH=P("div")({name:"Header",class:"hyxi3jt",propsAsIs:!1}),TH=P("div")({name:"HeaderContent",class:"h149e3gp",propsAsIs:!1}),vH="h10toh7",FR=P("img")({name:"SponsorLogo",class:"s1jyea6t",propsAsIs:!1}),L8e=P("div")({name:"SponsorName",class:"szpfa3h",propsAsIs:!1}),_H=P("div")({name:"Media",class:"m1crmu01",propsAsIs:!1}),R8e=P("img")({name:"PromoImg",class:"p1l37r8s",propsAsIs:!1}),N8e="s1nmch9k",BR=P("div")({name:"Content",class:"c1er0ljd",propsAsIs:!1}),O8e=P("div")({name:"Description",class:"dydopmr",propsAsIs:!1}),D8e=P("div")({name:"Sponsor",class:"s1w6nt04",propsAsIs:!1}),P8e=P("div")({name:"SponsorText",class:"s1evcmtq",propsAsIs:!1}),bH=P("div")({name:"ADLogo",class:"awodx0x",propsAsIs:!1}),M8e=P("span")({name:"SponsoredText",class:"s1q3n6oi",propsAsIs:!1}),SH=P("div")({name:"ActionBtnWrap",class:"a8d4xfk",propsAsIs:!1}),EH=P("a")({name:"ActionButton",class:"at6oobh",propsAsIs:!1}),$8e=P("div")({name:"Title",class:"t1gyg7tt",propsAsIs:!1}),U8e="h17rwbtk",F8e=P("div")({name:"Container",class:"c10m2bce",propsAsIs:!1}),jR=P("div")({name:"Item",class:"ig23yq5",propsAsIs:!1}),B8e=P("div")({name:"Dot",class:"d1f6aqua",propsAsIs:!1}),j8e=({time:t,adCount:e,adPosition:n})=>{const r=Math.floor(t/60),i=t-r*60;return r===0&&i===0&&e===n?null:S.jsxs(F8e,{children:[e>1&&S.jsxs(S.Fragment,{children:[S.jsxs(jR,{children:[n," of ",e]}),S.jsx(B8e,{})]}),S.jsxs(jR,{children:[r,":",i<10?`0${i}`:i]})]})},V8e=P("a")({name:"WhyThisAdLink",class:"w13o8uld",propsAsIs:!1}),H8e=({whyThisAd:t})=>!t.iconClickThroughURLTemplate||!t.staticResource?null:S.jsx(V8e,{style:{width:t.width,height:t.height,[t.xPosition]:1,[t.yPosition]:1},href:t.iconClickThroughURLTemplate,target:"_blank",rel:"noreferrer",children:S.jsx("img",{alt:"GoogleWhyThisAd",src:t.staticResource})}),G8e=P("div")({name:"Container",class:"c1xzooj9",propsAsIs:!1}),q8e=P("div")({name:"ControlsContainer",class:"c1bo41vr",propsAsIs:!1}),VR="m13efyu8",HR="mladkgh",GR="mjnga56";var kH=t=>{throw TypeError(t)},AH=(t,e,n)=>e.has(t)||kH("Cannot "+n),gt=(t,e,n)=>(AH(t,e,"read from private field"),n?n.call(t):e.get(t)),Ar=(t,e,n)=>e.has(t)?kH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),On=(t,e,n,r)=>(AH(t,e,"write to private field"),e.set(t,n),n),XT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof UR<"u"?UR:typeof self<"u"?self:{};function Vm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function z8e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const ZT=globalThis||void 0||self;var lf;typeof window<"u"?lf=window:typeof XT<"u"?lf=XT:typeof self<"u"?lf=self:lf={};var z3=lf;const G=Vm(z3),W8e={},K8e=Object.freeze(Object.defineProperty({__proto__:null,default:W8e},Symbol.toStringTag,{value:"Module"})),Y8e=z8e(K8e);var qR=typeof XT<"u"?XT:typeof window<"u"?window:{},Q8e=Y8e,cf;typeof document<"u"?cf=document:(cf=qR["__GLOBAL_DOCUMENT_CACHE@4"],cf||(cf=qR["__GLOBAL_DOCUMENT_CACHE@4"]=Q8e));var wH=cf;const we=Vm(wH);var Q9={exports:{}},CH={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(CH);var X8e=CH.exports,Z8e=eke,J8e=Object.prototype.toString;function eke(t){if(!t)return!1;var e=J8e.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function tke(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=nke(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nke(t,e){if(t){if(typeof t=="string")return zR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rke=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,r){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var i=this.typeToInterceptorsMap_.get(n);return i.has(r)?!1:(i.add(r),!0)},e.removeInterceptor=function(n,r){var i=this.typeToInterceptorsMap_.get(n);return i&&i.has(r)?(i.delete(r),!0):!1},e.clearInterceptorsByType=function(n){var r=this.typeToInterceptorsMap_.get(n);return r?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,r){for(var i=this.getForType(n),s=tke(i),a;!(a=s()).done;){var o=a.value;try{r=o(r)}catch{}}return r},t}(),ike=rke,ske=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var r=n===void 0?{}:n,i=r.maxAttempts,s=r.delayFactor,a=r.fuzzFactor,o=r.initialDelay;return new ake({maxAttempts:i||this.maxAttempts_,delayFactor:s||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:o||this.initialDelay_})},t}(),ake=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),r=this.getCurrentMaxPossibleDelay();return n+Math.random()*(r-n)},t}(),oke=ske,lke=z3,cke=function(t,e){return e===void 0&&(e=!1),function(n,r,i){if(n){t(n);return}if(r.statusCode>=400&&r.statusCode<=599){var s=i;if(e)if(lke.TextDecoder){var a=uke(r.headers&&r.headers["content-type"]);try{s=new TextDecoder(a).decode(i)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(i));t({cause:s});return}t(null,i)}};function uke(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var r=n.split("="),i=r[0],s=r[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var dke=cke,IH=z3,hke=X8e,mke=Z8e,xH=ike,pke=oke;pn.httpHandler=dke;pn.requestInterceptorsStorage=new xH;pn.responseInterceptorsStorage=new xH;pn.retryManager=new pke;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var fke=function(t){var e={};return t&&t.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();typeof e[i]>"u"?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e};Q9.exports=pn;Q9.exports.default=pn;pn.XMLHttpRequest=IH.XMLHttpRequest||vke;pn.XDomainRequest="withCredentials"in new pn.XMLHttpRequest?pn.XMLHttpRequest:IH.XDomainRequest;gke(["get","put","post","patch","head","delete"],function(t){pn[t==="delete"?"del":t]=function(e,n,r){return n=LH(e,n,r),n.method=t.toUpperCase(),X9(n)}});function gke(t,e){for(var n=0;n<t.length;n++)e(t[n])}function yke(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function LH(t,e,n){var r=t;return mke(e)?(n=e,typeof t=="string"&&(r={uri:t})):r=hke({},e,{uri:t}),r.callback=n,r}function pn(t,e,n){return e=LH(t,e,n),X9(e)}function X9(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&pn.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=pn.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var r=!1,i=function(x,C,R){r||(r=!0,t.callback(x,C,R))};function s(){c.readyState===4&&!pn.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var x=void 0;if(c.response?x=c.response:x=c.responseText||Tke(c),y)try{x=JSON.parse(x)}catch{}return x}function o(x){if(clearTimeout(v),clearTimeout(t.retryTimeout),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,!d&&pn.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=c,X9(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&pn.responseInterceptorsStorage.getIsEnabled()){var C={headers:E.headers||{},body:E.body,responseUrl:c.responseURL,responseType:c.responseType},R=pn.responseInterceptorsStorage.execute(t.requestType,C);E.body=R.body,E.headers=R.headers}return i(x,E)}function l(){if(!d){var x;clearTimeout(v),clearTimeout(t.retryTimeout),t.useXDR&&c.status===void 0?x=200:x=c.status===1223?204:c.status;var C=E,R=null;if(x!==0?(C={body:a(),statusCode:x,method:m,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(C.headers=fke(c.getAllResponseHeaders()))):R=new Error("Internal XMLHttpRequest Error"),t.requestType&&pn.responseInterceptorsStorage.getIsEnabled()){var D={headers:C.headers||{},body:C.body,responseUrl:c.responseURL,responseType:c.responseType},U=pn.responseInterceptorsStorage.execute(t.requestType,D);C.body=U.body,C.headers=U.headers}return i(R,C,C.body)}}var c=t.xhr||null;c||(t.cors||t.useXDR?c=new pn.XDomainRequest:c=new pn.XMLHttpRequest);var u,d,h=c.url=t.uri||t.url,m=c.method=t.method||"GET",g=t.body||t.data,p=c.headers=t.headers||{},_=!!t.sync,y=!1,v,E={body:void 0,headers:{},statusCode:0,method:m,url:h,rawRequest:c};if("json"in t&&t.json!==!1&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),c.onreadystatechange=s,c.onload=l,c.onerror=o,c.onprogress=function(){},c.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},c.ontimeout=o,c.open(m,h,!_,t.username,t.password),_||(c.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(v=setTimeout(function(){if(!d){d=!0,c.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",o(x)}},t.timeout)),c.setRequestHeader)for(u in p)p.hasOwnProperty(u)&&c.setRequestHeader(u,p[u]);else if(t.headers&&!yke(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(c),c.send(g||null),c}function Tke(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function vke(){}var _ke=Q9.exports;const RH=Vm(_ke);var NH={exports:{}},WR=wH,Z9=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ii(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ii.prototype=Z9(Error.prototype);Ii.prototype.constructor=Ii;Ii.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function J9(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Gf(){this.values=Z9(null)}Gf.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function uf(t,e,n,r){var i=r?t.split(r):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function bke(t,e,n){var r=t;function i(){var o=J9(t);if(o===null)throw new Ii(Ii.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var c=new Gf;uf(o,function(u,d){switch(u){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===d){c.set(u,n[h].region);break}break;case"vertical":c.alt(u,d,["rl","lr"]);break;case"line":var m=d.split(","),g=m[0];c.integer(u,g),c.percent(u,g)&&c.set("snapToLines",!1),c.alt(u,g,["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=d.split(","),c.percent(u,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start","center","end"]);break;case"size":c.percent(u,d);break;case"align":c.alt(u,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new Ii(Ii.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var Db=WR.createElement&&WR.createElement("textarea"),Ske={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},KR={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Eke={v:"title",lang:"lang"},YR={rt:"ruby"};function OH(t,e){function n(){if(!e)return null;function g(_){return e=e.substr(_.length),_}var p=e.match(/^([^<]*)(<[^>]*>?)?/);return g(p[1]?p[1]:p[2])}function r(g){return Db.innerHTML=g,g=Db.textContent,Db.textContent="",g}function i(g,p){return!YR[p.localName]||YR[p.localName]===g.localName}function s(g,p){var _=Ske[g];if(!_)return null;var y=t.document.createElement(_),v=Eke[g];return v&&p&&(y[v]=p.trim()),y}for(var a=t.document.createElement("div"),o=a,l,c=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),o=o.parentNode);continue}var u=J9(l.substr(1,l.length-2)),d;if(u){d=t.document.createProcessingInstruction("timestamp",u),o.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=s(h[1],h[3]),!d)||!i(o,d))continue;if(h[2]){var m=h[2].split(".");m.forEach(function(g){var p=/^bg_/.test(g),_=p?g.slice(3):g;if(KR.hasOwnProperty(_)){var y=p?"background-color":"color",v=KR[_];d.style[y]=v}}),d.className=m.join(" ")}c.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var QR=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function kke(t){for(var e=0;e<QR.length;e++){var n=QR[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function Ake(t){var e=[],n="",r;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var c=l.childNodes.length-1;c>=0;c--)o.push(l.childNodes[c])}function s(o){if(!o||!o.length)return null;var l=o.pop(),c=l.textContent||l.innerText;if(c){var u=c.match(/^.*(\n|\r)/);return u?(o.length=0,u[0]):c}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(r=n.charCodeAt(a),kke(r))return"rtl";return"ltr"}function wke(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)n[i].mode==="showing"&&r++;return++r*-1}function W3(){}W3.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};W3.prototype.formatStyle=function(t,e){return t===0?0:t+e};function JT(t,e,n){W3.call(this),this.cue=e,this.cueDiv=OH(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:Ake(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}JT.prototype=Z9(W3.prototype);JT.prototype.constructor=JT;function Hr(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}Hr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Hr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Hr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Hr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Hr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Hr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*n;return r/(this.height*this.width)};Hr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Hr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n};return i};function Cke(t,e,n,r){function i(_,y){for(var v,E=new Hr(_),x=1,C=0;C<y.length;C++){for(;_.overlapsOppositeAxis(n,y[C])||_.within(n)&&_.overlapsAny(r);)_.move(y[C]);if(_.within(n))return _;var R=_.intersectPercentage(n);x>R&&(v=new Hr(_),x=R),_=new Hr(E)}return v||E}var s=new Hr(e),a=e.cue,o=wke(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=s.lineHeight,d=u*Math.round(o),h=n[c]+u,m=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/u)*u),o<0&&(d+=a.vertical===""?n.height:n.width,l=l.reverse()),s.move(m,d)}else{var g=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=g/2;break;case"end":o-=g;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Hr(e)}var p=i(s,l);e.move(p.toCSSCompatValues(n))}function Hm(){}Hm.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Hm.convertCueToDOMTree=function(t,e){return!t||!e?null:OH(t,e)};var Ike=.05,xke="sans-serif",Lke="1.5%";Hm.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=Lke,n.appendChild(r);function i(u){for(var d=0;d<u.length;d++)if(u[d].hasBeenReset||!u[d].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=Hr.getSimpleBoxPosition(r),l=Math.round(o.height*Ike*100)/100,c={font:l+"px "+xke};(function(){for(var u,d,h=0;h<e.length;h++)d=e[h],u=new JT(t,d,c),r.appendChild(u.div),Cke(t,u,o,a),d.displayState=u.div,a.push(Hr.getSimpleBoxPosition(u))})()};Hm.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Hm.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ii)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var u=e.buffer,d=0;d<u.length&&u[d]!=="\r"&&u[d]!==`
`;)++d;var h=u.substr(0,d);return u[d]==="\r"&&++d,u[d]===`
`&&++d,e.buffer=u.substr(d),h}function r(u){var d=new Gf;if(uf(u,function(m,g){switch(m){case"id":d.set(m,g);break;case"width":d.percent(m,g);break;case"lines":d.integer(m,g);break;case"regionanchor":case"viewportanchor":var p=g.split(",");if(p.length!==2)break;var _=new Gf;if(_.percent("x",p[0]),_.percent("y",p[1]),!_.has("x")||!_.has("y"))break;d.set(m+"X",_.get("x")),d.set(m+"Y",_.get("y"));break;case"scroll":d.alt(m,g,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function i(u){var d=new Gf;uf(u,function(h,m){switch(h){case"MPEGT":d.integer(h+"S",m);break;case"LOCA":d.set(h+"L",J9(m));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(u){u.match(/X-TIMESTAMP-MAP/)?uf(u,function(d,h){switch(d){case"X-TIMESTAMP-MAP":i(h);break}},/=/):uf(u,function(d,h){switch(d){case"Region":r(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Ii(Ii.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{bke(a,e.cue,e.regionList)}catch(u){e.reportOrThrowError(u),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(u){e.reportOrThrowError(u),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ii(Ii.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Rke=Hm,Nke="auto",Oke={"":1,lr:1,rl:1},Dke={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Pke(t){if(typeof t!="string")return!1;var e=Oke[t.toLowerCase()];return e?t.toLowerCase():!1}function Pb(t){if(typeof t!="string")return!1;var e=Dke[t.toLowerCase()];return e?t.toLowerCase():!1}function DH(t,e,n){this.hasBeenReset=!1;var r="",i=!1,s=t,a=e,o=n,l=null,c="",u=!0,d="auto",h="start",m="auto",g="auto",p=100,_="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(y){r=""+y}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(y){i=!!y}},startTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");s=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");a=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(y){o=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(y){var v=Pke(y);if(v===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=v,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(y){u=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(y){if(typeof y!="number"&&y!==Nke)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(y){var v=Pb(y);v?(h=v,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");m=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(y){var v=Pb(y);v?(g=v,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return p},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");p=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(y){var v=Pb(y);if(!v)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");_=v,this.hasBeenReset=!0}}}),this.displayState=void 0}DH.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Mke=DH,$ke={"":!0,up:!0};function Uke(t){if(typeof t!="string")return!1;var e=$ke[t.toLowerCase()];return e?t.toLowerCase():!1}function $p(t){return typeof t=="number"&&t>=0&&t<=100}function Fke(){var t=100,e=3,n=0,r=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!$p(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!$p(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!$p(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!$p(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!$p(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=Uke(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Bke=Fke,Ho=z3,Wu=NH.exports={WebVTT:Rke,VTTCue:Mke,VTTRegion:Bke};Ho.vttjs=Wu;Ho.WebVTT=Wu.WebVTT;var jke=Wu.VTTCue,Vke=Wu.VTTRegion,Hke=Ho.VTTCue,Gke=Ho.VTTRegion;Wu.shim=function(){Ho.VTTCue=jke,Ho.VTTRegion=Vke};Wu.restore=function(){Ho.VTTCue=Hke,Ho.VTTRegion=Gke};Ho.VTTCue||Wu.shim();var qke=NH.exports;const XR=Vm(qke);function Sn(){return Sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sn.apply(null,arguments)}var ZR="https://example.com",K3=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=G.location&&G.location.href||"");var n=/^\/\//.test(t),r=!G.location&&!/\/\//i.test(t);t=new G.URL(t,G.location||ZR);var i=new URL(e,t);return r?i.href.slice(ZR.length):n?i.href.slice(i.protocol.length):i.href},eA=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(i,1),i>-1},e.trigger=function(n){var r=this.listeners[n];if(r)if(arguments.length===2)for(var i=r.length,s=0;s<i;++s)r[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),o=r.length,l=0;l<o;++l)r[l].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),PH={},Y3={};Y3.byteLength=Kke;Y3.toByteArray=Qke;Y3.fromByteArray=Jke;var ka=[],Zi=[],zke=typeof Uint8Array<"u"?Uint8Array:Array,Mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var dd=0,Wke=Mb.length;dd<Wke;++dd)ka[dd]=Mb[dd],Zi[Mb.charCodeAt(dd)]=dd;Zi[45]=62;Zi[95]=63;function MH(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Kke(t){var e=MH(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Yke(t,e,n){return(e+n)*3/4-n}function Qke(t){var e,n=MH(t),r=n[0],i=n[1],s=new zke(Yke(t,r,i)),a=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=Zi[t.charCodeAt(l)]<<18|Zi[t.charCodeAt(l+1)]<<12|Zi[t.charCodeAt(l+2)]<<6|Zi[t.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Zi[t.charCodeAt(l)]<<2|Zi[t.charCodeAt(l+1)]>>4,s[a++]=e&255),i===1&&(e=Zi[t.charCodeAt(l)]<<10|Zi[t.charCodeAt(l+1)]<<4|Zi[t.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Xke(t){return ka[t>>18&63]+ka[t>>12&63]+ka[t>>6&63]+ka[t&63]}function Zke(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Xke(r));return i.join("")}function Jke(t){for(var e,n=t.length,r=n%3,i=[],s=16383,a=0,o=n-r;a<o;a+=s)i.push(Zke(t,a,a+s>o?o:a+s));return r===1?(e=t[n-1],i.push(ka[e>>2]+ka[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ka[e>>10]+ka[e>>4&63]+ka[e<<2&63]+"=")),i.join("")}var tA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */tA.read=function(t,e,n,r,i){var s,a,o=i*8-r-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,m=t[e+d];for(d+=h,s=m&(1<<-u)-1,m>>=-u,u+=o;u>0;s=s*256+t[e+d],d+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=a*256+t[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-c}return(m?-1:1)*a*Math.pow(2,s-r)};tA.write=function(t,e,n,r,i,s){var a,o,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,g=r?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(e*l-1)*Math.pow(2,i),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+m]=o&255,m+=g,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[n+m]=a&255,m+=g,a/=256,c-=8);t[n+m-g]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Y3,n=tA,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:a,SharedArrayBuffer:o}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const A=new s(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,s.prototype),Object.setPrototypeOf(A,O),A.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const O=new s(A);return Object.setPrototypeOf(O,u.prototype),O}function u(A,O,M){if(typeof A=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(A)}return d(A,O,M)}u.poolSize=8192;function d(A,O,M){if(typeof A=="string")return p(A,O);if(a.isView(A))return y(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(Jr(A,a)||A&&Jr(A.buffer,a)||typeof o<"u"&&(Jr(A,o)||A&&Jr(A.buffer,o)))return v(A,O,M);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=A.valueOf&&A.valueOf();if(Z!=null&&Z!==A)return u.from(Z,O,M);const se=E(A);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return u.from(A[Symbol.toPrimitive]("string"),O,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}u.from=function(A,O,M){return d(A,O,M)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function h(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function m(A,O,M){return h(A),A<=0?c(A):O!==void 0?typeof M=="string"?c(A).fill(O,M):c(A).fill(O):c(A)}u.alloc=function(A,O,M){return m(A,O,M)};function g(A){return h(A),c(A<0?0:x(A)|0)}u.allocUnsafe=function(A){return g(A)},u.allocUnsafeSlow=function(A){return g(A)};function p(A,O){if((typeof O!="string"||O==="")&&(O="utf8"),!u.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const M=R(A,O)|0;let Z=c(M);const se=Z.write(A,O);return se!==M&&(Z=Z.slice(0,se)),Z}function _(A){const O=A.length<0?0:x(A.length)|0,M=c(O);for(let Z=0;Z<O;Z+=1)M[Z]=A[Z]&255;return M}function y(A){if(Jr(A,s)){const O=new s(A);return v(O.buffer,O.byteOffset,O.byteLength)}return _(A)}function v(A,O,M){if(O<0||A.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<O+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return O===void 0&&M===void 0?Z=new s(A):M===void 0?Z=new s(A,O):Z=new s(A,O,M),Object.setPrototypeOf(Z,u.prototype),Z}function E(A){if(u.isBuffer(A)){const O=x(A.length)|0,M=c(O);return M.length===0||A.copy(M,0,0,O),M}if(A.length!==void 0)return typeof A.length!="number"||Cc(A.length)?c(0):_(A);if(A.type==="Buffer"&&Array.isArray(A.data))return _(A.data)}function x(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function C(A){return+A!=A&&(A=0),u.alloc(+A)}u.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==u.prototype},u.compare=function(A,O){if(Jr(A,s)&&(A=u.from(A,A.offset,A.byteLength)),Jr(O,s)&&(O=u.from(O,O.offset,O.byteLength)),!u.isBuffer(A)||!u.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===O)return 0;let M=A.length,Z=O.length;for(let se=0,ge=Math.min(M,Z);se<ge;++se)if(A[se]!==O[se]){M=A[se],Z=O[se];break}return M<Z?-1:Z<M?1:0},u.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(A,O){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return u.alloc(0);let M;if(O===void 0)for(O=0,M=0;M<A.length;++M)O+=A[M].length;const Z=u.allocUnsafe(O);let se=0;for(M=0;M<A.length;++M){let ge=A[M];if(Jr(ge,s))se+ge.length>Z.length?(u.isBuffer(ge)||(ge=u.from(ge)),ge.copy(Z,se)):s.prototype.set.call(Z,ge,se);else if(u.isBuffer(ge))ge.copy(Z,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ge.length}return Z};function R(A,O){if(u.isBuffer(A))return A.length;if(a.isView(A)||Jr(A,a))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const M=A.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&M===0)return 0;let se=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return rt(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Ng(A).length;default:if(se)return Z?-1:rt(A).length;O=(""+O).toLowerCase(),se=!0}}u.byteLength=R;function D(A,O,M){let Z=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,O>>>=0,M<=O))return"";for(A||(A="utf8");;)switch(A){case"hex":return W(this,O,M);case"utf8":case"utf-8":return _e(this,O,M);case"ascii":return re(this,O,M);case"latin1":case"binary":return Ae(this,O,M);case"base64":return oe(this,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,O,M);default:if(Z)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Z=!0}}u.prototype._isBuffer=!0;function U(A,O,M){const Z=A[O];A[O]=A[M],A[M]=Z}u.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<A;O+=2)U(this,O,O+1);return this},u.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<A;O+=4)U(this,O,O+3),U(this,O+1,O+2);return this},u.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<A;O+=8)U(this,O,O+7),U(this,O+1,O+6),U(this,O+2,O+5),U(this,O+3,O+4);return this},u.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?_e(this,0,A):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(A){if(!u.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:u.compare(this,A)===0},u.prototype.inspect=function(){let A="";const O=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(A+=" ... "),"<Buffer "+A+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(A,O,M,Z,se){if(Jr(A,s)&&(A=u.from(A,A.offset,A.byteLength)),!u.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(O===void 0&&(O=0),M===void 0&&(M=A?A.length:0),Z===void 0&&(Z=0),se===void 0&&(se=this.length),O<0||M>A.length||Z<0||se>this.length)throw new RangeError("out of range index");if(Z>=se&&O>=M)return 0;if(Z>=se)return-1;if(O>=M)return 1;if(O>>>=0,M>>>=0,Z>>>=0,se>>>=0,this===A)return 0;let ge=se-Z,xe=M-O;const At=Math.min(ge,xe),Rn=this.slice(Z,se),It=A.slice(O,M);for(let St=0;St<At;++St)if(Rn[St]!==It[St]){ge=Rn[St],xe=It[St];break}return ge<xe?-1:xe<ge?1:0};function K(A,O,M,Z,se){if(A.length===0)return-1;if(typeof M=="string"?(Z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,Cc(M)&&(M=se?0:A.length-1),M<0&&(M=A.length+M),M>=A.length){if(se)return-1;M=A.length-1}else if(M<0)if(se)M=0;else return-1;if(typeof O=="string"&&(O=u.from(O,Z)),u.isBuffer(O))return O.length===0?-1:V(A,O,M,Z,se);if(typeof O=="number")return O=O&255,typeof s.prototype.indexOf=="function"?se?s.prototype.indexOf.call(A,O,M):s.prototype.lastIndexOf.call(A,O,M):V(A,[O],M,Z,se);throw new TypeError("val must be string, number or Buffer")}function V(A,O,M,Z,se){let ge=1,xe=A.length,At=O.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(A.length<2||O.length<2)return-1;ge=2,xe/=2,At/=2,M/=2}function Rn(St,nn){return ge===1?St[nn]:St.readUInt16BE(nn*ge)}let It;if(se){let St=-1;for(It=M;It<xe;It++)if(Rn(A,It)===Rn(O,St===-1?0:It-St)){if(St===-1&&(St=It),It-St+1===At)return St*ge}else St!==-1&&(It-=It-St),St=-1}else for(M+At>xe&&(M=xe-At),It=M;It>=0;It--){let St=!0;for(let nn=0;nn<At;nn++)if(Rn(A,It+nn)!==Rn(O,nn)){St=!1;break}if(St)return It}return-1}u.prototype.includes=function(A,O,M){return this.indexOf(A,O,M)!==-1},u.prototype.indexOf=function(A,O,M){return K(this,A,O,M,!0)},u.prototype.lastIndexOf=function(A,O,M){return K(this,A,O,M,!1)};function X(A,O,M,Z){M=Number(M)||0;const se=A.length-M;Z?(Z=Number(Z),Z>se&&(Z=se)):Z=se;const ge=O.length;Z>ge/2&&(Z=ge/2);let xe;for(xe=0;xe<Z;++xe){const At=parseInt(O.substr(xe*2,2),16);if(Cc(At))return xe;A[M+xe]=At}return xe}function he(A,O,M,Z){return Jo(rt(O,A.length-M),A,M,Z)}function ie(A,O,M,Z){return Jo(x_(O),A,M,Z)}function pe(A,O,M,Z){return Jo(Ng(O),A,M,Z)}function ne(A,O,M,Z){return Jo(ep(O,A.length-M),A,M,Z)}u.prototype.write=function(A,O,M,Z){if(O===void 0)Z="utf8",M=this.length,O=0;else if(M===void 0&&typeof O=="string")Z=O,M=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(M)?(M=M>>>0,Z===void 0&&(Z="utf8")):(Z=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-O;if((M===void 0||M>se)&&(M=se),A.length>0&&(M<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let ge=!1;for(;;)switch(Z){case"hex":return X(this,A,O,M);case"utf8":case"utf-8":return he(this,A,O,M);case"ascii":case"latin1":case"binary":return ie(this,A,O,M);case"base64":return pe(this,A,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,A,O,M);default:if(ge)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ge=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(A,O,M){return O===0&&M===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(O,M))}function _e(A,O,M){M=Math.min(A.length,M);const Z=[];let se=O;for(;se<M;){const ge=A[se];let xe=null,At=ge>239?4:ge>223?3:ge>191?2:1;if(se+At<=M){let Rn,It,St,nn;switch(At){case 1:ge<128&&(xe=ge);break;case 2:Rn=A[se+1],(Rn&192)===128&&(nn=(ge&31)<<6|Rn&63,nn>127&&(xe=nn));break;case 3:Rn=A[se+1],It=A[se+2],(Rn&192)===128&&(It&192)===128&&(nn=(ge&15)<<12|(Rn&63)<<6|It&63,nn>2047&&(nn<55296||nn>57343)&&(xe=nn));break;case 4:Rn=A[se+1],It=A[se+2],St=A[se+3],(Rn&192)===128&&(It&192)===128&&(St&192)===128&&(nn=(ge&15)<<18|(Rn&63)<<12|(It&63)<<6|St&63,nn>65535&&nn<1114112&&(xe=nn))}}xe===null?(xe=65533,At=1):xe>65535&&(xe-=65536,Z.push(xe>>>10&1023|55296),xe=56320|xe&1023),Z.push(xe),se+=At}return te(Z)}const Y=4096;function te(A){const O=A.length;if(O<=Y)return String.fromCharCode.apply(String,A);let M="",Z=0;for(;Z<O;)M+=String.fromCharCode.apply(String,A.slice(Z,Z+=Y));return M}function re(A,O,M){let Z="";M=Math.min(A.length,M);for(let se=O;se<M;++se)Z+=String.fromCharCode(A[se]&127);return Z}function Ae(A,O,M){let Z="";M=Math.min(A.length,M);for(let se=O;se<M;++se)Z+=String.fromCharCode(A[se]);return Z}function W(A,O,M){const Z=A.length;(!O||O<0)&&(O=0),(!M||M<0||M>Z)&&(M=Z);let se="";for(let ge=O;ge<M;++ge)se+=Zu[A[ge]];return se}function J(A,O,M){const Z=A.slice(O,M);let se="";for(let ge=0;ge<Z.length-1;ge+=2)se+=String.fromCharCode(Z[ge]+Z[ge+1]*256);return se}u.prototype.slice=function(A,O){const M=this.length;A=~~A,O=O===void 0?M:~~O,A<0?(A+=M,A<0&&(A=0)):A>M&&(A=M),O<0?(O+=M,O<0&&(O=0)):O>M&&(O=M),O<A&&(O=A);const Z=this.subarray(A,O);return Object.setPrototypeOf(Z,u.prototype),Z};function le(A,O,M){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+O>M)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(A,O,M){A=A>>>0,O=O>>>0,M||le(A,O,this.length);let Z=this[A],se=1,ge=0;for(;++ge<O&&(se*=256);)Z+=this[A+ge]*se;return Z},u.prototype.readUintBE=u.prototype.readUIntBE=function(A,O,M){A=A>>>0,O=O>>>0,M||le(A,O,this.length);let Z=this[A+--O],se=1;for(;O>0&&(se*=256);)Z+=this[A+--O]*se;return Z},u.prototype.readUint8=u.prototype.readUInt8=function(A,O){return A=A>>>0,O||le(A,1,this.length),this[A]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(A,O){return A=A>>>0,O||le(A,2,this.length),this[A]|this[A+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(A,O){return A=A>>>0,O||le(A,2,this.length),this[A]<<8|this[A+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(A,O){return A=A>>>0,O||le(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(A,O){return A=A>>>0,O||le(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},u.prototype.readBigUInt64LE=Ki(function(A){A=A>>>0,pt(A,"offset");const O=this[A],M=this[A+7];(O===void 0||M===void 0)&&tr(A,this.length-8);const Z=O+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,se=this[++A]+this[++A]*2**8+this[++A]*2**16+M*2**24;return BigInt(Z)+(BigInt(se)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ki(function(A){A=A>>>0,pt(A,"offset");const O=this[A],M=this[A+7];(O===void 0||M===void 0)&&tr(A,this.length-8);const Z=O*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],se=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+M;return(BigInt(Z)<<BigInt(32))+BigInt(se)}),u.prototype.readIntLE=function(A,O,M){A=A>>>0,O=O>>>0,M||le(A,O,this.length);let Z=this[A],se=1,ge=0;for(;++ge<O&&(se*=256);)Z+=this[A+ge]*se;return se*=128,Z>=se&&(Z-=Math.pow(2,8*O)),Z},u.prototype.readIntBE=function(A,O,M){A=A>>>0,O=O>>>0,M||le(A,O,this.length);let Z=O,se=1,ge=this[A+--Z];for(;Z>0&&(se*=256);)ge+=this[A+--Z]*se;return se*=128,ge>=se&&(ge-=Math.pow(2,8*O)),ge},u.prototype.readInt8=function(A,O){return A=A>>>0,O||le(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},u.prototype.readInt16LE=function(A,O){A=A>>>0,O||le(A,2,this.length);const M=this[A]|this[A+1]<<8;return M&32768?M|4294901760:M},u.prototype.readInt16BE=function(A,O){A=A>>>0,O||le(A,2,this.length);const M=this[A+1]|this[A]<<8;return M&32768?M|4294901760:M},u.prototype.readInt32LE=function(A,O){return A=A>>>0,O||le(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},u.prototype.readInt32BE=function(A,O){return A=A>>>0,O||le(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},u.prototype.readBigInt64LE=Ki(function(A){A=A>>>0,pt(A,"offset");const O=this[A],M=this[A+7];(O===void 0||M===void 0)&&tr(A,this.length-8);const Z=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(M<<24);return(BigInt(Z)<<BigInt(32))+BigInt(O+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),u.prototype.readBigInt64BE=Ki(function(A){A=A>>>0,pt(A,"offset");const O=this[A],M=this[A+7];(O===void 0||M===void 0)&&tr(A,this.length-8);const Z=(O<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(Z)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+M)}),u.prototype.readFloatLE=function(A,O){return A=A>>>0,O||le(A,4,this.length),n.read(this,A,!0,23,4)},u.prototype.readFloatBE=function(A,O){return A=A>>>0,O||le(A,4,this.length),n.read(this,A,!1,23,4)},u.prototype.readDoubleLE=function(A,O){return A=A>>>0,O||le(A,8,this.length),n.read(this,A,!0,52,8)},u.prototype.readDoubleBE=function(A,O){return A=A>>>0,O||le(A,8,this.length),n.read(this,A,!1,52,8)};function ve(A,O,M,Z,se,ge){if(!u.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>se||O<ge)throw new RangeError('"value" argument is out of bounds');if(M+Z>A.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(A,O,M,Z){if(A=+A,O=O>>>0,M=M>>>0,!Z){const xe=Math.pow(2,8*M)-1;ve(this,A,O,M,xe,0)}let se=1,ge=0;for(this[O]=A&255;++ge<M&&(se*=256);)this[O+ge]=A/se&255;return O+M},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(A,O,M,Z){if(A=+A,O=O>>>0,M=M>>>0,!Z){const xe=Math.pow(2,8*M)-1;ve(this,A,O,M,xe,0)}let se=M-1,ge=1;for(this[O+se]=A&255;--se>=0&&(ge*=256);)this[O+se]=A/ge&255;return O+M},u.prototype.writeUint8=u.prototype.writeUInt8=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,1,255,0),this[O]=A&255,O+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,2,65535,0),this[O]=A&255,this[O+1]=A>>>8,O+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,2,65535,0),this[O]=A>>>8,this[O+1]=A&255,O+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,4,4294967295,0),this[O+3]=A>>>24,this[O+2]=A>>>16,this[O+1]=A>>>8,this[O]=A&255,O+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,4,4294967295,0),this[O]=A>>>24,this[O+1]=A>>>16,this[O+2]=A>>>8,this[O+3]=A&255,O+4};function Re(A,O,M,Z,se){Ss(O,Z,se,A,M,7);let ge=Number(O&BigInt(4294967295));A[M++]=ge,ge=ge>>8,A[M++]=ge,ge=ge>>8,A[M++]=ge,ge=ge>>8,A[M++]=ge;let xe=Number(O>>BigInt(32)&BigInt(4294967295));return A[M++]=xe,xe=xe>>8,A[M++]=xe,xe=xe>>8,A[M++]=xe,xe=xe>>8,A[M++]=xe,M}function Me(A,O,M,Z,se){Ss(O,Z,se,A,M,7);let ge=Number(O&BigInt(4294967295));A[M+7]=ge,ge=ge>>8,A[M+6]=ge,ge=ge>>8,A[M+5]=ge,ge=ge>>8,A[M+4]=ge;let xe=Number(O>>BigInt(32)&BigInt(4294967295));return A[M+3]=xe,xe=xe>>8,A[M+2]=xe,xe=xe>>8,A[M+1]=xe,xe=xe>>8,A[M]=xe,M+8}u.prototype.writeBigUInt64LE=Ki(function(A,O=0){return Re(this,A,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ki(function(A,O=0){return Me(this,A,O,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(A,O,M,Z){if(A=+A,O=O>>>0,!Z){const At=Math.pow(2,8*M-1);ve(this,A,O,M,At-1,-At)}let se=0,ge=1,xe=0;for(this[O]=A&255;++se<M&&(ge*=256);)A<0&&xe===0&&this[O+se-1]!==0&&(xe=1),this[O+se]=(A/ge>>0)-xe&255;return O+M},u.prototype.writeIntBE=function(A,O,M,Z){if(A=+A,O=O>>>0,!Z){const At=Math.pow(2,8*M-1);ve(this,A,O,M,At-1,-At)}let se=M-1,ge=1,xe=0;for(this[O+se]=A&255;--se>=0&&(ge*=256);)A<0&&xe===0&&this[O+se+1]!==0&&(xe=1),this[O+se]=(A/ge>>0)-xe&255;return O+M},u.prototype.writeInt8=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,1,127,-128),A<0&&(A=255+A+1),this[O]=A&255,O+1},u.prototype.writeInt16LE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,2,32767,-32768),this[O]=A&255,this[O+1]=A>>>8,O+2},u.prototype.writeInt16BE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,2,32767,-32768),this[O]=A>>>8,this[O+1]=A&255,O+2},u.prototype.writeInt32LE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,4,2147483647,-2147483648),this[O]=A&255,this[O+1]=A>>>8,this[O+2]=A>>>16,this[O+3]=A>>>24,O+4},u.prototype.writeInt32BE=function(A,O,M){return A=+A,O=O>>>0,M||ve(this,A,O,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[O]=A>>>24,this[O+1]=A>>>16,this[O+2]=A>>>8,this[O+3]=A&255,O+4},u.prototype.writeBigInt64LE=Ki(function(A,O=0){return Re(this,A,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ki(function(A,O=0){return Me(this,A,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(A,O,M,Z,se,ge){if(M+Z>A.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function Ge(A,O,M,Z,se){return O=+O,M=M>>>0,se||Ue(A,O,M,4),n.write(A,O,M,Z,23,4),M+4}u.prototype.writeFloatLE=function(A,O,M){return Ge(this,A,O,!0,M)},u.prototype.writeFloatBE=function(A,O,M){return Ge(this,A,O,!1,M)};function Je(A,O,M,Z,se){return O=+O,M=M>>>0,se||Ue(A,O,M,8),n.write(A,O,M,Z,52,8),M+8}u.prototype.writeDoubleLE=function(A,O,M){return Je(this,A,O,!0,M)},u.prototype.writeDoubleBE=function(A,O,M){return Je(this,A,O,!1,M)},u.prototype.copy=function(A,O,M,Z){if(!u.isBuffer(A))throw new TypeError("argument should be a Buffer");if(M||(M=0),!Z&&Z!==0&&(Z=this.length),O>=A.length&&(O=A.length),O||(O=0),Z>0&&Z<M&&(Z=M),Z===M||A.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-O<Z-M&&(Z=A.length-O+M);const se=Z-M;return this===A&&typeof s.prototype.copyWithin=="function"?this.copyWithin(O,M,Z):s.prototype.set.call(A,this.subarray(M,Z),O),se},u.prototype.fill=function(A,O,M,Z){if(typeof A=="string"){if(typeof O=="string"?(Z=O,O=0,M=this.length):typeof M=="string"&&(Z=M,M=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!u.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){const ge=A.charCodeAt(0);(Z==="utf8"&&ge<128||Z==="latin1")&&(A=ge)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(O<0||this.length<O||this.length<M)throw new RangeError("Out of range index");if(M<=O)return this;O=O>>>0,M=M===void 0?this.length:M>>>0,A||(A=0);let se;if(typeof A=="number")for(se=O;se<M;++se)this[se]=A;else{const ge=u.isBuffer(A)?A:u.from(A,Z),xe=ge.length;if(xe===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(se=0;se<M-O;++se)this[se+O]=ge[se%xe]}return this};const hn={};function fr(A,O,M){hn[A]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}fr("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fr("ERR_INVALID_ARG_TYPE",function(A,O){return`The "${A}" argument must be of type number. Received type ${typeof O}`},TypeError),fr("ERR_OUT_OF_RANGE",function(A,O,M){let Z=`The value of "${A}" is out of range.`,se=M;return Number.isInteger(M)&&Math.abs(M)>2**32?se=bs(String(M)):typeof M=="bigint"&&(se=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(se=bs(se)),se+="n"),Z+=` It must be ${O}. Received ${se}`,Z},RangeError);function bs(A){let O="",M=A.length;const Z=A[0]==="-"?1:0;for(;M>=Z+4;M-=3)O=`_${A.slice(M-3,M)}${O}`;return`${A.slice(0,M)}${O}`}function Wi(A,O,M){pt(O,"offset"),(A[O]===void 0||A[O+M]===void 0)&&tr(O,A.length-(M+1))}function Ss(A,O,M,Z,se,ge){if(A>M||A<O){const xe=typeof O=="bigint"?"n":"";let At;throw O===0||O===BigInt(0)?At=`>= 0${xe} and < 2${xe} ** ${(ge+1)*8}${xe}`:At=`>= -(2${xe} ** ${(ge+1)*8-1}${xe}) and < 2 ** ${(ge+1)*8-1}${xe}`,new hn.ERR_OUT_OF_RANGE("value",At,A)}Wi(Z,se,ge)}function pt(A,O){if(typeof A!="number")throw new hn.ERR_INVALID_ARG_TYPE(O,"number",A)}function tr(A,O,M){throw Math.floor(A)!==A?(pt(A,M),new hn.ERR_OUT_OF_RANGE("offset","an integer",A)):O<0?new hn.ERR_BUFFER_OUT_OF_BOUNDS:new hn.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,A)}const nr=/[^+/0-9A-Za-z-_]/g;function be(A){if(A=A.split("=")[0],A=A.trim().replace(nr,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function rt(A,O){O=O||1/0;let M;const Z=A.length;let se=null;const ge=[];for(let xe=0;xe<Z;++xe){if(M=A.charCodeAt(xe),M>55295&&M<57344){if(!se){if(M>56319){(O-=3)>-1&&ge.push(239,191,189);continue}else if(xe+1===Z){(O-=3)>-1&&ge.push(239,191,189);continue}se=M;continue}if(M<56320){(O-=3)>-1&&ge.push(239,191,189),se=M;continue}M=(se-55296<<10|M-56320)+65536}else se&&(O-=3)>-1&&ge.push(239,191,189);if(se=null,M<128){if((O-=1)<0)break;ge.push(M)}else if(M<2048){if((O-=2)<0)break;ge.push(M>>6|192,M&63|128)}else if(M<65536){if((O-=3)<0)break;ge.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((O-=4)<0)break;ge.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return ge}function x_(A){const O=[];for(let M=0;M<A.length;++M)O.push(A.charCodeAt(M)&255);return O}function ep(A,O){let M,Z,se;const ge=[];for(let xe=0;xe<A.length&&!((O-=2)<0);++xe)M=A.charCodeAt(xe),Z=M>>8,se=M%256,ge.push(se),ge.push(Z);return ge}function Ng(A){return e.toByteArray(be(A))}function Jo(A,O,M,Z){let se;for(se=0;se<Z&&!(se+M>=O.length||se>=A.length);++se)O[se+M]=A[se];return se}function Jr(A,O){return A instanceof O||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===O.name}function Cc(A){return A!==A}const Zu=function(){const A="0123456789abcdef",O=new Array(256);for(let M=0;M<16;++M){const Z=M*16;for(let se=0;se<16;++se)O[Z+se]=A[M]+A[se]}return O}();function Ki(A){return typeof BigInt>"u"?Og:A}function Og(){throw new Error("BigInt not supported")}})(PH);const e6e=PH.Buffer;var t6e=function(t){return G.atob?G.atob(t):e6e.from(t,"base64").toString("binary")};function $H(t){for(var e=t6e(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class n6e extends eA{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const r6e="	",$b=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},i6e=function(){const t='(?:[^=]*)=(?:"[^"]*"|[^,]*)';return new RegExp("(?:^|,)("+t+")")},Mr=function(t){const e={};if(!t)return e;const n=t.split(i6e());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},JR=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class s6e extends eA{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length!==0){if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((i,s)=>{const a=s(e);return a===e?i:i.concat([a])},[e]).forEach(i=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,i))return;if(i.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:i.slice(1)});return}if(i=i.replace("\r",""),n=/^#EXTM3U/.exec(i),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(i),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(i),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(i),n){r=Sn($b(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(i),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(i),n){if(r={type:"tag",tagType:"map"},n[1]){const s=Mr(n[1]);s.URI&&(r.uri=s.URI),s.BYTERANGE&&(r.byterange=$b(s.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=Mr(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=JR(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(i),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=Mr(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(i),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(i),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(i),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=Mr(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(i),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=Mr(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=Mr(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(r6e)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=Mr(n[1]),["DURATION"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=$b(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=Mr(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=Mr(n[1]),["PART-TARGET"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=Mr(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(r.attributes.hasOwnProperty(s)){r.attributes[s]=parseInt(r.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[a]=r.attributes[s],delete r.attributes[s]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=Mr(n[1]),["LAST-MSN","LAST-PART"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseInt(r.attributes[s],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=Mr(n[1]),["ID","CLASS"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=String(r.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=new Date(r.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/i.test(r.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=r.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in r.attributes){if(!s.test(a))continue;const o=/[0-9A-Fa-f]{6}/g.test(r.attributes[a]),l=/^\d+(\.\d+)?$/.test(r.attributes[a]);r.attributes[a]=o?r.attributes[a].toString(16):l?parseFloat(r.attributes[a]):String(r.attributes[a])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(i),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(i),n){r={type:"tag",tagType:"content-steering"},r.attributes=Mr(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(i),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=Mr(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=JR(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(i),n){r={type:"tag",tagType:"define"},r.attributes=Mr(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:i.slice(4)})})}}addParser({expression:e,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:n,segment:i}),!0})}addTagMapper({expression:e,map:n}){const r=i=>e.test(i)?n(i):i;this.tagMappers.push(r)}}const a6e=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),ul=function(t){const e={};return Object.keys(t).forEach(function(n){e[a6e(n)]=t[n]}),e},Ub=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=r&&r*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class o6e extends eA{constructor(e={}){super(),this.lineStream=new n6e,this.parseStream=new s6e,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let i={},s,a,o=!1;const l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,m=0;const g={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&a&&(i.key=a),!i.timeline&&typeof d=="number"&&(i.timeline=d),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(p){let _,y;if(n.manifest.definitions){for(const v in n.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace(`{$${v}}`,n.manifest.definitions[v])),p.attributes)for(const E in p.attributes)typeof p.attributes[E]=="string"&&(p.attributes[E]=p.attributes[E].replace(`{$${v}}`,n.manifest.definitions[v]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in p&&(i.byterange=v,v.length=p.length,"offset"in p||(p.offset=h)),"offset"in p&&(i.byterange=v,v.offset=p.offset),h=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(i.title=p.title),p.duration>0&&(i.duration=p.duration),p.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:$H(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,d=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),Sn(i.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[p.attributes.TYPE];v[p.attributes["GROUP-ID"]]=v[p.attributes["GROUP-ID"]]||{},_=v[p.attributes["GROUP-ID"]],y={default:/yes/i.test(p.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(y.language=p.attributes.LANGUAGE),p.attributes.URI&&(y.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(y.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(y.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(y.forced=/yes/i.test(p.attributes.FORCED)),_[p.attributes.NAME]=y},discontinuity(){d+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),i.dateTimeString=p.dateTimeString,i.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:v}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),v===null&&this.manifest.segments.reduceRight((E,x)=>(x.programDateTime=E-x.duration*1e3,x.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,Ub.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){i.cueOut=p.data},"cue-out-cont"(){i.cueOutCont=p.data},"cue-in"(){i.cueIn=p.data},skip(){this.manifest.skip=ul(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const v=this.manifest.segments.length,E=ul(p.attributes);i.parts=i.parts||[],i.parts.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=m),m=E.byterange.offset+E.byterange.length);const x=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${x} for segment #${v}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((C,R)=>{C.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${R} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=ul(p.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Ub.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,E=ul(p.attributes),x=E.type&&E.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(E),E.byterange&&(E.byterange.hasOwnProperty("offset")||(E.byterange.offset=x?m:0,x&&(m=E.byterange.offset+E.byterange.length)));const C=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${C} for segment #${v}`,p.attributes,["TYPE","URI"]),!!E.type)for(let R=0;R<i.preloadHints.length-1;R++){const D=i.preloadHints[R];D.type&&D.type===E.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${C} for segment #${v} has the same TYPE ${E.type} as preload hint #${R}`})}},"rendition-report"(){const v=ul(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const E=this.manifest.renditionReports.length-1,x=["LAST-MSN","URI"];o&&x.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${E}`,p.attributes,x)},"part-inf"(){this.manifest.partInf=ul(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Ub.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(ul(p.attributes));const v=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,p.attributes,["ID","START-DATE"]);const E=this.manifest.dateRanges[v];E.endDate&&E.startDate&&new Date(E.endDate)<new Date(E.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),E.duration&&E.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),E.plannedDuration&&E.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const x=!!E.endOnNext;if(x&&!E.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),x&&(E.duration||E.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),E.duration&&E.endDate){const C=E.startDate.getTime()+E.duration*1e3;this.manifest.dateRanges[v].endDate=new Date(C)}if(!g[E.id])g[E.id]=E;else{for(const R in g[E.id])if(E[R]&&JSON.stringify(g[E.id][R])!==JSON.stringify(E[R])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const C=this.manifest.dateRanges.findIndex(R=>R.id===E.id);this.manifest.dateRanges[C]=Sn(this.manifest.dateRanges[C],E),g[E.id]=Sn(g[E.id],E),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=ul(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const v=(E,x)=>{if(E in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${E}`});return}this.manifest.definitions[E]=x};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const E=this.params.get(p.attributes.QUERYPARAM);if(!E){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${p.attributes.QUERYPARAM}`});return}v(p.attributes.QUERYPARAM,decodeURIComponent(E));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${p.attributes.NAME}`});return}v(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${p.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}v(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(n)},uri(){i.uri=p.uri,r.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),a&&(i.key=a),i.timeline=d,s&&(i.map=s),m=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){p.segment?(i.custom=i.custom||{},i.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,r){const i=[];r.forEach(function(s){n.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var vu={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},l6e=["video","audio","text"],eN=["Video","Audio","Text"],UH=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(e,n,r){var i=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(r).toString(16)).slice(-2);return"avc1."+i+"00"+s})},pa=function(t){t===void 0&&(t="");var e=t.split(","),n=[];return e.forEach(function(r){r=r.trim();var i;l6e.forEach(function(s){var a=vu[s].exec(r.toLowerCase());if(!(!a||a.length<=1)){i=s;var o=r.substring(0,a[1].length),l=r.replace(o,"");n.push({type:o,details:l,mediaType:s})}}),i||n.push({type:r,details:"",mediaType:"unknown"})}),n},c6e=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return pa(i.playlists[0].attributes.CODECS)}return null},FH=function(t){return t===void 0&&(t=""),vu.audio.test(t.trim().toLowerCase())},u6e=function(t){return t===void 0&&(t=""),vu.text.test(t.trim().toLowerCase())},dm=function(t){if(!(!t||typeof t!="string")){var e=t.toLowerCase().split(",").map(function(i){return UH(i.trim())}),n="video";e.length===1&&FH(e[0])?n="audio":e.length===1&&u6e(e[0])&&(n="application");var r="mp4";return e.every(function(i){return vu.mp4.test(i)})?r="mp4":e.every(function(i){return vu.webm.test(i)})?r="webm":e.every(function(i){return vu.ogg.test(i)})&&(r="ogg"),n+"/"+r+';codecs="'+t+'"'}},qf=function(t,e){return t===void 0&&(t=""),e===void 0&&(e=!1),G.MediaSource&&G.MediaSource.isTypeSupported&&G.MediaSource.isTypeSupported(dm(t))||e&&G.ManagedMediaSource&&G.ManagedMediaSource.isTypeSupported&&G.ManagedMediaSource.isTypeSupported(dm(t))||!1},Fb=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(e){e=e.trim();for(var n=0;n<eN.length;n++){var r=eN[n];if(vu["muxer"+r].test(e))return!0}return!1})},tN="mp4a.40.2",d6e="avc1.4d400d",h6e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,m6e=/^application\/dash\+xml/i,BH=function(t){return h6e.test(t)?"hls":m6e.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},p6e=function(t){return t.toString(2).length},f6e=function(t){return Math.ceil(p6e(t)/8)},jH=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},g6e=function(t){return jH(t)},Be=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!g6e(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},lr=G.BigInt||Number,uk=[lr("0x1"),lr("0x100"),lr("0x10000"),lr("0x1000000"),lr("0x100000000"),lr("0x10000000000"),lr("0x1000000000000"),lr("0x100000000000000"),lr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var y6e=function(t,e){var n=e===void 0?{}:e,r=n.signed,i=r===void 0?!1:r,s=n.le,a=s===void 0?!1:s;t=Be(t);var o=a?"reduce":"reduceRight",l=t[o]?t[o]:Array.prototype[o],c=l.call(t,function(d,h,m){var g=a?m:Math.abs(m+1-t.length);return d+lr(h)*uk[g]},lr(0));if(i){var u=uk[t.length]/lr(2)-lr(1);c=lr(c),c>u&&(c-=u,c-=u,c-=lr(2))}return Number(c)},T6e=function(t,e){var n={},r=n.le,i=r===void 0?!1:r;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=lr(t);for(var s=f6e(t),a=new Uint8Array(new ArrayBuffer(s)),o=0;o<s;o++){var l=i?o:Math.abs(o+1-a.length);a[l]=Number(t/uk[o]&lr(255)),t<0&&(a[l]=Math.abs(~a[l]),a[l]-=o===0?1:2)}return a},VH=function(t,e){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},v6e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e=e.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),e.length<=1)return Be(e[0]);var r=e.reduce(function(a,o,l){return a+(o.byteLength||o.length)},0),i=new Uint8Array(r),s=0;return e.forEach(function(a){a=Be(a),i.set(a,s),s+=a.byteLength}),i},Vt=function(t,e,n){var r=n===void 0?{}:n,i=r.offset,s=i===void 0?0:i,a=r.mask,o=a===void 0?[]:a;t=Be(t),e=Be(e);var l=e.every?e.every:Array.prototype.every;return e.length&&t.length-s>=e.length&&l.call(e,function(c,u){var d=o[u]?o[u]&t[s+u]:t[s+u];return c===d})},_6e=function(t,e,n){e.forEach(function(r){for(var i in t.mediaGroups[r])for(var s in t.mediaGroups[r][i]){var a=t.mediaGroups[r][i][s];n(a,r,i,s)}})},kc={},Zo={};function b6e(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];if(e.call(void 0,i,r,t))return i}}function nA(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function S6e(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var HH=nA({HTML:"text/html",isHTML:function(t){return t===HH.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),GH=nA({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===GH.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Zo.assign=S6e;Zo.find=b6e;Zo.freeze=nA;Zo.MIME_TYPE=HH;Zo.NAMESPACE=GH;var qH=Zo,Pa=qH.find,B1=qH.NAMESPACE;function E6e(t){return t!==""}function k6e(t){return t?t.split(/[\t\n\f\r ]+/).filter(E6e):[]}function A6e(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function nN(t){if(!t)return[];var e=k6e(t);return Object.keys(e.reduce(A6e,{}))}function w6e(t){return function(e){return t&&t.indexOf(e)!==-1}}function Tg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function bi(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Tg(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Si={},qs=Si.ELEMENT_NODE=1,hm=Si.ATTRIBUTE_NODE=2,ev=Si.TEXT_NODE=3,zH=Si.CDATA_SECTION_NODE=4,WH=Si.ENTITY_REFERENCE_NODE=5,C6e=Si.ENTITY_NODE=6,KH=Si.PROCESSING_INSTRUCTION_NODE=7,YH=Si.COMMENT_NODE=8,QH=Si.DOCUMENT_NODE=9,XH=Si.DOCUMENT_TYPE_NODE=10,Go=Si.DOCUMENT_FRAGMENT_NODE=11,I6e=Si.NOTATION_NODE=12,Or={},Jn={};Or.INDEX_SIZE_ERR=(Jn[1]="Index size error",1);Or.DOMSTRING_SIZE_ERR=(Jn[2]="DOMString size error",2);var ai=Or.HIERARCHY_REQUEST_ERR=(Jn[3]="Hierarchy request error",3);Or.WRONG_DOCUMENT_ERR=(Jn[4]="Wrong document",4);Or.INVALID_CHARACTER_ERR=(Jn[5]="Invalid character",5);Or.NO_DATA_ALLOWED_ERR=(Jn[6]="No data allowed",6);Or.NO_MODIFICATION_ALLOWED_ERR=(Jn[7]="No modification allowed",7);var ZH=Or.NOT_FOUND_ERR=(Jn[8]="Not found",8);Or.NOT_SUPPORTED_ERR=(Jn[9]="Not supported",9);var rN=Or.INUSE_ATTRIBUTE_ERR=(Jn[10]="Attribute in use",10);Or.INVALID_STATE_ERR=(Jn[11]="Invalid state",11);Or.SYNTAX_ERR=(Jn[12]="Syntax error",12);Or.INVALID_MODIFICATION_ERR=(Jn[13]="Invalid modification",13);Or.NAMESPACE_ERR=(Jn[14]="Invalid namespace",14);Or.INVALID_ACCESS_ERR=(Jn[15]="Invalid access",15);function _n(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Jn[t]),this.message=Jn[t],Error.captureStackTrace&&Error.captureStackTrace(this,_n);return n.code=t,e&&(this.message=this.message+": "+e),n}_n.prototype=Error.prototype;Tg(Or,_n);function No(){}No.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)oh(this[r],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function mm(t,e){this._node=t,this._refresh=e,rA(this)}function rA(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(uG(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var r=n.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];Tg(n,t),t._inc=e}}mm.prototype.item=function(t){return rA(this),this[t]||null};bi(mm,No);function tv(){}function JH(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function iN(t,e,n,r){if(r?e[JH(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&nG(i,t,r),x6e(i,t,n))}}function sN(t,e,n){var r=JH(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(nG(s,t,n),n.ownerElement=null)}}else throw new _n(ZH,new Error(t.tagName+"@"+n))}tv.prototype={length:0,item:No.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new _n(rN);var n=this.getNamedItem(t.nodeName);return iN(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new _n(rN);return n=this.getNamedItemNS(t.namespaceURI,t.localName),iN(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return sN(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return sN(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function eG(){}eG.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new vg;if(r.implementation=this,r.childNodes=new No,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new Q3;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function _t(){}_t.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return nv(this,t,e)},replaceChild:function(t,e){nv(this,t,e,iG),e&&this.removeChild(e)},removeChild:function(t){return rG(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return dk(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==ev&&t.nodeType==ev?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r}e=e.nodeType==hm?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==hm?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function tG(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Tg(Si,_t);Tg(Si,_t.prototype);function j1(t,e){if(e(t))return!0;if(t=t.firstChild)do if(j1(t,e))return!0;while(t=t.nextSibling)}function vg(){this.ownerDocument=this}function x6e(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===B1.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function nG(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===B1.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function iA(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function rG(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,iA(t.ownerDocument,t),e}function L6e(t){return t&&(t.nodeType===_t.DOCUMENT_NODE||t.nodeType===_t.DOCUMENT_FRAGMENT_NODE||t.nodeType===_t.ELEMENT_NODE)}function R6e(t){return t&&(Ma(t)||sA(t)||qo(t)||t.nodeType===_t.DOCUMENT_FRAGMENT_NODE||t.nodeType===_t.COMMENT_NODE||t.nodeType===_t.PROCESSING_INSTRUCTION_NODE)}function qo(t){return t&&t.nodeType===_t.DOCUMENT_TYPE_NODE}function Ma(t){return t&&t.nodeType===_t.ELEMENT_NODE}function sA(t){return t&&t.nodeType===_t.TEXT_NODE}function aN(t,e){var n=t.childNodes||[];if(Pa(n,Ma)||qo(e))return!1;var r=Pa(n,qo);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function oN(t,e){var n=t.childNodes||[];function r(s){return Ma(s)&&s!==e}if(Pa(n,r))return!1;var i=Pa(n,qo);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function N6e(t,e,n){if(!L6e(t))throw new _n(ai,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new _n(ZH,"child not in parent");if(!R6e(e)||qo(e)&&t.nodeType!==_t.DOCUMENT_NODE)throw new _n(ai,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function O6e(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===_t.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ma);if(s.length>1||Pa(i,sA))throw new _n(ai,"More than one element or text in fragment");if(s.length===1&&!aN(t,n))throw new _n(ai,"Element in fragment can not be inserted before doctype")}if(Ma(e)&&!aN(t,n))throw new _n(ai,"Only one element can be added and only after doctype");if(qo(e)){if(Pa(r,qo))throw new _n(ai,"Only one doctype is allowed");var a=Pa(r,Ma);if(n&&r.indexOf(a)<r.indexOf(n))throw new _n(ai,"Doctype can only be inserted before an element");if(!n&&a)throw new _n(ai,"Doctype can not be appended since element is present")}}function iG(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===_t.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ma);if(s.length>1||Pa(i,sA))throw new _n(ai,"More than one element or text in fragment");if(s.length===1&&!oN(t,n))throw new _n(ai,"Element in fragment can not be inserted before doctype")}if(Ma(e)&&!oN(t,n))throw new _n(ai,"Only one element can be added and only after doctype");if(qo(e)){if(Pa(r,function(o){return qo(o)&&o!==n}))throw new _n(ai,"Only one doctype is allowed");var a=Pa(r,Ma);if(n&&r.indexOf(a)<r.indexOf(n))throw new _n(ai,"Doctype can only be inserted before an element")}}function nv(t,e,n,r){N6e(t,e,n),t.nodeType===_t.DOCUMENT_NODE&&(r||O6e)(t,e,n);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===Go){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return iA(t.ownerDocument||t,t),e.nodeType==Go&&(e.firstChild=e.lastChild=null),e}function D6e(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,iA(t.ownerDocument,t,e),e}vg.prototype={nodeName:"#document",nodeType:QH,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Go){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return nv(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===qs&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),rG(this,t)},replaceChild:function(t,e){nv(this,t,e,iG),t.ownerDocument=this,e&&this.removeChild(e),Ma(t)&&(this.documentElement=t)},importNode:function(t,e){return cG(this,t,e)},getElementById:function(t){var e=null;return j1(this.documentElement,function(n){if(n.nodeType==qs&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=nN(t);return new mm(this,function(n){var r=[];return e.length>0&&j1(n.documentElement,function(i){if(i!==n&&i.nodeType===qs){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=nN(s);a=e.every(w6e(o))}a&&r.push(i)}}}),r})},createElement:function(t){var e=new $u;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new No;var n=e.attributes=new tv;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new X3;return t.ownerDocument=this,t.childNodes=new No,t},createTextNode:function(t){var e=new aA;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new oA;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new lA;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new uA;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new rv;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new cA;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new $u,r=e.split(":"),i=n.attributes=new tv;return n.childNodes=new No,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new rv,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};bi(vg,_t);function $u(){this._nsMap={}}$u.prototype={nodeType:qs,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Go?this.insertBefore(t,null):D6e(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new mm(this,function(e){var n=[];return j1(e,function(r){r!==e&&r.nodeType==qs&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new mm(this,function(n){var r=[];return j1(n,function(i){i!==n&&i.nodeType===qs&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};vg.prototype.getElementsByTagName=$u.prototype.getElementsByTagName;vg.prototype.getElementsByTagNameNS=$u.prototype.getElementsByTagNameNS;bi($u,_t);function rv(){}rv.prototype.nodeType=hm;bi(rv,_t);function _g(){}_g.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Jn[ai])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};bi(_g,_t);function aA(){}aA.prototype={nodeName:"#text",nodeType:ev,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};bi(aA,_g);function oA(){}oA.prototype={nodeName:"#comment",nodeType:YH};bi(oA,_g);function lA(){}lA.prototype={nodeName:"#cdata-section",nodeType:zH};bi(lA,_g);function Q3(){}Q3.prototype.nodeType=XH;bi(Q3,_t);function sG(){}sG.prototype.nodeType=I6e;bi(sG,_t);function aG(){}aG.prototype.nodeType=C6e;bi(aG,_t);function cA(){}cA.prototype.nodeType=WH;bi(cA,_t);function X3(){}X3.prototype.nodeName="#document-fragment";X3.prototype.nodeType=Go;bi(X3,_t);function uA(){}uA.prototype.nodeType=KH;bi(uA,_t);function oG(){}oG.prototype.serializeToString=function(t,e,n){return lG.call(t,e,n)};_t.prototype.toString=lG;function lG(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return oh(this,n,t,e,a),n.join("")}function lN(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===B1.XML||i===B1.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===r)return a.namespace!==i}return!0}function Bb(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,tG),'"')}function oh(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case qs:var s=t.attributes,a=s.length,o=t.firstChild,l=t.tagName;n=B1.isHTML(t.namespaceURI)||n;var c=l;if(!n&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var h=i.length-1;h>=0;h--){var m=i[h];if(m.prefix===""&&m.namespace===t.namespaceURI){u=m.namespace;break}}if(u!==t.namespaceURI)for(var h=i.length-1;h>=0;h--){var m=i[h];if(m.namespace===t.namespaceURI){m.prefix&&(c=m.prefix+":"+l);break}}}e.push("<",c);for(var g=0;g<a;g++){var p=s.item(g);p.prefix=="xmlns"?i.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&i.push({prefix:"",namespace:p.value})}for(var g=0;g<a;g++){var p=s.item(g);if(lN(p,n,i)){var _=p.prefix||"",y=p.namespaceURI;Bb(e,_?"xmlns:"+_:"xmlns",y),i.push({prefix:_,namespace:y})}oh(p,e,n,r,i)}if(l===c&&lN(t,n,i)){var _=t.prefix||"",y=t.namespaceURI;Bb(e,_?"xmlns:"+_:"xmlns",y),i.push({prefix:_,namespace:y})}if(o||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;o;)o.data?e.push(o.data):oh(o,e,n,r,i.slice()),o=o.nextSibling;else for(;o;)oh(o,e,n,r,i.slice()),o=o.nextSibling;e.push("</",c,">")}else e.push("/>");return;case QH:case Go:for(var o=t.firstChild;o;)oh(o,e,n,r,i.slice()),o=o.nextSibling;return;case hm:return Bb(e,t.name,t.value);case ev:return e.push(t.data.replace(/[<&>]/g,tG));case zH:return e.push("<![CDATA[",t.data,"]]>");case YH:return e.push("<!--",t.data,"-->");case XH:var v=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),v)e.push(" PUBLIC ",v),E&&E!="."&&e.push(" ",E),e.push(">");else if(E&&E!=".")e.push(" SYSTEM ",E,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case KH:return e.push("<?",t.target," ",t.data,"?>");case WH:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function cG(t,e,n){var r;switch(e.nodeType){case qs:r=e.cloneNode(!1),r.ownerDocument=t;case Go:break;case hm:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(cG(t,i,n)),i=i.nextSibling;return r}function dk(t,e,n){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new No),r.ownerDocument=t,r.nodeType){case qs:var a=e.attributes,o=r.attributes=new tv,l=a.length;o._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(dk(t,a.item(c),!0));break;case hm:n=!0}if(n)for(var u=e.firstChild;u;)r.appendChild(dk(t,u,n)),u=u.nextSibling;return r}function uG(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case qs:case Go:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(mm.prototype,"length",{get:function(){return rA(this),this.$$length}}),Object.defineProperty(_t.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case qs:case Go:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),uG=function(e,n,r){e["$$"+n]=r}}}catch{}kc.DocumentType=Q3;kc.DOMException=_n;kc.DOMImplementation=eG;kc.Element=$u;kc.Node=_t;kc.NodeList=No;kc.XMLSerializer=oG;var Z3={},dG={};(function(t){var e=Zo.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(dG);var dA={},V1=Zo.NAMESPACE,hk=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,cN=new RegExp("[\\-\\.0-9"+hk.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),uN=new RegExp("^"+hk.source+cN.source+"*(?::"+hk.source+cN.source+"*)?$"),Up=0,dl=1,hd=2,Fp=3,md=4,pd=5,Bp=6,ny=7;function pm(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,pm)}pm.prototype=new Error;pm.prototype.name=pm.name;function hG(){}hG.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),mG(e,e={}),P6e(t,e,n,r,this.errorHandler),r.endDocument()}};function P6e(t,e,n,r,i){function s(oe){if(oe>65535){oe-=65536;var _e=55296+(oe>>10),Y=56320+(oe&1023);return String.fromCharCode(_e,Y)}else return String.fromCharCode(oe)}function a(oe){var _e=oe.slice(1,-1);return Object.hasOwnProperty.call(n,_e)?n[_e]:_e.charAt(0)==="#"?s(parseInt(_e.substr(1).replace("x","0x"))):(i.error("entity not found:"+oe),oe)}function o(oe){if(oe>p){var _e=t.substring(p,oe).replace(/&#?\w+;/g,a);h&&l(p),r.characters(_e,0,oe-p),p=oe}}function l(oe,_e){for(;oe>=u&&(_e=d.exec(t));)c=_e.index,u=c+_e[0].length,h.lineNumber++;h.columnNumber=oe-c+1}for(var c=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,m=[{currentNSMap:e}],g={},p=0;;){try{var _=t.indexOf("<",p);if(_<0){if(!t.substr(p).match(/^\s*$/)){var y=r.doc,v=y.createTextNode(t.substr(p));y.appendChild(v),r.currentElement=v}return}switch(_>p&&o(_),t.charAt(_+1)){case"/":var X=t.indexOf(">",_+3),E=t.substring(_+2,X).replace(/[ \t\n\r]+$/g,""),x=m.pop();X<0?(E=t.substring(_+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+x.tagName),X=_+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),X=_+1+E.length);var C=x.localNSMap,R=x.tagName==E,D=R||x.tagName&&x.tagName.toLowerCase()==E.toLowerCase();if(D){if(r.endElement(x.uri,x.localName,E),C)for(var U in C)Object.prototype.hasOwnProperty.call(C,U)&&r.endPrefixMapping(U);R||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+x.tagName)}else m.push(x);X++;break;case"?":h&&l(_),X=B6e(t,_,r);break;case"!":h&&l(_),X=F6e(t,_,r,i);break;default:h&&l(_);var K=new pG,V=m[m.length-1].currentNSMap,X=M6e(t,_,K,V,a,i),he=K.length;if(!K.closed&&U6e(t,X,K.tagName,g)&&(K.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&he){for(var ie=dN(h,{}),pe=0;pe<he;pe++){var ne=K[pe];l(ne.offset),ne.locator=dN(h,{})}r.locator=ie,hN(K,r,V)&&m.push(K),r.locator=h}else hN(K,r,V)&&m.push(K);V1.isHTML(K.uri)&&!K.closed?X=$6e(t,X,K.tagName,a,r):X++}}catch(oe){if(oe instanceof pm)throw oe;i.error("element parse error: "+oe),X=-1}X>p?p=X:o(Math.max(_,p)+1)}}function dN(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function M6e(t,e,n,r,i,s){function a(h,m,g){n.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),n.addValue(h,m.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),g)}for(var o,l,c=++e,u=Up;;){var d=t.charAt(c);switch(d){case"=":if(u===dl)o=t.slice(e,c),u=Fp;else if(u===hd)u=Fp;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===Fp||u===dl)if(u===dl&&(s.warning('attribute value must after "="'),o=t.slice(e,c)),e=c+1,c=t.indexOf(d,e),c>0)l=t.slice(e,c),a(o,l,e-1),u=pd;else throw new Error("attribute value no end '"+d+"' match");else if(u==md)l=t.slice(e,c),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=c+1,u=pd;else throw new Error('attribute value must after "="');break;case"/":switch(u){case Up:n.setTagName(t.slice(e,c));case pd:case Bp:case ny:u=ny,n.closed=!0;case md:case dl:break;case hd:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==Up&&n.setTagName(t.slice(e,c)),c;case">":switch(u){case Up:n.setTagName(t.slice(e,c));case pd:case Bp:case ny:break;case md:case dl:l=t.slice(e,c),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case hd:u===hd&&(l=o),u==md?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!V1.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Fp:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case Up:n.setTagName(t.slice(e,c)),u=Bp;break;case dl:o=t.slice(e,c),u=hd;break;case md:var l=t.slice(e,c);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case pd:u=Bp;break}else switch(u){case hd:n.tagName,(!V1.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=c,u=dl;break;case pd:s.warning('attribute space is required"'+o+'"!!');case Bp:u=dl,e=c;break;case Fp:u=md,e=c;break;case ny:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function hN(t,e,n){for(var r=t.tagName,i=null,s=t.length;s--;){var a=t[s],o=a.qName,l=a.value,h=o.indexOf(":");if(h>0)var c=a.prefix=o.slice(0,h),u=o.slice(h+1),d=c==="xmlns"&&u;else u=o,c=null,d=o==="xmlns"&&"";a.localName=u,d!==!1&&(i==null&&(i={},mG(n,n={})),n[d]=i[d]=l,a.uri=V1.XMLNS,e.startPrefixMapping(d,l))}for(var s=t.length;s--;){a=t[s];var c=a.prefix;c&&(c==="xml"&&(a.uri=V1.XML),c!=="xmlns"&&(a.uri=n[c||""]))}var h=r.indexOf(":");h>0?(c=t.prefix=r.slice(0,h),u=t.localName=r.slice(h+1)):(c=null,u=t.localName=r);var m=t.uri=n[c||""];if(e.startElement(m,u,r,t),t.closed){if(e.endElement(m,u,r),i)for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&e.endPrefixMapping(c)}else return t.currentNSMap=n,t.localNSMap=i,!0}function $6e(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return e+1}function U6e(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function mG(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function F6e(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=j6e(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,u=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],u=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var d=a[o-1];return n.startDTD(l,c,u),n.endDTD(),d.index+d[0].length}}return-1}function B6e(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function pG(){this.attributeNames={}}pG.prototype={setTagName:function(t){if(!uN.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!uN.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function j6e(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}dA.XMLReader=hG;dA.ParseError=pm;var V6e=Zo,H6e=kc,mN=dG,fG=dA,G6e=H6e.DOMImplementation,pN=V6e.NAMESPACE,q6e=fG.ParseError,z6e=fG.XMLReader;function gG(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function yG(t){this.options=t||{locator:{}}}yG.prototype.parseFromString=function(t,e){var n=this.options,r=new z6e,i=n.domBuilder||new bg,s=n.errorHandler,a=n.locator,o=n.xmlns||{},l=/\/x?html?$/.test(e),c=l?mN.HTML_ENTITIES:mN.XML_ENTITIES;a&&i.setDocumentLocator(a),r.errorHandler=W6e(s,i,a),r.domBuilder=n.domBuilder||i,l&&(o[""]=pN.HTML),o.xml=o.xml||pN.XML;var u=n.normalizeLineEndings||gG;return t&&typeof t=="string"?r.parse(u(t),o,c):r.errorHandler.error("invalid doc source"),i.doc};function W6e(t,e,n){if(!t){if(e instanceof bg)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+mk(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function bg(){this.cdata=!1}function fd(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}bg.prototype={startDocument:function(){this.doc=new G6e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),a=r.length;ry(this,s),this.currentElement=s,this.locator&&fd(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),n=r.getQName(o),c=i.createAttributeNS(t,n);this.locator&&fd(r.getLocator(o),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&fd(this.locator,n),ry(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=fN.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&fd(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=fN.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&fd(this.locator,r),ry(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&fd(this.locator,i),ry(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,mk(this.locator))},error:function(t){console.error("[xmldom error]	"+t,mk(this.locator))},fatalError:function(t){throw new q6e(t,this.locator)}};function mk(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function fN(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){bg.prototype[t]=function(){return null}});function ry(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Z3.__DOMHandler=bg;Z3.normalizeLineEndings=gG;Z3.DOMParser=yG;var TG=Z3.DOMParser;const K6e=Object.freeze(Object.defineProperty({__proto__:null,DOMParser:TG},Symbol.toStringTag,{value:"Module"}));/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const gN=t=>!!t&&typeof t=="object",Yn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):gN(e[r])&&gN(n[r])?e[r]=Yn(e[r],n[r]):e[r]=n[r]}),e),{}),vG=t=>Object.keys(t).map(e=>t[e]),Y6e=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},fm=t=>t.reduce((e,n)=>e.concat(n),[]),_G=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},Q6e=(t,e)=>t.reduce((n,r,i)=>(r[e]&&n.push(i),n),[]),X6e=(t,e)=>vG(t.reduce((n,r)=>(r.forEach(i=>{n[e(i)]=i}),n),{}));var gm={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const H1=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const i={uri:e,resolvedUri:K3(t||"",e)};if(n||r){const s=(n||r).split("-");let a=G.BigInt?G.BigInt(s[0]):parseInt(s[0],10),o=G.BigInt?G.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o));let l;typeof o=="bigint"||typeof a=="bigint"?l=G.BigInt(o)-G.BigInt(a)+G.BigInt(1):l=o-a+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),i.byterange={length:l,offset:a}}return i},Z6e=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=G.BigInt(t.offset)+G.BigInt(t.length)-G.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},yN=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),J6e={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:i}=t,s=yN(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,c=yN(t.endNumber),u=(e+n)/1e3,d=r+a,h=u+o-d,m=Math.ceil(h*i/s),g=Math.floor((u-d-l)*i/s),p=Math.floor((u-d)*i/s);return{start:Math.max(0,g),end:typeof c=="number"?c:Math.min(m,p)}}},e5e=t=>e=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:n/r,timeline:i,time:e*n}},hA=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:o}=J6e[e](t),l=Y6e(a,o).map(e5e(t));if(e==="static"){const c=l.length-1,u=typeof i=="number"?i:s;l[c].duration=u-n/r*c}return l},bG=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(gm.NO_BASE_URL);const c=H1({baseUrl:e,source:n.sourceURL,range:n.range}),u=H1({baseUrl:e,source:e,indexRange:i});if(u.map=c,l){const d=hA(t);d.length&&(u.duration=d[0].duration,u.timeline=d[0].timeline)}else r&&(u.duration=r,u.timeline=s);return u.presentationTime=a||s,u.number=o,[u]},mA=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,c=e.references.filter(_=>_.referenceType!==1),u=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let m=h,g=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=G.BigInt(o)+e.firstOffset:p=o+e.firstOffset;for(let _=0;_<c.length;_++){const y=e.references[_],v=y.referencedSize,E=y.subsegmentDuration;let x;typeof p=="bigint"?x=p+G.BigInt(v)-G.BigInt(1):x=p+v-1;const C=`${p}-${x}`,R=bG({baseUrl:n,timescale:l,timeline:s,periodStart:h,presentationTime:m,number:g,duration:E,sourceDuration:i,indexRange:C,type:d})[0];r&&(R.map=r),u.push(R),typeof p=="bigint"?p+=G.BigInt(v):p+=v,m+=E/l,g++}return t.segments=u,t},t5e=["AUDIO","SUBTITLES"],n5e=1/60,SG=t=>X6e(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),r5e=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},TN=t=>{let e=[];return _6e(t,t5e,(n,r,i,s)=>{e=e.concat(n.playlists||[])}),e},vN=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},i5e=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:o}){return o===r.timeline});const i=r5e(t,r.attributes.NAME);if(!i||r.sidx)return;const s=r.segments[0],a=i.segments.findIndex(function(o){return Math.abs(o.presentationTime-s.presentationTime)<n5e});if(a===-1){vN({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),vN({playlist:r,mediaSequence:i.segments[a].number})})},s5e=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(TN(t)),r=e.playlists.concat(TN(e));return e.timelineStarts=SG([t.timelineStarts,e.timelineStarts]),i5e({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},J3=t=>t&&t.uri+"-"+Z6e(t.byterange),jb=t=>{const e=t.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(e).forEach(r=>{const i=vG(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=Q6e(r.segments||[],"discontinuity"),r))},pA=(t,e)=>{const n=J3(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&mA(t,r,t.sidx.resolvedUri),t},a5e=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=pA(t[n],e);return t},o5e=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},l5e=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},c5e=(t,e={},n=!1)=>{let r;const i=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let c=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";c=`${a.attributes.lang}${d}`}s[c]||(s[c]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const u=pA(o5e(a,n),e);return s[c].playlists.push(u),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(i)[0];i[s].default=!0}return i},u5e=(t,e={})=>t.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text",s=r.attributes.lang||"und";return n[i]||(n[i]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(pA(l5e(r),e)),n},{}),d5e=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:i,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),h5e=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),i},m5e=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",p5e=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",f5e=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",g5e=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},_N=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],y5e=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=t[0].attributes,u=jb(t.filter(m5e)).map(h5e),d=jb(t.filter(p5e)),h=jb(t.filter(f5e)),m=t.map(x=>x.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:a5e(u,r)};c>=0&&(g.minimumUpdatePeriod=c*1e3),e&&(g.locations=e),n&&(g.contentSteering=n),o==="dynamic"&&(g.suggestedPresentationDelay=l),s&&s.length>0&&(g.eventStream=s);const p=g.playlists.length===0,_=d.length?c5e(d,r,p):null,y=h.length?u5e(h,r):null,v=u.concat(_N(_),_N(y)),E=v.map(({timelineStarts:x})=>x);return g.timelineStarts=SG(E),g5e(v,g.timelineStarts),_&&(g.mediaGroups.AUDIO.audio=_),y&&(g.mediaGroups.SUBTITLES.subs=y),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=d5e(m)),i?s5e({oldManifest:i,newManifest:g}):g},T5e=(t,e,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,c=(r+i)/1e3,u=s+o,d=c+l-u;return Math.ceil((d*a-e)/n)},EG=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,c=[];let u=-1;for(let d=0;d<e.length;d++){const h=e[d],m=h.d,g=h.r||0,p=h.t||0;u<0&&(u=p),p&&p>u&&(u=p);let _;if(g<0){const E=d+1;E===e.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?_=T5e(t,u,m):_=(s*a-u)/m:_=(e[E].t-u)/m}else _=g+1;const y=o+c.length+_;let v=o+c.length;for(;v<y;)c.push({number:v,duration:m/a,time:u,timeline:l}),u+=m,v++}return c},v5e=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_5e=t=>(e,n,r,i)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},bN=(t,e)=>t.replace(v5e,_5e(e)),b5e=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?hA(t):EG(t,e),S5e=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,i=H1({baseUrl:t.baseUrl,source:bN(r.sourceURL,n),range:r.range});return b5e(t,e).map(s=>{n.Number=s.number,n.Time=s.time;const a=bN(t.media||"",n),o=t.timescale||1,l=t.presentationTimeOffset||0,c=t.periodStart+(s.time-l)/o;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:K3(t.baseUrl||"",a),map:i,number:s.number,presentationTime:c}})},E5e=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,i=H1({baseUrl:n,source:r.sourceURL,range:r.range}),s=H1({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=i,s},k5e=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=t;if(!n&&!e||n&&e)throw new Error(gm.SEGMENT_TIME_UNSPECIFIED);const s=r.map(o=>E5e(t,o));let a;return n&&(a=hA(t)),e&&(a=EG(t,e)),a.map((o,l)=>{if(s[l]){const c=s[l],u=t.timescale||1,d=t.presentationTimeOffset||0;return c.timeline=o.timeline,c.duration=o.duration,c.number=o.number,c.presentationTime=i+(o.time-d)/u,c}}).filter(o=>o)},A5e=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=S5e,n=Yn(t,e.template)):e.base?(r=bG,n=Yn(t,e.base)):e.list&&(r=k5e,n=Yn(t,e.list));const i={attributes:t};if(!r)return i;const s=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return i.attributes=n,i.segments=s,e.base&&n.indexRange&&(i.sidx=s[0],i.segments=[]),i},w5e=t=>t.map(A5e),Ht=(t,e)=>_G(t.childNodes).filter(({tagName:n})=>n===e),Sg=t=>t.textContent.trim(),C5e=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),gd=t=>{const e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;const[n,r,i,s,a,o]=e.slice(1);return parseFloat(n||0)*31536e3+parseFloat(r||0)*2592e3+parseFloat(i||0)*86400+parseFloat(s||0)*3600+parseFloat(a||0)*60+parseFloat(o||0)},I5e=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),SN={mediaPresentationDuration(t){return gd(t)},availabilityStartTime(t){return I5e(t)/1e3},minimumUpdatePeriod(t){return gd(t)},suggestedPresentationDelay(t){return gd(t)},type(t){return t},timeShiftBufferDepth(t){return gd(t)},start(t){return gd(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return C5e(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?gd(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},An=t=>t&&t.attributes?_G(t.attributes).reduce((e,n)=>{const r=SN[n.name]||SN.DEFAULT;return e[n.name]=r(n.value),e},{}):{},x5e={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},e_=(t,e)=>e.length?fm(t.map(function(n){return e.map(function(r){const i=Sg(r),s=K3(n.baseUrl,i),a=Yn(An(r),{baseUrl:s});return s!==i&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,fA=t=>{const e=Ht(t,"SegmentTemplate")[0],n=Ht(t,"SegmentList")[0],r=n&&Ht(n,"SegmentURL").map(d=>Yn({tag:"SegmentURL"},An(d))),i=Ht(t,"SegmentBase")[0],s=n||e,a=s&&Ht(s,"SegmentTimeline")[0],o=n||i||e,l=o&&Ht(o,"Initialization")[0],c=e&&An(e);c&&l?c.initialization=l&&An(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:a&&Ht(a,"S").map(d=>An(d)),list:n&&Yn(An(n),{segmentUrls:r,initialization:An(l)}),base:i&&Yn(An(i),{initialization:An(l)})};return Object.keys(u).forEach(d=>{u[d]||delete u[d]}),u},L5e=(t,e,n)=>r=>{const i=Ht(r,"BaseURL"),s=e_(e,i),a=Yn(t,An(r)),o=fA(r);return s.map(l=>({segmentInfo:Yn(n,o),attributes:Yn(a,l)}))},R5e=t=>t.reduce((e,n)=>{const r=An(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=x5e[r.schemeIdUri];if(i){e[i]={attributes:r};const s=Ht(n,"cenc:pssh")[0];if(s){const a=Sg(s);e[i].pssh=a&&$H(a)}}return e},{}),N5e=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{let n,r;return r=e,/^CC\d=/.test(e)?[n,r]=e.split("="):/^CC\d$/.test(e)&&(n=e),{channel:n,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[r,i=""]=e.split("=");n.channel=r,n.language=e,i.split(",").forEach(s=>{const[a,o]=s.split(":");a==="lang"?n.language=o:a==="er"?n.easyReader=Number(o):a==="war"?n.aspectRatio=Number(o):a==="3D"&&(n["3D"]=Number(o))})}else n.language=e;return n.channel&&(n.channel="SERVICE"+n.channel),n})},O5e=t=>fm(Ht(t.node,"EventStream").map(e=>{const n=An(e),r=n.schemeIdUri;return Ht(e,"Event").map(i=>{const s=An(i),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,c=a/o+t.attributes.start;return{schemeIdUri:r,value:n.value,id:s.id,start:c,end:c+l/o,messageData:Sg(i)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),D5e=(t,e,n)=>r=>{const i=An(r),s=e_(e,Ht(r,"BaseURL")),a=Ht(r,"Role")[0],o={role:An(a)};let l=Yn(t,i,o);const c=Ht(r,"Accessibility")[0],u=N5e(An(c));u&&(l=Yn(l,{captionServices:u}));const d=Ht(r,"Label")[0];if(d&&d.childNodes.length){const _=d.childNodes[0].nodeValue.trim();l=Yn(l,{label:_})}const h=R5e(Ht(r,"ContentProtection"));Object.keys(h).length&&(l=Yn(l,{contentProtection:h}));const m=fA(r),g=Ht(r,"Representation"),p=Yn(n,m);return fm(g.map(L5e(l,s,p)))},P5e=(t,e)=>(n,r)=>{const i=e_(e,Ht(n.node,"BaseURL")),s=Yn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=Ht(n.node,"AdaptationSet"),o=fA(n.node);return fm(a.map(D5e(s,i,o)))},M5e=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Yn({serverURL:Sg(t[0])},An(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},$5e=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,U5e=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=Ht(t,"Period");if(!a.length)throw new Error(gm.INVALID_NUMBER_OF_PERIOD);const o=Ht(t,"Location"),l=An(t),c=e_([{baseUrl:n}],Ht(t,"BaseURL")),u=Ht(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,o.length&&(l.locations=o.map(Sg));const d=[];return a.forEach((h,m)=>{const g=An(h),p=d[m-1];g.start=$5e({attributes:g,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),d.push({node:h,attributes:g})}),{locations:l.locations,contentSteeringInfo:M5e(u,s),representationInfo:fm(d.map(P5e(l,c))),eventStream:fm(d.map(O5e))}},kG=t=>{if(t==="")throw new Error(gm.DASH_EMPTY_MANIFEST);const e=new TG;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(gm.DASH_INVALID_XML);return r},F5e=t=>{const e=Ht(t,"UTCTiming")[0];if(!e)return null;const n=An(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(gm.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},B5e=(t,e={})=>{const n=U5e(kG(t),e),r=w5e(n.representationInfo);return y5e({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},j5e=t=>F5e(kG(t));var AG=Math.pow(2,32),V5e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*AG+e.getUint32(4)},H5e={getUint64:V5e,MAX_UINT32:AG},EN=H5e.getUint64,G5e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=EN(t.subarray(r)),n.firstOffset=EN(t.subarray(r+8)),r+=16),r+=2;var i=e.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return n},q5e=G5e;const z5e=Vm(q5e);var W5e=Be([73,68,51]),K5e=function(t,e){e===void 0&&(e=0),t=Be(t);var n=t[e+5],r=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=(n&16)>>4;return i?r+20:r+10},df=function t(e,n){return n===void 0&&(n=0),e=Be(e),e.length-n<10||!Vt(e,W5e,{offset:n})?n:(n+=K5e(e,n),t(e,n))},kN=function(t){return typeof t=="string"?VH(t):t},Y5e=function(t){return Array.isArray(t)?t.map(function(e){return kN(e)}):[kN(t)]},Q5e=function t(e,n,r){r===void 0&&(r=!1),n=Y5e(n),e=Be(e);var i=[];if(!n.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var c=e.subarray(s+8,l);Vt(o,n[0])&&(n.length===1?i.push(c):i.push.apply(i,t(c,n.slice(1),r))),s=l}return i},iy={EBML:Be([26,69,223,163]),DocType:Be([66,130]),Segment:Be([24,83,128,103]),SegmentInfo:Be([21,73,169,102]),Tracks:Be([22,84,174,107]),Track:Be([174]),TrackNumber:Be([215]),DefaultDuration:Be([35,227,131]),TrackEntry:Be([174]),TrackType:Be([131]),FlagDefault:Be([136]),CodecID:Be([134]),CodecPrivate:Be([99,162]),VideoTrack:Be([224]),AudioTrack:Be([225]),Cluster:Be([31,67,182,117]),Timestamp:Be([231]),TimestampScale:Be([42,215,177]),BlockGroup:Be([160]),BlockDuration:Be([155]),Block:Be([161]),SimpleBlock:Be([163])},pk=[128,64,32,16,8,4,2,1],X5e=function(t){for(var e=1,n=0;n<pk.length&&!(t&pk[n]);n++)e++;return e},iv=function(t,e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var i=X5e(t[e]),s=t.subarray(e,e+i);return n&&(s=Array.prototype.slice.call(t,e,e+i),s[0]^=pk[i-1]),{length:i,value:y6e(s,{signed:r}),bytes:s}},AN=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?T6e(e):e},Z5e=function(t){return Array.isArray(t)?t.map(function(e){return AN(e)}):[AN(t)]},J5e=function t(e,n,r){if(r>=n.length)return n.length;var i=iv(n,r,!1);if(Vt(e.bytes,i.bytes))return r;var s=iv(n,r+i.length);return t(e,n,r+s.length+s.value+i.length)},wN=function t(e,n){n=Z5e(n),e=Be(e);var r=[];if(!n.length)return r;for(var i=0;i<e.length;){var s=iv(e,i,!1),a=iv(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=J5e(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,c=e.subarray(o,l);Vt(n[0],s.bytes)&&(n.length===1?r.push(c):r=r.concat(t(c,n.slice(1))));var u=s.length+a.length+c.length;i+=u}return r},e9e=Be([0,0,0,1]),t9e=Be([0,0,1]),n9e=Be([0,0,3]),r9e=function(t){for(var e=[],n=1;n<t.length-2;)Vt(t.subarray(n,n+3),n9e)&&(e.push(n+2),n++),n++;if(e.length===0)return t;var r=t.length-e.length,i=new Uint8Array(r),s=0;for(n=0;n<r;s++,n++)s===e[0]&&(s++,e.shift()),i[n]=t[s];return i},wG=function(t,e,n,r){t=Be(t),n=[].concat(n);for(var i=0,s,a=0;i<t.length&&(a<r||s);){var o=void 0;if(Vt(t.subarray(i),e9e)?o=4:Vt(t.subarray(i),t9e)&&(o=3),!o){i++;continue}if(a++,s)return r9e(t.subarray(s,i));var l=void 0;e==="h264"?l=t[i+o]&31:e==="h265"&&(l=t[i+o]>>1&63),n.indexOf(l)!==-1&&(s=i+o),i+=o+(e==="h264"?1:2)}return t.subarray(0,0)},i9e=function(t,e,n){return wG(t,"h264",e,n)},s9e=function(t,e,n){return wG(t,"h265",e,n)},$r={webm:Be([119,101,98,109]),matroska:Be([109,97,116,114,111,115,107,97]),flac:Be([102,76,97,67]),ogg:Be([79,103,103,83]),ac3:Be([11,119]),riff:Be([82,73,70,70]),avi:Be([65,86,73]),wav:Be([87,65,86,69]),"3gp":Be([102,116,121,112,51,103]),mp4:Be([102,116,121,112]),fmp4:Be([115,116,121,112]),mov:Be([102,116,121,112,113,116]),moov:Be([109,111,111,118]),moof:Be([109,111,111,102])},ym={aac:function(t){var e=df(t);return Vt(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=df(t);return Vt(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){var e=wN(t,[iy.EBML,iy.DocType])[0];return Vt(e,$r.webm)},mkv:function(t){var e=wN(t,[iy.EBML,iy.DocType])[0];return Vt(e,$r.matroska)},mp4:function(t){if(ym["3gp"](t)||ym.mov(t))return!1;if(Vt(t,$r.mp4,{offset:4})||Vt(t,$r.fmp4,{offset:4})||Vt(t,$r.moof,{offset:4})||Vt(t,$r.moov,{offset:4}))return!0},mov:function(t){return Vt(t,$r.mov,{offset:4})},"3gp":function(t){return Vt(t,$r["3gp"],{offset:4})},ac3:function(t){var e=df(t);return Vt(t,$r.ac3,{offset:e})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var e=0;e+188<t.length&&e<188;){if(t[e]===71&&t[e+188]===71)return!0;e+=1}return!1},flac:function(t){var e=df(t);return Vt(t,$r.flac,{offset:e})},ogg:function(t){return Vt(t,$r.ogg)},avi:function(t){return Vt(t,$r.riff)&&Vt(t,$r.avi,{offset:8})},wav:function(t){return Vt(t,$r.riff)&&Vt(t,$r.wav,{offset:8})},h264:function(t){return i9e(t,7,3).length},h265:function(t){return s9e(t,[32,33],3).length}},fk=Object.keys(ym).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);fk.forEach(function(t){var e=ym[t];ym[t]=function(n){return e(Be(n))}});var a9e=ym,gA=function(t){t=Be(t);for(var e=0;e<fk.length;e++){var n=fk[e];if(a9e[n](t))return n}return""},o9e=function(t){return Q5e(t,["moof"]).length>0},yA=9e4,TA,vA,t_,_A,CG,IG,xG;TA=function(t){return t*yA};vA=function(t,e){return t*e};t_=function(t){return t/yA};_A=function(t,e){return t/e};CG=function(t,e){return TA(_A(t,e))};IG=function(t,e){return vA(t_(t),e)};xG=function(t,e,n){return t_(n?t:t-e)};var lu={ONE_SECOND_IN_TS:yA,secondsToVideoTs:TA,secondsToAudioTs:vA,videoTsToSeconds:t_,audioTsToSeconds:_A,audioTsToVideoTs:CG,videoTsToAudioTs:IG,metadataTsToSeconds:xG},gk="8.21.0";const yo={},mc=function(t,e){return yo[t]=yo[t]||[],e&&(yo[t]=yo[t].concat(e)),yo[t]},l9e=function(t,e){mc(t,e)},LG=function(t,e){const n=mc(t).indexOf(e);return n<=-1?!1:(yo[t]=yo[t].slice(),yo[t].splice(n,1),!0)},c9e=function(t,e){mc(t,[].concat(e).map(n=>{const r=(...i)=>(LG(t,r),n(...i));return r}))},sv={prefixed:!0},l2=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],CN=l2[0];let hf;for(let t=0;t<l2.length;t++)if(l2[t][1]in we){hf=l2[t];break}if(hf){for(let t=0;t<hf.length;t++)sv[CN[t]]=hf[t];sv.prefixed=hf[0]!==CN[0]}let ni=[];const u9e=(t,e,n)=>(r,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),ni){ni.push([].concat(s));const u=ni.length-1e3;ni.splice(0,u>0?u:0)}if(!G.console)return;let c=G.console[r];!c&&r==="debug"&&(c=G.console.info||G.console.log),!(!c||!a||!o.test(r))&&c[Array.isArray(s)?"apply":"call"](G.console,s)};function yk(t,e=":",n=""){let r="info",i;function s(...a){i("log",r,a)}return i=u9e(t,s,n),s.createLogger=(a,o,l)=>{const c=o!==void 0?o:e,u=l!==void 0?l:n,d=`${t} ${c} ${a}`;return yk(d,c,u)},s.createNewLogger=(a,o,l)=>yk(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>ni?[].concat(ni):[],s.history.filter=a=>(ni||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ni&&(ni.length=0)},s.history.disable=()=>{ni!==null&&(ni.length=0,ni=null)},s.history.enable=()=>{ni===null&&(ni=[])},s.error=(...a)=>i("error",r,a),s.warn=(...a)=>i("warn",r,a),s.debug=(...a)=>i("debug",r,a),s}const tt=yk("VIDEOJS"),RG=tt.createLogger,d9e=Object.prototype.toString,NG=function(t){return Ba(t)?Object.keys(t):[]};function Rh(t,e){NG(t).forEach(n=>e(t[n],n))}function OG(t,e,n=0){return NG(t).reduce((r,i)=>e(r,t[i],i),n)}function Ba(t){return!!t&&typeof t=="object"}function Tm(t){return Ba(t)&&d9e.call(t)==="[object Object]"&&t.constructor===Object}function Et(...t){const e={};return t.forEach(n=>{n&&Rh(n,(r,i)=>{if(!Tm(r)){e[i]=r;return}Tm(e[i])||(e[i]={}),e[i]=Et(e[i],r)})}),e}function DG(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function n_(t,e,n,r=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return i(a),a}};return r&&(s.set=i),Object.defineProperty(t,e,s)}var h9e=Object.freeze({__proto__:null,each:Rh,reduce:OG,isObject:Ba,isPlain:Tm,merge:Et,values:DG,defineLazyProperty:n_});let bA=!1,PG=null,Qs=!1,MG,$G=!1,Nh=!1,Oh=!1,ja=!1,SA=null,r_=null;const m9e=!!(G.cast&&G.cast.framework&&G.cast.framework.CastReceiverContext);let UG=null,av=!1,i_=!1,ov=!1,s_=!1,lv=!1,cv=!1,uv=!1;const G1=!!(Gm()&&("ontouchstart"in G||G.navigator.maxTouchPoints||G.DocumentTouch&&G.document instanceof G.DocumentTouch)),hl=G.navigator&&G.navigator.userAgentData;hl&&hl.platform&&hl.brands&&(Qs=hl.platform==="Android",Nh=!!hl.brands.find(t=>t.brand==="Microsoft Edge"),Oh=!!hl.brands.find(t=>t.brand==="Chromium"),ja=!Nh&&Oh,SA=r_=(hl.brands.find(t=>t.brand==="Chromium")||{}).version||null,i_=hl.platform==="Windows");if(!Oh){const t=G.navigator&&G.navigator.userAgent||"";bA=/iPod/i.test(t),PG=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Qs=/Android/i.test(t),MG=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),$G=/Firefox/i.test(t),Nh=/Edg/i.test(t),Oh=/Chrome/i.test(t)||/CriOS/i.test(t),ja=!Nh&&Oh,SA=r_=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),UG=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),lv=/Tizen/i.test(t),cv=/Web0S/i.test(t),uv=lv||cv,av=/Safari/i.test(t)&&!ja&&!Qs&&!Nh&&!uv,i_=/Windows/i.test(t),ov=/iPad/i.test(t)||av&&G1&&!/iPhone/i.test(t),s_=/iPhone/i.test(t)&&!ov}const Cr=s_||ov||bA,a_=(av||Cr)&&!ja;var FG=Object.freeze({__proto__:null,get IS_IPOD(){return bA},get IOS_VERSION(){return PG},get IS_ANDROID(){return Qs},get ANDROID_VERSION(){return MG},get IS_FIREFOX(){return $G},get IS_EDGE(){return Nh},get IS_CHROMIUM(){return Oh},get IS_CHROME(){return ja},get CHROMIUM_VERSION(){return SA},get CHROME_VERSION(){return r_},IS_CHROMECAST_RECEIVER:m9e,get IE_VERSION(){return UG},get IS_SAFARI(){return av},get IS_WINDOWS(){return i_},get IS_IPAD(){return ov},get IS_IPHONE(){return s_},get IS_TIZEN(){return lv},get IS_WEBOS(){return cv},get IS_SMART_TV(){return uv},TOUCH_ENABLED:G1,IS_IOS:Cr,IS_ANY_SAFARI:a_});function IN(t){return typeof t=="string"&&!!t.trim()}function p9e(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Gm(){return we===G.document}function qm(t){return Ba(t)&&t.nodeType===1}function BG(){try{return G.parent!==G.self}catch{return!0}}function jG(t){return function(e,n){if(!IN(e))return we[t](null);IN(n)&&(n=we.querySelector(n));const r=qm(n)?n:we;return r[t]&&r[t](e)}}function qe(t="div",e={},n={},r){const i=we.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Ac(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){i.setAttribute(s,n[s])}),r&&EA(i,r),i}function Ac(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Tk(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function zf(t,e){return p9e(e),t.classList.contains(e)}function _u(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function o_(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(tt.warn("removeClass was called with an element that doesn't exist"),null)}function VG(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function HG(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function kl(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let i=r.length-1;i>=0;i--){const s=r[i].name;let a=r[i].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function GG(t,e){return t.getAttribute(e)}function vm(t,e,n){t.setAttribute(e,n)}function l_(t,e){t.removeAttribute(e)}function qG(){we.body.focus(),we.onselectstart=function(){return!1}}function zG(){we.onselectstart=function(){return!0}}function _m(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(bm(t,"height"))),n.width||(n.width=parseFloat(bm(t,"width"))),n}}function q1(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,i=0;for(;t.offsetParent&&t!==we[sv.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function c_(t,e){const n={x:0,y:0};if(Cr){let u=t;for(;u&&u.nodeName.toLowerCase()!=="html";){const d=bm(u,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);n.x+=h[4],n.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);n.x+=h[12],n.y+=h[13]}if(u.assignedSlot&&u.assignedSlot.parentElement&&G.WebKitCSSMatrix){const h=G.getComputedStyle(u.assignedSlot.parentElement).transform,m=new G.WebKitCSSMatrix(h);n.x+=m.m41,n.y+=m.m42}u=u.parentNode||u.host}}const r={},i=q1(e.target),s=q1(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),c=e.offsetX-(s.left-i.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Cr&&(c-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/o)),r.x=Math.max(0,Math.min(1,c/a)),r}function WG(t){return Ba(t)&&t.nodeType===3}function u_(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function KG(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),qm(e)||WG(e))return e;if(typeof e=="string"&&/\S/.test(e))return we.createTextNode(e)}).filter(e=>e)}function EA(t,e){return KG(e).forEach(n=>t.appendChild(n)),t}function YG(t,e){return EA(u_(t),e)}function z1(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const pc=jG("querySelector"),QG=jG("querySelectorAll");function bm(t,e){if(!t||!e)return"";if(typeof G.getComputedStyle=="function"){let n;try{n=G.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function XG(t){[...we.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(i=>i.cssText).join(""),r=we.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const n=we.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var ZG=Object.freeze({__proto__:null,isReal:Gm,isEl:qm,isInFrame:BG,createEl:qe,textContent:Ac,prependTo:Tk,hasClass:zf,addClass:_u,removeClass:o_,toggleClass:VG,setAttributes:HG,getAttributes:kl,getAttribute:GG,setAttribute:vm,removeAttribute:l_,blockTextSelection:qG,unblockTextSelection:zG,getBoundingClientRect:_m,findPosition:q1,getPointerPosition:c_,isTextNode:WG,emptyEl:u_,normalizeContent:KG,appendContent:EA,insertContent:YG,isSingleLeftClick:z1,$:pc,$$:QG,computedStyle:bm,copyStyleSheetsToWindow:XG});let JG=!1,vk;const f9e=function(){if(vk.options.autoSetup===!1)return;const t=Array.prototype.slice.call(we.getElementsByTagName("video")),e=Array.prototype.slice.call(we.getElementsByTagName("audio")),n=Array.prototype.slice.call(we.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&vk(a);else{_k(1);break}}else JG||_k(1)};function _k(t,e){Gm()&&(e&&(vk=e),G.setTimeout(f9e,t))}function bk(){JG=!0,G.removeEventListener("load",bk)}Gm()&&(we.readyState==="complete"?bk():G.addEventListener("load",bk));const eq=function(t){const e=we.createElement("style");return e.className=t,e},tq=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Gr=new WeakMap;const g9e=3;let y9e=g9e;function ys(){return y9e++}function xN(t,e){if(!Gr.has(t))return;const n=Gr.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Gr.delete(t)}function kA(t,e,n,r){n.forEach(function(i){t(e,i,r)})}function d_(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||G.event;t={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)i.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||we),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=we.documentElement,a=we.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let sy;const T9e=function(){if(typeof sy!="boolean"){sy=!1;try{const t=Object.defineProperty({},"passive",{get(){sy=!0}});G.addEventListener("test",null,t),G.removeEventListener("test",null,t)}catch{}}return sy},v9e=["touchstart","touchmove"];function Fi(t,e,n){if(Array.isArray(e))return kA(Fi,t,e,n);Gr.has(t)||Gr.set(t,{});const r=Gr.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=ys()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,s){if(r.disabled)return;i=d_(i);const a=r.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,c=o.length;l<c&&!i.isImmediatePropagationStopped();l++)try{o[l].call(t,i,s)}catch(u){tt.error(u)}}}),r.handlers[e].length===1)if(t.addEventListener){let i=!1;T9e()&&v9e.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Ir(t,e,n){if(!Gr.has(t))return;const r=Gr.get(t);if(!r.handlers)return;if(Array.isArray(e))return kA(Ir,t,e,n);const i=function(a,o){r.handlers[o]=[],xN(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(t,a);return}const s=r.handlers[e];if(s){if(!n){i(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);xN(t,e)}}function zm(t,e,n){const r=Gr.has(t)?Gr.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=d_(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&e.bubbles===!0)zm.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){Gr.has(e.target)||Gr.set(e.target,{});const s=Gr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function h_(t,e,n){if(Array.isArray(e))return kA(h_,t,e,n);const r=function(){Ir(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ys(),Fi(t,e,r)}function AA(t,e,n){const r=function(){Ir(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ys(),Fi(t,e,r)}var _9e=Object.freeze({__proto__:null,fixEvent:d_,on:Fi,off:Ir,trigger:zm,one:h_,any:AA});const Ts=30,Dt=function(t,e,n){e.guid||(e.guid=ys());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},Va=function(t,e){let n=G.performance.now();return function(...r){const i=G.performance.now();i-n>=e&&(t(...r),n=i)}},nq=function(t,e,n,r=G){let i;const s=()=>{r.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let c=function(){i=null,c=null,n||t.apply(o,l)};!i&&n&&t.apply(o,l),r.clearTimeout(i),i=r.setTimeout(c,e)};return a.cancel=s,a};var b9e=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ts,bind_:Dt,throttle:Va,debounce:nq});let jp;class Bi{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Fi(this,e,n),this.addEventListener=r}off(e,n){Ir(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},h_(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},AA(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=d_(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),zm(this,e)}queueTrigger(e){jp||(jp=new Map);const n=e.type||e;let r=jp.get(this);r||(r=new Map,jp.set(this,r));const i=r.get(n);r.delete(n),G.clearTimeout(i);const s=G.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,jp.delete(this)),this.trigger(e)},0);r.set(n,s)}}Bi.prototype.allowedEvents_={};Bi.prototype.addEventListener=Bi.prototype.on;Bi.prototype.removeEventListener=Bi.prototype.off;Bi.prototype.dispatchEvent=Bi.prototype.trigger;const m_=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Oo=t=>t instanceof Bi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),S9e=(t,e)=>{Oo(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Sk=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,dv=(t,e,n)=>{if(!t||!t.nodeName&&!Oo(t))throw new Error(`Invalid target for ${m_(e)}#${n}; must be a DOM node or evented object.`)},rq=(t,e,n)=>{if(!Sk(t))throw new Error(`Invalid event type for ${m_(e)}#${n}; must be a non-empty string or array.`)},iq=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${m_(e)}#${n}; must be a function.`)},Vb=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),dv(i,t,n),rq(s,t,n),iq(a,t,n),a=Dt(t,a),{isTargetingSelf:r,target:i,type:s,listener:a}},$c=(t,e,n,r)=>{dv(t,t,e),t.nodeName?_9e[e](t,n,r):t[e](n,r)},E9e={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Vb(this,t,"on");if($c(n,"on",r,i),!e){const s=()=>this.off(n,r,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,$c(this,"on","dispose",s),$c(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Vb(this,t,"one");if(e)$c(n,"one",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,$c(n,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Vb(this,t,"any");if(e)$c(n,"any",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,$c(n,"any",r,s)}},off(t,e,n){if(!t||Sk(t))Ir(this.eventBusEl_,t,e);else{const r=t,i=e;dv(r,this,"off"),rq(i,this,"off"),iq(n,this,"off"),n=Dt(this,n),this.off("dispose",n),r.nodeName?(Ir(r,i,n),Ir(r,"dispose",n)):Oo(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(t,e){dv(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!Sk(n))throw new Error(`Invalid event type for ${m_(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return zm(this.eventBusEl_,t,e)}};function wA(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=qe("span",{className:"vjs-event-bus"});return Object.assign(t,E9e),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Gr.has(r)&&Gr.delete(r)}),G.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const k9e={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Rh(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&Oo(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function sq(t,e){return Object.assign(t,k9e),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Oo(t)&&t.on("statechanged",t.handleStateChanged),t}const Wf=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},on=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},aq=function(t,e){return on(t)===on(e)};var A9e=Object.freeze({__proto__:null,toLowerCase:Wf,toTitleCase:on,titleCaseEquals:aq});class fe{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Et({},this.options_),n=this.options_=Et(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${ys()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(wA(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),sq(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Et(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return qe(e,n,r)}localize(e,n,r=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let c=r;return a&&a[e]?c=a[e]:l&&l[e]&&(c=l[e]),n&&(c=c.replace(/\{(\d+)\}/g,function(u,d){const h=n[d-1];let m=h;return typeof h>"u"&&(m=u),m})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=qe("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=we.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=we.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(e,n={},r=this.children_.length){let i,s;if(typeof e=="string"){s=on(e);const a=n.componentClass||s;n.name=s;const o=fe.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&on(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[Wf(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:qm(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[on(e.name())]=null,this.childNameIndex_[Wf(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const c=this.addChild(o,l);c&&(this[o]=c)};let i;const s=fe.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=fe.getComponent(a.opts.componentClass||on(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return pc(e,n||this.contentEl())}$$(e,n){return QG(e,n||this.contentEl())}hasClass(e){return zf(this.el_,e)}addClass(...e){_u(this.el_,...e)}removeClass(...e){o_(this.el_,...e)}toggleClass(e,n){VG(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return GG(this.el_,e)}setAttribute(e,n){vm(this.el_,e,n)}removeAttribute(e){l_(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+on(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=bm(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${on(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=G.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,c=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+c*c)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&G.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Dt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(i){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=Dt(this,e),this.clearTimersOnDispose_(),r=G.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),G.clearTimeout(e)),e}setInterval(e,n){e=Dt(this,e),this.clearTimersOnDispose_();const r=G.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),G.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Dt(this,e),n=G.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=Dt(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),G.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const a=G.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function r(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||G.getComputedStyle(s).height==="0px"||G.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(we.documentElement.clientWidth||G.innerWidth)||a.y<0||a.y>(we.documentElement.clientHeight||G.innerHeight))return!1;let o=we.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=fe.getComponent("Tech"),i=r&&r.isTech(n),s=fe===n||fe.prototype.isPrototypeOf(n.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=on(e),fe.components_||(fe.components_={});const a=fe.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(c=>o[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return fe.components_[e]=n,fe.components_[Wf(e)]=n,n}static getComponent(e){if(!(!e||!fe.components_))return fe.components_[e]}}fe.registerComponent("Component",fe);function w9e(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function LN(t,e,n,r){return w9e(t,r,n.length-1),n[r][e]}function Hb(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:LN.bind(null,"start",0,t),end:LN.bind(null,"end",1,t)},G.Symbol&&G.Symbol.iterator&&(e[G.Symbol.iterator]=()=>(t||[]).values()),e}function zs(t,e){return Array.isArray(t)?Hb(t):t===void 0||e===void 0?Hb():Hb([[t,e]])}const oq=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let CA=oq;function lq(t){CA=t}function cq(){CA=oq}function Uu(t,e=t){return CA(t,e)}var C9e=Object.freeze({__proto__:null,createTimeRanges:zs,createTimeRange:zs,setFormatTime:lq,resetFormatTime:cq,formatTime:Uu});function uq(t,e){let n=0,r,i;if(!e)return 0;(!t||!t.length)&&(t=zs(0,0));for(let s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}function tn(t){if(t instanceof tn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Ba(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=tn.defaultMessages[this.code]||"")}tn.prototype.code=0;tn.prototype.message="";tn.prototype.status=null;tn.prototype.metadata=null;tn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];tn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};tn.MEDIA_ERR_CUSTOM=0;tn.prototype.MEDIA_ERR_CUSTOM=0;tn.MEDIA_ERR_ABORTED=1;tn.prototype.MEDIA_ERR_ABORTED=1;tn.MEDIA_ERR_NETWORK=2;tn.prototype.MEDIA_ERR_NETWORK=2;tn.MEDIA_ERR_DECODE=3;tn.prototype.MEDIA_ERR_DECODE=3;tn.MEDIA_ERR_SRC_NOT_SUPPORTED=4;tn.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;tn.MEDIA_ERR_ENCRYPTED=5;tn.prototype.MEDIA_ERR_ENCRYPTED=5;function Kf(t){return t!=null&&typeof t.then=="function"}function Aa(t){Kf(t)&&t.then(null,e=>{})}const Ek=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((e,n,r)=>(t[n]&&(e[n]=t[n]),e),{cues:t.cues&&Array.prototype.map.call(t.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},I9e=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const i=Ek(r.track);return r.src&&(i.src=r.src),i}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(Ek))},x9e=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),e.textTracks()};var RN={textTracksToJson:I9e,jsonToTextTracks:x9e,trackToJson_:Ek};const Gb="vjs-modal-dialog";class Wm extends fe{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=qe("div",{className:`${Gb}-content`},{role:"document"}),this.descEl_=qe("p",{className:`${Gb}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Ac(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Gb} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),YG(n,e),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),u_(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=we.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let s=0;s<n.length;s++)if(r===n[s]){i=s;break}we.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof G.HTMLAnchorElement||n instanceof G.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof G.HTMLInputElement||n instanceof G.HTMLSelectElement||n instanceof G.HTMLTextAreaElement||n instanceof G.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof G.HTMLIFrameElement||n instanceof G.HTMLObjectElement||n instanceof G.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}Wm.prototype.options_={pauseOnOpen:!0,temporary:!0};fe.registerComponent("ModalDialog",Wm);class Sm extends Bi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Oo(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}Sm.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Sm.prototype.allowedEvents_)Sm.prototype["on"+t]=null;const qb=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class L9e extends Sm{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){qb(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&qb(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,qb(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const zb=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class R9e extends Sm{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){zb(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&zb(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,zb(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class dq extends Sm{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class N9e{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class hv{constructor(e){hv.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<i)for(r=n;r<i;r++)s.call(this,r)}getCueById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}const O9e={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},D9e={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},P9e={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},NN={disabled:"disabled",hidden:"hidden",showing:"showing"};class IA extends Bi{constructor(e={}){super();const n={id:e.id||"vjs_track_"+ys(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const xA=function(t){return new URL(t,we.baseURI)},hq=function(t){return new URL(t,we.baseURI).href},LA=function(t){if(typeof t=="string"){const e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},p_=function(t,e=G.location){return xA(t).origin!==e.origin};var M9e=Object.freeze({__proto__:null,parseUrl:xA,getAbsoluteURL:hq,getFileExtension:LA,isCrossOrigin:p_});const ON=function(t,e){const n=new G.WebVTT.Parser(G,G.vttjs,G.WebVTT.StringDecoder()),r=[];n.oncue=function(i){e.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(G.console&&G.console.groupCollapsed&&G.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(i=>tt.error(i)),G.console&&G.console.groupEnd&&G.console.groupEnd()),n.flush()},DN=function(t,e){const n={uri:t},r=p_(t);r&&(n.cors=r);const i=e.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),RH(n,Dt(this,function(s,a,o){if(s)return tt.error(s,a);e.loaded_=!0,typeof G.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){tt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return ON(o,e)}):ON(o,e)}))};class Eg extends IA{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Et(e,{kind:P9e[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=NN[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new hv(this.cues_),a=new hv(this.activeCues_);let o=!1;this.timeupdateHandler=Dt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(c){NN[c]&&r!==c&&(r=c,!this.preload_&&r!=="disabled"&&this.cues.length===0&&DN(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const c=this.tech_.currentTime(),u=[];for(let d=0,h=this.cues.length;d<h;d++){const m=this.cues[d];m.startTime<=c&&m.endTime>=c&&u.push(m)}if(o=!1,u.length!==this.activeCues_.length)o=!0;else for(let d=0;d<u.length;d++)this.activeCues_.indexOf(u[d])===-1&&(o=!0);return this.activeCues_=u,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&DN(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new G.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Eg.prototype.allowedEvents_={cuechange:"cuechange"};class mq extends IA{constructor(e={}){const n=Et(e,{kind:D9e[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class pq extends IA{constructor(e={}){const n=Et(e,{kind:O9e[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class zo extends Bi{constructor(e={}){super();let n;const r=new Eg(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=zo.NONE,r.addEventListener("loadeddata",()=>{n=zo.LOADED,this.trigger({type:"load",target:this})})}}zo.prototype.allowedEvents_={load:"load"};zo.NONE=0;zo.LOADING=1;zo.LOADED=2;zo.ERROR=3;const hs={audio:{ListClass:L9e,TrackClass:mq,capitalName:"Audio"},video:{ListClass:R9e,TrackClass:pq,capitalName:"Video"},text:{ListClass:dq,TrackClass:Eg,capitalName:"Text"}};Object.keys(hs).forEach(function(t){hs[t].getterName=`${t}Tracks`,hs[t].privateName=`${t}Tracks_`});const Em={remoteText:{ListClass:dq,TrackClass:Eg,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:N9e,TrackClass:zo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Vr=Object.assign({},hs,Em);Em.names=Object.keys(Em);hs.names=Object.keys(hs);Vr.names=[].concat(Em.names).concat(hs.names);function $9e(t,e,n,r,i={}){const s=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;const a=new Vr.text.TrackClass(i);return s.addTrack(a),a}class Xe extends fe{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Vr.names.forEach(r=>{const i=Vr[r];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Vr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Dt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return zs(0,0)}bufferedPercent(){return uq(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(hs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const s=r[i];n==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new tn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?zs(0,0):zs()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){hs.names.forEach(e=>{const n=hs[e],r=()=>{this.trigger(`${e}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!G.WebVTT)if(we.body.contains(this.el())){if(!this.options_["vtt.js"]&&Tm(XR)&&Object.keys(XR).length>0){this.trigger("vttjsloaded");return}const e=we.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),G.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return $9e(this,e,n,r)}createRemoteTextTrack(e){const n=Et(e,{tech:this});return new Em.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=ys();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return Xe.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Xe||e instanceof Xe||e===Xe}static registerTech(e,n){if(Xe.techs_||(Xe.techs_={}),!Xe.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!Xe.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Xe.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=on(e),Xe.techs_[e]=n,Xe.techs_[Wf(e)]=n,e!=="Tech"&&Xe.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(Xe.techs_&&Xe.techs_[e])return Xe.techs_[e];if(e=on(e),G&&G.videojs&&G.videojs[e])return tt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),G.videojs[e]}}}Vr.names.forEach(function(t){const e=Vr[t];Xe.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Xe.prototype.featuresVolumeControl=!0;Xe.prototype.featuresMuteControl=!0;Xe.prototype.featuresFullscreenResize=!1;Xe.prototype.featuresPlaybackRate=!1;Xe.prototype.featuresProgressEvents=!1;Xe.prototype.featuresSourceset=!1;Xe.prototype.featuresTimeupdateEvents=!1;Xe.prototype.featuresNativeTextTracks=!1;Xe.prototype.featuresVideoFrameCallback=!1;Xe.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){const n=t.sourceHandlers||[];let r;for(let i=0;i<n.length;i++)if(r=n[i].canPlayType(e),r)return r;return""},t.selectSourceHandler=function(e,n){const r=t.sourceHandlers||[];let i;for(let s=0;s<r.length;s++)if(i=r[s].canHandleSource(e,n),i)return r[s];return null},t.canPlaySource=function(e,n){const r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach(function(e){const n=this[e];typeof n=="function"&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){let n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:tt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};fe.registerComponent("Tech",Xe);Xe.registerTech("Tech",Xe);Xe.defaultTechOrder_=[];const bu={},mv={},pv={};function U9e(t,e){bu[t]=bu[t]||[],bu[t].push(e)}function F9e(t,e,n){t.setTimeout(()=>Wc(e,bu[e.type],n,t),1)}function B9e(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function j9e(t,e,n){return t.reduceRight(RA(n),e[n]())}function V9e(t,e,n,r){return e[n](t.reduce(RA(n),r))}function PN(t,e,n,r=null){const i="call"+on(n),s=t.reduce(RA(i),r),a=s===pv,o=a?null:e[n](s);return q9e(t,n,o,a),o}const H9e={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},G9e={setCurrentTime:1,setMuted:1,setVolume:1},MN={play:1,pause:1};function RA(t){return(e,n)=>e===pv?pv:n[t]?n[t](e):e}function q9e(t,e,n,r){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](r,n)}}function z9e(t){mv.hasOwnProperty(t.id())&&delete mv[t.id()]}function W9e(t,e){const n=mv[t.id()];let r=null;if(n==null)return r=e(t),mv[t.id()]=[[e,r]],r;for(let i=0;i<n.length;i++){const[s,a]=n[i];s===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function Wc(t={},e=[],n,r,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")Wc(t,bu[a],n,r,i,s);else if(a){const l=W9e(r,a);if(!l.setSource)return i.push(l),Wc(t,o,n,r,i,s);l.setSource(Object.assign({},t),function(c,u){if(c)return Wc(t,o,n,r,i,s);i.push(l),Wc(u,t.type===u.type?o:bu[u.type],n,r,i,s)})}else o.length?Wc(t,o,n,r,i,s):s?n(t,i):Wc(t,bu["*"],n,r,i,!0)}const K9e={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},fv=function(t=""){const e=LA(t);return K9e[e.toLowerCase()]||""},Y9e=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(i=>i.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let i=0;i<r.length;i++){const s=r[i];if(s.type&&s.src&&s.src===e)return s.type}return fv(e)},fq=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=fq(n),Array.isArray(n)?e=e.concat(n):Ba(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[$N({src:t})]:Ba(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[$N(t)]:t=[];return t};function $N(t){if(!t.type){const e=fv(t.src);e&&(t.type=e)}return t}var Q9e=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const UN=lv?10009:cv?461:8,yd={codes:{play:415,pause:19,ff:417,rw:412,back:UN},names:{415:"play",19:"pause",417:"ff",412:"rw",[UN]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},FN=5;class X9e extends Bi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(yd.isEventKey(n,"play")||yd.isEventKey(n,"pause")||yd.isEventKey(n,"ff")||yd.isEventKey(n,"rw")){n.preventDefault();const r=yd.getEventName(n);this.performMediaAction_(r)}else yd.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+FN);break;case"rw":this.userSeek_(this.player_.currentTime()-FN);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let r=null;const i=this.getCurrentComponent(e.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!n)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function r(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){n.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?r(i.children_):i.hasOwnProperty("items")&&i.items.length>0?r(i.items):this.findSuitableDOMChild(i)&&n.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((a,o)=>{n.push({name:()=>"ModalButton"+(o+1),el:()=>a,getPositions:()=>{const l=a.getBoundingClientRect(),c={x:l.x,y:l.y,width:l.width,height:l.height,top:l.top,right:l.right,bottom:l.bottom,left:l.left},u={x:l.left+l.width/2,y:l.top+l.height/2,width:0,height:0,top:l.top+l.height/2,right:l.left+l.width/2,bottom:l.top+l.height/2,left:l.left+l.width/2};return{boundingClientRect:c,center:u}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:l=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let i=0;i<r.children.length;i++){const s=r.children[i],a=n(s);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),i=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,r){let i=1/0,s=null;for(const a of n){const o=a.getPositions().center,l=this.calculateDistance_(e,o,r);l<i&&(i=l,s=a)}return s}isInDirection_(e,n,r){switch(r){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,r){const i=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let a;switch(r){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class Z9e extends fe{constructor(e,n,r){const i=Et({createEl:!1},n);if(super(e,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=on(a[s]);let l=Xe.getTech(o);if(o||(l=fe.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}fe.registerComponent("MediaLoader",Z9e);class f_ extends fe{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&tt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=qe(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=qe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,Ac(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}fe.registerComponent("ClickableComponent",f_);class kk extends f_{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return qe("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(qe("picture",{className:"vjs-poster",tabIndex:-1},{},qe("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Aa(this.player_.play()):this.player_.pause())}}kk.prototype.crossorigin=kk.prototype.crossOrigin;fe.registerComponent("PosterImage",kk);const Qi="#222",BN="#ccc",J9e={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Wb(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ra(t,e,n){try{t.style[e]=n}catch{return}}function jN(t){return t?`${t}px`:""}class eAe extends fe{constructor(e,n,r){super(e,n,r);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(Dt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=G.screen.orientation||G,o=G.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<n.length;o++){const l=n[o];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?a=l:a||(a=l):r&&!r.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof G.WebVTT=="function"&&G.WebVTT.processCues(G,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let r=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:i=a)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!G.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,c=this.player_.el_.getBoundingClientRect().height;a.style="",ra(a,"position","relative"),ra(a,"height",c-l+"px"),ra(a,"top","unset"),uv?ra(a,"bottom",c+"px"):ra(a,"bottom","0px"),o.length>0&&o.forEach(u=>{if(u.style.inset){const d=u.style.inset.split(" ");d.length===3&&Object.assign(u.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!G.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-i)>.1&&(r>i?s=Math.round((e-n*i)/2):a=Math.round((n-e/i)/2)),ra(this.el_,"insetInline",jN(s)),ra(this.el_,"insetBlock",jN(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let i=r.length;for(;i--;){const s=r[i];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&ra(a.firstChild,"color",Wb(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&ra(a.firstChild,"backgroundColor",Wb(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?ra(a,"backgroundColor",Wb(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Qi}, 2px 2px 4px ${Qi}, 2px 2px 5px ${Qi}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Qi}, 2px 2px ${Qi}, 3px 3px ${Qi}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${BN}, 0 1px ${BN}, -1px -1px ${Qi}, 0 -1px ${Qi}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Qi}, 0 0 4px ${Qi}, 0 0 4px ${Qi}, 0 0 4px ${Qi}`)),n.fontPercent&&n.fontPercent!==1){const o=G.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=J9e[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof G.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s)n.push(i.activeCues[s])}G.WebVTT.processCues(G,n,this.el_);for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;_u(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&vm(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}fe.registerComponent("TextTrackDisplay",eAe);class tAe extends fe{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=qe("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}fe.registerComponent("LoadingSpinner",tAe);class xr extends f_{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=qe(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,n={}){const r=this.constructor.name;return tt.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),fe.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}fe.registerComponent("Button",xr);class gq extends xr{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Aa(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();Kf(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}gq.prototype.controlText_="Play Video";fe.registerComponent("BigPlayButton",gq);class nAe extends xr{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}fe.registerComponent("CloseButton",nAe);class yq extends xr{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Aa(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}yq.prototype.controlText_="Play";fe.registerComponent("PlayToggle",yq);class Km extends fe{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=qe("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return n.appendChild(r),this.contentEl_=qe("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Uu(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,tt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=we.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Km.prototype.labelText_="Time";Km.prototype.controlText_="Time";fe.registerComponent("TimeDisplay",Km);class NA extends Km{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}NA.prototype.labelText_="Current Time";NA.prototype.controlText_="Current Time";fe.registerComponent("CurrentTimeDisplay",NA);class OA extends Km{constructor(e,n){super(e,n);const r=i=>this.updateContent(i);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}OA.prototype.labelText_="Duration";OA.prototype.controlText_="Duration";fe.registerComponent("DurationDisplay",OA);class rAe extends fe{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}fe.registerComponent("TimeDivider",rAe);class DA extends Km{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(qe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}DA.prototype.labelText_="Remaining Time";DA.prototype.controlText_="Remaining Time";fe.registerComponent("RemainingTimeDisplay",DA);class iAe extends fe{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=qe("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(qe("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(we.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}fe.registerComponent("LiveDisplay",iAe);class Tq extends xr{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=qe("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Tq.prototype.controlText_="Seek to live, currently playing live";fe.registerComponent("SeekToLive",Tq);function kg(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var sAe=Object.freeze({__proto__:null,clamp:kg});class PA extends fe{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ja&&e.preventDefault(),qG(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;zG(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(kg(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=c_(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,i=n&&n.horizontalSeek;r?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}fe.registerComponent("Slider",PA);const Kb=(t,e)=>kg(t/e*100,0,100).toFixed(2)+"%";class aAe extends fe{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=qe("span",{className:"vjs-control-text"}),r=qe("span",{textContent:this.localize("Loaded")}),i=we.createTextNode(": ");return this.percentageEl_=qe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Kb(s,i);this.percent_!==o&&(this.el_.style.width=o,Ac(this.percentageEl_,o),this.percent_=o);for(let l=0;l<r.length;l++){const c=r.start(l),u=r.end(l);let d=a[l];d||(d=this.el_.appendChild(qe()),a[l]=d),!(d.dataset.start===c&&d.dataset.end===u)&&(d.dataset.start=c,d.dataset.end=u,d.style.left=Kb(c,s),d.style.width=Kb(u-c,s))}for(let l=a.length;l>r.length;l--)this.el_.removeChild(a[l-1]);a.length=r.length})}}fe.registerComponent("LoadProgressBar",aAe);class oAe extends fe{constructor(e,n){super(e,n),this.update=Va(Dt(this,this.update),Ts)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const i=q1(this.el_),s=_m(this.player_.el()),a=e.width*n;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let c=i.width/2;o<c?c+=c-o:l<c&&(c=l),c<0?c=0:c>i.width&&(c=i.width),c=Math.round(c),this.el_.style.right=`-${c}px`,this.write(r)}write(e){Ac(this.el_,e)}updateTime(e,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+Uu(l,o)}else s=Uu(r,a);this.update(e,n,s),i&&i()})}}fe.registerComponent("TimeTooltip",oAe);class MA extends fe{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Va(Dt(this,this.update),Ts)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const r=this.getChild("timeTooltip");if(!r)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,n,i)}}MA.prototype.options_={children:[]};!Cr&&!Qs&&MA.prototype.options_.children.push("timeTooltip");fe.registerComponent("PlayProgressBar",MA);class vq extends fe{constructor(e,n){super(e,n),this.update=Va(Dt(this,this.update),Ts)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}vq.prototype.options_={children:["timeTooltip"]};fe.registerComponent("MouseTimeDisplay",vq);const ay=5,VN=12;class g_ extends PA{constructor(e,n){n=Et(g_.prototype.options_,n),n.children=[...n.children];const r=e.options_.disableSeekWhileScrubbingOnMobile&&(Cr||Qs);(!Cr&&!Qs||r)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbingOnMobile_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Dt(this,this.update),this.update=Va(this.update_,Ts),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.on(we,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){we.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ts))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(we.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Uu(r,s),Uu(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(_m(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){z1(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!z1(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+i*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=r:this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Aa(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+ay)}stepBack(){this.userSeek_(this.player_.currentTime()-ay)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-ay*VN)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+ay*VN)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in we&&"visibilityState"in we&&this.off(we,"visibilitychange",this.toggleVisibility_),super.dispose()}}g_.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};fe.registerComponent("SeekBar",g_);class _q extends fe{constructor(e,n){super(e,n),this.handleMouseMove=Va(Dt(this,this.handleMouseMove),Ts),this.throttledHandleMouseSeek=Va(Dt(this,this.handleMouseSeek),Ts),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const s=n.el(),a=q1(s);let o=c_(s,e).x;o=kg(o,0,1),i&&i.update(a,o),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Aa(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}_q.prototype.options_={children:["seekBar"]};fe.registerComponent("ProgressControl",_q);class bq extends xr{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){we.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in G?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof we.exitPictureInPicture=="function"&&super.show()}}bq.prototype.controlText_="Picture-in-Picture";fe.registerComponent("PictureInPictureToggle",bq);class Sq extends xr{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),we[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Sq.prototype.controlText_="Fullscreen";fe.registerComponent("FullscreenToggle",Sq);const lAe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};let cAe=class extends fe{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}};fe.registerComponent("VolumeLevel",cAe);class uAe extends fe{constructor(e,n){super(e,n),this.update=Va(Dt(this,this.update),Ts)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,i){if(!r){const s=_m(this.el_),a=_m(this.player_.el()),o=e.width*n;if(!a||!s)return;const l=e.left-a.left+o,c=e.width-o+(a.right-e.right);let u=s.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>s.width&&(u=s.width),this.el_.style.right=`-${u}px`}this.write(`${i}%`)}write(e){Ac(this.el_,e)}updateVolume(e,n,r,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,i.toFixed(0)),s&&s()})}}fe.registerComponent("VolumeLevelTooltip",uAe);class Eq extends fe{constructor(e,n){super(e,n),this.update=Va(Dt(this,this.update),Ts)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,i,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}Eq.prototype.options_={children:["volumeLevelTooltip"]};fe.registerComponent("MouseVolumeLevelDisplay",Eq);class y_ extends PA{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){z1(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=_m(r),s=this.vertical();let a=c_(r,e);a=s?a.y:a.x,a=kg(a,0,1),n.update(i,a,s)}z1(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}y_.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Cr&&!Qs&&y_.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");y_.prototype.playerEvent="volumechange";fe.registerComponent("VolumeBar",y_);class kq extends fe{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Tm(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),lAe(this,e),this.throttledHandleMouseMove=Va(Dt(this,this.handleMouseMove),Ts),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}kq.prototype.options_={children:["volumeBar"]};fe.registerComponent("VolumeControl",kq);const dAe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Aq extends xr{constructor(e,n){super(e,n),dAe(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Cr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),o_(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),_u(this.el_,`vjs-vol-${n}`)}updateControlText_(){const e=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}Aq.prototype.controlText_="Mute";fe.registerComponent("MuteToggle",Aq);class wq extends fe{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Tm(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Fi(we,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Ir(we,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}wq.prototype.options_={children:["muteToggle","volumeControl"]};fe.registerComponent("VolumePanel",wq);class Cq extends xr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;n+this.skipTime<=i?s=n+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}Cq.prototype.controlText_="Skip Forward";fe.registerComponent("SkipForward",Cq);class Iq extends xr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let s;i&&n-this.skipTime<=i?s=i:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}Iq.prototype.controlText_="Skip Backward";fe.registerComponent("SkipBackward",Iq);class xq extends fe{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof fe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof fe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=qe(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Fi(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||we.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}fe.registerComponent("Menu",xq);class $A extends fe{constructor(e,n={}){super(e,n),this.menuButton_=new xr(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=xr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Fi(we,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new xq(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=qe("li",{className:"vjs-menu-title",textContent:on(this.options_.title),tabIndex:-1}),r=new fe(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=xr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Ir(we,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Cr&&BG())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}fe.registerComponent("MenuButton",$A);class UA extends $A{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const i=Dt(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}fe.registerComponent("TrackButton",UA);class Ag extends f_{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),s=qe("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}fe.registerComponent("MenuItem",Ag);class wg extends Ag{constructor(e,n){const r=n.track,i=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof G.Event!="object")try{o=new G.Event("change")}catch{}o||(o=we.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let i=0;i<r.length;i++){const s=r[i];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}fe.registerComponent("TextTrackMenuItem",wg);class Lq extends wg{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}fe.registerComponent("OffTextTrackMenuItem",Lq);class Ym extends UA{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=wg){let r;this.label_&&(r=`${this.label_} off`),e.push(new Lq(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}fe.registerComponent("TextTrackButton",Ym);class Rq extends Ag{constructor(e,n){const r=n.track,i=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=s&&s<i.endTime,super(e,n),this.track=r,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}fe.registerComponent("ChaptersTrackMenuItem",Rq);class FA extends Ym{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(on(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,i=n.length;r<i;r++){const s=n[r],a=new Rq(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}FA.prototype.kind_="chapters";FA.prototype.controlText_="Chapters";fe.registerComponent("ChaptersButton",FA);class BA extends Ym{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const i=e.textTracks(),s=Dt(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}BA.prototype.kind_="descriptions";BA.prototype.controlText_="Descriptions";fe.registerComponent("DescriptionsButton",BA);class jA extends Ym{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}jA.prototype.kind_="subtitles";jA.prototype.controlText_="Subtitles";fe.registerComponent("SubtitlesButton",jA);class VA extends wg{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}fe.registerComponent("CaptionSettingsMenuItem",VA);class HA extends Ym{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new VA(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}HA.prototype.kind_="captions";HA.prototype.controlText_="Captions";fe.registerComponent("CaptionsButton",HA);class Nq extends wg{createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(qe("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}fe.registerComponent("SubsCapsMenuItem",Nq);class GA extends Ym{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(on(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new VA(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Nq),e}}GA.prototype.kinds_=["captions","subtitles"];GA.prototype.controlText_="Subtitles";fe.registerComponent("SubsCapsButton",GA);class Oq extends Ag{constructor(e,n){const r=n.track,i=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(qe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(qe("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}fe.registerComponent("AudioTrackMenuItem",Oq);class Dq extends UA{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];e.push(new Oq(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}Dq.prototype.controlText_="Audio Track";fe.registerComponent("AudioTrackButton",Dq);class qA extends Ag{constructor(e,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}qA.prototype.contentElType="button";fe.registerComponent("PlaybackRateMenuItem",qA);class Pq extends $A{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=qe("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new qA(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Pq.prototype.controlText_="Playback Rate";fe.registerComponent("PlaybackRateMenuButton",Pq);class Mq extends fe{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}fe.registerComponent("Spacer",Mq);class hAe extends Mq{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}fe.registerComponent("CustomControlSpacer",hAe);class $q extends fe{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}$q.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};fe.registerComponent("ControlBar",$q);class Uq extends Wm{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Uq.prototype.options_=Object.assign({},Wm.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});fe.registerComponent("ErrorDisplay",Uq);class Fq extends fe{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),qe("select",{id:this.options_.id},{},this.options_.SelectOptions.map(e=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${ys()}`)+"-"+e[1].replace(/\W+/g,""),r=qe("option",{id:n,value:this.localize(e[0]),textContent:this.localize(e[1])});return r.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),r}))}}fe.registerComponent("TextTrackSelect",Fq);class Su extends fe{constructor(e,n={}){super(e,n);const r=qe("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let c=null;const u=`vjs_select_${ys()}`;if(this.options_.type==="colors"){c=qe("span",{className:o});const h=qe("label",{id:l,className:"vjs-label",textContent:this.localize(a.label)});h.setAttribute("for",u),c.appendChild(h)}const d=new Fq(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:u,labelId:l});this.addChild(d),this.options_.type==="colors"&&(c.appendChild(d.el()),this.el().appendChild(c))}}createEl(){return qe("fieldset",{className:this.options_.className})}}fe.registerComponent("TextTrackFieldset",Su);class Bq extends fe{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new Su(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new Su(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new Su(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return qe("div",{className:"vjs-track-settings-colors"})}}fe.registerComponent("TextTrackSettingsColors",Bq);class jq extends fe{constructor(e,n={}){super(e,n);const r=this.options_.textTrackComponentid,i=new Su(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new Su(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new Su(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return qe("div",{className:"vjs-track-settings-font"})}}fe.registerComponent("TextTrackSettingsFont",jq);class Vq extends fe{constructor(e,n={}){super(e,n);const r=this.localize("restore all settings to the default values"),i=new xr(e,{controlText:r,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new xr(e,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return qe("div",{className:"vjs-track-settings-controls"})}}fe.registerComponent("TrackSettingsControls",Vq);const Yb="vjs-text-track-settings",HN=["#000","Black"],GN=["#00F","Blue"],qN=["#0FF","Cyan"],zN=["#0F0","Green"],WN=["#F0F","Magenta"],KN=["#F00","Red"],YN=["#FFF","White"],QN=["#FF0","Yellow"],Qb=["1","Opaque"],Xb=["0.5","Semi-Transparent"],XN=["0","Transparent"],Al={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[HN,YN,KN,zN,GN,QN,WN,qN],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Qb,Xb,XN],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[YN,HN,KN,zN,GN,QN,WN,qN],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Qb,Xb],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[XN,Xb,Qb],className:"vjs-window-opacity vjs-opacity"}};Al.windowColor.options=Al.backgroundColor.options;function Hq(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function mAe(t,e){const n=t.options[t.options.selectedIndex].value;return Hq(n,e)}function pAe(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(Hq(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class fAe extends Wm{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=qe("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new Bq(e,{textTrackComponentid:this.id_,selectConfigs:Al,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new jq(e,{textTrackComponentid:this.id_,selectConfigs:Al,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const i=new Vq(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Rh(Al,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return OG(Al,(e,n,r)=>{const i=mAe(this.$(n.selector),n.parser);return i!==void 0&&(e[r]=i),e},{})}setValues(e){Rh(Al,(n,r)=>{pAe(this.$(n.selector),e[r],n.parser)})}setDefaults(){Rh(Al,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(G.localStorage.getItem(Yb))}catch(n){tt.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?G.localStorage.setItem(Yb,JSON.stringify(e)):G.localStorage.removeItem(Yb)}catch(n){tt.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}fe.registerComponent("TextTrackSettings",fAe);class gAe extends fe{constructor(e,n){let r=n.ResizeObserver||G.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=Et({createEl:!r,reportTouchActivity:!1},n);super(e,i),this.ResizeObserver=n.ResizeObserver||G.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=nq(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Ir(this,"resize",s),Ir(this,"unload",a),a=null};Fi(this.el_.contentWindow,"unload",a),Fi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}fe.registerComponent("ResizeManager",gAe);const yAe={trackingThreshold:20,liveTolerance:15};class TAe extends fe{constructor(e,n){const r=Et(yAe,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(G.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ts),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}fe.registerComponent("LiveTracker",TAe);class vAe extends fe{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:qe("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${ys()}`}),description:qe("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${ys()}`})},qe("div",{className:"vjs-title-bar"},{},DG(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=r[i];u_(a),s&&Ac(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}fe.registerComponent("TitleBar",vAe);const _Ae={initialDisplay:4e3,position:[],takeFocus:!1};class bAe extends xr{constructor(e,n){n=Et(_Ae,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=qe("button",{},{type:"button",class:this.buildCSSClass()},qe("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}fe.registerComponent("TransientButton",bAe);const Ak=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let i="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(i=r[0]),t.triggerSourceset(i),!0):!1},SAe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=we.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=we.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",G.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Gq=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},EAe=t=>Gq([t.el(),G.HTMLMediaElement.prototype,G.Element.prototype,SAe],"innerHTML"),ZN=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=EAe(t),i=s=>(...a)=>{const o=s.apply(e,a);return Ak(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=i(n[s]))}),Object.defineProperty(e,"innerHTML",Et(r,{set:i(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},kAe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?hq(G.Element.prototype.getAttribute.call(this,"src")):""},set(t){return G.Element.prototype.setAttribute.call(this,"src",t),t}}),AAe=t=>Gq([t.el(),G.HTMLMediaElement.prototype,kAe],"src"),wAe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=AAe(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Et(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return Ak(t)||(t.triggerSourceset(""),ZN(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):Ak(t)||ZN(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Ne extends Xe{constructor(e,n){super(e,n);const r=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&p_(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&tt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(G1||s_)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ne.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){wAe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const i=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=hs[e],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[Em.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let c=!1;for(let u=0;u<r.length;u++)if(r[u]===i[l]){c=!0;break}c||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];r.addEventListener(o,l),this.on("dispose",c=>r.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){hs.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Ne.disposeMediaElement(e),e=r}else{e=we.createElement("video");const r=this.options_.tag&&kl(this.options_.tag),i=Et({},r);(!G1||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,HG(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&vm(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],s=this.options_[i];typeof s<"u"&&(s?vm(e,i,i):l_(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&a_?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){tt(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Qs&&ja&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Aa(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return tt.error("Invalid source URL."),!1;const r={src:e};n&&(r.type=n);const i=qe("source",{},r);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return tt.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const r of n)if(r.src===e)return this.el_.removeChild(r),!0;return tt.warn(`No matching source element found with src: ${e}`),!1}reset(){Ne.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=we.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),G.performance&&(e.creationTime=G.performance.now()),e}}n_(Ne,"TEST_VID",function(){if(!Gm())return;const t=we.createElement("video"),e=we.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Ne.isSupported=function(){try{Ne.TEST_VID.volume=.5}catch{return!1}return!!(Ne.TEST_VID&&Ne.TEST_VID.canPlayType)};Ne.canPlayType=function(t){return Ne.TEST_VID.canPlayType(t)};Ne.canPlaySource=function(t,e){return Ne.canPlayType(t.type)};Ne.canControlVolume=function(){try{const t=Ne.TEST_VID.volume;Ne.TEST_VID.volume=t/2+.1;const e=t!==Ne.TEST_VID.volume;return e&&Cr?(G.setTimeout(()=>{Ne&&Ne.prototype&&(Ne.prototype.featuresVolumeControl=t!==Ne.TEST_VID.volume)}),!1):e}catch{return!1}};Ne.canMuteVolume=function(){try{const t=Ne.TEST_VID.muted;return Ne.TEST_VID.muted=!t,Ne.TEST_VID.muted?vm(Ne.TEST_VID,"muted","muted"):l_(Ne.TEST_VID,"muted","muted"),t!==Ne.TEST_VID.muted}catch{return!1}};Ne.canControlPlaybackRate=function(){if(Qs&&ja&&r_<58)return!1;try{const t=Ne.TEST_VID.playbackRate;return Ne.TEST_VID.playbackRate=t/2+.1,t!==Ne.TEST_VID.playbackRate}catch{return!1}};Ne.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(we.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(we.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(we.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ne.supportsNativeTextTracks=function(){return a_||Cr&&ja};Ne.supportsNativeVideoTracks=function(){return!!(Ne.TEST_VID&&Ne.TEST_VID.videoTracks)};Ne.supportsNativeAudioTracks=function(){return!!(Ne.TEST_VID&&Ne.TEST_VID.audioTracks)};Ne.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){n_(Ne.prototype,t,()=>Ne[e](),!0)});Ne.prototype.featuresVolumeControl=Ne.canControlVolume();Ne.prototype.movingMediaElementInDOM=!Cr;Ne.prototype.featuresFullscreenResize=!0;Ne.prototype.featuresProgressEvents=!0;Ne.prototype.featuresTimeupdateEvents=!0;Ne.prototype.featuresVideoFrameCallback=!!(Ne.TEST_VID&&Ne.TEST_VID.requestVideoFrameCallback);Ne.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ne.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ne.prototype["set"+on(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ne.prototype["set"+on(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ne.prototype[t]=function(){return this.el_[t]()}});Xe.withSourceHandlers(Ne);Ne.nativeSourceHandler={};Ne.nativeSourceHandler.canPlayType=function(t){try{return Ne.TEST_VID.canPlayType(t)}catch{return""}};Ne.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ne.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=LA(t.src);return Ne.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Ne.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Ne.nativeSourceHandler.dispose=function(){};Ne.registerSourceHandler(Ne.nativeSourceHandler);Xe.registerTech("Html5",Ne);const qq=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Zb={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wk=["tiny","xsmall","small","medium","large","xlarge","huge"],c2={};wk.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;c2[t]=`vjs-layout-${e}`});const CAe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Ut extends fe{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${ys()}`,n=Object.assign(Ut.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=RG(this.id_),this.fsApi_=sv,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&kl(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=Ut.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),wA(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Fi(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Et(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new G.DOMParser().parseFromString(Q9e,"image/svg+xml");if(a.querySelector("parsererror"))tt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const o=a.documentElement;o.style.display="none",this.el_.appendChild(o),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new X9e(this),this.addClass("vjs-spatial-navigation-enabled")),G1&&this.addClass("vjs-touch-enabled"),Cr||this.addClass("vjs-workinghover"),Ut.players[this.id_]=this;const s=gk.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Ir(we,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ir(we,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Ut.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),z9e(this),Vr.names.forEach(e=>{const n=Vr[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:i||(n=this.el_=super.createEl("div"));const s=kl(e);if(i){for(n=this.el_=e,e=this.tag=we.createElement("video");n.children.length;)e.appendChild(n.firstChild);zf(n,"video-js")||_u(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ja&&i_&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||n.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>FG[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),G.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=eq("vjs-styles-dimensions");const l=pc(".vjs-styles-defaults"),c=pc("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const c=o.item(l);_u(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),Tk(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){tt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){tt.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Oo(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),S9e(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(G.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),l>=0&&(c.height=l));return}let e,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),tq(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=on(e),i=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(Xe.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Vr.names.forEach(l=>{const c=Vr[l];a[c.getterName]=this[c.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Xe.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(Dt(this,this.handleTechReady_),!0),RN.jsonToTextTracks(this.textTracksJson_||[],this.tech_),qq.forEach(l=>{this.on(this.tech_,l,c=>this[`handleTech${on(l)}_`](c))}),Object.keys(Zb).forEach(l=>{this.on(this.tech_,l,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${Zb[l]}_`].bind(this),event:c});return}this[`handleTech${Zb[l]}_`](c)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,c)=>this.handleTechFullscreenChange_(l,c)),this.on(this.tech_,"fullscreenerror",(l,c)=>this.handleTechFullscreenError_(l,c)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&Tk(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Vr.names.forEach(e=>{const n=Vr[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=RN.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&tt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":gk}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(Kf(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),Kf(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!Kf(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=Y9e(this,n)),this.cache_.source=Et({},e,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const c=kl(a[l]);s.push(c),c.src&&c.src===n&&o.push(c.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Aa(this.play()):this.pause())}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!we.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let i=we[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in G9e)return V9e(this.middleware_,this.tech_,e,n);if(e in MN)return PN(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw tt(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in H9e)return j9e(this.middleware_,this.tech_,e);if(e in MN)return PN(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(tt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(tt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(tt(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Aa){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(a_||Cr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||zs(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=zs(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=zs(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return uq(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),r()}function o(c,u){s(),i(u)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,i))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),n()}function a(l,c){i(),r(c)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=we[this.fsApi_.exitFullscreen]();return e&&Aa(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=we.documentElement.style.overflow,Fi(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow="hidden",_u(we.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ir(we,"keydown",this.boundFullWindowOnEscKey_),we.documentElement.style.overflow=this.docOrigOverflow,o_(we.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&G.documentPictureInPicture){const e=we.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(qe("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),G.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(XG(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in we&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(G.documentPictureInPicture&&G.documentPictureInPicture.window)return G.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in we)return we.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const i=r.tagName.toLowerCase();return r.isContentEditable?!0:i==="input"?["button","checkbox","hidden","radio","reset","submit"].indexOf(r.type)===-1:["textarea"].indexOf(i)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=fe.getComponent("FullscreenToggle");we[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),fe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),fe.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const s=i[r];let a=Xe.getTech(s);if(a||(a=fe.getComponent(s)),!a){tt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,Xe.getTech(o)]).filter(([o,l])=>l?l.isSupported():(tt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,l,c){let u;return o.some(d=>l.some(h=>{if(u=c(d,h),u)return!0})),u};let i;const s=o=>(l,c)=>o(c,l),a=([o,l],c)=>{if(l.canPlaySource(c,this.options_[o.toLowerCase()]))return{source:c,tech:o}};return this.options_.sourceOrder?i=r(e,n,s(a)):i=r(n,e,a),i||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=fq(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),F9e(this,r[0],(i,s)=>{if(this.middleware_=s,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}B9e(s,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?aq(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Aa(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Oo(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),n&&n.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(mc("beforeerror").forEach(n=>{const r=n(this,e);if(!(Ba(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new tn(e),this.addClass("vjs-error"),tt.error(`(CODE:${this.error_.code} ${tn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),mc("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const i=Dt(this,this.reportUserActivity),s=function(d){(d.screenX!==n||d.screenY!==r)&&(n=d.screenX,r=d.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(d){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Cr&&!Qs&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let c;const u=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const d=this.options_.inactivityTimeout;d<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(u,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Oo(this)&&this.trigger("languagechange"))}languages(){return Et(Ut.prototype.options_.languages,this.languages_)}toJSON(){const e=Et(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=Et(i),i.player=void 0,e.tracks[r]=i}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new Wm(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<wk.length;r++){const i=wk[r],s=this.breakpoints_[i];if(n<=s){if(e===i)return;e&&this.removeClass(c2[e]),this.addClass(c2[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},CAe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return c2[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=Et(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:c,title:u}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:fv(o)}]),r&&this.crossOrigin(r),l&&this.src(l),o&&this.poster(o),Array.isArray(c)&&c.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:u,description:a||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:n,textTracks:r};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:fv(i.poster)}]),i}return Et(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=kl(e),i=r["data-setup"];if(zf(e,"vjs-fill")&&(r.fill=!0),zf(e,"vjs-fluid")&&(r.fluid=!0),i!==null)try{Object.assign(r,JSON.parse(i||"{}"))}catch(s){tt.error("data-setup",s)}if(Object.assign(n,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],c=l.nodeName.toLowerCase();c==="source"?n.sources.push(kl(l)):c==="track"&&n.tracks.push(kl(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Vr.names.forEach(function(t){const e=Vr[t];Ut.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ut.prototype.crossorigin=Ut.prototype.crossOrigin;Ut.players={};const Vp=G.navigator;Ut.prototype.options_={techOrder:Xe.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Vp&&(Vp.languages&&Vp.languages[0]||Vp.userLanguage||Vp.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};qq.forEach(function(t){Ut.prototype[`handleTech${on(t)}_`]=function(){return this.trigger(t)}});fe.registerComponent("Player",Ut);const gv="plugin",Dh="activePlugins_",lh={},yv=t=>lh.hasOwnProperty(t),u2=t=>yv(t)?lh[t]:void 0,zq=(t,e)=>{t[Dh]=t[Dh]||{},t[Dh][e]=!0},Tv=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},IAe=function(t,e){const n=function(){Tv(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return zq(this,t),Tv(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},JN=(t,e)=>(e.prototype.name=t,function(...n){Tv(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,Tv(this,r.getEventHash()),r});let Ha=class d2{constructor(e){if(this.constructor===d2)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),wA(this),delete this.trigger,sq(this,this.constructor.defaultState),zq(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return zm(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Dh][e]=!1,this.player=this.state=null,n[e]=JN(e,lh[e])}static isBasic(e){const n=typeof e=="string"?u2(e):e;return typeof n=="function"&&!d2.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(yv(e))tt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Ut.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return lh[e]=n,e!==gv&&(d2.isBasic(n)?Ut.prototype[e]=IAe(e,n):Ut.prototype[e]=JN(e,n)),n}static deregisterPlugin(e){if(e===gv)throw new Error("Cannot de-register base plugin.");yv(e)&&(delete lh[e],delete Ut.prototype[e])}static getPlugins(e=Object.keys(lh)){let n;return e.forEach(r=>{const i=u2(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(e){const n=u2(e);return n&&n.VERSION||""}};Ha.getPlugin=u2;Ha.BASE_PLUGIN_NAME=gv;Ha.registerPlugin(gv,Ha);Ut.prototype.usingPlugin=function(t){return!!this[Dh]&&this[Dh][t]===!0};Ut.prototype.hasPlugin=function(t){return!!yv(t)};function xAe(t,e){let n=!1;return function(...r){return n||tt.warn(t),n=!0,e.apply(this,r)}}function Zs(t,e,n,r){return xAe(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var LAe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const Wq=t=>t.indexOf("#")===0?t.slice(1):t;function Q(t,e,n){let r=Q.getPlayer(t);if(r)return e&&tt.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof t=="string"?pc("#"+Wq(t)):t;if(!qm(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s="getRootNode"in i&&i.getRootNode()instanceof G.ShadowRoot?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&tt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),mc("beforesetup").forEach(o=>{const l=o(i,Et(e));if(!Ba(l)||Array.isArray(l)){tt.error("please return an object in beforesetup hooks");return}e=Et(e,l)});const a=fe.getComponent("Player");return r=new a(i,e,n),mc("setup").forEach(o=>o(r)),r}Q.hooks_=yo;Q.hooks=mc;Q.hook=l9e;Q.hookOnce=c9e;Q.removeHook=LG;if(G.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Gm()){let t=pc(".vjs-styles-defaults");if(!t){t=eq("vjs-styles-defaults");const e=pc("head");e&&e.insertBefore(t,e.firstChild),tq(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}_k(1,Q);Q.VERSION=gk;Q.options=Ut.prototype.options_;Q.getPlayers=()=>Ut.players;Q.getPlayer=t=>{const e=Ut.players;let n;if(typeof t=="string"){const r=Wq(t),i=e[r];if(i)return i;n=pc("#"+r)}else n=t;if(qm(n)){const{player:r,playerId:i}=n;if(r||e[i])return r||e[i]}};Q.getAllPlayers=()=>Object.keys(Ut.players).map(t=>Ut.players[t]).filter(Boolean);Q.players=Ut.players;Q.getComponent=fe.getComponent;Q.registerComponent=(t,e)=>(Xe.isTech(e)&&tt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),fe.registerComponent.call(fe,t,e));Q.getTech=Xe.getTech;Q.registerTech=Xe.registerTech;Q.use=U9e;Object.defineProperty(Q,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Q.middleware,"TERMINATOR",{value:pv,writeable:!1,enumerable:!0});Q.browser=FG;Q.obj=h9e;Q.mergeOptions=Zs(9,"videojs.mergeOptions","videojs.obj.merge",Et);Q.defineLazyProperty=Zs(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",n_);Q.bind=Zs(9,"videojs.bind","native Function.prototype.bind",Dt);Q.registerPlugin=Ha.registerPlugin;Q.deregisterPlugin=Ha.deregisterPlugin;Q.plugin=(t,e)=>(tt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ha.registerPlugin(t,e));Q.getPlugins=Ha.getPlugins;Q.getPlugin=Ha.getPlugin;Q.getPluginVersion=Ha.getPluginVersion;Q.addLanguage=function(t,e){return t=(""+t).toLowerCase(),Q.options.languages=Et(Q.options.languages,{[t]:e}),Q.options.languages[t]};Q.log=tt;Q.createLogger=RG;Q.time=C9e;Q.createTimeRange=Zs(9,"videojs.createTimeRange","videojs.time.createTimeRanges",zs);Q.createTimeRanges=Zs(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",zs);Q.formatTime=Zs(9,"videojs.formatTime","videojs.time.formatTime",Uu);Q.setFormatTime=Zs(9,"videojs.setFormatTime","videojs.time.setFormatTime",lq);Q.resetFormatTime=Zs(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",cq);Q.parseUrl=Zs(9,"videojs.parseUrl","videojs.url.parseUrl",xA);Q.isCrossOrigin=Zs(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",p_);Q.EventTarget=Bi;Q.any=AA;Q.on=Fi;Q.one=h_;Q.off=Ir;Q.trigger=zm;Q.xhr=RH;Q.TextTrack=Eg;Q.AudioTrack=mq;Q.VideoTrack=pq;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{Q[t]=function(){return tt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),ZG[t].apply(null,arguments)}});Q.computedStyle=Zs(9,"videojs.computedStyle","videojs.dom.computedStyle",bm);Q.dom=ZG;Q.fn=b9e;Q.num=sAe;Q.str=A9e;Q.url=M9e;Q.Error=LAe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class RAe{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class vv extends Q.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new RAe(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}vv.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in vv.prototype.allowedEvents_)vv.prototype["on"+t]=null;var Kq="4.1.0";const NAe=function(t,e){const n=t.qualityLevels,r=new vv,i=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>r,t.qualityLevels.VERSION=Kq,r},Yq=function(t){return NAe(this,Q.obj.merge({},t))};Q.registerPlugin("qualityLevels",Yq);Yq.VERSION=Kq;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const oi=K3,_v=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,_s=t=>Q.log.debug?Q.log.debug.bind(Q,"VHS:",`${t} >`):function(){};function mt(...t){const e=Q.obj||Q;return(e.merge||e.mergeOptions).apply(e,t)}function Lr(...t){const e=Q.time||Q;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function OAe(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),i=t.end(n);e+=`${r} --> ${i}. Duration (${i-r})
`}return e}const wa=1/30,Ca=wa*3,Qq=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Lr(n)},ch=function(t,e){return Qq(t,function(n,r){return n-Ca<=e&&r+Ca>=e})},oy=function(t,e){return Qq(t,function(n){return n-wa>=e})},DAe=function(t){if(t.length<2)return Lr();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),i=t.start(n);e.push([r,i])}return Lr(e)},PAe=function(t,e){let n=null,r=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Lr();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(n=s[o].time)):s[o].type==="end"&&(i--,i===1&&(r=s[o].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return Lr(a)},Xq=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},MAe=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},cu=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},$Ae=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},Jb=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},zA=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);if(!(e>s)){if(e>i&&e<=s){n+=s-e;continue}n+=s-i}}return n},WA=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},Ck=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:r,partIndex:s,part:i,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),Zq=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Jq=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},ez=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=Zq(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},UAe=function(t,e){let n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=WA(t,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},FAe=function(t,e){let n=0,r,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(r=t.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=WA(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},tz=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=UAe(t,e);if(r.precise)return r.result;const i=FAe(t,e);return i.precise?i.result:r.result+n},nz=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return G.Infinity}return tz(t,e,n)},Yf=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let s=n;s<Math.min(0,r);s++)i+=t;n=0}for(let s=n;s<r;s++)i+=e[s].duration;return i},rz=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return nz(t);if(e===null)return null;e=e||0;let i=tz(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:ez(null,t),i-=r),Math.max(0,i)},BAe=function(t,e,n){const r=e||0;let i=rz(t,e,!0,n);return i===null?Lr():(i<r&&(i=r),Lr(r,i))},jAe=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:s}){let a=e-i;const o=Ck(t);let l=0;for(let c=0;c<o.length;c++){const u=o[c];if(n===u.segmentIndex&&!(typeof r=="number"&&typeof u.partIndex=="number"&&r!==u.partIndex)){l=c;break}}if(a<0){if(l>0)for(let c=l-1;c>=0;c--){const u=o[c];if(a+=u.duration,s){if(a<0)continue}else if(a+wa<=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:i-Yf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let c=l;c<0;c++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let c=l;c<o.length;c++){const u=o[c];a-=u.duration;const d=u.duration>wa,h=a===0,m=d&&a+wa>=0;if(!((h||m)&&c!==o.length-1)){if(s){if(a>0)continue}else if(a-wa>=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:i+Yf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},iz=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},KA=function(t){return t.excludeUntil&&t.excludeUntil===1/0},T_=function(t){const e=iz(t);return!t.disabled&&!e},VAe=function(t){return t.disabled},HAe=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},sz=function(t,e){return e.attributes&&e.attributes[t]},GAe=function(t,e,n,r=0){return sz("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},Ik=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>T_(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},YA=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),eO=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const s in n[i])if(r=e(n[i][s]),r)break;if(r)break}return!!r},Cg=t=>{if(!t||!t.playlists||!t.playlists.length)return eO(t,e=>e.playlists&&e.playlists.length||e.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(i=>FH(i))||eO(t,i=>YA(n,i))))return!1}return!0};var ui={liveEdgeDelay:ez,duration:nz,seekable:BAe,getMediaInfoForTime:jAe,isEnabled:T_,isDisabled:VAe,isExcluded:iz,isIncompatible:KA,playlistEnd:rz,isAes:HAe,hasAttribute:sz,estimateSegmentRequestTime:GAe,isLowestEnabledRendition:Ik,isAudioOnly:Cg,playlistMatch:YA,segmentDurationWithParts:WA};const{log:az}=Q,Ph=(t,e)=>`${t}-${e}`,oz=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,qAe=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:s})=>{const a=new o6e;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(c=>a.addParser(c)),i.forEach(c=>a.addTagMapper(c)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){o.hasOwnProperty(c)&&delete o[c]}),o.segments&&o.segments.forEach(function(c){["parts","preloadHints"].forEach(function(u){c.hasOwnProperty(u)&&delete c[u]})})),!o.targetDuration){let c=10;o.segments&&o.segments.length&&(c=o.segments.reduce((u,d)=>Math.max(u,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${c}`}),o.targetDuration=c}const l=Zq(o);if(l.length&&!o.partTargetDuration){const c=l.reduce((u,d)=>Math.max(u,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${c}`}),az.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=c}return o},Qm=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const i in t.mediaGroups[n][r]){const s=t.mediaGroups[n][r][i];e(s,n,r,i)}})},lz=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},zAe=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];lz({playlist:n,id:Ph(e,n.uri)}),n.resolvedUri=oi(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||az.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},WAe=t=>{Qm(t,e=>{e.uri&&(e.resolvedUri=oi(t.uri,e.uri))})},KAe=(t,e)=>{const n=Ph(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:G.location.href,resolvedUri:G.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},cz=(t,e,n=oz)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const r=Cg(t);Qm(t,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(r&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const c=t.playlists[l];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a)return}i.playlists=[Sn({},i)]}i.playlists.forEach(function(l,c){const u=n(s,a,o,l),d=Ph(c,u);l.uri?l.resolvedUri=l.resolvedUri||oi(t.uri,l.uri):(l.uri=c===0?u:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),zAe(t),WAe(t)};class tO{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const i=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,r)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const uz=22,Eu=({requestType:t,request:e,error:n,parseFailure:r})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=i&&!s||r;if(n&&s)a.error=Sn({},n),a.errorType=Q.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Q.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=Q.Error.NetworkRequestTimeout;else if(o){const l=r?Q.Error.NetworkBodyParserFailed:Q.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:YAe}=Q,QAe=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let i=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=Jq(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&i--}n._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new G.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),t=r.toString()}return t},XAe=(t,e)=>{if(!t)return e;const n=mt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=mt(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},ZAe=(t,e,n)=>{const r=t.slice(),i=e.slice();n=n||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=r[o+n],c=i[o];l?(a=l.map||a,s.push(XAe(l,c))):(a&&!c.map&&(c.map=a),s.push(c))}return s},dz=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=oi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=oi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=oi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=oi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=oi(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=oi(e,n.uri))})},hz=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},mz=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,xk=(t,e,n=mz)=>{const r=mt(t,{}),i=r.playlists[e.id];if(!i||n(i,e))return null;e.segments=hz(e);const s=mt(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=ZAe(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{dz(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,Qm(t,(a,o,l,c)=>{if(a.playlists)for(let u=0;u<a.playlists.length;u++)e.id===a.playlists[u].id&&(a.playlists[u]=s)}),r},Lk=(t,e)=>{const n=t.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],s=i&&i.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},nO=(t,e,n)=>{if(!t)return;const r=[];return t.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;r.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:n,renditions:r}};class uh extends YAe{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=_s("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new tO,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=oi(this.main.uri,e.uri);this.llhls&&(n=QAe(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:i,id:s}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Eu({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{return qAe({onwarn:({message:r})=>this.logger_(`m3u8-parser warn for ${e}: ${r}`),oninfo:({message:r})=>this.logger_(`m3u8-parser info for ${e}: ${r}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(r){this.error=r,this.error.metadata={errorType:Q.Error.StreamingHlsPlaylistParserError,error:r}}}haveMetadata({playlistString:e,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const a=n||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),lz({playlist:a,uri:r,id:i});const o=xk(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Lk(this.media(),!!o)),s.parsedPlaylist=nO(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),G.clearTimeout(this.mediaUpdateTimeout),G.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new tO,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(G.clearTimeout(this.finalRenditionTimeout),n){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=G.setTimeout(this.media.bind(this,e,!1),o);return}const r=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Lk(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=_v(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=G.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=G.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=G.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:Eu({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=_v(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=nO(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,cz(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=hz(r),r.segments.forEach(i=>{dz(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||G.location.href;this.main=KAe(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,i=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(n){const c=this.createCloneURI_(a.resolvedUri,e),u=Ph(i,c),d=this.createCloneAttributes_(i,a.attributes),h=this.createClonePlaylist_(a,u,e,d);r.playlists[s]=h,r.playlists[u]=h,r.playlists[c]=h}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][i])){for(const a in r.mediaGroups[s])if(a===i){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((l,c)=>{const u=r.playlists[l.id],d=u.id,h=u.resolvedUri;delete r.playlists[d],delete r.playlists[h]});delete r.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,i=r.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),a=Ph(e.ID,s),o=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,a,e,o);r.playlists[i]=l,r.playlists[a]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][n]))for(const a in i.mediaGroups[s]){if(a===r)i.mediaGroups[s][n]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][n][o]=Sn({},l);const c=i.mediaGroups[s][n][o],u=this.createCloneURI_(l.resolvedUri,e);c.resolvedUri=u,c.uri=u,c.playlists=[],l.playlists.forEach((d,h)=>{const m=i.playlists[d.id],g=oz(s,n,o),p=Ph(n,g);if(m&&!i.playlists[p]){const _=this.createClonePlaylist_(m,p,e),y=_.resolvedUri;i.playlists[p]=_,i.playlists[y]=_}c.playlists[h]=this.createClonePlaylist_(d,p,e)})}}})}createClonePlaylist_(e,n,r,i){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:n};return e.segments&&(a.segments=[]),i&&(a.attributes=i),mt(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))r.searchParams.set(s,i[s]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes.keyId;i&&n.add(i.toLowerCase())}return n}}}const Rk=function(t,e,n,r){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),r(e,t)},JAe=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},ewe=(t,e,n,r)=>{!t||!t.size||t.forEach(i=>{i(e,n,r)})},pz=function(){const t=function e(n,r){n=mt({timeout:45e3},n);const i=e.beforeRequest||Q.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Q.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Q.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Q.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=Q.Vhs.xhr.original===!0?Q.xhr:Q.Vhs.xhr,l=JAe(s,n);s.delete(i);const c=o(l||n,function(d,h){return ewe(a,c,d,h),Rk(c,d,h,r)}),u=c.abort;return c.abort=function(){return c.aborted=!0,u.apply(c,arguments)},c.uri=n.uri,c.requestType=n.requestType,c.requestTime=Date.now(),c};return t.original=!0,t},twe=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=G.BigInt(t.offset)+G.BigInt(t.length)-G.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},Nk=function(t){const e={};return t.byterange&&(e.Range=twe(t.byterange)),e},nwe=function(t,e){return t.start(e)+"-"+t.end(e)},rwe=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},iwe=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},fz=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];jH(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},bv=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},gz=function(t){return t.resolvedUri},yz=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",i,s;for(let a=0;a<e.length/n;a++)i=e.slice(a*n,a*n+n).map(rwe).join(""),s=e.slice(a*n,a*n+n).map(iwe).join(""),r+=i+" "+s+`
`;return r},swe=({bytes:t})=>yz(t),awe=t=>{let e="",n;for(n=0;n<t.length;n++)e+=nwe(t,n)+" ";return e};var owe=Object.freeze({__proto__:null,createTransferableMessage:fz,initSegmentId:bv,segmentKeyId:gz,hexDump:yz,tagDump:swe,textRanges:awe});const Tz=.25,lwe=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,i=t-r;return new Date(e.dateTimeObject.getTime()+i*1e3)},cwe=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,uwe=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const c=new Date(e.segments[l+1].dateTimeObject);if(n<c)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?cwe(i.videoTimingInfo):i.duration+i.duration*Tz,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ui.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},dwe=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+i.duration*Tz)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},hwe=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},mwe=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},pwe=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=dwe(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:e},s=lwe(e,r.segment);return s&&(i.programDateTime=s.toISOString()),n(null,i)},vz=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!mwe(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=uwe(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,c=hwe(l.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+c),s.one("seeked",()=>{vz({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:s,callback:a})});return}const u=l.start+c,d=()=>a(null,s.currentTime());s.one("seeked",d),i&&s.pause(),r(u)},eS=(t,e)=>{if(t.readyState===4)return e()},fwe=(t,e,n,r)=>{let i=[],s,a=!1;const o=function(u,d,h,m){return d.abort(),a=!0,n(u,d,h,m)},l=function(u,d){if(a)return;if(u)return u.metadata=Eu({requestType:r,request:d,error:u}),o(u,d,"",i);const h=d.responseText.substring(i&&i.byteLength||0,d.responseText.length);if(i=v6e(i,VH(h,!0)),s=s||df(i),i.length<10||s&&i.length<s+2)return eS(d,()=>o(u,d,"",i));const m=gA(i);return m==="ts"&&i.length<188?eS(d,()=>o(u,d,"",i)):!m&&i.length<376?eS(d,()=>o(u,d,"",i)):o(null,d,m,i)},c=e({uri:t,beforeSend(u){u.overrideMimeType("text/plain; charset=x-user-defined"),u.addEventListener("progress",function({total:d,loaded:h}){return Rk(u,null,{statusCode:u.status},l)})}},function(u,d){return Rk(c,u,d,l)});return c},{EventTarget:gwe}=Q,rO=function(t,e){if(!mz(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length)||!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],i=e.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const s=r.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},ywe=(t,e,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${i}`},Twe=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const s=B5e(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:i});return cz(s,e,ywe),s},vwe=(t,e)=>{Qm(t,(n,r,i,s)=>{(!e.mediaGroups[r][i]||!(s in e.mediaGroups[r][i]))&&delete t.mediaGroups[r][i][s]})},_we=(t,e,n)=>{let r=!0,i=mt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=J3(a.sidx);n&&n[l]&&n[l].sidx&&mA(a,n[l].sidx,a.sidx.resolvedUri)}const o=xk(i,a,rO);o&&(i=o,r=!1)}return Qm(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const c=s.playlists[0].id,u=xk(i,s.playlists[0],rO);u&&(i=u,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[c],r=!1)}}),vwe(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:i},bwe=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,iO=(t,e)=>{const n={};for(const r in t){const i=t[r].sidx;if(i){const s=J3(i);if(!e[s])break;const a=e[s].sidxInfo;bwe(a,i)&&(n[s]=e[s])}}return n},Swe=(t,e)=>{let n=iO(t.playlists,e);return Qm(t,(r,i,s,a)=>{if(r.playlists&&r.playlists.length){const o=r.playlists;n=mt(n,iO(o,e))}}),n};class Ok extends gwe{constructor(e,n,r={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=_s("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const i=e.sidx&&J3(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){G.clearTimeout(this.mediaRequest_),this.mediaRequest_=G.setTimeout(()=>r(!1),0);return}const s=_v(e.sidx.resolvedUri),a=(l,c)=>{if(this.requestErrored_(l,c,n))return;const u=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=c;let h;try{h=z5e(Be(c.response).subarray(8))}catch(m){m.metadata=Eu({requestType:d,request:c,parseFailure:!0}),this.requestErrored_(m,c,n);return}return u[i]={sidxInfo:e.sidx,sidx:h},mA(e,h,e.sidx.resolvedUri),r(!0)},o="dash-sidx";this.request=fwe(s,this.vhs_.xhr,(l,c,u,d)=>{if(l)return a(l,c);if(!u||u!=="mp4"){const g=u||"unknown";return a({status:c.status,message:`Unsupported ${g} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},c)}const{offset:h,length:m}=e.sidx.byterange;if(d.length>=m+h)return a(l,{response:d.subarray(h,h+m),status:c.status,uri:c.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:Nk({byterange:e.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},G.clearTimeout(this.minimumUpdatePeriodTimeout_),G.clearTimeout(this.mediaRequest_),G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,i=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,G.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(G.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,G.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=G.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){G.clearTimeout(this.mediaRequest_),this.mediaRequest_=G.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,i)=>{if(r){const{requestType:a}=i;r.metadata=Eu({requestType:a,request:i,error:r})}if(this.requestErrored_(r,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=_v(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const n=j5e(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:oi(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r){const{requestType:a}=i;return this.error.metadata=Eu({requestType:a,request:i,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){G.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=Twe({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Q.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=_we(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:a}=r,o=[];r.playlists.forEach(c=>{o.push({id:c.id,bandwidth:c.attributes.BANDWIDTH,resolution:c.attributes.RESOLUTION,codecs:c.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(G.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=G.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Swe(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=G.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},Lk(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var Wn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Ewe=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},_z=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},kwe=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const e=new BlobBuilder;return e.append(t),URL.createObjectURL(e.getBlob())}},bz=function(t){return function(){const e=kwe(t),n=_z(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},Sz=function(t){return`var browserWorkerPolyFill = ${_z.toString()};
browserWorkerPolyFill(self);
`+t},Ez=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Awe=Sz(Ez(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ZT<"u"?ZT:typeof self<"u"?self:{},e=function(){this.init=function(){var f={};this.on=function(T,b){f[T]||(f[T]=[]),f[T]=f[T].concat(b)},this.off=function(T,b){var k;return f[T]?(k=f[T].indexOf(b),f[T]=f[T].slice(),f[T].splice(k,1),k>-1):!1},this.trigger=function(T){var b,k,w,L;if(b=f[T],!!b)if(arguments.length===2)for(w=b.length,k=0;k<w;++k)b[k].call(this,arguments[1]);else{for(L=[],k=arguments.length,k=1;k<arguments.length;++k)L.push(arguments[k]);for(w=b.length,k=0;k<w;++k)b[k].apply(this,L)}},this.dispose=function(){f={}}}};e.prototype.pipe=function(f){return this.on("data",function(T){f.push(T)}),this.on("done",function(T){f.flush(T)}),this.on("partialdone",function(T){f.partialFlush(T)}),this.on("endedtimeline",function(T){f.endTimeline(T)}),this.on("reset",function(T){f.reset(T)}),f},e.prototype.push=function(f){this.trigger("data",f)},e.prototype.flush=function(f){this.trigger("done",f)},e.prototype.partialFlush=function(f){this.trigger("partialdone",f)},e.prototype.endTimeline=function(f){this.trigger("endedtimeline",f)},e.prototype.reset=function(f){this.trigger("reset",f)};var n=e,r=Math.pow(2,32),i=function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b;return T.getBigUint64?(b=T.getBigUint64(0),b<Number.MAX_SAFE_INTEGER?Number(b):b):T.getUint32(0)*r+T.getUint32(4)},s={getUint64:i,MAX_UINT32:r},a=s.MAX_UINT32,o,l,c,u,d,h,m,g,p,_,y,v,E,x,C,R,D,U,K,V,X,he,ie,pe,ne,oe,_e,Y,te,re,Ae,W,J,le,ve,Re;(function(){var f;if(ie={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(f in ie)ie.hasOwnProperty(f)&&(ie[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);pe=new Uint8Array([105,115,111,109]),oe=new Uint8Array([97,118,99,49]),ne=new Uint8Array([0,0,0,1]),_e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Y=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),te={video:_e,audio:Y},W=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ae=new Uint8Array([0,0,0,0,0,0,0,0]),J=new Uint8Array([0,0,0,0,0,0,0,0]),le=J,ve=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Re=J,re=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(f){var T=[],b=0,k,w,L;for(k=1;k<arguments.length;k++)T.push(arguments[k]);for(k=T.length;k--;)b+=T[k].byteLength;for(w=new Uint8Array(b+8),L=new DataView(w.buffer,w.byteOffset,w.byteLength),L.setUint32(0,w.byteLength),w.set(f,4),k=0,b=8;k<T.length;k++)w.set(T[k],b),b+=T[k].byteLength;return w},l=function(){return o(ie.dinf,o(ie.dref,W))},c=function(f){return o(ie.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},u=function(){return o(ie.ftyp,pe,ne,pe,oe)},R=function(f){return o(ie.hdlr,te[f])},d=function(f){return o(ie.mdat,f)},C=function(f){var T=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(T[12]=f.samplerate>>>24&255,T[13]=f.samplerate>>>16&255,T[14]=f.samplerate>>>8&255,T[15]=f.samplerate&255),o(ie.mdhd,T)},x=function(f){return o(ie.mdia,C(f),R(f.type),m(f))},h=function(f){return o(ie.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},m=function(f){return o(ie.minf,f.type==="video"?o(ie.vmhd,re):o(ie.smhd,Ae),l(),U(f))},g=function(f,T){for(var b=[],k=T.length;k--;)b[k]=V(T[k]);return o.apply(null,[ie.moof,h(f)].concat(b))},p=function(f){for(var T=f.length,b=[];T--;)b[T]=v(f[T]);return o.apply(null,[ie.moov,y(4294967295)].concat(b).concat(_(f)))},_=function(f){for(var T=f.length,b=[];T--;)b[T]=X(f[T]);return o.apply(null,[ie.mvex].concat(b))},y=function(f){var T=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(ie.mvhd,T)},D=function(f){var T=f.samples||[],b=new Uint8Array(4+T.length),k,w;for(w=0;w<T.length;w++)k=T[w].flags,b[w+4]=k.dependsOn<<4|k.isDependedOn<<2|k.hasRedundancy;return o(ie.sdtp,b)},U=function(f){return o(ie.stbl,K(f),o(ie.stts,Re),o(ie.stsc,le),o(ie.stsz,ve),o(ie.stco,J))},function(){var f,T;K=function(b){return o(ie.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),b.type==="video"?f(b):T(b))},f=function(b){var k=b.sps||[],w=b.pps||[],L=[],F=[],j,H;for(j=0;j<k.length;j++)L.push((k[j].byteLength&65280)>>>8),L.push(k[j].byteLength&255),L=L.concat(Array.prototype.slice.call(k[j]));for(j=0;j<w.length;j++)F.push((w[j].byteLength&65280)>>>8),F.push(w[j].byteLength&255),F=F.concat(Array.prototype.slice.call(w[j]));if(H=[ie.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(b.width&65280)>>8,b.width&255,(b.height&65280)>>8,b.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(ie.avcC,new Uint8Array([1,b.profileIdc,b.profileCompatibility,b.levelIdc,255].concat([k.length],L,[w.length],F))),o(ie.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],b.sarRatio){var q=b.sarRatio[0],ee=b.sarRatio[1];H.push(o(ie.pasp,new Uint8Array([(q&4278190080)>>24,(q&16711680)>>16,(q&65280)>>8,q&255,(ee&4278190080)>>24,(ee&16711680)>>16,(ee&65280)>>8,ee&255])))}return o.apply(null,H)},T=function(b){return o(ie.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(b.channelcount&65280)>>8,b.channelcount&255,(b.samplesize&65280)>>8,b.samplesize&255,0,0,0,0,(b.samplerate&65280)>>8,b.samplerate&255,0,0]),c(b))}}(),E=function(f){var T=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return o(ie.tkhd,T)},V=function(f){var T,b,k,w,L,F,j;return T=o(ie.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),F=Math.floor(f.baseMediaDecodeTime/a),j=Math.floor(f.baseMediaDecodeTime%a),b=o(ie.tfdt,new Uint8Array([1,0,0,0,F>>>24&255,F>>>16&255,F>>>8&255,F&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255])),L=92,f.type==="audio"?(k=he(f,L),o(ie.traf,T,b,k)):(w=D(f),k=he(f,w.length+L),o(ie.traf,T,b,k,w))},v=function(f){return f.duration=f.duration||4294967295,o(ie.trak,E(f),x(f))},X=function(f){var T=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(T[T.length-1]=0),o(ie.trex,T)},function(){var f,T,b;b=function(k,w){var L=0,F=0,j=0,H=0;return k.length&&(k[0].duration!==void 0&&(L=1),k[0].size!==void 0&&(F=2),k[0].flags!==void 0&&(j=4),k[0].compositionTimeOffset!==void 0&&(H=8)),[0,0,L|F|j|H,1,(k.length&4278190080)>>>24,(k.length&16711680)>>>16,(k.length&65280)>>>8,k.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},T=function(k,w){var L,F,j,H,q,ee;for(H=k.samples||[],w+=20+16*H.length,j=b(H,w),F=new Uint8Array(j.length+H.length*16),F.set(j),L=j.length,ee=0;ee<H.length;ee++)q=H[ee],F[L++]=(q.duration&4278190080)>>>24,F[L++]=(q.duration&16711680)>>>16,F[L++]=(q.duration&65280)>>>8,F[L++]=q.duration&255,F[L++]=(q.size&4278190080)>>>24,F[L++]=(q.size&16711680)>>>16,F[L++]=(q.size&65280)>>>8,F[L++]=q.size&255,F[L++]=q.flags.isLeading<<2|q.flags.dependsOn,F[L++]=q.flags.isDependedOn<<6|q.flags.hasRedundancy<<4|q.flags.paddingValue<<1|q.flags.isNonSyncSample,F[L++]=q.flags.degradationPriority&61440,F[L++]=q.flags.degradationPriority&15,F[L++]=(q.compositionTimeOffset&4278190080)>>>24,F[L++]=(q.compositionTimeOffset&16711680)>>>16,F[L++]=(q.compositionTimeOffset&65280)>>>8,F[L++]=q.compositionTimeOffset&255;return o(ie.trun,F)},f=function(k,w){var L,F,j,H,q,ee;for(H=k.samples||[],w+=20+8*H.length,j=b(H,w),L=new Uint8Array(j.length+H.length*8),L.set(j),F=j.length,ee=0;ee<H.length;ee++)q=H[ee],L[F++]=(q.duration&4278190080)>>>24,L[F++]=(q.duration&16711680)>>>16,L[F++]=(q.duration&65280)>>>8,L[F++]=q.duration&255,L[F++]=(q.size&4278190080)>>>24,L[F++]=(q.size&16711680)>>>16,L[F++]=(q.size&65280)>>>8,L[F++]=q.size&255;return o(ie.trun,L)},he=function(k,w){return k.type==="audio"?f(k,w):T(k,w)}}();var Me={ftyp:u,mdat:d,moof:g,moov:p,initSegment:function(f){var T=u(),b=p(f),k;return k=new Uint8Array(T.byteLength+b.byteLength),k.set(T),k.set(b,T.byteLength),k}},Ue=function(f){var T,b,k=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,k.byteLength=0,T=0;T<f.length;T++)b=f[T],b.nalUnitType==="access_unit_delimiter_rbsp"?(k.length&&(k.duration=b.dts-k.dts,w.byteLength+=k.byteLength,w.nalCount+=k.length,w.duration+=k.duration,w.push(k)),k=[b],k.byteLength=b.data.byteLength,k.pts=b.pts,k.dts=b.dts):(b.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(k.keyFrame=!0),k.duration=b.dts-k.dts,k.byteLength+=b.data.byteLength,k.push(b));return w.length&&(!k.duration||k.duration<=0)&&(k.duration=w[w.length-1].duration),w.byteLength+=k.byteLength,w.nalCount+=k.length,w.duration+=k.duration,w.push(k),w},Ge=function(f){var T,b,k=[],w=[];for(k.byteLength=0,k.nalCount=0,k.duration=0,k.pts=f[0].pts,k.dts=f[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=f[0].pts,w.dts=f[0].dts,T=0;T<f.length;T++)b=f[T],b.keyFrame?(k.length&&(w.push(k),w.byteLength+=k.byteLength,w.nalCount+=k.nalCount,w.duration+=k.duration),k=[b],k.nalCount=b.length,k.byteLength=b.byteLength,k.pts=b.pts,k.dts=b.dts,k.duration=b.duration):(k.duration+=b.duration,k.nalCount+=b.length,k.byteLength+=b.byteLength,k.push(b));return w.length&&k.duration<=0&&(k.duration=w[w.length-1].duration),w.byteLength+=k.byteLength,w.nalCount+=k.nalCount,w.duration+=k.duration,w.push(k),w},Je=function(f){var T;return!f[0][0].keyFrame&&f.length>1&&(T=f.shift(),f.byteLength-=T.byteLength,f.nalCount-=T.nalCount,f[0][0].dts=T.dts,f[0][0].pts=T.pts,f[0][0].duration+=T.duration),f},hn=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},fr=function(f,T){var b=hn();return b.dataOffset=T,b.compositionTimeOffset=f.pts-f.dts,b.duration=f.duration,b.size=4*f.length,b.size+=f.byteLength,f.keyFrame&&(b.flags.dependsOn=2,b.flags.isNonSyncSample=0),b},bs=function(f,T){var b,k,w,L,F,j=T||0,H=[];for(b=0;b<f.length;b++)for(L=f[b],k=0;k<L.length;k++)F=L[k],w=fr(F,j),j+=w.size,H.push(w);return H},Wi=function(f){var T,b,k,w,L,F,j=0,H=f.byteLength,q=f.nalCount,ee=H+4*q,me=new Uint8Array(ee),Le=new DataView(me.buffer);for(T=0;T<f.length;T++)for(w=f[T],b=0;b<w.length;b++)for(L=w[b],k=0;k<L.length;k++)F=L[k],Le.setUint32(j,F.data.byteLength),j+=4,me.set(F.data,j),j+=F.data.byteLength;return me},Ss=function(f,T){var b,k=T||0,w=[];return b=fr(f,k),w.push(b),w},pt=function(f){var T,b,k=0,w=f.byteLength,L=f.length,F=w+4*L,j=new Uint8Array(F),H=new DataView(j.buffer);for(T=0;T<f.length;T++)b=f[T],H.setUint32(k,b.data.byteLength),k+=4,j.set(b.data,k),k+=b.data.byteLength;return j},tr={groupNalsIntoFrames:Ue,groupFramesIntoGops:Ge,extendFirstKeyFrame:Je,generateSampleTable:bs,concatenateNalData:Wi,generateSampleTableForFrame:Ss,concatenateNalDataForFrame:pt},nr=[33,16,5,32,164,27],be=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],rt=function(f){for(var T=[];f--;)T.push(0);return T},x_=function(f){return Object.keys(f).reduce(function(T,b){return T[b]=new Uint8Array(f[b].reduce(function(k,w){return k.concat(w)},[])),T},{})},ep,Ng=function(){if(!ep){var f={96e3:[nr,[227,64],rt(154),[56]],88200:[nr,[231],rt(170),[56]],64e3:[nr,[248,192],rt(240),[56]],48e3:[nr,[255,192],rt(268),[55,148,128],rt(54),[112]],44100:[nr,[255,192],rt(268),[55,163,128],rt(84),[112]],32e3:[nr,[255,192],rt(268),[55,234],rt(226),[112]],24e3:[nr,[255,192],rt(268),[55,255,128],rt(268),[111,112],rt(126),[224]],16e3:[nr,[255,192],rt(268),[55,255,128],rt(268),[111,255],rt(269),[223,108],rt(195),[1,192]],12e3:[be,rt(268),[3,127,248],rt(268),[6,255,240],rt(268),[13,255,224],rt(268),[27,253,128],rt(259),[56]],11025:[be,rt(268),[3,127,248],rt(268),[6,255,240],rt(268),[13,255,224],rt(268),[27,255,192],rt(268),[55,175,128],rt(108),[112]],8e3:[be,rt(268),[3,121,16],rt(47),[7]]};ep=x_(f)}return ep},Jo=9e4,Jr,Cc,Zu,Ki,Og,A,O;Jr=function(f){return f*Jo},Cc=function(f,T){return f*T},Zu=function(f){return f/Jo},Ki=function(f,T){return f/T},Og=function(f,T){return Jr(Ki(f,T))},A=function(f,T){return Cc(Zu(f),T)},O=function(f,T,b){return Zu(b?f:f-T)};var M={ONE_SECOND_IN_TS:Jo,secondsToVideoTs:Jr,secondsToAudioTs:Cc,videoTsToSeconds:Zu,audioTsToSeconds:Ki,audioTsToVideoTs:Og,videoTsToAudioTs:A,metadataTsToSeconds:O},Z=Ng,se=M,ge=function(f){var T,b,k=0;for(T=0;T<f.length;T++)b=f[T],k+=b.data.byteLength;return k},xe=function(f,T,b,k){var w,L=0,F=0,j=0,H=0,q,ee,me;if(T.length&&(w=se.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),L=Math.ceil(se.ONE_SECOND_IN_TS/(f.samplerate/1024)),b&&k&&(F=w-Math.max(b,k),j=Math.floor(F/L),H=j*L),!(j<1||H>se.ONE_SECOND_IN_TS/2))){for(q=Z()[f.samplerate],q||(q=T[0].data),ee=0;ee<j;ee++)me=T[0],T.splice(0,0,{data:q,dts:me.dts-L,pts:me.pts-L});return f.baseMediaDecodeTime-=Math.floor(se.videoTsToAudioTs(H,f.samplerate)),H}},At=function(f,T,b){return T.minSegmentDts>=b?f:(T.minSegmentDts=1/0,f.filter(function(k){return k.dts>=b?(T.minSegmentDts=Math.min(T.minSegmentDts,k.dts),T.minSegmentPts=T.minSegmentDts,!0):!1}))},Rn=function(f){var T,b,k=[];for(T=0;T<f.length;T++)b=f[T],k.push({size:b.data.byteLength,duration:1024});return k},It=function(f){var T,b,k=0,w=new Uint8Array(ge(f));for(T=0;T<f.length;T++)b=f[T],w.set(b.data,k),k+=b.data.byteLength;return w},St={prefixWithSilence:xe,trimAdtsFramesByEarliestDts:At,generateSampleTable:Rn,concatenateFrameData:It},nn=M.ONE_SECOND_IN_TS,HY=function(f,T){typeof T.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=T.pts),f.minSegmentPts===void 0?f.minSegmentPts=T.pts:f.minSegmentPts=Math.min(f.minSegmentPts,T.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=T.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,T.pts)),typeof T.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=T.dts),f.minSegmentDts===void 0?f.minSegmentDts=T.dts:f.minSegmentDts=Math.min(f.minSegmentDts,T.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=T.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,T.dts))},GY=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},qY=function(f,T){var b,k,w=f.minSegmentDts;return T||(w-=f.timelineStartInfo.dts),b=f.timelineStartInfo.baseMediaDecodeTime,b+=w,b=Math.max(0,b),f.type==="audio"&&(k=f.samplerate/nn,b*=k,b=Math.floor(b)),b},zY={clearDtsInfo:GY,calculateTrackBaseMediaDecodeTime:qY,collectDtsInfo:HY},Mw=4,WY=128,KY=function(f){for(var T=0,b={payloadType:-1,payloadSize:0},k=0,w=0;T<f.byteLength&&f[T]!==WY;){for(;f[T]===255;)k+=255,T++;for(k+=f[T++];f[T]===255;)w+=255,T++;if(w+=f[T++],!b.payload&&k===Mw){var L=String.fromCharCode(f[T+3],f[T+4],f[T+5],f[T+6]);if(L==="GA94"){b.payloadType=k,b.payloadSize=w,b.payload=f.subarray(T,T+w);break}else b.payload=void 0}T+=w,k=0,w=0}return b},YY=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},QY=function(f,T){var b=[],k,w,L,F;if(!(T[0]&64))return b;for(w=T[0]&31,k=0;k<w;k++)L=k*3,F={type:T[L+2]&3,pts:f},T[L+2]&4&&(F.ccData=T[L+3]<<8|T[L+4],b.push(F));return b},XY=function(f){for(var T=f.byteLength,b=[],k=1,w,L;k<T-2;)f[k]===0&&f[k+1]===0&&f[k+2]===3?(b.push(k+2),k+=2):k++;if(b.length===0)return f;w=T-b.length,L=new Uint8Array(w);var F=0;for(k=0;k<w;F++,k++)F===b[0]&&(F++,b.shift()),L[k]=f[F];return L},$w={parseSei:KY,parseUserData:YY,parseCaptionPackets:QY,discardEmulationPreventionBytes:XY,USER_DATA_REGISTERED_ITU_T_T35:Mw},L_=n,Dg=$w,ei=function(f){f=f||{},ei.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new jt(0,0),new jt(0,1),new jt(1,0),new jt(1,1)],this.parse708captions_&&(this.cc708Stream_=new wt({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(T){T.on("data",this.trigger.bind(this,"data")),T.on("partialdone",this.trigger.bind(this,"partialdone")),T.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ei.prototype=new L_,ei.prototype.push=function(f){var T,b,k;if(f.nalUnitType==="sei_rbsp"&&(T=Dg.parseSei(f.escapedRBSP),!!T.payload&&T.payloadType===Dg.USER_DATA_REGISTERED_ITU_T_T35&&(b=Dg.parseUserData(T),!!b))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}k=Dg.parseCaptionPackets(f.pts,b),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},ei.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(T){return f==="flush"?T.flush():T.partialFlush()},this)},ei.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(T,b){T.presortIndex=b}),this.captionPackets_.sort(function(T,b){return T.pts===b.pts?T.presortIndex-b.presortIndex:T.pts-b.pts}),this.captionPackets_.forEach(function(T){T.type<2?this.dispatchCea608Packet(T):this.dispatchCea708Packet(T)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},ei.prototype.flush=function(){return this.flushStream("flush")},ei.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ei.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},ei.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},ei.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},ei.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},ei.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186},ei.prototype.dispatchCea708Packet=function(f){this.parse708captions_&&this.cc708Stream_.push(f)};var ZY={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},JY=function(f){var T=ZY[f]||f;return f&4096&&f===T?"":String.fromCharCode(T)},Pg=function(f){return 32<=f&&f<=127||160<=f&&f<=255},Qa=function(f){this.windowNum=f,this.reset()};Qa.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Qa.prototype.getText=function(){return this.rows.join(`
`)},Qa.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Qa.prototype.newLine=function(f){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(f),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Qa.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Qa.prototype.addText=function(f){this.rows[this.rowIdx]+=f},Qa.prototype.backspace=function(){if(!this.isEmpty()){var f=this.rows[this.rowIdx];this.rows[this.rowIdx]=f.substr(0,f.length-1)}};var Mg=function(f,T,b){this.serviceNum=f,this.text="",this.currentWindow=new Qa(-1),this.windows=[],this.stream=b,typeof T=="string"&&this.createTextDecoder(T)};Mg.prototype.init=function(f,T){this.startPts=f;for(var b=0;b<8;b++)this.windows[b]=new Qa(b),typeof T=="function"&&(this.windows[b].beforeRowOverflow=T)},Mg.prototype.setCurrentWindow=function(f){this.currentWindow=this.windows[f]},Mg.prototype.createTextDecoder=function(f){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(f)}catch(T){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+f+" encoding. "+T})}};var wt=function(f){f=f||{},wt.prototype.init.call(this);var T=this,b=f.captionServices||{},k={},w;Object.keys(b).forEach(L=>{w=b[L],/^SERVICE/.test(L)&&(k[L]=w.encoding)}),this.serviceEncodings=k,this.current708Packet=null,this.services={},this.push=function(L){L.type===3?(T.new708Packet(),T.add708Bytes(L)):(T.current708Packet===null&&T.new708Packet(),T.add708Bytes(L))}};wt.prototype=new L_,wt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},wt.prototype.add708Bytes=function(f){var T=f.ccData,b=T>>>8,k=T&255;this.current708Packet.ptsVals.push(f.pts),this.current708Packet.data.push(b),this.current708Packet.data.push(k)},wt.prototype.push708Packet=function(){var f=this.current708Packet,T=f.data,b=null,k=null,w=0,L=T[w++];for(f.seq=L>>6,f.sizeCode=L&63;w<T.length;w++)L=T[w++],b=L>>5,k=L&31,b===7&&k>0&&(L=T[w++],b=L),this.pushServiceBlock(b,w,k),k>0&&(w+=k-1)},wt.prototype.pushServiceBlock=function(f,T,b){var k,w=T,L=this.current708Packet.data,F=this.services[f];for(F||(F=this.initService(f,w));w<T+b&&w<L.length;w++)k=L[w],Pg(k)?w=this.handleText(w,F):k===24?w=this.multiByteCharacter(w,F):k===16?w=this.extendedCommands(w,F):128<=k&&k<=135?w=this.setCurrentWindow(w,F):152<=k&&k<=159?w=this.defineWindow(w,F):k===136?w=this.clearWindows(w,F):k===140?w=this.deleteWindows(w,F):k===137?w=this.displayWindows(w,F):k===138?w=this.hideWindows(w,F):k===139?w=this.toggleWindows(w,F):k===151?w=this.setWindowAttributes(w,F):k===144?w=this.setPenAttributes(w,F):k===145?w=this.setPenColor(w,F):k===146?w=this.setPenLocation(w,F):k===143?F=this.reset(w,F):k===8?F.currentWindow.backspace():k===12?F.currentWindow.clearText():k===13?F.currentWindow.pendingNewLine=!0:k===14?F.currentWindow.clearText():k===141&&w++},wt.prototype.extendedCommands=function(f,T){var b=this.current708Packet.data,k=b[++f];return Pg(k)&&(f=this.handleText(f,T,{isExtended:!0})),f},wt.prototype.getPts=function(f){return this.current708Packet.ptsVals[Math.floor(f/2)]},wt.prototype.initService=function(f,T){var k="SERVICE"+f,b=this,k,w;return k in this.serviceEncodings&&(w=this.serviceEncodings[k]),this.services[f]=new Mg(f,w,b),this.services[f].init(this.getPts(T),function(L){b.flushDisplayed(L,b.services[f])}),this.services[f]},wt.prototype.handleText=function(f,T,b){var k=b&&b.isExtended,w=b&&b.isMultiByte,L=this.current708Packet.data,F=k?4096:0,j=L[f],H=L[f+1],q=T.currentWindow,ee,me;function Le(ye){return ye.map(Fe=>("0"+(Fe&255).toString(16)).slice(-2)).join("")}if(w?(me=[j,H],f++):me=[j],T.textDecoder_&&!k)ee=T.textDecoder_.decode(new Uint8Array(me));else if(w){const ye=Le(me);ee=String.fromCharCode(parseInt(ye,16))}else ee=JY(F|j);return q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(f)),q.pendingNewLine=!1,q.addText(ee),f},wt.prototype.multiByteCharacter=function(f,T){var b=this.current708Packet.data,k=b[f+1],w=b[f+2];return Pg(k)&&Pg(w)&&(f=this.handleText(++f,T,{isMultiByte:!0})),f},wt.prototype.setCurrentWindow=function(f,T){var b=this.current708Packet.data,k=b[f],w=k&7;return T.setCurrentWindow(w),f},wt.prototype.defineWindow=function(f,T){var b=this.current708Packet.data,k=b[f],w=k&7;T.setCurrentWindow(w);var L=T.currentWindow;return k=b[++f],L.visible=(k&32)>>5,L.rowLock=(k&16)>>4,L.columnLock=(k&8)>>3,L.priority=k&7,k=b[++f],L.relativePositioning=(k&128)>>7,L.anchorVertical=k&127,k=b[++f],L.anchorHorizontal=k,k=b[++f],L.anchorPoint=(k&240)>>4,L.rowCount=k&15,k=b[++f],L.columnCount=k&63,k=b[++f],L.windowStyle=(k&56)>>3,L.penStyle=k&7,L.virtualRowCount=L.rowCount+1,f},wt.prototype.setWindowAttributes=function(f,T){var b=this.current708Packet.data,k=b[f],w=T.currentWindow.winAttr;return k=b[++f],w.fillOpacity=(k&192)>>6,w.fillRed=(k&48)>>4,w.fillGreen=(k&12)>>2,w.fillBlue=k&3,k=b[++f],w.borderType=(k&192)>>6,w.borderRed=(k&48)>>4,w.borderGreen=(k&12)>>2,w.borderBlue=k&3,k=b[++f],w.borderType+=(k&128)>>5,w.wordWrap=(k&64)>>6,w.printDirection=(k&48)>>4,w.scrollDirection=(k&12)>>2,w.justify=k&3,k=b[++f],w.effectSpeed=(k&240)>>4,w.effectDirection=(k&12)>>2,w.displayEffect=k&3,f},wt.prototype.flushDisplayed=function(f,T){for(var b=[],k=0;k<8;k++)T.windows[k].visible&&!T.windows[k].isEmpty()&&b.push(T.windows[k].getText());T.endPts=f,T.text=b.join(`

`),this.pushCaption(T),T.startPts=f},wt.prototype.pushCaption=function(f){f.text!==""&&(this.trigger("data",{startPts:f.startPts,endPts:f.endPts,text:f.text,stream:"cc708_"+f.serviceNum}),f.text="",f.startPts=f.endPts)},wt.prototype.displayWindows=function(f,T){var b=this.current708Packet.data,k=b[++f],w=this.getPts(f);this.flushDisplayed(w,T);for(var L=0;L<8;L++)k&1<<L&&(T.windows[L].visible=1);return f},wt.prototype.hideWindows=function(f,T){var b=this.current708Packet.data,k=b[++f],w=this.getPts(f);this.flushDisplayed(w,T);for(var L=0;L<8;L++)k&1<<L&&(T.windows[L].visible=0);return f},wt.prototype.toggleWindows=function(f,T){var b=this.current708Packet.data,k=b[++f],w=this.getPts(f);this.flushDisplayed(w,T);for(var L=0;L<8;L++)k&1<<L&&(T.windows[L].visible^=1);return f},wt.prototype.clearWindows=function(f,T){var b=this.current708Packet.data,k=b[++f],w=this.getPts(f);this.flushDisplayed(w,T);for(var L=0;L<8;L++)k&1<<L&&T.windows[L].clearText();return f},wt.prototype.deleteWindows=function(f,T){var b=this.current708Packet.data,k=b[++f],w=this.getPts(f);this.flushDisplayed(w,T);for(var L=0;L<8;L++)k&1<<L&&T.windows[L].reset();return f},wt.prototype.setPenAttributes=function(f,T){var b=this.current708Packet.data,k=b[f],w=T.currentWindow.penAttr;return k=b[++f],w.textTag=(k&240)>>4,w.offset=(k&12)>>2,w.penSize=k&3,k=b[++f],w.italics=(k&128)>>7,w.underline=(k&64)>>6,w.edgeType=(k&56)>>3,w.fontStyle=k&7,f},wt.prototype.setPenColor=function(f,T){var b=this.current708Packet.data,k=b[f],w=T.currentWindow.penColor;return k=b[++f],w.fgOpacity=(k&192)>>6,w.fgRed=(k&48)>>4,w.fgGreen=(k&12)>>2,w.fgBlue=k&3,k=b[++f],w.bgOpacity=(k&192)>>6,w.bgRed=(k&48)>>4,w.bgGreen=(k&12)>>2,w.bgBlue=k&3,k=b[++f],w.edgeRed=(k&48)>>4,w.edgeGreen=(k&12)>>2,w.edgeBlue=k&3,f},wt.prototype.setPenLocation=function(f,T){var b=this.current708Packet.data,k=b[f],w=T.currentWindow.penLoc;return T.currentWindow.pendingNewLine=!0,k=b[++f],w.row=k&15,k=b[++f],w.column=k&63,f},wt.prototype.reset=function(f,T){var b=this.getPts(f);return this.flushDisplayed(b,T),this.initService(T.serviceNum,f)};var eQ={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},$g=function(f){return f===null?"":(f=eQ[f]||f,String.fromCharCode(f))},Ug=14,tQ=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ic=function(){for(var f=[],T=Ug+1;T--;)f.push({text:"",indent:0,offset:0});return f},jt=function(f,T){jt.prototype.init.call(this),this.field_=f||0,this.dataChannel_=T||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(b){var k,w,L,F,j;if(k=b.ccData&32639,k===this.lastControlCode_){this.lastControlCode_=null;return}if((k&61440)===4096?this.lastControlCode_=k:k!==this.PADDING_&&(this.lastControlCode_=null),L=k>>>8,F=k&255,k!==this.PADDING_)if(k===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(k===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(b.pts),this.flushDisplayed(b.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=b.pts;else if(k===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(b.pts);else if(k===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(b.pts);else if(k===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(b.pts);else if(k===this.CARRIAGE_RETURN_)this.clearFormatting(b.pts),this.flushDisplayed(b.pts),this.shiftRowsUp_(),this.startPts_=b.pts;else if(k===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(k===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(b.pts),this.displayed_=Ic();else if(k===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ic();else if(k===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(b.pts),this.displayed_=Ic()),this.mode_="paintOn",this.startPts_=b.pts;else if(this.isSpecialCharacter(L,F))L=(L&3)<<8,j=$g(L|F),this[this.mode_](b.pts,j),this.column_++;else if(this.isExtCharacter(L,F))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),L=(L&3)<<8,j=$g(L|F),this[this.mode_](b.pts,j),this.column_++;else if(this.isMidRowCode(L,F))this.clearFormatting(b.pts),this[this.mode_](b.pts," "),this.column_++,(F&14)===14&&this.addFormatting(b.pts,["i"]),(F&1)===1&&this.addFormatting(b.pts,["u"]);else if(this.isOffsetControlCode(L,F)){const q=F&3;this.nonDisplayed_[this.row_].offset=q,this.column_+=q}else if(this.isPAC(L,F)){var H=tQ.indexOf(k&7968);if(this.mode_==="rollUp"&&(H-this.rollUpRows_+1<0&&(H=this.rollUpRows_-1),this.setRollUp(b.pts,H)),H!==this.row_&&H>=0&&H<=14&&(this.clearFormatting(b.pts),this.row_=H),F&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(b.pts,["u"]),(k&16)===16){const q=(k&14)>>1;this.column_=q*4,this.nonDisplayed_[this.row_].indent+=q}this.isColorPAC(F)&&(F&14)===14&&this.addFormatting(b.pts,["i"])}else this.isNormalChar(L)&&(F===0&&(F=null),j=$g(L),j+=$g(F),this[this.mode_](b.pts,j),this.column_+=j.length)}};jt.prototype=new L_,jt.prototype.flushDisplayed=function(f){const T=k=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."})},b=[];this.displayed_.forEach((k,w)=>{if(k&&k.text&&k.text.length){try{k.text=k.text.trim()}catch{T(w)}k.text.length&&b.push({text:k.text,line:w+1,position:10+Math.min(70,k.indent*10)+k.offset*2.5})}else k==null&&T(w)}),b.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,content:b,stream:this.name_})},jt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ic(),this.nonDisplayed_=Ic(),this.lastControlCode_=null,this.column_=0,this.row_=Ug,this.rollUpRows_=2,this.formatting_=[]},jt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},jt.prototype.isSpecialCharacter=function(f,T){return f===this.EXT_&&T>=48&&T<=63},jt.prototype.isExtCharacter=function(f,T){return(f===this.EXT_+1||f===this.EXT_+2)&&T>=32&&T<=63},jt.prototype.isMidRowCode=function(f,T){return f===this.EXT_&&T>=32&&T<=47},jt.prototype.isOffsetControlCode=function(f,T){return f===this.OFFSET_&&T>=33&&T<=35},jt.prototype.isPAC=function(f,T){return f>=this.BASE_&&f<this.BASE_+8&&T>=64&&T<=127},jt.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},jt.prototype.isNormalChar=function(f){return f>=32&&f<=127},jt.prototype.setRollUp=function(f,T){if(this.mode_!=="rollUp"&&(this.row_=Ug,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=Ic(),this.displayed_=Ic()),T!==void 0&&T!==this.row_)for(var b=0;b<this.rollUpRows_;b++)this.displayed_[T-b]=this.displayed_[this.row_-b],this.displayed_[this.row_-b]={text:"",indent:0,offset:0};T===void 0&&(T=this.row_),this.topRow_=T-this.rollUpRows_+1},jt.prototype.addFormatting=function(f,T){this.formatting_=this.formatting_.concat(T);var b=T.reduce(function(k,w){return k+"<"+w+">"},"");this[this.mode_](f,b)},jt.prototype.clearFormatting=function(f){if(this.formatting_.length){var T=this.formatting_.reverse().reduce(function(b,k){return b+"</"+k+">"},"");this.formatting_=[],this[this.mode_](f,T)}},jt.prototype.popOn=function(f,T){var b=this.nonDisplayed_[this.row_].text;b+=T,this.nonDisplayed_[this.row_].text=b},jt.prototype.rollUp=function(f,T){var b=this.displayed_[this.row_].text;b+=T,this.displayed_[this.row_].text=b},jt.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.row_+1;f<Ug+1;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},jt.prototype.paintOn=function(f,T){var b=this.displayed_[this.row_].text;b+=T,this.displayed_[this.row_].text=b};var Uw={CaptionStream:ei,Cea608Stream:jt,Cea708Stream:wt},Fg={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},nQ=n,rQ=8589934592,iQ=4294967296,Fw="shared",R_=function(f,T){var b=1;for(f>T&&(b=-1);Math.abs(T-f)>iQ;)f+=b*rQ;return f},N_=function(f){var T,b;N_.prototype.init.call(this),this.type_=f||Fw,this.push=function(k){if(k.type==="metadata"){this.trigger("data",k);return}this.type_!==Fw&&k.type!==this.type_||(b===void 0&&(b=k.dts),k.dts=R_(k.dts,b),k.pts=R_(k.pts,b),T=k.dts,this.trigger("data",k))},this.flush=function(){b=T,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){b=void 0,T=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};N_.prototype=new nQ;var Bw={TimestampRolloverStream:N_,handleRollover:R_},sQ=(f,T,b)=>{if(!f)return-1;for(var k=b;k<f.length;k++)if(f[k]===T)return k;return-1},aQ={typedArrayIndexOf:sQ},Bg=aQ.typedArrayIndexOf,jg={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},jw=function(f,T,b){var k,w="";for(k=T;k<b;k++)w+="%"+("00"+f[k].toString(16)).slice(-2);return w},tp=function(f,T,b){return decodeURIComponent(jw(f,T,b))},np=function(f,T,b){return unescape(jw(f,T,b))},rp=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},ip={APIC:function(f){var T=1,b,k,w="-->";f.data[0]===jg.Utf8&&(b=Bg(f.data,0,T),!(b<0)&&(f.mimeType=np(f.data,T,b),T=b+1,f.pictureType=f.data[T],T++,k=Bg(f.data,0,T),!(k<0)&&(f.description=tp(f.data,T,k),T=k+1,f.mimeType===w?f.url=np(f.data,T,f.data.length):f.pictureData=f.data.subarray(T,f.data.length))))},"T*":function(f){f.data[0]===jg.Utf8&&(f.value=tp(f.data,1,f.data.length).replace(/\0*$/,""),f.values=f.value.split("\0"))},TXXX:function(f){var T;f.data[0]===jg.Utf8&&(T=Bg(f.data,0,1),T!==-1&&(f.description=tp(f.data,1,T),f.value=tp(f.data,T+1,f.data.length).replace(/\0*$/,""),f.data=f.value))},"W*":function(f){f.url=np(f.data,0,f.data.length).replace(/\0.*$/,"")},WXXX:function(f){var T;f.data[0]===jg.Utf8&&(T=Bg(f.data,0,1),T!==-1&&(f.description=tp(f.data,1,T),f.url=np(f.data,T+1,f.data.length).replace(/\0.*$/,"")))},PRIV:function(f){var T;for(T=0;T<f.data.length;T++)if(f.data[T]===0){f.owner=np(f.data,0,T);break}f.privateData=f.data.subarray(T+1),f.data=f.privateData}},oQ=function(f){var T,b,k=10,w=0,L=[];if(!(f.length<10||f[0]!==73||f[1]!==68||f[2]!==51)){w=rp(f.subarray(6,10)),w+=10;var F=f[5]&64;F&&(k+=4,k+=rp(f.subarray(10,14)),w-=rp(f.subarray(16,20)));do{if(T=rp(f.subarray(k+4,k+8)),T<1)break;b=String.fromCharCode(f[k],f[k+1],f[k+2],f[k+3]);var j={id:b,data:f.subarray(k+10,k+T+10)};j.key=j.id,ip[j.id]?ip[j.id](j):j.id[0]==="T"?ip["T*"](j):j.id[0]==="W"&&ip["W*"](j),L.push(j),k+=10,k+=T}while(k<w);return L}},Vw={parseId3Frames:oQ,parseSyncSafeInteger:rp,frameParsers:ip},lQ=n,cQ=Fg,el=Vw,Vg;Vg=function(f){var T={descriptor:f&&f.descriptor},b=0,k=[],w=0,L;if(Vg.prototype.init.call(this),this.dispatchType=cQ.METADATA_STREAM_TYPE.toString(16),T.descriptor)for(L=0;L<T.descriptor.length;L++)this.dispatchType+=("00"+T.descriptor[L].toString(16)).slice(-2);this.push=function(F){var j,H,q,ee,me,Le;if(F.type==="timed-metadata"){if(F.dataAlignmentIndicator&&(w=0,k.length=0),k.length===0&&(F.data.length<10||F.data[0]!==73||F.data[1]!==68||F.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(k.push(F),w+=F.data.byteLength,k.length===1&&(b=el.parseSyncSafeInteger(F.data.subarray(6,10)),b+=10),!(w<b)){for(j={data:new Uint8Array(b),frames:[],pts:k[0].pts,dts:k[0].dts},me=0;me<b;)j.data.set(k[0].data.subarray(0,b-me),me),me+=k[0].data.byteLength,w-=k[0].data.byteLength,k.shift();H=10,j.data[5]&64&&(H+=4,H+=el.parseSyncSafeInteger(j.data.subarray(10,14)),b-=el.parseSyncSafeInteger(j.data.subarray(16,20)));do{if(q=el.parseSyncSafeInteger(j.data.subarray(H+4,H+8)),q<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Le=String.fromCharCode(j.data[H],j.data[H+1],j.data[H+2],j.data[H+3]),ee={id:Le,data:j.data.subarray(H+10,H+q+10)},ee.key=ee.id,el.frameParsers[ee.id]?el.frameParsers[ee.id](ee):ee.id[0]==="T"?el.frameParsers["T*"](ee):ee.id[0]==="W"&&el.frameParsers["W*"](ee),ee.owner==="com.apple.streaming.transportStreamTimestamp"){var ye=ee.data,Fe=(ye[3]&1)<<30|ye[4]<<22|ye[5]<<14|ye[6]<<6|ye[7]>>>2;Fe*=4,Fe+=ye[7]&3,ee.timeStamp=Fe,j.pts===void 0&&j.dts===void 0&&(j.pts=ee.timeStamp,j.dts=ee.timeStamp),this.trigger("timestamp",ee)}j.frames.push(ee),H+=10,H+=q}while(H<b);this.trigger("data",j)}}}},Vg.prototype=new lQ;var uQ=Vg,O_=n,D_=Uw,Es=Fg,dQ=Bw.TimestampRolloverStream,Hg,sp,Gg,Ju=188,P_=71;Hg=function(){var f=new Uint8Array(Ju),T=0;Hg.prototype.init.call(this),this.push=function(b){var k=0,w=Ju,L;for(T?(L=new Uint8Array(b.byteLength+T),L.set(f.subarray(0,T)),L.set(b,T),T=0):L=b;w<L.byteLength;){if(L[k]===P_&&L[w]===P_){this.trigger("data",L.subarray(k,w)),k+=Ju,w+=Ju;continue}k++,w++}k<L.byteLength&&(f.set(L.subarray(k),0),T=L.byteLength-k)},this.flush=function(){T===Ju&&f[0]===P_&&(this.trigger("data",f),T=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){T=0,this.trigger("reset")}},Hg.prototype=new O_,sp=function(){var f,T,b,k;sp.prototype.init.call(this),k=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(w,L){var F=0;L.payloadUnitStartIndicator&&(F+=w[F]+1),L.type==="pat"?T(w.subarray(F),L):b(w.subarray(F),L)},T=function(w,L){L.section_number=w[7],L.last_section_number=w[8],k.pmtPid=(w[10]&31)<<8|w[11],L.pmtPid=k.pmtPid},b=function(w,L){var F,j,H,q;if(w[5]&1){for(k.programMapTable={video:null,audio:null,"timed-metadata":{}},F=(w[1]&15)<<8|w[2],j=3+F-4,H=(w[10]&15)<<8|w[11],q=12+H;q<j;){var ee=w[q],me=(w[q+1]&31)<<8|w[q+2];ee===Es.H264_STREAM_TYPE&&k.programMapTable.video===null?k.programMapTable.video=me:ee===Es.ADTS_STREAM_TYPE&&k.programMapTable.audio===null?k.programMapTable.audio=me:ee===Es.METADATA_STREAM_TYPE&&(k.programMapTable["timed-metadata"][me]=ee),q+=((w[q+3]&15)<<8|w[q+4])+5}L.programMapTable=k.programMapTable}},this.push=function(w){var L={},F=4;if(L.payloadUnitStartIndicator=!!(w[1]&64),L.pid=w[1]&31,L.pid<<=8,L.pid|=w[2],(w[3]&48)>>>4>1&&(F+=w[F]+1),L.pid===0)L.type="pat",f(w.subarray(F),L),this.trigger("data",L);else if(L.pid===this.pmtPid)for(L.type="pmt",f(w.subarray(F),L),this.trigger("data",L);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,F,L]):this.processPes_(w,F,L)},this.processPes_=function(w,L,F){F.pid===this.programMapTable.video?F.streamType=Es.H264_STREAM_TYPE:F.pid===this.programMapTable.audio?F.streamType=Es.ADTS_STREAM_TYPE:F.streamType=this.programMapTable["timed-metadata"][F.pid],F.type="pes",F.data=w.subarray(L),this.trigger("data",F)}},sp.prototype=new O_,sp.STREAM_TYPES={h264:27,adts:15},Gg=function(){var f=this,T=!1,b={data:[],size:0},k={data:[],size:0},w={data:[],size:0},L,F=function(H,q){var ee;const me=H[0]<<16|H[1]<<8|H[2];q.data=new Uint8Array,me===1&&(q.packetLength=6+(H[4]<<8|H[5]),q.dataAlignmentIndicator=(H[6]&4)!==0,ee=H[7],ee&192&&(q.pts=(H[9]&14)<<27|(H[10]&255)<<20|(H[11]&254)<<12|(H[12]&255)<<5|(H[13]&254)>>>3,q.pts*=4,q.pts+=(H[13]&6)>>>1,q.dts=q.pts,ee&64&&(q.dts=(H[14]&14)<<27|(H[15]&255)<<20|(H[16]&254)<<12|(H[17]&255)<<5|(H[18]&254)>>>3,q.dts*=4,q.dts+=(H[18]&6)>>>1)),q.data=H.subarray(9+H[8]))},j=function(H,q,ee){var me=new Uint8Array(H.size),Le={type:q},ye=0,Fe=0,Ke=!1,jn;if(!(!H.data.length||H.size<9)){for(Le.trackId=H.data[0].pid,ye=0;ye<H.data.length;ye++)jn=H.data[ye],me.set(jn.data,Fe),Fe+=jn.data.byteLength;F(me,Le),Ke=q==="video"||Le.packetLength<=H.size,(ee||Ke)&&(H.size=0,H.data.length=0),Ke&&f.trigger("data",Le)}};Gg.prototype.init.call(this),this.push=function(H){({pat:function(){},pes:function(){var q,ee;switch(H.streamType){case Es.H264_STREAM_TYPE:q=b,ee="video";break;case Es.ADTS_STREAM_TYPE:q=k,ee="audio";break;case Es.METADATA_STREAM_TYPE:q=w,ee="timed-metadata";break;default:return}H.payloadUnitStartIndicator&&j(q,ee,!0),q.data.push(H),q.size+=H.data.byteLength},pmt:function(){var q={type:"metadata",tracks:[]};L=H.programMapTable,L.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),T=!0,f.trigger("data",q)}})[H.type]()},this.reset=function(){b.size=0,b.data.length=0,k.size=0,k.data.length=0,this.trigger("reset")},this.flushStreams_=function(){j(b,"video"),j(k,"audio"),j(w,"timed-metadata")},this.flush=function(){if(!T&&L){var H={type:"metadata",tracks:[]};L.video!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&H.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),f.trigger("data",H)}T=!1,this.flushStreams_(),this.trigger("done")}},Gg.prototype=new O_;var Hw={PAT_PID:0,MP2T_PACKET_LENGTH:Ju,TransportPacketStream:Hg,TransportParseStream:sp,ElementaryStream:Gg,TimestampRolloverStream:dQ,CaptionStream:D_.CaptionStream,Cea608Stream:D_.Cea608Stream,Cea708Stream:D_.Cea708Stream,MetadataStream:uQ};for(var M_ in Es)Es.hasOwnProperty(M_)&&(Hw[M_]=Es[M_]);var hQ=Hw,mQ=n,pQ=M.ONE_SECOND_IN_TS,qg,Gw=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];qg=function(f){var T,b=0;qg.prototype.init.call(this),this.skipWarn_=function(k,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${k} to ${w} in frame ${b} outside syncword`})},this.push=function(k){var w=0,L,F,j,H,q;if(f||(b=0),k.type==="audio"){T&&T.length?(j=T,T=new Uint8Array(j.byteLength+k.data.byteLength),T.set(j),T.set(k.data,j.byteLength)):T=k.data;for(var ee;w+7<T.length;){if(T[w]!==255||(T[w+1]&246)!==240){typeof ee!="number"&&(ee=w),w++;continue}if(typeof ee=="number"&&(this.skipWarn_(ee,w),ee=null),F=(~T[w+1]&1)*2,L=(T[w+3]&3)<<11|T[w+4]<<3|(T[w+5]&224)>>5,H=((T[w+6]&3)+1)*1024,q=H*pQ/Gw[(T[w+2]&60)>>>2],T.byteLength-w<L)break;this.trigger("data",{pts:k.pts+b*q,dts:k.dts+b*q,sampleCount:H,audioobjecttype:(T[w+2]>>>6&3)+1,channelcount:(T[w+2]&1)<<2|(T[w+3]&192)>>>6,samplerate:Gw[(T[w+2]&60)>>>2],samplingfrequencyindex:(T[w+2]&60)>>>2,samplesize:16,data:T.subarray(w+7+F,w+L)}),b++,w+=L}typeof ee=="number"&&(this.skipWarn_(ee,w),ee=null),T=T.subarray(w)}},this.flush=function(){b=0,this.trigger("done")},this.reset=function(){T=void 0,this.trigger("reset")},this.endTimeline=function(){T=void 0,this.trigger("endedtimeline")}},qg.prototype=new mQ;var fQ=qg,qw;qw=function(f){var T=f.byteLength,b=0,k=0;this.length=function(){return 8*T},this.bitsAvailable=function(){return 8*T+k},this.loadWord=function(){var w=f.byteLength-T,L=new Uint8Array(4),F=Math.min(4,T);if(F===0)throw new Error("no bytes available");L.set(f.subarray(w,w+F)),b=new DataView(L.buffer).getUint32(0),k=F*8,T-=F},this.skipBits=function(w){var L;k>w?(b<<=w,k-=w):(w-=k,L=Math.floor(w/8),w-=L*8,T-=L,this.loadWord(),b<<=w,k-=w)},this.readBits=function(w){var L=Math.min(k,w),F=b>>>32-L;return k-=L,k>0?b<<=L:T>0&&this.loadWord(),L=w-L,L>0?F<<L|this.readBits(L):F},this.skipLeadingZeros=function(){var w;for(w=0;w<k;++w)if(b&2147483648>>>w)return b<<=w,k-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var gQ=qw,zw=n,yQ=gQ,zg,ap,Ww;ap=function(){var f=0,T,b;ap.prototype.init.call(this),this.push=function(k){var w;b?(w=new Uint8Array(b.byteLength+k.data.byteLength),w.set(b),w.set(k.data,b.byteLength),b=w):b=k.data;for(var L=b.byteLength;f<L-3;f++)if(b[f+2]===1){T=f+5;break}for(;T<L;)switch(b[T]){case 0:if(b[T-1]!==0){T+=2;break}else if(b[T-2]!==0){T++;break}f+3!==T-2&&this.trigger("data",b.subarray(f+3,T-2));do T++;while(b[T]!==1&&T<L);f=T-2,T+=3;break;case 1:if(b[T-1]!==0||b[T-2]!==0){T+=3;break}this.trigger("data",b.subarray(f+3,T-2)),f=T-2,T+=3;break;default:T+=3;break}b=b.subarray(f),T-=f,f=0},this.reset=function(){b=null,f=0,this.trigger("reset")},this.flush=function(){b&&b.byteLength>3&&this.trigger("data",b.subarray(f+3)),b=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ap.prototype=new zw,Ww={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},zg=function(){var f=new ap,T,b,k,w,L,F,j;zg.prototype.init.call(this),T=this,this.push=function(H){H.type==="video"&&(b=H.trackId,k=H.pts,w=H.dts,f.push(H))},f.on("data",function(H){var q={trackId:b,pts:k,dts:w,data:H,nalUnitTypeCode:H[0]&31};switch(q.nalUnitTypeCode){case 5:q.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:q.nalUnitType="sei_rbsp",q.escapedRBSP=L(H.subarray(1));break;case 7:q.nalUnitType="seq_parameter_set_rbsp",q.escapedRBSP=L(H.subarray(1)),q.config=F(q.escapedRBSP);break;case 8:q.nalUnitType="pic_parameter_set_rbsp";break;case 9:q.nalUnitType="access_unit_delimiter_rbsp";break}T.trigger("data",q)}),f.on("done",function(){T.trigger("done")}),f.on("partialdone",function(){T.trigger("partialdone")}),f.on("reset",function(){T.trigger("reset")}),f.on("endedtimeline",function(){T.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},j=function(H,q){var ee=8,me=8,Le,ye;for(Le=0;Le<H;Le++)me!==0&&(ye=q.readExpGolomb(),me=(ee+ye+256)%256),ee=me===0?ee:me},L=function(H){for(var q=H.byteLength,ee=[],me=1,Le,ye;me<q-2;)H[me]===0&&H[me+1]===0&&H[me+2]===3?(ee.push(me+2),me+=2):me++;if(ee.length===0)return H;Le=q-ee.length,ye=new Uint8Array(Le);var Fe=0;for(me=0;me<Le;Fe++,me++)Fe===ee[0]&&(Fe++,ee.shift()),ye[me]=H[Fe];return ye},F=function(H){var q=0,ee=0,me=0,Le=0,ye,Fe,Ke,jn,Pr,ea,pp,i0,s0,Rc,fp,Pt=[1,1],E7,Nc;if(ye=new yQ(H),Fe=ye.readUnsignedByte(),jn=ye.readUnsignedByte(),Ke=ye.readUnsignedByte(),ye.skipUnsignedExpGolomb(),Ww[Fe]&&(Pr=ye.readUnsignedExpGolomb(),Pr===3&&ye.skipBits(1),ye.skipUnsignedExpGolomb(),ye.skipUnsignedExpGolomb(),ye.skipBits(1),ye.readBoolean()))for(fp=Pr!==3?8:12,Nc=0;Nc<fp;Nc++)ye.readBoolean()&&(Nc<6?j(16,ye):j(64,ye));if(ye.skipUnsignedExpGolomb(),ea=ye.readUnsignedExpGolomb(),ea===0)ye.readUnsignedExpGolomb();else if(ea===1)for(ye.skipBits(1),ye.skipExpGolomb(),ye.skipExpGolomb(),pp=ye.readUnsignedExpGolomb(),Nc=0;Nc<pp;Nc++)ye.skipExpGolomb();if(ye.skipUnsignedExpGolomb(),ye.skipBits(1),i0=ye.readUnsignedExpGolomb(),s0=ye.readUnsignedExpGolomb(),Rc=ye.readBits(1),Rc===0&&ye.skipBits(1),ye.skipBits(1),ye.readBoolean()&&(q=ye.readUnsignedExpGolomb(),ee=ye.readUnsignedExpGolomb(),me=ye.readUnsignedExpGolomb(),Le=ye.readUnsignedExpGolomb()),ye.readBoolean()&&ye.readBoolean()){switch(E7=ye.readUnsignedByte(),E7){case 1:Pt=[1,1];break;case 2:Pt=[12,11];break;case 3:Pt=[10,11];break;case 4:Pt=[16,11];break;case 5:Pt=[40,33];break;case 6:Pt=[24,11];break;case 7:Pt=[20,11];break;case 8:Pt=[32,11];break;case 9:Pt=[80,33];break;case 10:Pt=[18,11];break;case 11:Pt=[15,11];break;case 12:Pt=[64,33];break;case 13:Pt=[160,99];break;case 14:Pt=[4,3];break;case 15:Pt=[3,2];break;case 16:Pt=[2,1];break;case 255:{Pt=[ye.readUnsignedByte()<<8|ye.readUnsignedByte(),ye.readUnsignedByte()<<8|ye.readUnsignedByte()];break}}Pt&&Pt[0]/Pt[1]}return{profileIdc:Fe,levelIdc:Ke,profileCompatibility:jn,width:(i0+1)*16-q*2-ee*2,height:(2-Rc)*(s0+1)*16-me*2-Le*2,sarRatio:Pt}}},zg.prototype=new zw;var TQ={H264Stream:zg,NalByteStream:ap},vQ=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Kw=function(f,T){var b=f[T+6]<<21|f[T+7]<<14|f[T+8]<<7|f[T+9],k=f[T+5],w=(k&16)>>4;return b=b>=0?b:0,w?b+20:b+10},Yw=function(f,T){return f.length-T<10||f[T]!==73||f[T+1]!==68||f[T+2]!==51?T:(T+=Kw(f,T),Yw(f,T))},_Q=function(f){var T=Yw(f,0);return f.length>=T+2&&(f[T]&255)===255&&(f[T+1]&240)===240&&(f[T+1]&22)===16},Qw=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},bQ=function(f,T,b){var k,w="";for(k=T;k<b;k++)w+="%"+("00"+f[k].toString(16)).slice(-2);return w},SQ=function(f,T,b){return unescape(bQ(f,T,b))},EQ=function(f,T){var b=(f[T+5]&224)>>5,k=f[T+4]<<3,w=f[T+3]&6144;return w|k|b},kQ=function(f,T){return f[T]===73&&f[T+1]===68&&f[T+2]===51?"timed-metadata":f[T]&!0&&(f[T+1]&240)===240?"audio":null},AQ=function(f){for(var T=0;T+5<f.length;){if(f[T]!==255||(f[T+1]&246)!==240){T++;continue}return vQ[(f[T+2]&60)>>>2]}return null},wQ=function(f){var T,b,k,w;T=10,f[5]&64&&(T+=4,T+=Qw(f.subarray(10,14)));do{if(b=Qw(f.subarray(T+4,T+8)),b<1)return null;if(w=String.fromCharCode(f[T],f[T+1],f[T+2],f[T+3]),w==="PRIV"){k=f.subarray(T+10,T+b+10);for(var L=0;L<k.byteLength;L++)if(k[L]===0){var F=SQ(k,0,L);if(F==="com.apple.streaming.transportStreamTimestamp"){var j=k.subarray(L+1),H=(j[3]&1)<<30|j[4]<<22|j[5]<<14|j[6]<<6|j[7]>>>2;return H*=4,H+=j[7]&3,H}break}}T+=10,T+=b}while(T<f.byteLength);return null},$_={isLikelyAacData:_Q,parseId3TagSize:Kw,parseAdtsSize:EQ,parseType:kQ,parseSampleRate:AQ,parseAacTimestamp:wQ},CQ=n,Xw=$_,Wg;Wg=function(){var f=new Uint8Array,T=0;Wg.prototype.init.call(this),this.setTimestamp=function(b){T=b},this.push=function(b){var k=0,w=0,L,F,j,H;for(f.length?(H=f.length,f=new Uint8Array(b.byteLength+H),f.set(f.subarray(0,H)),f.set(b,H)):f=b;f.length-w>=3;){if(f[w]===73&&f[w+1]===68&&f[w+2]===51){if(f.length-w<10||(k=Xw.parseId3TagSize(f,w),w+k>f.length))break;F={type:"timed-metadata",data:f.subarray(w,w+k)},this.trigger("data",F),w+=k;continue}else if((f[w]&255)===255&&(f[w+1]&240)===240){if(f.length-w<7||(k=Xw.parseAdtsSize(f,w),w+k>f.length))break;j={type:"audio",data:f.subarray(w,w+k),pts:T,dts:T},this.trigger("data",j),w+=k;continue}w++}L=f.length-w,L>0?f=f.subarray(w):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},Wg.prototype=new CQ;var IQ=Wg,xQ=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],LQ=xQ,RQ=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],NQ=RQ,Kg=n,op=Me,lp=tr,Yg=St,ks=zY,Xa=hQ,Qg=M,Zw=fQ,OQ=TQ.H264Stream,DQ=IQ,PQ=$_.isLikelyAacData,MQ=M.ONE_SECOND_IN_TS,U_=LQ,F_=NQ,cp,ed,Xg,xc,$Q=function(f,T){T.stream=f,this.trigger("log",T)},Jw=function(f,T){for(var b=Object.keys(T),k=0;k<b.length;k++){var w=b[k];w==="headOfPipeline"||!T[w].on||T[w].on("log",$Q.bind(f,w))}},e7=function(f,T){var b;if(f.length!==T.length)return!1;for(b=0;b<f.length;b++)if(f[b]!==T[b])return!1;return!0},B_=function(f,T,b,k,w,L){var F=b-T,j=k-T,H=w-b;return{start:{dts:f,pts:f+F},end:{dts:f+j,pts:f+H},prependedContentDuration:L,baseMediaDecodeTime:f}};ed=function(f,T){var b=[],k,w=0,L=0,F=1/0;T=T||{},k=T.firstSequenceNumber||0,ed.prototype.init.call(this),this.push=function(j){ks.collectDtsInfo(f,j),f&&U_.forEach(function(H){f[H]=j[H]}),b.push(j)},this.setEarliestDts=function(j){w=j},this.setVideoBaseMediaDecodeTime=function(j){F=j},this.setAudioAppendStart=function(j){L=j},this.flush=function(){var j,H,q,ee,me,Le,ye;if(b.length===0){this.trigger("done","AudioSegmentStream");return}j=Yg.trimAdtsFramesByEarliestDts(b,f,w),f.baseMediaDecodeTime=ks.calculateTrackBaseMediaDecodeTime(f,T.keepOriginalTimestamps),ye=Yg.prefixWithSilence(f,j,L,F),f.samples=Yg.generateSampleTable(j),q=op.mdat(Yg.concatenateFrameData(j)),b=[],H=op.moof(k,[f]),ee=new Uint8Array(H.byteLength+q.byteLength),k++,ee.set(H),ee.set(q,H.byteLength),ks.clearDtsInfo(f),me=Math.ceil(MQ*1024/f.samplerate),j.length&&(Le=j.length*me,this.trigger("segmentTimingInfo",B_(Qg.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),j[0].dts,j[0].pts,j[0].dts+Le,j[0].pts+Le,ye||0)),this.trigger("timingInfo",{start:j[0].pts,end:j[0].pts+Le})),this.trigger("data",{track:f,boxes:ee}),this.trigger("done","AudioSegmentStream")},this.reset=function(){ks.clearDtsInfo(f),b=[],this.trigger("reset")}},ed.prototype=new Kg,cp=function(f,T){var b,k=[],w=[],L,F;T=T||{},b=T.firstSequenceNumber||0,cp.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(j){ks.collectDtsInfo(f,j),j.nalUnitType==="seq_parameter_set_rbsp"&&!L&&(L=j.config,f.sps=[j.data],F_.forEach(function(H){f[H]=L[H]},this)),j.nalUnitType==="pic_parameter_set_rbsp"&&!F&&(F=j.data,f.pps=[j.data]),k.push(j)},this.flush=function(){for(var j,H,q,ee,me,Le,ye=0,Fe,Ke;k.length&&k[0].nalUnitType!=="access_unit_delimiter_rbsp";)k.shift();if(k.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(j=lp.groupNalsIntoFrames(k),q=lp.groupFramesIntoGops(j),q[0][0].keyFrame||(H=this.getGopForFusion_(k[0],f),H?(ye=H.duration,q.unshift(H),q.byteLength+=H.byteLength,q.nalCount+=H.nalCount,q.pts=H.pts,q.dts=H.dts,q.duration+=H.duration):q=lp.extendFirstKeyFrame(q)),w.length){var jn;if(T.alignGopsAtEnd?jn=this.alignGopsAtEnd_(q):jn=this.alignGopsAtStart_(q),!jn){this.gopCache_.unshift({gop:q.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),k=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}ks.clearDtsInfo(f),q=jn}ks.collectDtsInfo(f,q),f.samples=lp.generateSampleTable(q),me=op.mdat(lp.concatenateNalData(q)),f.baseMediaDecodeTime=ks.calculateTrackBaseMediaDecodeTime(f,T.keepOriginalTimestamps),this.trigger("processedGopsInfo",q.map(function(Pr){return{pts:Pr.pts,dts:Pr.dts,byteLength:Pr.byteLength}})),Fe=q[0],Ke=q[q.length-1],this.trigger("segmentTimingInfo",B_(f.baseMediaDecodeTime,Fe.dts,Fe.pts,Ke.dts+Ke.duration,Ke.pts+Ke.duration,ye)),this.trigger("timingInfo",{start:q[0].pts,end:q[q.length-1].pts+q[q.length-1].duration}),this.gopCache_.unshift({gop:q.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),k=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),ee=op.moof(b,[f]),Le=new Uint8Array(ee.byteLength+me.byteLength),b++,Le.set(ee),Le.set(me,ee.byteLength),this.trigger("data",{track:f,boxes:Le}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),k=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){ks.clearDtsInfo(f),L=void 0,F=void 0},this.getGopForFusion_=function(j){var H=45e3,q=1e4,ee=1/0,me,Le,ye,Fe,Ke;for(Ke=0;Ke<this.gopCache_.length;Ke++)Fe=this.gopCache_[Ke],ye=Fe.gop,!(!(f.pps&&e7(f.pps[0],Fe.pps[0]))||!(f.sps&&e7(f.sps[0],Fe.sps[0])))&&(ye.dts<f.timelineStartInfo.dts||(me=j.dts-ye.dts-ye.duration,me>=-q&&me<=H&&(!Le||ee>me)&&(Le=Fe,ee=me)));return Le?Le.gop:null},this.alignGopsAtStart_=function(j){var H,q,ee,me,Le,ye,Fe,Ke;for(Le=j.byteLength,ye=j.nalCount,Fe=j.duration,H=q=0;H<w.length&&q<j.length&&(ee=w[H],me=j[q],ee.pts!==me.pts);){if(me.pts>ee.pts){H++;continue}q++,Le-=me.byteLength,ye-=me.nalCount,Fe-=me.duration}return q===0?j:q===j.length?null:(Ke=j.slice(q),Ke.byteLength=Le,Ke.duration=Fe,Ke.nalCount=ye,Ke.pts=Ke[0].pts,Ke.dts=Ke[0].dts,Ke)},this.alignGopsAtEnd_=function(j){var H,q,ee,me,Le,ye;for(H=w.length-1,q=j.length-1,Le=null,ye=!1;H>=0&&q>=0;){if(ee=w[H],me=j[q],ee.pts===me.pts){ye=!0;break}if(ee.pts>me.pts){H--;continue}H===w.length-1&&(Le=q),q--}if(!ye&&Le===null)return null;var Fe;if(ye?Fe=q:Fe=Le,Fe===0)return j;var Ke=j.slice(Fe),jn=Ke.reduce(function(Pr,ea){return Pr.byteLength+=ea.byteLength,Pr.duration+=ea.duration,Pr.nalCount+=ea.nalCount,Pr},{byteLength:0,duration:0,nalCount:0});return Ke.byteLength=jn.byteLength,Ke.duration=jn.duration,Ke.nalCount=jn.nalCount,Ke.pts=Ke[0].pts,Ke.dts=Ke[0].dts,Ke},this.alignGopsWith=function(j){w=j}},cp.prototype=new Kg,xc=function(f,T){this.numberOfTracks=0,this.metadataStream=T,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,xc.prototype.init.call(this),this.push=function(b){if(b.content||b.text)return this.pendingCaptions.push(b);if(b.frames)return this.pendingMetadata.push(b);this.pendingTracks.push(b.track),this.pendingBytes+=b.boxes.byteLength,b.track.type==="video"&&(this.videoTrack=b.track,this.pendingBoxes.push(b.boxes)),b.track.type==="audio"&&(this.audioTrack=b.track,this.pendingBoxes.unshift(b.boxes))}},xc.prototype=new Kg,xc.prototype.flush=function(f){var T=0,b={captions:[],captionStreams:{},metadata:[],info:{}},k,w,L,F=0,j;if(this.pendingTracks.length<this.numberOfTracks){if(f!=="VideoSegmentStream"&&f!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(F=this.videoTrack.timelineStartInfo.pts,F_.forEach(function(H){b.info[H]=this.videoTrack[H]},this)):this.audioTrack&&(F=this.audioTrack.timelineStartInfo.pts,U_.forEach(function(H){b.info[H]=this.audioTrack[H]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?b.type=this.pendingTracks[0].type:b.type="combined",this.emittedTracks+=this.pendingTracks.length,L=op.initSegment(this.pendingTracks),b.initSegment=new Uint8Array(L.byteLength),b.initSegment.set(L),b.data=new Uint8Array(this.pendingBytes),j=0;j<this.pendingBoxes.length;j++)b.data.set(this.pendingBoxes[j],T),T+=this.pendingBoxes[j].byteLength;for(j=0;j<this.pendingCaptions.length;j++)k=this.pendingCaptions[j],k.startTime=Qg.metadataTsToSeconds(k.startPts,F,this.keepOriginalTimestamps),k.endTime=Qg.metadataTsToSeconds(k.endPts,F,this.keepOriginalTimestamps),b.captionStreams[k.stream]=!0,b.captions.push(k);for(j=0;j<this.pendingMetadata.length;j++)w=this.pendingMetadata[j],w.cueTime=Qg.metadataTsToSeconds(w.pts,F,this.keepOriginalTimestamps),b.metadata.push(w);for(b.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",b),j=0;j<b.captions.length;j++)k=b.captions[j],this.trigger("caption",k);for(j=0;j<b.metadata.length;j++)w=b.metadata[j],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},xc.prototype.setRemux=function(f){this.remuxTracks=f},Xg=function(f){var T=this,b=!0,k,w;Xg.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="aac",L.metadataStream=new Xa.MetadataStream,L.aacStream=new DQ,L.audioTimestampRolloverStream=new Xa.TimestampRolloverStream("audio"),L.timedMetadataTimestampRolloverStream=new Xa.TimestampRolloverStream("timed-metadata"),L.adtsStream=new Zw,L.coalesceStream=new xc(f,L.metadataStream),L.headOfPipeline=L.aacStream,L.aacStream.pipe(L.audioTimestampRolloverStream).pipe(L.adtsStream),L.aacStream.pipe(L.timedMetadataTimestampRolloverStream).pipe(L.metadataStream).pipe(L.coalesceStream),L.metadataStream.on("timestamp",function(F){L.aacStream.setTimestamp(F.timeStamp)}),L.aacStream.on("data",function(F){F.type!=="timed-metadata"&&F.type!=="audio"||L.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:T.baseMediaDecodeTime},codec:"adts",type:"audio"},L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new ed(w,f),L.audioSegmentStream.on("log",T.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream),T.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!k}))}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),Jw(this,L)},this.setupTsPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="ts",L.metadataStream=new Xa.MetadataStream,L.packetStream=new Xa.TransportPacketStream,L.parseStream=new Xa.TransportParseStream,L.elementaryStream=new Xa.ElementaryStream,L.timestampRolloverStream=new Xa.TimestampRolloverStream,L.adtsStream=new Zw,L.h264Stream=new OQ,L.captionStream=new Xa.CaptionStream(f),L.coalesceStream=new xc(f,L.metadataStream),L.headOfPipeline=L.packetStream,L.packetStream.pipe(L.parseStream).pipe(L.elementaryStream).pipe(L.timestampRolloverStream),L.timestampRolloverStream.pipe(L.h264Stream),L.timestampRolloverStream.pipe(L.adtsStream),L.timestampRolloverStream.pipe(L.metadataStream).pipe(L.coalesceStream),L.h264Stream.pipe(L.captionStream).pipe(L.coalesceStream),L.elementaryStream.on("data",function(F){var j;if(F.type==="metadata"){for(j=F.tracks.length;j--;)!k&&F.tracks[j].type==="video"?(k=F.tracks[j],k.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime):!w&&F.tracks[j].type==="audio"&&(w=F.tracks[j],w.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime);k&&!L.videoSegmentStream&&(L.coalesceStream.numberOfTracks++,L.videoSegmentStream=new cp(k,f),L.videoSegmentStream.on("log",T.getLogTrigger_("videoSegmentStream")),L.videoSegmentStream.on("timelineStartInfo",function(H){w&&!f.keepOriginalTimestamps&&(w.timelineStartInfo=H,L.audioSegmentStream.setEarliestDts(H.dts-T.baseMediaDecodeTime))}),L.videoSegmentStream.on("processedGopsInfo",T.trigger.bind(T,"gopInfo")),L.videoSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"videoSegmentTimingInfo")),L.videoSegmentStream.on("baseMediaDecodeTime",function(H){w&&L.audioSegmentStream.setVideoBaseMediaDecodeTime(H)}),L.videoSegmentStream.on("timingInfo",T.trigger.bind(T,"videoTimingInfo")),L.h264Stream.pipe(L.videoSegmentStream).pipe(L.coalesceStream)),w&&!L.audioSegmentStream&&(L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new ed(w,f),L.audioSegmentStream.on("log",T.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",T.trigger.bind(T,"audioTimingInfo")),L.audioSegmentStream.on("segmentTimingInfo",T.trigger.bind(T,"audioSegmentTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream)),T.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!k})}}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("id3Frame",function(F){F.dispatchType=L.metadataStream.dispatchType,T.trigger("id3Frame",F)}),L.coalesceStream.on("caption",this.trigger.bind(this,"caption")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),Jw(this,L)},this.setBaseMediaDecodeTime=function(L){var F=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=L),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,ks.clearDtsInfo(w),F.audioTimestampRolloverStream&&F.audioTimestampRolloverStream.discontinuity()),k&&(F.videoSegmentStream&&(F.videoSegmentStream.gopCache_=[]),k.timelineStartInfo.dts=void 0,k.timelineStartInfo.pts=void 0,ks.clearDtsInfo(k),F.captionStream.reset()),F.timestampRolloverStream&&F.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(L){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(L)},this.setRemux=function(L){var F=this.transmuxPipeline_;f.remux=L,F&&F.coalesceStream&&F.coalesceStream.setRemux(L)},this.alignGopsWith=function(L){k&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(L)},this.getLogTrigger_=function(L){var F=this;return function(j){j.stream=L,F.trigger("log",j)}},this.push=function(L){if(b){var F=PQ(L);F&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!F&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),b=!1}this.transmuxPipeline_.headOfPipeline.push(L)},this.flush=function(){b=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Xg.prototype=new Kg;var UQ={Transmuxer:Xg,VideoSegmentStream:cp,AudioSegmentStream:ed,AUDIO_PROPERTIES:U_,VIDEO_PROPERTIES:F_,generateSegmentTimingInfo:B_},FQ=function(f){return f>>>0},BQ=function(f){return("00"+f.toString(16)).slice(-2)},Zg={toUnsigned:FQ,toHexString:BQ},jQ=function(f){var T="";return T+=String.fromCharCode(f[0]),T+=String.fromCharCode(f[1]),T+=String.fromCharCode(f[2]),T+=String.fromCharCode(f[3]),T},j_=jQ,VQ=Zg.toUnsigned,HQ=j_,t7=function(f,T){var b=[],k,w,L,F,j;if(!T.length)return null;for(k=0;k<f.byteLength;)w=VQ(f[k]<<24|f[k+1]<<16|f[k+2]<<8|f[k+3]),L=HQ(f.subarray(k+4,k+8)),F=w>1?k+w:f.byteLength,L===T[0]&&(T.length===1?b.push(f.subarray(k+8,F)):(j=t7(f.subarray(k+8,F),T.slice(1)),j.length&&(b=b.concat(j)))),k=F;return b},Jg=t7,GQ=Zg.toUnsigned,qQ=s.getUint64,zQ=function(f){var T={version:f[0],flags:new Uint8Array(f.subarray(1,4))};return T.version===1?T.baseMediaDecodeTime=qQ(f.subarray(4)):T.baseMediaDecodeTime=GQ(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),T},V_=zQ,WQ=function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:T.getUint32(4)},k=b.flags[2]&1,w=b.flags[2]&2,L=b.flags[2]&8,F=b.flags[2]&16,j=b.flags[2]&32,H=b.flags[0]&65536,q=b.flags[0]&131072,ee;return ee=8,k&&(ee+=4,b.baseDataOffset=T.getUint32(12),ee+=4),w&&(b.sampleDescriptionIndex=T.getUint32(ee),ee+=4),L&&(b.defaultSampleDuration=T.getUint32(ee),ee+=4),F&&(b.defaultSampleSize=T.getUint32(ee),ee+=4),j&&(b.defaultSampleFlags=T.getUint32(ee)),H&&(b.durationIsEmpty=!0),!k&&q&&(b.baseDataOffsetIsMoof=!0),b},H_=WQ,n7=s.getUint64,KQ=function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),references:[],referenceId:T.getUint32(4),timescale:T.getUint32(8)},k=12;b.version===0?(b.earliestPresentationTime=T.getUint32(k),b.firstOffset=T.getUint32(k+4),k+=8):(b.earliestPresentationTime=n7(f.subarray(k)),b.firstOffset=n7(f.subarray(k+8)),k+=16),k+=2;var w=T.getUint16(k);for(k+=2;w>0;k+=12,w--)b.references.push({referenceType:(f[k]&128)>>>7,referencedSize:T.getUint32(k)&2147483647,subsegmentDuration:T.getUint32(k+4),startsWithSap:!!(f[k+8]&128),sapType:(f[k+8]&112)>>>4,sapDeltaTime:T.getUint32(k+8)&268435455});return b},YQ=KQ,QQ=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},XQ=QQ,r7=XQ,ZQ=function(f){var T={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},b=new DataView(f.buffer,f.byteOffset,f.byteLength),k=T.flags[2]&1,w=T.flags[2]&4,L=T.flags[1]&1,F=T.flags[1]&2,j=T.flags[1]&4,H=T.flags[1]&8,q=b.getUint32(4),ee=8,me;for(k&&(T.dataOffset=b.getInt32(ee),ee+=4),w&&q&&(me={flags:r7(f.subarray(ee,ee+4))},ee+=4,L&&(me.duration=b.getUint32(ee),ee+=4),F&&(me.size=b.getUint32(ee),ee+=4),H&&(T.version===1?me.compositionTimeOffset=b.getInt32(ee):me.compositionTimeOffset=b.getUint32(ee),ee+=4),T.samples.push(me),q--);q--;)me={},L&&(me.duration=b.getUint32(ee),ee+=4),F&&(me.size=b.getUint32(ee),ee+=4),j&&(me.flags=r7(f.subarray(ee,ee+4)),ee+=4),H&&(T.version===1?me.compositionTimeOffset=b.getInt32(ee):me.compositionTimeOffset=b.getUint32(ee),ee+=4),T.samples.push(me);return T},i7=ZQ,JQ=s,s7=JQ.getUint64,gr,G_,Yi=function(f){return new Date(f*1e3-20828448e5)},up=j_,eX=Jg,tX=function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b=[],k,w;for(k=0;k+4<f.length;k+=w){if(w=T.getUint32(k),k+=4,w<=0){b.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(f[k]&31){case 1:b.push("slice_layer_without_partitioning_rbsp");break;case 5:b.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:b.push("sei_rbsp");break;case 7:b.push("seq_parameter_set_rbsp");break;case 8:b.push("pic_parameter_set_rbsp");break;case 9:b.push("access_unit_delimiter_rbsp");break;default:b.push("UNKNOWN NAL - "+f[k]&31);break}}return b},tl={avc1:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength);return{dataReferenceIndex:T.getUint16(6),width:T.getUint16(24),height:T.getUint16(26),horizresolution:T.getUint16(28)+T.getUint16(30)/16,vertresolution:T.getUint16(32)+T.getUint16(34)/16,frameCount:T.getUint16(40),depth:T.getUint16(74),config:gr(f.subarray(78,f.byteLength))}},avcC:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={configurationVersion:f[0],avcProfileIndication:f[1],profileCompatibility:f[2],avcLevelIndication:f[3],lengthSizeMinusOne:f[4]&3,sps:[],pps:[]},k=f[5]&31,w,L,F,j;for(F=6,j=0;j<k;j++)L=T.getUint16(F),F+=2,b.sps.push(new Uint8Array(f.subarray(F,F+L))),F+=L;for(w=f[F],F++,j=0;j<w;j++)L=T.getUint16(F),F+=2,b.pps.push(new Uint8Array(f.subarray(F,F+L))),F+=L;return b},btrt:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength);return{bufferSizeDB:T.getUint32(0),maxBitrate:T.getUint32(4),avgBitrate:T.getUint32(8)}},edts:function(f){return{boxes:gr(f)}},elst:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),edits:[]},k=T.getUint32(4),w;for(w=8;k;k--)b.version===0?(b.edits.push({segmentDuration:T.getUint32(w),mediaTime:T.getInt32(w+4),mediaRate:T.getUint16(w+8)+T.getUint16(w+10)/(256*256)}),w+=12):(b.edits.push({segmentDuration:s7(f.subarray(w)),mediaTime:s7(f.subarray(w+8)),mediaRate:T.getUint16(w+16)+T.getUint16(w+18)/(256*256)}),w+=20);return b},esds:function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),esId:f[6]<<8|f[7],streamPriority:f[8]&31,decoderConfig:{objectProfileIndication:f[11],streamType:f[12]>>>2&63,bufferSize:f[13]<<16|f[14]<<8|f[15],maxBitrate:f[16]<<24|f[17]<<16|f[18]<<8|f[19],avgBitrate:f[20]<<24|f[21]<<16|f[22]<<8|f[23],decoderConfigDescriptor:{tag:f[24],length:f[25],audioObjectType:f[26]>>>3&31,samplingFrequencyIndex:(f[26]&7)<<1|f[27]>>>7&1,channelConfiguration:f[27]>>>3&15}}}},ftyp:function(f){for(var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={majorBrand:up(f.subarray(0,4)),minorVersion:T.getUint32(4),compatibleBrands:[]},k=8;k<f.byteLength;)b.compatibleBrands.push(up(f.subarray(k,k+4))),k+=4;return b},dinf:function(f){return{boxes:gr(f)}},dref:function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),dataReferences:gr(f.subarray(8))}},hdlr:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),handlerType:up(f.subarray(8,12)),name:""},k=8;for(k=24;k<f.byteLength;k++){if(f[k]===0){k++;break}b.name+=String.fromCharCode(f[k])}return b.name=decodeURIComponent(escape(b.name)),b},mdat:function(f){return{byteLength:f.byteLength,nals:tX(f)}},mdhd:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b=4,k,w={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),language:""};return w.version===1?(b+=4,w.creationTime=Yi(T.getUint32(b)),b+=8,w.modificationTime=Yi(T.getUint32(b)),b+=4,w.timescale=T.getUint32(b),b+=8,w.duration=T.getUint32(b)):(w.creationTime=Yi(T.getUint32(b)),b+=4,w.modificationTime=Yi(T.getUint32(b)),b+=4,w.timescale=T.getUint32(b),b+=4,w.duration=T.getUint32(b)),b+=4,k=T.getUint16(b),w.language+=String.fromCharCode((k>>10)+96),w.language+=String.fromCharCode(((k&992)>>5)+96),w.language+=String.fromCharCode((k&31)+96),w},mdia:function(f){return{boxes:gr(f)}},mfhd:function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),sequenceNumber:f[4]<<24|f[5]<<16|f[6]<<8|f[7]}},minf:function(f){return{boxes:gr(f)}},mp4a:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={dataReferenceIndex:T.getUint16(6),channelcount:T.getUint16(16),samplesize:T.getUint16(18),samplerate:T.getUint16(24)+T.getUint16(26)/65536};return f.byteLength>28&&(b.streamDescriptor=gr(f.subarray(28))[0]),b},moof:function(f){return{boxes:gr(f)}},moov:function(f){return{boxes:gr(f)}},mvex:function(f){return{boxes:gr(f)}},mvhd:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b=4,k={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4))};return k.version===1?(b+=4,k.creationTime=Yi(T.getUint32(b)),b+=8,k.modificationTime=Yi(T.getUint32(b)),b+=4,k.timescale=T.getUint32(b),b+=8,k.duration=T.getUint32(b)):(k.creationTime=Yi(T.getUint32(b)),b+=4,k.modificationTime=Yi(T.getUint32(b)),b+=4,k.timescale=T.getUint32(b),b+=4,k.duration=T.getUint32(b)),b+=4,k.rate=T.getUint16(b)+T.getUint16(b+2)/16,b+=4,k.volume=T.getUint8(b)+T.getUint8(b+1)/8,b+=2,b+=2,b+=2*4,k.matrix=new Uint32Array(f.subarray(b,b+9*4)),b+=9*4,b+=6*4,k.nextTrackId=T.getUint32(b),k},pdin:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength);return{version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),rate:T.getUint32(4),initialDelay:T.getUint32(8)}},sdtp:function(f){var T={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},b;for(b=4;b<f.byteLength;b++)T.samples.push({dependsOn:(f[b]&48)>>4,isDependedOn:(f[b]&12)>>2,hasRedundancy:f[b]&3});return T},sidx:YQ,smhd:function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),balance:f[4]+f[5]/256}},stbl:function(f){return{boxes:gr(f)}},ctts:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),compositionOffsets:[]},k=T.getUint32(4),w;for(w=8;k;w+=8,k--)b.compositionOffsets.push({sampleCount:T.getUint32(w),sampleOffset:T[b.version===0?"getUint32":"getInt32"](w+4)});return b},stss:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4)),syncSamples:[]},k=T.getUint32(4),w;for(w=8;k;w+=4,k--)b.syncSamples.push(T.getUint32(w));return b},stco:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),chunkOffsets:[]},k=T.getUint32(4),w;for(w=8;k;w+=4,k--)b.chunkOffsets.push(T.getUint32(w));return b},stsc:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b=T.getUint32(4),k={version:f[0],flags:new Uint8Array(f.subarray(1,4)),sampleToChunks:[]},w;for(w=8;b;w+=12,b--)k.sampleToChunks.push({firstChunk:T.getUint32(w),samplesPerChunk:T.getUint32(w+4),sampleDescriptionIndex:T.getUint32(w+8)});return k},stsd:function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),sampleDescriptions:gr(f.subarray(8))}},stsz:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),sampleSize:T.getUint32(4),entries:[]},k;for(k=12;k<f.byteLength;k+=4)b.entries.push(T.getUint32(k));return b},stts:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b={version:f[0],flags:new Uint8Array(f.subarray(1,4)),timeToSamples:[]},k=T.getUint32(4),w;for(w=8;k;w+=8,k--)b.timeToSamples.push({sampleCount:T.getUint32(w),sampleDelta:T.getUint32(w+4)});return b},styp:function(f){return tl.ftyp(f)},tfdt:V_,tfhd:H_,tkhd:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength),b=4,k={version:T.getUint8(0),flags:new Uint8Array(f.subarray(1,4))};return k.version===1?(b+=4,k.creationTime=Yi(T.getUint32(b)),b+=8,k.modificationTime=Yi(T.getUint32(b)),b+=4,k.trackId=T.getUint32(b),b+=4,b+=8,k.duration=T.getUint32(b)):(k.creationTime=Yi(T.getUint32(b)),b+=4,k.modificationTime=Yi(T.getUint32(b)),b+=4,k.trackId=T.getUint32(b),b+=4,b+=4,k.duration=T.getUint32(b)),b+=4,b+=2*4,k.layer=T.getUint16(b),b+=2,k.alternateGroup=T.getUint16(b),b+=2,k.volume=T.getUint8(b)+T.getUint8(b+1)/8,b+=2,b+=2,k.matrix=new Uint32Array(f.subarray(b,b+9*4)),b+=9*4,k.width=T.getUint16(b)+T.getUint16(b+2)/65536,b+=4,k.height=T.getUint16(b)+T.getUint16(b+2)/65536,k},traf:function(f){return{boxes:gr(f)}},trak:function(f){return{boxes:gr(f)}},trex:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength);return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:T.getUint32(4),defaultSampleDescriptionIndex:T.getUint32(8),defaultSampleDuration:T.getUint32(12),defaultSampleSize:T.getUint32(16),sampleDependsOn:f[20]&3,sampleIsDependedOn:(f[21]&192)>>6,sampleHasRedundancy:(f[21]&48)>>4,samplePaddingValue:(f[21]&14)>>1,sampleIsDifferenceSample:!!(f[21]&1),sampleDegradationPriority:T.getUint16(22)}},trun:i7,"url ":function(f){return{version:f[0],flags:new Uint8Array(f.subarray(1,4))}},vmhd:function(f){var T=new DataView(f.buffer,f.byteOffset,f.byteLength);return{version:f[0],flags:new Uint8Array(f.subarray(1,4)),graphicsmode:T.getUint16(4),opcolor:new Uint16Array([T.getUint16(6),T.getUint16(8),T.getUint16(10)])}}};gr=function(f){for(var T=0,b=[],k,w,L,F,j,H=new ArrayBuffer(f.length),q=new Uint8Array(H),ee=0;ee<f.length;++ee)q[ee]=f[ee];for(k=new DataView(H);T<f.byteLength;)w=k.getUint32(T),L=up(f.subarray(T+4,T+8)),F=w>1?T+w:f.byteLength,j=(tl[L]||function(me){return{data:me}})(f.subarray(T+8,F)),j.size=w,j.type=L,b.push(j),T=F;return b},G_=function(f,T){var b;return T=T||0,b=new Array(T*2+1).join(" "),f.map(function(k,w){return b+k.type+`
`+Object.keys(k).filter(function(L){return L!=="type"&&L!=="boxes"}).map(function(L){var F=b+"  "+L+": ",j=k[L];if(j instanceof Uint8Array||j instanceof Uint32Array){var H=Array.prototype.slice.call(new Uint8Array(j.buffer,j.byteOffset,j.byteLength)).map(function(q){return" "+("00"+q.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return H?H.length===1?F+"<"+H.join("").slice(1)+">":F+`<
`+H.map(function(q){return b+"  "+q}).join(`
`)+`
`+b+"  >":F+"<>"}return F+JSON.stringify(j,null,2).split(`
`).map(function(q,ee){return ee===0?q:b+"  "+q}).join(`
`)}).join(`
`)+(k.boxes?`
`+G_(k.boxes,T+1):"")}).join(`
`)};var a7={inspect:gr,textify:G_,parseType:up,findBox:eX,parseTraf:tl.traf,parseTfdt:tl.tfdt,parseHdlr:tl.hdlr,parseTfhd:tl.tfhd,parseTrun:tl.trun,parseSidx:tl.sidx},nX=function(f){for(var T=0,b=String.fromCharCode(f[T]),k="";b!=="\0";)k+=b,T++,b=String.fromCharCode(f[T]);return k+=b,k},rX={uint8ToCString:nX},e0=rX.uint8ToCString,iX=s.getUint64,sX=function(f){var T=4,b=f[0],k,w,L,F,j,H,q,ee;if(b===0){k=e0(f.subarray(T)),T+=k.length,w=e0(f.subarray(T)),T+=w.length;var me=new DataView(f.buffer);L=me.getUint32(T),T+=4,j=me.getUint32(T),T+=4,H=me.getUint32(T),T+=4,q=me.getUint32(T),T+=4}else if(b===1){var me=new DataView(f.buffer);L=me.getUint32(T),T+=4,F=iX(f.subarray(T)),T+=8,H=me.getUint32(T),T+=4,q=me.getUint32(T),T+=4,k=e0(f.subarray(T)),T+=k.length,w=e0(f.subarray(T)),T+=w.length}ee=new Uint8Array(f.subarray(T,f.byteLength));var Le={scheme_id_uri:k,value:w,timescale:L||1,presentation_time:F,presentation_time_delta:j,event_duration:H,id:q,message_data:ee};return oX(b,Le)?Le:void 0},aX=function(f,T,b,k){return f||f===0?f/T:k+b/T},oX=function(f,T){var b=T.scheme_id_uri!=="\0",k=f===0&&o7(T.presentation_time_delta)&&b,w=f===1&&o7(T.presentation_time)&&b;return!(f>1)&&k||w},o7=function(f){return f!==void 0||f!==null},lX={parseEmsgBox:sX,scaleTime:aX},dp;typeof window<"u"?dp=window:typeof t<"u"?dp=t:typeof self<"u"?dp=self:dp={};var l7=dp,t0=Zg.toUnsigned,hp=Zg.toHexString,mn=Jg,td=j_,q_=lX,cX=H_,uX=i7,dX=V_,hX=s.getUint64,c7,u7,d7,h7,m7,z_,p7,W_=l7,mX=Vw.parseId3Frames;c7=function(f){var T={},b=mn(f,["moov","trak"]);return b.reduce(function(k,w){var L,F,j,H,q;return L=mn(w,["tkhd"])[0],!L||(F=L[0],j=F===0?12:20,H=t0(L[j]<<24|L[j+1]<<16|L[j+2]<<8|L[j+3]),q=mn(w,["mdia","mdhd"])[0],!q)?null:(F=q[0],j=F===0?12:20,k[H]=t0(q[j]<<24|q[j+1]<<16|q[j+2]<<8|q[j+3]),k)},T)},u7=function(f,T){var b;b=mn(T,["moof","traf"]);var k=b.reduce(function(w,L){var F=mn(L,["tfhd"])[0],j=t0(F[4]<<24|F[5]<<16|F[6]<<8|F[7]),H=f[j]||9e4,q=mn(L,["tfdt"])[0],ee=new DataView(q.buffer,q.byteOffset,q.byteLength),me;q[0]===1?me=hX(q.subarray(4,12)):me=ee.getUint32(4);let Le;return typeof me=="bigint"?Le=me/W_.BigInt(H):typeof me=="number"&&!isNaN(me)&&(Le=me/H),Le<Number.MAX_SAFE_INTEGER&&(Le=Number(Le)),Le<w&&(w=Le),w},1/0);return typeof k=="bigint"||isFinite(k)?k:0},d7=function(f,T){var b=mn(T,["moof","traf"]),k=0,w=0,L;if(b&&b.length){var F=mn(b[0],["tfhd"])[0],j=mn(b[0],["trun"])[0],H=mn(b[0],["tfdt"])[0];if(F){var q=cX(F);L=q.trackId}if(H){var ee=dX(H);k=ee.baseMediaDecodeTime}if(j){var me=uX(j);me.samples&&me.samples.length&&(w=me.samples[0].compositionTimeOffset||0)}}var Le=f[L]||9e4;typeof k=="bigint"&&(w=W_.BigInt(w),Le=W_.BigInt(Le));var ye=(k+w)/Le;return typeof ye=="bigint"&&ye<Number.MAX_SAFE_INTEGER&&(ye=Number(ye)),ye},h7=function(f){var T=mn(f,["moov","trak"]),b=[];return T.forEach(function(k){var w=mn(k,["mdia","hdlr"]),L=mn(k,["tkhd"]);w.forEach(function(F,j){var H=td(F.subarray(8,12)),q=L[j],ee,me,Le;H==="vide"&&(ee=new DataView(q.buffer,q.byteOffset,q.byteLength),me=ee.getUint8(0),Le=me===0?ee.getUint32(12):ee.getUint32(20),b.push(Le))})}),b},z_=function(f){var T=f[0],b=T===0?12:20;return t0(f[b]<<24|f[b+1]<<16|f[b+2]<<8|f[b+3])},m7=function(f){var T=mn(f,["moov","trak"]),b=[];return T.forEach(function(k){var w={},L=mn(k,["tkhd"])[0],F,j;L&&(F=new DataView(L.buffer,L.byteOffset,L.byteLength),j=F.getUint8(0),w.id=j===0?F.getUint32(12):F.getUint32(20));var H=mn(k,["mdia","hdlr"])[0];if(H){var q=td(H.subarray(8,12));q==="vide"?w.type="video":q==="soun"?w.type="audio":w.type=q}var ee=mn(k,["mdia","minf","stbl","stsd"])[0];if(ee){var me=ee.subarray(8);w.codec=td(me.subarray(4,8));var Le=mn(me,[w.codec])[0],ye,Fe;Le&&(/^[asm]vc[1-9]$/i.test(w.codec)?(ye=Le.subarray(78),Fe=td(ye.subarray(4,8)),Fe==="avcC"&&ye.length>11?(w.codec+=".",w.codec+=hp(ye[9]),w.codec+=hp(ye[10]),w.codec+=hp(ye[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(ye=Le.subarray(28),Fe=td(ye.subarray(4,8)),Fe==="esds"&&ye.length>20&&ye[19]!==0?(w.codec+="."+hp(ye[19]),w.codec+="."+hp(ye[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var Ke=mn(k,["mdia","mdhd"])[0];Ke&&(w.timescale=z_(Ke)),b.push(w)}),b},p7=function(f,T=0){var b=mn(f,["emsg"]);return b.map(k=>{var w=q_.parseEmsgBox(new Uint8Array(k)),L=mX(w.message_data);return{cueTime:q_.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,T),duration:q_.scaleTime(w.event_duration,w.timescale),frames:L}})};var mp={findBox:mn,parseType:td,timescale:c7,startTime:u7,compositionStartTime:d7,videoTrackIds:h7,tracks:m7,getTimescaleFromMediaHeader:z_,getEmsgID3:p7};const{parseTrun:pX}=a7,{findBox:f7}=mp;var g7=l7,fX=function(f){var T=f7(f,["moof","traf"]),b=f7(f,["mdat"]),k=[];return b.forEach(function(w,L){var F=T[L];k.push({mdat:w,traf:F})}),k},gX=function(f,T,b){var k=T,w=b.defaultSampleDuration||0,L=b.defaultSampleSize||0,F=b.trackId,j=[];return f.forEach(function(H){var q=pX(H),ee=q.samples;ee.forEach(function(me){me.duration===void 0&&(me.duration=w),me.size===void 0&&(me.size=L),me.trackId=F,me.dts=k,me.compositionTimeOffset===void 0&&(me.compositionTimeOffset=0),typeof k=="bigint"?(me.pts=k+g7.BigInt(me.compositionTimeOffset),k+=g7.BigInt(me.duration)):(me.pts=k+me.compositionTimeOffset,k+=me.duration)}),j=j.concat(ee)}),j},y7={getMdatTrafPairs:fX,parseSamples:gX},yX=$w.discardEmulationPreventionBytes,TX=Uw.CaptionStream,K_=Jg,vX=V_,_X=H_,{getMdatTrafPairs:bX,parseSamples:SX}=y7,EX=function(f,T){for(var b=f,k=0;k<T.length;k++){var w=T[k];if(b<w.size)return w;b-=w.size}return null},kX=function(f,T,b){var k=new DataView(f.buffer,f.byteOffset,f.byteLength),w={logs:[],seiNals:[]},L,F,j,H;for(F=0;F+4<f.length;F+=j)if(j=k.getUint32(F),F+=4,!(j<=0))switch(f[F]&31){case 6:var q=f.subarray(F+1,F+1+j),ee=EX(F,T);if(L={nalUnitType:"sei_rbsp",size:j,data:q,escapedRBSP:yX(q),trackId:b},ee)L.pts=ee.pts,L.dts=ee.dts,H=ee;else if(H)L.pts=H.pts,L.dts=H.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+F+" for trackId "+b+". See mux.js#223."});break}w.seiNals.push(L);break}return w},AX=function(f,T){var b={},k=bX(f);return k.forEach(function(w){var L=w.mdat,F=w.traf,j=K_(F,["tfhd"]),H=_X(j[0]),q=H.trackId,ee=K_(F,["tfdt"]),me=ee.length>0?vX(ee[0]).baseMediaDecodeTime:0,Le=K_(F,["trun"]),ye,Fe;T===q&&Le.length>0&&(ye=SX(Le,me,H),Fe=kX(L,ye,q),b[q]||(b[q]={seiNals:[],logs:[]}),b[q].seiNals=b[q].seiNals.concat(Fe.seiNals),b[q].logs=b[q].logs.concat(Fe.logs))}),b},wX=function(f,T,b){var k;if(T===null)return null;k=AX(f,T);var w=k[T]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:b}},CX=function(){var f=!1,T,b,k,w,L,F;this.isInitialized=function(){return f},this.init=function(j){T=new TX,f=!0,F=j?j.isPartial:!1,T.on("data",function(H){H.startTime=H.startPts/w,H.endTime=H.endPts/w,L.captions.push(H),L.captionStreams[H.stream]=!0}),T.on("log",function(H){L.logs.push(H)})},this.isNewInit=function(j,H){return j&&j.length===0||H&&typeof H=="object"&&Object.keys(H).length===0?!1:k!==j[0]||w!==H[k]},this.parse=function(j,H,q){var ee;if(this.isInitialized()){if(!H||!q)return null;if(this.isNewInit(H,q))k=H[0],w=q[k];else if(k===null||!w)return b.push(j),null}else return null;for(;b.length>0;){var me=b.shift();this.parse(me,H,q)}return ee=wX(j,k,w),ee&&ee.logs&&(L.logs=L.logs.concat(ee.logs)),ee===null||!ee.seiNals?L.logs.length?{logs:L.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ee.seiNals),this.flushStream(),L)},this.pushNals=function(j){if(!this.isInitialized()||!j||j.length===0)return null;j.forEach(function(H){T.push(H)})},this.flushStream=function(){if(!this.isInitialized())return null;F?T.partialFlush():T.flush()},this.clearParsedCaptions=function(){L.captions=[],L.captionStreams={},L.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;T.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){b=[],k=null,w=null,L?this.clearParsedCaptions():L={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},IX=CX;const{parseTfdt:xX}=a7,nl=Jg,{getTimescaleFromMediaHeader:LX}=mp,{parseSamples:RX,getMdatTrafPairs:NX}=y7;var T7=function(){let f=9e4;this.init=function(T){const b=nl(T,["moov","trak","mdia","mdhd"])[0];b&&(f=LX(b))},this.parseSegment=function(T){const b=[],k=NX(T);let w=0;return k.forEach(function(L){const F=L.mdat,j=L.traf,H=nl(j,["tfdt"])[0],q=nl(j,["tfhd"])[0],ee=nl(j,["trun"]);if(H&&(w=xX(H).baseMediaDecodeTime),ee.length&&q){const me=RX(ee,w,q);let Le=0;me.forEach(function(ye){const Fe="utf-8",Ke=new TextDecoder(Fe),jn=F.slice(Le,Le+ye.size);if(nl(jn,["vtte"])[0]){Le+=ye.size;return}nl(jn,["vttc"]).forEach(function(Pr){const ea=nl(Pr,["payl"])[0],pp=nl(Pr,["sttg"])[0],i0=ye.pts/f,s0=(ye.pts+ye.duration)/f;let Rc,fp;if(ea)try{Rc=Ke.decode(ea)}catch(Pt){console.error(Pt)}if(pp)try{fp=Ke.decode(pp)}catch(Pt){console.error(Pt)}ye.duration&&Rc&&b.push({cueText:Rc,start:i0,end:s0,settings:fp})}),Le+=ye.size})}}),b}},Y_=Fg,v7=function(f){var T=f[1]&31;return T<<=8,T|=f[2],T},n0=function(f){return!!(f[1]&64)},r0=function(f){var T=0;return(f[3]&48)>>>4>1&&(T+=f[4]+1),T},OX=function(f,T){var b=v7(f);return b===0?"pat":b===T?"pmt":T?"pes":null},DX=function(f){var T=n0(f),b=4+r0(f);return T&&(b+=f[b]+1),(f[b+10]&31)<<8|f[b+11]},PX=function(f){var T={},b=n0(f),k=4+r0(f);if(b&&(k+=f[k]+1),!!(f[k+5]&1)){var w,L,F;w=(f[k+1]&15)<<8|f[k+2],L=3+w-4,F=(f[k+10]&15)<<8|f[k+11];for(var j=12+F;j<L;){var H=k+j;T[(f[H+1]&31)<<8|f[H+2]]=f[H],j+=((f[H+3]&15)<<8|f[H+4])+5}return T}},MX=function(f,T){var b=v7(f),k=T[b];switch(k){case Y_.H264_STREAM_TYPE:return"video";case Y_.ADTS_STREAM_TYPE:return"audio";case Y_.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},$X=function(f){var T=n0(f);if(!T)return null;var b=4+r0(f);if(b>=f.byteLength)return null;var k=null,w;return w=f[b+7],w&192&&(k={},k.pts=(f[b+9]&14)<<27|(f[b+10]&255)<<20|(f[b+11]&254)<<12|(f[b+12]&255)<<5|(f[b+13]&254)>>>3,k.pts*=4,k.pts+=(f[b+13]&6)>>>1,k.dts=k.pts,w&64&&(k.dts=(f[b+14]&14)<<27|(f[b+15]&255)<<20|(f[b+16]&254)<<12|(f[b+17]&255)<<5|(f[b+18]&254)>>>3,k.dts*=4,k.dts+=(f[b+18]&6)>>>1)),k},Q_=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},UX=function(f){for(var T=4+r0(f),b=f.subarray(T),k=0,w=0,L=!1,F;w<b.byteLength-3;w++)if(b[w+2]===1){k=w+5;break}for(;k<b.byteLength;)switch(b[k]){case 0:if(b[k-1]!==0){k+=2;break}else if(b[k-2]!==0){k++;break}w+3!==k-2&&(F=Q_(b[w+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0));do k++;while(b[k]!==1&&k<b.length);w=k-2,k+=3;break;case 1:if(b[k-1]!==0||b[k-2]!==0){k+=3;break}F=Q_(b[w+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0),w=k-2,k+=3;break;default:k+=3;break}return b=b.subarray(w),k-=w,w=0,b&&b.byteLength>3&&(F=Q_(b[w+3]&31),F==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0)),L},FX={parseType:OX,parsePat:DX,parsePmt:PX,parsePayloadUnitStartIndicator:n0,parsePesType:MX,parsePesTime:$X,videoPacketContainsKeyFrame:UX},_7=Fg,nd=Bw.handleRollover,ft={};ft.ts=FX,ft.aac=$_;var Lc=M.ONE_SECOND_IN_TS,Dr=188,Js=71,BX=function(f,T){for(var b=0,k=Dr,w,L;k<f.byteLength;){if(f[b]===Js&&f[k]===Js){switch(w=f.subarray(b,k),L=ft.ts.parseType(w,T.pid),L){case"pat":T.pid=ft.ts.parsePat(w);break;case"pmt":var F=ft.ts.parsePmt(w);T.table=T.table||{},Object.keys(F).forEach(function(j){T.table[j]=F[j]});break}b+=Dr,k+=Dr;continue}b++,k++}},b7=function(f,T,b){for(var k=0,w=Dr,L,F,j,H,q,ee=!1;w<=f.byteLength;){if(f[k]===Js&&(f[w]===Js||w===f.byteLength)){switch(L=f.subarray(k,w),F=ft.ts.parseType(L,T.pid),F){case"pes":j=ft.ts.parsePesType(L,T.table),H=ft.ts.parsePayloadUnitStartIndicator(L),j==="audio"&&H&&(q=ft.ts.parsePesTime(L),q&&(q.type="audio",b.audio.push(q),ee=!0));break}if(ee)break;k+=Dr,w+=Dr;continue}k++,w++}for(w=f.byteLength,k=w-Dr,ee=!1;k>=0;){if(f[k]===Js&&(f[w]===Js||w===f.byteLength)){switch(L=f.subarray(k,w),F=ft.ts.parseType(L,T.pid),F){case"pes":j=ft.ts.parsePesType(L,T.table),H=ft.ts.parsePayloadUnitStartIndicator(L),j==="audio"&&H&&(q=ft.ts.parsePesTime(L),q&&(q.type="audio",b.audio.push(q),ee=!0));break}if(ee)break;k-=Dr,w-=Dr;continue}k--,w--}},jX=function(f,T,b){for(var k=0,w=Dr,L,F,j,H,q,ee,me,Le,ye=!1,Fe={data:[],size:0};w<f.byteLength;){if(f[k]===Js&&f[w]===Js){switch(L=f.subarray(k,w),F=ft.ts.parseType(L,T.pid),F){case"pes":if(j=ft.ts.parsePesType(L,T.table),H=ft.ts.parsePayloadUnitStartIndicator(L),j==="video"&&(H&&!ye&&(q=ft.ts.parsePesTime(L),q&&(q.type="video",b.video.push(q),ye=!0)),!b.firstKeyFrame)){if(H&&Fe.size!==0){for(ee=new Uint8Array(Fe.size),me=0;Fe.data.length;)Le=Fe.data.shift(),ee.set(Le,me),me+=Le.byteLength;if(ft.ts.videoPacketContainsKeyFrame(ee)){var Ke=ft.ts.parsePesTime(ee);Ke?(b.firstKeyFrame=Ke,b.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Fe.size=0}Fe.data.push(L),Fe.size+=L.byteLength}break}if(ye&&b.firstKeyFrame)break;k+=Dr,w+=Dr;continue}k++,w++}for(w=f.byteLength,k=w-Dr,ye=!1;k>=0;){if(f[k]===Js&&f[w]===Js){switch(L=f.subarray(k,w),F=ft.ts.parseType(L,T.pid),F){case"pes":j=ft.ts.parsePesType(L,T.table),H=ft.ts.parsePayloadUnitStartIndicator(L),j==="video"&&H&&(q=ft.ts.parsePesTime(L),q&&(q.type="video",b.video.push(q),ye=!0));break}if(ye)break;k-=Dr,w-=Dr;continue}k--,w--}},VX=function(f,T){if(f.audio&&f.audio.length){var b=T;(typeof b>"u"||isNaN(b))&&(b=f.audio[0].dts),f.audio.forEach(function(L){L.dts=nd(L.dts,b),L.pts=nd(L.pts,b),L.dtsTime=L.dts/Lc,L.ptsTime=L.pts/Lc})}if(f.video&&f.video.length){var k=T;if((typeof k>"u"||isNaN(k))&&(k=f.video[0].dts),f.video.forEach(function(L){L.dts=nd(L.dts,k),L.pts=nd(L.pts,k),L.dtsTime=L.dts/Lc,L.ptsTime=L.pts/Lc}),f.firstKeyFrame){var w=f.firstKeyFrame;w.dts=nd(w.dts,k),w.pts=nd(w.pts,k),w.dtsTime=w.dts/Lc,w.ptsTime=w.pts/Lc}}},HX=function(f){for(var T=!1,b=0,k=null,w=null,L=0,F=0,j;f.length-F>=3;){var H=ft.aac.parseType(f,F);switch(H){case"timed-metadata":if(f.length-F<10){T=!0;break}if(L=ft.aac.parseId3TagSize(f,F),L>f.length){T=!0;break}w===null&&(j=f.subarray(F,F+L),w=ft.aac.parseAacTimestamp(j)),F+=L;break;case"audio":if(f.length-F<7){T=!0;break}if(L=ft.aac.parseAdtsSize(f,F),L>f.length){T=!0;break}k===null&&(j=f.subarray(F,F+L),k=ft.aac.parseSampleRate(j)),b++,F+=L;break;default:F++;break}if(T)return null}if(k===null||w===null)return null;var q=Lc/k,ee={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+b*1024*q,pts:w+b*1024*q}]};return ee},GX=function(f){var T={pid:null,table:null},b={};BX(f,T);for(var k in T.table)if(T.table.hasOwnProperty(k)){var w=T.table[k];switch(w){case _7.H264_STREAM_TYPE:b.video=[],jX(f,T,b),b.video.length===0&&delete b.video;break;case _7.ADTS_STREAM_TYPE:b.audio=[],b7(f,T,b),b.audio.length===0&&delete b.audio;break}}return b},qX=function(f,T){var b=ft.aac.isLikelyAacData(f),k;return b?k=HX(f):k=GX(f),!k||!k.audio&&!k.video?null:(VX(k,T),k)},zX={inspect:qX,parseAudioPes_:b7};const WX=function(f,T){T.on("data",function(b){const k=b.initSegment;b.initSegment={data:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength};const w=b.data;b.data=w.buffer,f.postMessage({action:"data",segment:b,byteOffset:w.byteOffset,byteLength:w.byteLength},[b.data])}),T.on("done",function(b){f.postMessage({action:"done"})}),T.on("gopInfo",function(b){f.postMessage({action:"gopInfo",gopInfo:b})}),T.on("videoSegmentTimingInfo",function(b){const k={start:{decode:M.videoTsToSeconds(b.start.dts),presentation:M.videoTsToSeconds(b.start.pts)},end:{decode:M.videoTsToSeconds(b.end.dts),presentation:M.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:M.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(k.prependedContentDuration=M.videoTsToSeconds(b.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:k})}),T.on("audioSegmentTimingInfo",function(b){const k={start:{decode:M.videoTsToSeconds(b.start.dts),presentation:M.videoTsToSeconds(b.start.pts)},end:{decode:M.videoTsToSeconds(b.end.dts),presentation:M.videoTsToSeconds(b.end.pts)},baseMediaDecodeTime:M.videoTsToSeconds(b.baseMediaDecodeTime)};b.prependedContentDuration&&(k.prependedContentDuration=M.videoTsToSeconds(b.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:k})}),T.on("id3Frame",function(b){f.postMessage({action:"id3Frame",id3Frame:b})}),T.on("caption",function(b){f.postMessage({action:"caption",caption:b})}),T.on("trackinfo",function(b){f.postMessage({action:"trackinfo",trackInfo:b})}),T.on("audioTimingInfo",function(b){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:M.videoTsToSeconds(b.start),end:M.videoTsToSeconds(b.end)}})}),T.on("videoTimingInfo",function(b){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:M.videoTsToSeconds(b.start),end:M.videoTsToSeconds(b.end)}})}),T.on("log",function(b){f.postMessage({action:"log",log:b})})};class S7{constructor(T,b){this.options=b||{},this.self=T,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new UQ.Transmuxer(this.options),WX(this.self,this.transmuxer)}pushMp4Captions(T){this.captionParser||(this.captionParser=new IX,this.captionParser.init());const b=new Uint8Array(T.data,T.byteOffset,T.byteLength),k=this.captionParser.parse(b,T.trackIds,T.timescales);this.self.postMessage({action:"mp4Captions",captions:k&&k.captions||[],logs:k&&k.logs||[],data:b.buffer},[b.buffer])}initMp4WebVttParser(T){this.webVttParser||(this.webVttParser=new T7);const b=new Uint8Array(T.data,T.byteOffset,T.byteLength);this.webVttParser.init(b)}getMp4WebVttText(T){this.webVttParser||(this.webVttParser=new T7);const b=new Uint8Array(T.data,T.byteOffset,T.byteLength),k=this.webVttParser.parseSegment(b);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:k||[],data:b.buffer},[b.buffer])}probeMp4StartTime({timescales:T,data:b}){const k=mp.startTime(T,b);this.self.postMessage({action:"probeMp4StartTime",startTime:k,data:b},[b.buffer])}probeMp4Tracks({data:T}){const b=mp.tracks(T);this.self.postMessage({action:"probeMp4Tracks",tracks:b,data:T},[T.buffer])}probeEmsgID3({data:T,offset:b}){const k=mp.getEmsgID3(T,b);this.self.postMessage({action:"probeEmsgID3",id3Frames:k,emsgData:T},[T.buffer])}probeTs({data:T,baseStartTime:b}){const k=typeof b=="number"&&!isNaN(b)?b*M.ONE_SECOND_IN_TS:void 0,w=zX.inspect(T,k);let L=null;w&&(L={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},L.hasVideo&&(L.videoStart=w.video[0].ptsTime),L.hasAudio&&(L.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:L,data:T},[T.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(T){const b=new Uint8Array(T.data,T.byteOffset,T.byteLength);this.transmuxer.push(b)}reset(){this.transmuxer.reset()}setTimestampOffset(T){const b=T.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(M.secondsToVideoTs(b)))}setAudioAppendStart(T){this.transmuxer.setAudioAppendStart(Math.ceil(M.secondsToVideoTs(T.appendStart)))}setRemux(T){this.transmuxer.setRemux(T.remux)}flush(T){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(T){this.transmuxer.alignGopsWith(T.gopsToAlignWith.slice())}}self.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new S7(self,f.data.options);return}this.messageHandlers||(this.messageHandlers=new S7(self)),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}}));var wwe=bz(Awe);const Cwe=(t,e,n)=>{const{type:r,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const u=t.data.segment.boxes||{data:t.data.segment.data},d={type:r,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof c<"u"&&(d.videoFramePtsTime=c),n(d)},Iwe=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},xwe=(t,e)=>{e.gopInfo=t.data.gopInfo},kz=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:m,onDone:g,onEndedTimeline:p,onTransmuxerLog:_,isEndOfTimeline:y,segment:v,triggerSegmentEventFn:E}=t,x={buffer:[]};let C=y;const R=U=>{e.currentTransmux===t&&(U.data.action==="data"&&Cwe(U,x,a),U.data.action==="trackinfo"&&o(U.data.trackInfo),U.data.action==="gopInfo"&&xwe(U,x),U.data.action==="audioTimingInfo"&&l(U.data.audioTimingInfo),U.data.action==="videoTimingInfo"&&c(U.data.videoTimingInfo),U.data.action==="videoSegmentTimingInfo"&&u(U.data.videoSegmentTimingInfo),U.data.action==="audioSegmentTimingInfo"&&d(U.data.audioSegmentTimingInfo),U.data.action==="id3Frame"&&h([U.data.id3Frame],U.data.id3Frame.dispatchType),U.data.action==="caption"&&m(U.data.caption),U.data.action==="endedtimeline"&&(C=!1,p()),U.data.action==="log"&&_(U.data.log),U.data.type==="transmuxed"&&(C||(e.onmessage=null,Iwe({transmuxedData:x,callback:g}),Az(e))))},D=()=>{const U={message:"Received an error message from the transmuxer worker",metadata:{errorType:Q.Error.StreamingFailedToTransmuxSegment,segmentInfo:Xc({segment:v})}};g(null,U)};if(e.onmessage=R,e.onerror=D,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const U=n instanceof ArrayBuffer?n:n.buffer,K=n instanceof ArrayBuffer?0:n.byteOffset;E({type:"segmenttransmuxingstart",segment:v}),e.postMessage({action:"push",data:U,byteOffset:K,byteLength:n.byteLength},[U])}y&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Az=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():kz(t.currentTransmux))},sO=(t,e)=>{t.postMessage({action:e}),Az(t)},wz=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,sO(e,t);return}e.transmuxQueue.push(sO.bind(null,e,t))},Lwe=t=>{wz("reset",t)},Rwe=t=>{wz("endTimeline",t)},Cz=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,kz(t);return}t.transmuxer.transmuxQueue.push(t)},Nwe=t=>{const e=new wwe;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var tS={reset:Lwe,endTimeline:Rwe,transmux:Cz,createTransmuxer:Nwe};const Mh=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,i=Sn({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},Ia={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Iz="wvtt",Dk=t=>{t.forEach(e=>{e.abort()})},Owe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),Dwe=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},QA=(t,e)=>{const{requestType:n}=e,r=Eu({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ia.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ia.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ia.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ia.FAILURE,xhr:e,metadata:r}:null},aO=(t,e,n,r)=>(i,s)=>{const a=s.response,o=QA(i,s);if(o)return n(o,t);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Ia.FAILURE,xhr:s},t);const l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=c;const u={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:u}),n(null,t)},Pwe=(t,e)=>{e===Iz&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},Mwe=(t,e,n)=>{e===Iz&&Mh({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:r,mp4VttCues:i})=>{t.bytes=r,n(null,t,{mp4VttCues:i})}})},xz=(t,e)=>{const n=gA(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,i=n||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:Ia.FAILURE,metadata:{mediaType:i}})}Mh({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:i})=>(t.map.bytes=i,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale),s.type==="text"&&Pwe(t,s.codec))}),e(null))})},$we=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(r,i)=>{const s=QA(r,i);if(s)return e(s,t);const a=new Uint8Array(i.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,xz(t,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,t);e(null,t)})},Uwe=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:r})=>(i,s)=>{const a=QA(i,s);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const o=n==="arraybuffer"||!s.responseText?s.response:Ewe(s.responseText.substring(t.lastReachedChar||0));return t.stats=Owe(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},Fwe=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{const g=t.map&&t.map.tracks||{},p=!!(g.audio&&g.video);let _=r.bind(null,t,"audio","start");const y=r.bind(null,t,"audio","end");let v=r.bind(null,t,"video","start");const E=r.bind(null,t,"video","end"),x=()=>Cz({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:C=>{C.type=C.type==="combined"?"video":C.type,u(t,C)},onTrackInfo:C=>{n&&(p&&(C.isMuxed=!0),n(t,C))},onAudioTimingInfo:C=>{_&&typeof C.start<"u"&&(_(C.start),_=null),y&&typeof C.end<"u"&&y(C.end)},onVideoTimingInfo:C=>{v&&typeof C.start<"u"&&(v(C.start),v=null),E&&typeof C.end<"u"&&E(C.end)},onVideoSegmentTimingInfo:C=>{const R={pts:{start:C.start.presentation,end:C.end.presentation},dts:{start:C.start.decode,end:C.end.decode}};m({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:R}),i(C)},onAudioSegmentTimingInfo:C=>{const R={pts:{start:C.start.pts,end:C.end.pts},dts:{start:C.start.dts,end:C.end.dts}};m({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:R}),s(C)},onId3:(C,R)=>{a(t,C,R)},onCaptions:C=>{o(t,[C])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:(C,R)=>{d&&(C.type=C.type==="combined"?"video":C.type,m({type:"segmenttransmuxingcomplete",segment:t}),d(R,t,C))},segment:t,triggerSegmentEventFn:m});Mh({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:C=>{t.bytes=e=C.data;const R=C.result;R&&(n(t,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:p}),n=null),x()}})},Lz=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{let g=new Uint8Array(e);if(o9e(g)){t.isFmp4=!0;const{tracks:p}=t.map;if(p.text&&(!p.audio||!p.video)){u(t,{data:g,type:"text"}),Mwe(t,p.text.codec,d);return}const _={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(_.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(_.videoCodec=p.video.codec),p.video&&p.audio&&(_.isMuxed=!0),n(t,_);const y=(v,E)=>{u(t,{data:g,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),E&&E.length&&a(t,E),v&&v.length&&o(t,v),d(null,t,{})};Mh({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:v,startTime:E})=>{e=v.buffer,t.bytes=g=v,_.hasAudio&&!_.isMuxed&&r(t,"audio","start",E),_.hasVideo&&r(t,"video","start",E),Mh({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:E,callback:({emsgData:x,id3Frames:C})=>{if(e=x.buffer,t.bytes=g=x,!p.video||!x.byteLength||!t.transmuxer){y(void 0,C);return}Mh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[p.video.id],callback:R=>{e=R.data.buffer,t.bytes=g=R.data,R.logs.forEach(function(D){h(mt(D,{stream:"mp4CaptionParser"}))}),y(R.captions,C)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=gA(g)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}Fwe({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})},Rz=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r,segment:i,doneFn:s},a){const o=c=>{if(c.data.source===t){r.removeEventListener("message",o);const u=c.data.decrypted;a(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};r.onerror=()=>{const c="An error occurred in the decryption worker",u=Xc({segment:i}),d={message:c,metadata:{error:new Error(c),errorType:Q.Error.StreamingFailedToDecryptSegment,segmentInfo:u,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(d,i)},r.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(fz({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},Bwe=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{m({type:"segmentdecryptionstart"}),Rz({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},g=>{e.bytes=g,m({type:"segmentdecryptioncomplete",segment:e}),Lz({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})})},jwe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})=>{let g=0,p=!1;return(_,y)=>{if(!p){if(_)return p=!0,Dk(t),d(_,y);if(g+=1,g===t.length){const v=function(){if(y.encryptedBytes)return Bwe({decryptionWorker:e,segment:y,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m});Lz({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:m})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return m({type:"segmentdecryptionstart",segment:y}),Rz({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:d},E=>{y.map.bytes=E,m({type:"segmentdecryptioncomplete",segment:y}),xz(y,x=>{if(x)return Dk(t),d(x,y);v()})});v()}}}},Vwe=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},Hwe=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>d=>{if(!d.target.aborted)return t.stats=mt(t.stats,Dwe(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},Gwe=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:g,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:y})=>{const v=[],E=jwe({activeXhrs:v,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:g,doneFn:p,onTransmuxerLog:_,triggerSegmentEventFn:y});if(r.key&&!r.key.bytes){const U=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&U.push(r.map.key);const K=mt(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),V=aO(r,U,E,y),X={uri:r.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:X});const he=t(K,V);v.push(he)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const X=mt(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),he=aO(r,[r.map.key],E,y),ie={uri:r.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:ie});const pe=t(X,he);v.push(pe)}const U=mt(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Nk(r.map),requestType:"segment-media-initialization"}),K=$we({segment:r,finishProcessingFn:E,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const V=t(U,K);v.push(V)}const x=mt(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Nk(r),requestType:"segment"}),C=Uwe({segment:r,finishProcessingFn:E,responseType:x.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const R=t(x,C);R.addEventListener("progress",Hwe({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:g})),v.push(R);const D={};return v.forEach(U=>{U.addEventListener("loadend",Vwe({loadendState:D,abortFn:i}))}),()=>Dk(v)},qwe=_s("CodecUtils"),zwe=function(t){const e=t.attributes||{};if(e.CODECS)return pa(e.CODECS)},Nz=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},Wwe=(t,e)=>{if(!Nz(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},Sv=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:i})=>{e[n]=e[n]||[],e[n].push(UH(`${r}${i}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){qwe(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},oO=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},Qf=function(t,e){const n=e.attributes||{},r=Sv(zwe(e)||[]);if(Nz(t,e)&&!r.audio&&!Wwe(t,e)){const i=Sv(c6e(t,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},ly=_s("PlaylistSelector"),lO=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Ev=function(t,e){if(!t)return"";const n=G.getComputedStyle(t);return n?n[e]:""},$h=function(t,e){const n=t.slice();t.sort(function(r,i){const s=e(r,i);return s===0?n.indexOf(r)-n.indexOf(i):s})},XA=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||G.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||G.Number.MAX_VALUE,n-r},Kwe=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||G.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||G.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let Oz=function(t,e,n,r,i,s){if(!t)return;const a={bandwidth:e,width:n,height:r,limitRenditionByPlayerDimensions:i};let o=t.playlists;ui.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(C=>{let R;const D=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.width,U=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.height;return R=C.attributes&&C.attributes.BANDWIDTH,R=R||G.Number.MAX_VALUE,{bandwidth:R,width:D,height:U,playlist:C}});$h(l,(C,R)=>C.bandwidth-R.bandwidth),l=l.filter(C=>!ui.isIncompatible(C.playlist));let c=l.filter(C=>ui.isEnabled(C.playlist));c.length||(c=l.filter(C=>!ui.isDisabled(C.playlist)));const u=c.filter(C=>C.bandwidth*Wn.BANDWIDTH_VARIANCE<e);let d=u[u.length-1];const h=u.filter(C=>C.bandwidth===d.bandwidth)[0];if(i===!1){const C=h||c[0]||l[0];if(C&&C.playlist){let R="sortedPlaylistReps";return h&&(R="bandwidthBestRep"),c[0]&&(R="enabledPlaylistReps"),ly(`choosing ${lO(C)} using ${R} with options`,a),C.playlist}return ly("could not choose a playlist with options",a),null}const m=u.filter(C=>C.width&&C.height);$h(m,(C,R)=>C.width-R.width);const g=m.filter(C=>C.width===n&&C.height===r);d=g[g.length-1];const p=g.filter(C=>C.bandwidth===d.bandwidth)[0];let _,y,v;p||(_=m.filter(C=>C.width>n||C.height>r),y=_.filter(C=>C.width===_[0].width&&C.height===_[0].height),d=y[y.length-1],v=y.filter(C=>C.bandwidth===d.bandwidth)[0]);let E;if(s.leastPixelDiffSelector){const C=m.map(R=>(R.pixelDiff=Math.abs(R.width-n)+Math.abs(R.height-r),R));$h(C,(R,D)=>R.pixelDiff===D.pixelDiff?D.bandwidth-R.bandwidth:R.pixelDiff-D.pixelDiff),E=C[0]}const x=E||v||p||h||c[0]||l[0];if(x&&x.playlist){let C="sortedPlaylistReps";return E?C="leastPixelDiffRep":v?C="resolutionPlusOneRep":p?C="resolutionBestRep":h?C="bandwidthBestRep":c[0]&&(C="enabledPlaylistReps"),ly(`choosing ${lO(x)} using ${C} with options`,a),x.playlist}return ly("could not choose a playlist with options",a),null};const cO=function(){let t=this.useDevicePixelRatio&&G.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),Oz(this.playlists.main,this.systemBandwidth,parseInt(Ev(this.tech_.el(),"width"),10)*t,parseInt(Ev(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},Ywe=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&G.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),Oz(this.playlists.main,e,parseInt(Ev(this.tech_.el(),"width"),10)*r,parseInt(Ev(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},Qwe=function(t){const{main:e,currentTime:n,bandwidth:r,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,c=e.playlists.filter(m=>!ui.isIncompatible(m));let u=c.filter(ui.isEnabled);u.length||(u=c.filter(m=>!ui.isDisabled(m)));const d=u.filter(ui.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const g=l.getSyncPoint(m,i,o,n)?1:2,p=ui.estimateSegmentRequestTime(s,r,m)*g-a;return{playlist:m,rebufferingImpact:p}}),h=d.filter(m=>m.rebufferingImpact<=0);return $h(h,(m,g)=>XA(g.playlist,m.playlist)),h.length?h[0]:($h(d,(m,g)=>m.rebufferingImpact-g.rebufferingImpact),d[0]||null)},Xwe=function(){const t=this.playlists.main.playlists.filter(ui.isEnabled);return $h(t,(e,n)=>XA(e,n)),t.filter(e=>!!Qf(this.playlists.main,e).video)[0]||null},Zwe=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function Dz(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const Jwe=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=e.textTracks().getTrackById(r);if(i)t[n]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const c=s[r];c&&(a=c.label,o=c.language,l=c.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:a,language:o},!1).track}}},e7e=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=G.WebKitDataCue||G.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new r(i.startTime+n,i.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},t7e=function(t){Object.defineProperties(t.frame,{id:{get(){return Q.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return Q.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return Q.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},n7e=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const i=G.WebKitDataCue||G.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(u=>{const d=u.cueTime+n;typeof d!="number"||G.isNaN(d)||d<0||!(d<1/0)||!u.frames||!u.frames.length||u.frames.forEach(h=>{const m=new i(d,d,h.value||h.url||h.data||"");m.frame=h,m.value=h,t7e(m),s.addCue(m)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let u=0;u<a.length;u++)a[u]&&o.push(a[u]);const l=o.reduce((u,d)=>{const h=u[d.startTime]||[];return h.push(d),u[d.startTime]=h,u},{}),c=Object.keys(l).sort((u,d)=>Number(u)-Number(d));c.forEach((u,d)=>{const h=l[u],m=isFinite(r)?r:u,g=Number(c[d+1])||m;h.forEach(p=>{p.endTime=g})})},r7e={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},i7e=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),s7e=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=G.WebKitDataCue||G.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(i7e.has(s))continue;const a=new r(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:r7e[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}i.processDateRange()})},uO=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Q.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},mf=function(t,e,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=t&&i.endTime<=e&&n.removeCue(i)},a7e=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const i=e[r],s=`${i.startTime}-${i.endTime}-${i.text}`;n[s]?t.removeCue(i):n[s]=i}},o7e=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*lu.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},l7e=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},c7e=(t,e,n,r)=>{const i=Math.ceil((e-r)*lu.ONE_SECOND_IN_TS),s=Math.ceil((n-r)*lu.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},u7e=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(s!==r[i]||t[s]!==e[s])return!1}return!0},d7e=function(t,e,n){e=e||[];const r=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),i+=a.duration,i>n))return s}return r.length===0?0:r[r.length-1]},Hp=1,h7e=500,dO=t=>typeof t=="number"&&isFinite(t),cy=1/60,m7e=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,p7e=(t,e,n)=>{let r=e-Wn.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const i=e-n;return Math.min(i,r)},Td=t=>{const{startOfSegment:e,duration:n,segment:r,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:c,timeline:u}=t,d=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const m=typeof c=="number",g=t.segment.uri?"segment":"pre-segment",p=m?Jq({preloadSegment:r})-1:0;return`${g} [${s+l}/${s+d}]`+(m?` part [${c}/${p}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(m?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${u}] selected by [${h}] playlist [${a}]`},hO=t=>`${t}TimingInfo`,f7e=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,Pk=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(e===n)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(r==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},g7e=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),r=e&&n,i=r&&e.to!==n.to;return!!(r&&e.from!==-1&&n.from!==-1&&i)},y7e=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},ml=t=>{const e=t.pendingSegment_;if(e&&Pk({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&g7e(t.timelineChangeController_)){if(y7e(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},T7e=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:i,end:s}=r;let a;typeof i=="bigint"||typeof s=="bigint"?a=G.BigInt(s)-G.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},mO=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+wa:!1,v7e=(t,e)=>{if(e!=="hls")return null;const n=T7e({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,i=mO({segmentDuration:n,maxDuration:r*2}),s=mO({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},Xc=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:n,isMediaInitialization:r}};class Mk extends Q.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=_s(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():ml(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Sn({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():ml(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Sn({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():ml(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():ml(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return tS.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&G.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,G.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&tS.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Lr();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=e;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=bv(e);let i=this.initSegments_[r];return n&&!i&&e.bytes&&(this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,n=!1){if(!e)return null;const r=gz(e);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&e.bytes&&(this.keyCache_[r]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Jb(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(G.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&tS.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=c7e(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)mf(e,n,this.inbandTextTracks_[o]);mf(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&G.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=G.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&G.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=G.setTimeout(this.monitorBufferTick_.bind(this),h7e)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:Xc({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=Jb(e)||0,r=zA(e,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=d7e(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],m=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:n,h.parts&&h.parts[m+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=m+1):o.mediaIndex=this.mediaIndex+1}else{let h,m,g;const p=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${p}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const _=this.getSyncInfoFromMediaSequenceSync_(p);if(!_){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:Q.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${_.start} --> ${_.end})`),h=_.segmentIndex,m=_.partIndex,g=_.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const _=ui.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=_.segmentIndex,m=_.partIndex,g=_.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${p}`:`currentTime ${p}`,o.mediaIndex=h,o.startOfSegment=g,o.partIndex=m,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let c=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!c)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,c=l.parts[0]);const u=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&c&&!u&&!c.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],m=h.parts&&h.parts.length&&h.parts[h.parts.length-1];m&&m.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:c}=e,u=r.segments[i],d=typeof o=="number"&&u.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||u.resolvedUri,mediaIndex:i,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:d&&d.duration||u.duration,segment:u,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:n},m=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:m});const g=Jb(this.sourceUpdater_.audioBuffered());return typeof g=="number"&&(h.audioAppendStart=g-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=o7e(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return f7e(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,i=this.pendingSegment_.duration,s=ui.estimateSegmentRequestTime(i,r,this.playlist_,e.bytesReceived),a=MAe(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=Qwe({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const l=s-a-o.rebufferingImpact;let c=.5;a<=wa&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Wn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Td(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:r,hasVideo:i}=n,s={segmentInfo:Xc({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},u7e(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():ml(this))))}handleTimingInfo_(e,n,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=hO(n);s[a]=s[a]||{},s[a][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():ml(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};n.forEach(s=>{i[s.stream]=i[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=i[s.stream];a.startTime=Math.min(a.startTime,s.startTime+r),a.endTime=Math.max(a.endTime,s.endTime+r),a.captions.push(s)}),Object.keys(i).forEach(s=>{const{startTime:a,endTime:o,captions:l}=i[s],c=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${o} for ${s}`),Jwe(c,this.vhs_.tech_,s),mf(a,o,c[s]),e7e({captionArray:l,inbandTextTracks:c,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Pk({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:s}=n;return!(i&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||Pk({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){ml(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[hO(n.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:i}){if(r){const s=bv(r);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+cu(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+cu(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,c=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0;if(l-o<=Hp&&u-c<=Hp){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${cu(s).join(", ")}, video buffer: ${cu(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const d=this.currentTime_()-Hp;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Hp}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=G.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Hp*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},i){if(i){if(i.code===uz){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Q.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;r&&(o.unshift(r),l+=r.byteLength),s=Zwe({bytes:l,segments:o})}const a={segmentInfo:Xc({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[s].transmuxedPresentationStart=r.start.presentation,i[s].transmuxedDecodeStart=r.start.decode,i[s].transmuxedPresentationEnd=r.end.presentation,i[s].transmuxedDecodeEnd=r.end.decode,i[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){ml(this),this.loadQueue_.push(()=>{const n=Sn({},e,{forceTimestampOffset:!0});Sn(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||i&&s;this.logger_(`Requesting
${Dz(e.uri)}
${Td(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Gwe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:c})=>{this.logger_(`${Td(e)} logged from transmuxer stream ${c} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:c,trackInfo:u,timingInfo:d})=>{const h={segmentInfo:Xc({segment:l})};c&&(h.keyInfo=c),u&&(h.trackInfo=u),d&&(h.timingInfo=d),this.trigger({type:o,metadata:h})}})}trimBackBuffer_(e){const n=p7e(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===n.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=l}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<cy){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${cy}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ia.ABORTED)return;if(this.pause(),e.code===Ia.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=l7e(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const c=n.segments[r-1];return r===0||!c||typeof c.start>"u"||c.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:s}=n,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=m7e(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const o={segmentInfo:Xc({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:o})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=v7e(e,this.sourceType_);if(n&&(n.severity==="warn"?Q.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Td(e)}`);return}this.logger_(`Appended ${Td(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,i=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Td(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<cy){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${cy}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,i=n.end;if(!dO(r)||!dO(i))return;mf(r,i,this.segmentMetadataTrack_);const s=G.WebKitDataCue||G.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:i},o=JSON.stringify(a),l=new s(r,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function To(){}const Pz=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},_7e=["video","audio"],$k=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},b7e=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},Uh=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),Uh("audio",e),Uh("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||$k(t,e))){if(r.type!==t){if(n=b7e(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,Uh(t,e);return}}},Mz=(t,e)=>{const n=e[`${t}Buffer`],r=Pz(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ta=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,ki={appendBuffer:(t,e,n)=>(r,i)=>{const s=i[`${r}Buffer`];if(Ta(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===uz?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const i=r[`${n}Buffer`];if(Ta(r.mediaSource,i)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{i.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];Ta(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){Q.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){Q.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Ta(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){Q.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=Pz(t),i=dm(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",n[`on${r}UpdateEnd_`]),s.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(Mz(t,e),!!Ta(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){Q.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],i=dm(t);if(!Ta(n.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const o={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:o}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(i),n.codecs[e]=t}catch(l){o.errorType=Q.Error.StreamingCodecsChangeError,o.error=l,l.metadata=o,n.error_=l,n.trigger("error"),Q.log.warn(`Failed to changeType on ${e}Buffer`,l)}}},Ai=({type:t,sourceUpdater:e,action:n,doneFn:r,name:i})=>{e.queue.push({type:t,action:n,doneFn:r,name:i}),Uh(t,e)},pO=(t,e)=>n=>{const r=e[`${t}Buffered`](),i=OAe(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Uh(t,e)};class $z extends Q.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Uh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=_s("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=pO("video",this),this.onAudioUpdateEnd_=pO("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Ai({type:"mediaSource",sourceUpdater:this,action:ki.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Ai({type:e,sourceUpdater:this,action:ki.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Q.log.error("removeSourceBuffer is not supported!");return}Ai({type:"mediaSource",sourceUpdater:this,action:ki.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Q.browser.IS_FIREFOX&&G.MediaSource&&G.MediaSource.prototype&&typeof G.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return G.SourceBuffer&&G.SourceBuffer.prototype&&typeof G.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){Q.log.error("changeType is not supported!");return}Ai({type:e,sourceUpdater:this,action:ki.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(Ai({type:i,sourceUpdater:this,action:ki.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ta(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Lr()}videoBuffered(){return Ta(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Lr()}buffered(){const e=Ta(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Ta(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():PAe(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=To){Ai({type:"mediaSource",sourceUpdater:this,action:ki.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=To){typeof e!="string"&&(e=void 0),Ai({type:"mediaSource",sourceUpdater:this,action:ki.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=To){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Ai({type:"audio",sourceUpdater:this,action:ki.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=To){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Ai({type:"video",sourceUpdater:this,action:ki.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!($k("audio",this)||$k("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Ai({type:"audio",sourceUpdater:this,action:ki.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Ai({type:"video",sourceUpdater:this,action:ki.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Ai({type:"audio",sourceUpdater:this,action:ki.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Ai({type:"video",sourceUpdater:this,action:ki.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),_7e.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>Mz(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const fO=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),S7e=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},gO=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class E7e extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class k7e extends Mk{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Lr();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Lr([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=bv(e);let i=this.initSegments_[r];if(n&&!i&&e.bytes){const s=gO.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(gO,e.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){mf(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ia.TIMEOUT&&this.handleTimeout_(),e.code===Ia.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_,s=r.mp4VttCues&&r.mp4VttCues.length;s&&(i.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=i.segment;if(a.map&&(a.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof G.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(i)}catch(o){this.stopForError({message:o.message,metadata:{errorType:Q.Error.StreamingVttParserError,error:o}});return}if(s||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new G.VTTCue(o.startTime,o.endTime,o.text):o)}),a7e(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const r=e&&e.type==="vtt",i=n&&n.type==="text";r&&i&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(r=>{const i=r.start+n,s=r.end+n,a=new G.VTTCue(i,s,r.cueText);r.settings&&r.settings.split(" ").forEach(o=>{const l=o.split(":"),c=l[0],u=l[1];a[c]=isNaN(u)?u:Number(u)}),e.cues.push(a)})}parseVTTCues_(e){let n,r=!1;if(typeof G.WebVTT!="function")throw new E7e;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof G.TextDecoder=="function"?n=new G.TextDecoder("utf8"):(n=G.WebVTT.StringDecoder(),r=!0);const i=new G.WebVTT.Parser(G,G.vttjs,n);if(i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{Q.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=fO(a)),i.parse(a)}let s=e.bytes;r&&(s=fO(s)),i.parse(s),i.flush()}updateTimeMapping_(e,n,r){const i=e.segment;if(!n)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,o=s/lu.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(l=>{const c=l.endTime-l.startTime,u=this.handleRollover_(l.startTime+o,n.time);l.startTime=Math.max(u,0),l.endTime=Math.max(u+c,0)}),!r.syncInfo){const l=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(l,c-i.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*lu.ONE_SECOND_IN_TS;const i=n*lu.ONE_SECOND_IN_TS;let s;for(i<r?s=-8589934592:s=8589934592;Math.abs(r-i)>4294967296;)r+=s;return r/lu.ONE_SECOND_IN_TS}}const A7e=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},w7e=function(t,e,n=0){if(!t.segments)return;let r=n,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=A7e(e,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new G.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new G.VTTCue(r,r+a.duration,""),i.adStartTime=r-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}r+=a.duration}};class yO{constructor({start:e,end:n,segmentIndex:r,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class C7e{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class Uz{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,i,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(e))return i}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,r){const i=new Map;let s=`
`,a=r,o=n;this.start_=a,e.forEach((l,c)=>{const u=this.storage_.get(o),d=a,h=d+l.duration,m=!!(u&&u.segmentSyncInfo&&u.segmentSyncInfo.isAppended),g=new yO({start:d,end:h,appended:m,segmentIndex:c});l.syncInfo=g;let p=a;const _=(l.parts||[]).map((y,v)=>{const E=p,x=p+y.duration,C=!!(u&&u.partsSyncInfo&&u.partsSyncInfo[v]&&u.partsSyncInfo[v].isAppended),R=new yO({start:E,end:x,appended:C,segmentIndex:c,partIndex:v});return p=x,s+=`Media Sequence: ${o}.${v} | Range: ${E} --> ${x} | Appended: ${C}
`,y.syncInfo=R,R});i.set(o,new C7e(g,_)),s+=`${Dz(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${h} | Appended: ${m}
`,o++,a=h}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,n,r){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(e<i){const s=i-e;let a=this.storage_.get(i).segmentSyncInfo.start;for(let o=0;o<s;o++){const l=n[o];a-=l.duration}return a}return r}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class TO extends Uz{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,r){if(!this.storage_.size){const i=this.parent_.getSyncInfoForMediaSequence(e);return i?i.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,r)}}const I7e=86400,nS=[{name:"VOD",run:(t,e,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=Ck(e);i=i||0;for(let l=0;l<o.length;l++){const c=e.endList||i===0?l:o.length-(l+1),u=o[c],d=u.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let m=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof u.partIndex=="number")for(let p=0;p<u.partIndex;p++)m+=d.parts[p].duration;const g=Math.abs(i-m);if(a!==null&&(g===0||a<g))break;a=g,s={time:m,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}return s}},{name:"Segment",run:(t,e,n,r,i)=>{let s=null,a=null;i=i||0;const o=Ck(e);for(let l=0;l<o.length;l++){const c=e.endList||i===0?l:o.length-(l+1),u=o[c],d=u.segment,h=u.part&&u.part.start||d&&d.start;if(d.timeline===r&&typeof h<"u"){const m=Math.abs(i-h);if(a!==null&&a<m)break;(!s||a===null||a>=m)&&(a=m,s={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,r,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,u=t.discontinuities[c];if(u){const d=Math.abs(i-u.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:u.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,r,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class x7e extends Q.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new Uz,r=new TO(n),i=new TO(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:i},this.logger_=_s("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,i,s){if(n!==1/0)return nS.find(({name:o})=>o==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:c}=o,{segmentIndex:u,time:d}=l;if(u<0)continue;const h=e.segments[u],m=d,g=m+h.duration;if(this.logger_(`Strategy: ${c}. Current time: ${i}. selected segment: ${u}. Time: [${m} -> ${g}]}`),i>=m&&i<g)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Yf({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,i,s){const a=[];for(let o=0;o<nS.length;o++){const l=nS[o],c=l.run(this,e,n,r,i,s);c&&(c.strategy=l.name,a.push({strategy:l.name,syncPoint:c}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,i=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<i&&(i=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>I7e){Q.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),i=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const s=n.discontinuityStarts[i],a=n.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let c;o<0?c=r.start-Yf({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):c=r.end+Yf({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:c,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class L7e extends Q.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const R7e=Sz(Ez(function(){var t=function(){function p(){this.listeners={}}var _=p.prototype;return _.on=function(y,v){this.listeners[y]||(this.listeners[y]=[]),this.listeners[y].push(v)},_.off=function(y,v){if(!this.listeners[y])return!1;var E=this.listeners[y].indexOf(v);return this.listeners[y]=this.listeners[y].slice(0),this.listeners[y].splice(E,1),E>-1},_.trigger=function(y){var v=this.listeners[y];if(v)if(arguments.length===2)for(var E=v.length,x=0;x<E;++x)v[x].call(this,arguments[1]);else for(var C=Array.prototype.slice.call(arguments,1),R=v.length,D=0;D<R;++D)v[D].apply(this,C)},_.dispose=function(){this.listeners={}},_.pipe=function(y){this.on("data",function(v){y.push(v)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],_=p[0],y=p[1],v=_[4],E=y[4];let x,C,R;const D=[],U=[];let K,V,X,he,ie,pe;for(x=0;x<256;x++)U[(D[x]=x<<1^(x>>7)*283)^x]=x;for(C=R=0;!v[C];C^=K||1,R=U[R]||1)for(he=R^R<<1^R<<2^R<<3^R<<4,he=he>>8^he&255^99,v[C]=he,E[he]=C,X=D[V=D[K=D[C]]],pe=X*16843009^V*65537^K*257^C*16843008,ie=D[he]*257^he*16843008,x=0;x<4;x++)_[x][C]=ie=ie<<24^ie>>>8,y[x][he]=pe=pe<<24^pe>>>8;for(x=0;x<5;x++)_[x]=_[x].slice(0),y[x]=y[x].slice(0);return p};let r=null;class i{constructor(_){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let y,v,E;const x=this._tables[0][4],C=this._tables[1],R=_.length;let D=1;if(R!==4&&R!==6&&R!==8)throw new Error("Invalid aes key size");const U=_.slice(0),K=[];for(this._key=[U,K],y=R;y<4*R+28;y++)E=U[y-1],(y%R===0||R===8&&y%R===4)&&(E=x[E>>>24]<<24^x[E>>16&255]<<16^x[E>>8&255]<<8^x[E&255],y%R===0&&(E=E<<8^E>>>24^D<<24,D=D<<1^(D>>7)*283)),U[y]=U[y-R]^E;for(v=0;y;v++,y--)E=U[v&3?y:y-4],y<=4||v<4?K[v]=E:K[v]=C[0][x[E>>>24]]^C[1][x[E>>16&255]]^C[2][x[E>>8&255]]^C[3][x[E&255]]}decrypt(_,y,v,E,x,C){const R=this._key[1];let D=_^R[0],U=E^R[1],K=v^R[2],V=y^R[3],X,he,ie;const pe=R.length/4-2;let ne,oe=4;const _e=this._tables[1],Y=_e[0],te=_e[1],re=_e[2],Ae=_e[3],W=_e[4];for(ne=0;ne<pe;ne++)X=Y[D>>>24]^te[U>>16&255]^re[K>>8&255]^Ae[V&255]^R[oe],he=Y[U>>>24]^te[K>>16&255]^re[V>>8&255]^Ae[D&255]^R[oe+1],ie=Y[K>>>24]^te[V>>16&255]^re[D>>8&255]^Ae[U&255]^R[oe+2],V=Y[V>>>24]^te[D>>16&255]^re[U>>8&255]^Ae[K&255]^R[oe+3],oe+=4,D=X,U=he,K=ie;for(ne=0;ne<4;ne++)x[(3&-ne)+C]=W[D>>>24]<<24^W[U>>16&255]<<16^W[K>>8&255]<<8^W[V&255]^R[oe++],X=D,D=U,U=K,K=V,V=X}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(_){this.jobs.push(_),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},o=function(p,_,y){const v=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),E=new i(Array.prototype.slice.call(_)),x=new Uint8Array(p.byteLength),C=new Int32Array(x.buffer);let R,D,U,K,V,X,he,ie,pe;for(R=y[0],D=y[1],U=y[2],K=y[3],pe=0;pe<v.length;pe+=4)V=a(v[pe]),X=a(v[pe+1]),he=a(v[pe+2]),ie=a(v[pe+3]),E.decrypt(V,X,he,ie,C,pe),C[pe]=a(C[pe]^R),C[pe+1]=a(C[pe+1]^D),C[pe+2]=a(C[pe+2]^U),C[pe+3]=a(C[pe+3]^K),R=V,D=X,U=he,K=ie;return x};class l{constructor(_,y,v,E){const x=l.STEP,C=new Int32Array(_.buffer),R=new Uint8Array(_.byteLength);let D=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(C.subarray(D,D+x),y,v,R)),D=x;D<C.length;D+=x)v=new Uint32Array([a(C[D-4]),a(C[D-3]),a(C[D-2]),a(C[D-1])]),this.asyncStream_.push(this.decryptChunk_(C.subarray(D,D+x),y,v,R));this.asyncStream_.push(function(){E(null,e(R))})}static get STEP(){return 32e3}decryptChunk_(_,y,v,E){return function(){const x=o(_,y,v);E.set(x,_.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ZT<"u"?ZT:typeof self<"u"?self:{},u;typeof window<"u"?u=window:typeof c<"u"?u=c:typeof self<"u"?u=self:u={};var d=u,h=function(p){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(p):p&&p.buffer instanceof ArrayBuffer},m=d.BigInt||Number;m("0x1"),m("0x100"),m("0x10000"),m("0x1000000"),m("0x100000000"),m("0x10000000000"),m("0x1000000000000"),m("0x100000000000000"),m("0x10000000000000000"),function(){var p=new Uint16Array([65484]),_=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return _[0]===255?"big":_[0]===204?"little":"unknown"}();const g=function(p){const _={};return Object.keys(p).forEach(y=>{const v=p[y];h(v)?_[y]={bytes:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength}:_[y]=v}),_};self.onmessage=function(p){const _=p.data,y=new Uint8Array(_.encrypted.bytes,_.encrypted.byteOffset,_.encrypted.byteLength),v=new Uint32Array(_.key.bytes,_.key.byteOffset,_.key.byteLength/4),E=new Uint32Array(_.iv.bytes,_.iv.byteOffset,_.iv.byteLength/4);new l(y,v,E,function(x,C){self.postMessage(g({source:_.source,decrypted:C}),[C.buffer])})}}));var N7e=bz(R7e);const O7e=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Fz=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Uk=(t,e)=>{e.activePlaylistLoader=t,t.load()},D7e=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,Fz(n,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}n.resyncLoader(),Uk(a.playlistLoader,i)}},P7e=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},M7e=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastTrack_;if(!(c&&a&&c.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,Fz(r,s),!!o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;const u=e.vhs.playlistController_,d=u.selectPlaylist();if(u.media()===d)return;s.logger_(`track change. Switching main audio from ${c.id} to ${a.id}`),n.pause(),i.resetEverything(),u.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){Uk(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),Uk(o.playlistLoader,s)}},kv={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,i=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(i===o){r({error:{message:"Problem encountered loading the default audio track."}});return}Q.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;Q.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},vO={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:i,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",kv[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",kv[t](t,n))}},$7e={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:u}=e,d=Cg(u.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=u.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const m in a[t][h]){let g=a[t][h][m],p;if(d?(c(`AUDIO group '${h}' label '${m}' is a main playlist`),g.isMainPlaylist=!0,p=null):r==="vhs-json"&&g.playlists?p=new uh(g.playlists[0],n,s):g.resolvedUri?p=new uh(g.resolvedUri,n,s):g.playlists&&r==="dash"?p=new Ok(g.playlists[0],n,s,u):p=null,g=mt({id:m,playlistLoader:p},g),vO[t](t,g.playlistLoader,e),o[h].push(g),typeof l[m]>"u"){const _=new Q.AudioTrack({id:m,kind:O7e(g),enabled:!1,language:g.language,default:g.default,label:m});l[m]=_}}}i.on("error",kv[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:c}},mainPlaylistLoader:u}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const h in o[t][d]){if(!r.options_.useForcedSubtitles&&o[t][d][h].forced)continue;let m=o[t][d][h],g;if(i==="hls")g=new uh(m.resolvedUri,r,a);else if(i==="dash"){if(!m.playlists.filter(p=>p.excludeUntil!==1/0).length)return;g=new Ok(m.playlists[0],r,a,u)}else i==="vhs-json"&&(g=new uh(m.playlists?m.playlists[0]:m.resolvedUri,r,a));if(m=mt({id:h,playlistLoader:g},m),vO[t](t,m.playlistLoader,e),l[d].push(m),typeof c[h]>"u"){const p=n.addRemoteTextTrack({id:h,kind:"subtitles",default:m.default&&m.autoselect,language:m.language,label:h},!1).track;c[h]=p}}}s.on("error",kv[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in r[t]){i[a]||(i[a]=[]);for(const o in r[t][a]){const l=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const c=n.options_.vhs&&n.options_.vhs.captionServices||{};let u={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[u.instreamId]&&(u=mt(u,c[u.instreamId])),u.default===void 0&&delete u.default,i[a].push(mt({id:o},l)),typeof s[o]>"u"){const d=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track;s[o]=d}}}}},Bz=(t,e)=>{for(let n=0;n<t.length;n++)if(YA(e,t[n])||t[n].playlists&&Bz(t[n].playlists,e))return!0;return!1},U7e=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:i}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const o=Object.keys(i);if(!a)if(t==="AUDIO"&&o.length>1&&Cg(e.main))for(let l=0;l<o.length;l++){const c=i[o[l]];if(Bz(c,s)){a=c;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},F7e={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},B7e=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},j7e=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{$7e[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=U7e(c,t),e[c].activeTrack=F7e[c](c,t),e[c].onGroupChanged=D7e(c,t),e[c].onGroupChanging=P7e(c,t),e[c].onTrackChanged=M7e(c,t),e[c].getActiveGroup=B7e(c,t)});const o=e.AUDIO.activeGroup();if(o){const c=(o.filter(u=>u.default)[0]||o[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const c in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[c])},V7e=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:To,activeTrack:To,getActiveGroup:To,onGroupChanged:To,onTrackChanged:To,lastTrack_:null,logger_:_s(`MediaGroups[${e}]`)}}),t};class _O{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=oi(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class H7e extends Q.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new _O,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=_s("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=oi(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const c=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${c} seconds.`),this.startTTLTimeout_(parseInt(c,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(c){const u={errorType:Q.Error.StreamingContentSteeringParserError,error:c};this.trigger({type:"error",metadata:u})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new G.URL(e),r=new G.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(G.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new G.URL(e),r=this.getPathway(),i=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,r)}if(i){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,i)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(r=>{for(const i of r)if(this.availablePathways_.has(i))return i;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!n(i))return i}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=G.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){G.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new _O}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(oi(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const G7e=(t,e)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,r)},e)}},q7e=10;let pl;const z7e=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],W7e=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},K7e=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!r)return Q.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${c} as current playlist is not set`),!0;if(r.id===t.id)return!1;const u=!!ch(e,n).length;if(!t.endList)return!u&&typeof t.partTargetDuration=="number"?(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${c} as current playlist is live`),!0);const d=zA(e,n),h=o?Wn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Wn.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${c} as duration < max low water line (${a} < ${h})`),!0;const m=r.attributes.BANDWIDTH,g=t.attributes.BANDWIDTH;if(m<g&&(!o||d<s)){let p=`${c} as next bandwidth < current bandwidth (${m} < ${g})`;return o&&(p+=` and forwardBuffer < bufferHighWaterLine (${d} < ${s})`),l(p),!0}if((!o||m>g)&&d>=i){let p=`${c} as forwardBuffer >= bufferLowWaterLine (${d} >= ${i})`;return o&&(p+=` and next bandwidth > current bandwidth (${m} > ${g})`),l(p),!0}return l(`not ${c} as no switching criteria met`),!1};class Y7e extends Q.EventTarget{constructor(e){super(),this.fastQualityChange_=G7e(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:r,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:m,captionServices:g,experimentalUseMMS:p}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),pl=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!m,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=c,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=V7e(),p&&G.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new G.ManagedMediaSource,this.usingManagedMediaSource_=!0,Q.log("Using ManagedMediaSource")):G.MediaSource&&(this.mediaSource=new G.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Lr(),this.hasPlayed_=!1,this.syncController_=new x7e(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new N7e,this.sourceUpdater_=new $z(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new L7e,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:g,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Ok(n,this.vhs_,mt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new uh(n,this.vhs_,mt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Mk(mt(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Mk(mt(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new k7e(mt(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((x,C)=>{function R(){i.off("vttjserror",D),x()}function D(){i.off("vttjsloaded",R),C()}i.one("vttjsloaded",R),i.one("vttjserror",D),i.addWebVttScript_()})}),e);const v=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new H7e(this.vhs_.xhr,v),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),z7e.forEach(x=>{this[x+"_"]=W7e.bind(this,x)}),this.logger_=_s("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const E=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(E,()=>{const x=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-x,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${n}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const s=(r.length?r[0].playlists:r.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=G.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(G.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,i=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||i.length&&r[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in r)if(r[o][s.label]){const l=r[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const u=e.playlists[c];u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o&&a.push(u)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Ik(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),j7e({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Ik(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();e.lastExcludeReason_!=="playlist-unchanged"&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(e=>{this.mainPlaylistLoader_.on(e,n=>{this.player_.trigger(Sn({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let i=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),pl.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return K7e({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const r=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(r)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:q7e}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,r=>{this.player_.trigger(Sn({},r))}),this.audioSegmentLoader_.on(n,r=>{this.player_.trigger(Sn({},r))}),this.subtitleSegmentLoader_.on(n,r=>{this.player_.trigger(Sn({},r))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(r+s,n.start(0)):i=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const r=pl.Playlist.playlistEnd(e,n),i=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return r-i<=Ca;const a=s.end(s.length-1);return a-i<=Ca&&r-a<=Ca}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(T_),a=s.length===1&&s[0]===e;if(i.length===1&&r!==1/0)return Q.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const g=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(g),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(g)},p);return}let m=!1;i.forEach(g=>{if(g===e)return;const p=g.excludeUntil;typeof p<"u"&&p!==1/0&&(m=!0,delete g.excludeUntil)}),m&&(Q.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=n.internal?this.logger_:Q.log.warn,u=n.message?" "+n.message:"";c(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${u} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],i=e==="all";(i||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=ch(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:pl.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const r=e.media();if(!r)return null;const i=this.syncController_.getMediaSequenceSync(n);if(i&&i.isReliable){const o=i.start,l=i.end;if(!isFinite(o)||!isFinite(l))return null;const c=pl.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),u=Math.max(0,l-c);return u<o?null:Lr([[o,u]])}const s=this.syncController_.getExpiredTime(r,this.duration());if(s===null)return null;const a=pl.Playlist.seekable(r,s,pl.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return a.length?a:null}computeFinalSeekable_(e,n){if(!n)return e;const r=e.start(0),i=e.end(0),s=n.start(0),a=n.end(0);return s>i||r>a?e:Lr([[Math.max(r,s),Math.min(i,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${Xq(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=pl.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=Qf(this.main(),n),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=r.video||e.main.videoCodec||d6e),e.main.isMuxed&&(i.video+=`,${r.audio||e.main.audioCodec||tN}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||tN,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(c,u)=>c?qf(u,this.usingManagedMediaSource_):Fb(u),o={};let l;if(["video","audio"].forEach(function(c){if(i.hasOwnProperty(c)&&!a(e[c].isFmp4,i[c])){const u=e[c].isFmp4?"browser":"muxer";o[u]=o[u]||[],o[u].push(i[c]),c==="audio"&&(l=u)}}),s&&l&&n.attributes.AUDIO){const c=n.attributes.AUDIO;this.main().playlists.forEach(u=>{(u.attributes&&u.attributes.AUDIO)===c&&u!==n&&(u.excludeUntil=1/0)}),this.logger_(`excluding audio group ${c} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const c=Object.keys(o).reduce((u,d)=>(u&&(u+=", "),u+=`${d} does not support codec(s): "${o[d].join(",")}"`,u),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(u=>{const d=(pa(this.sourceUpdater_.codecs[u]||"")[0]||{}).type,h=(pa(i[u]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&c.push(`"${this.sourceUpdater_.codecs[u]}" -> "${i[u]}"`)}),c.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${c.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const i=e[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const s=Qf(this.main,i),a=[];s.audio&&!Fb(s.audio)&&!qf(s.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${s.audio}`),s.video&&!Fb(s.video)&&!qf(s.video,this.usingManagedMediaSource_)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,i=Sv(pa(e)),s=oO(i),a=i.video&&pa(i.video)[0]||null,o=i.audio&&pa(i.audio)[0]||null;Object.keys(r).forEach(l=>{const c=r[l];if(n.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;n.push(c.id);const u=[],d=Qf(this.mainPlaylistLoader_.main,c),h=oO(d);if(!(!d.audio&&!d.video)){if(h!==s&&u.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const m=d.video&&pa(d.video)[0]||null,g=d.audio&&pa(d.audio)[0]||null;m&&a&&m.type.toLowerCase()!==a.type.toLowerCase()&&u.push(`video codec "${m.type}" !== "${a.type}"`),g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&u.push(`audio codec "${g.type}" !== "${o.type}"`)}u.length&&(c.excludeUntil=1/0,this.logger_(`excluding ${c.id}: ${u.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),w7e(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=Wn.GOAL_BUFFER_LENGTH,r=Wn.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,Wn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=Wn.BUFFER_LOW_WATER_LINE,r=Wn.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,Wn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,Wn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Wn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){uO(this.inbandTextTracks_,"com.apple.streaming",this.tech_),s7e({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();uO(this.inbandTextTracks_,e,this.tech_),n7e({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.contentSteeringController_.on(e,n=>{this.trigger(Sn({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const n=this.contentSteeringController_.getAvailablePathways(),r=[];for(const i of e.playlists){const s=i.attributes.serviceLocation;if(s&&(r.push(s),!n.has(s)))return!0}return!!(!r.length&&n.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,r=new Set;let i=!1;Object.keys(n).forEach(s=>{const a=n[s],o=this.pathwayAttribute_(a),l=o&&e!==o;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!l&&(delete a.excludeUntil,delete a.lastExcludeReason_,i=!0);const c=!a.excludeUntil&&a.excludeUntil!==1/0;!r.has(a.id)&&l&&c&&(r.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const o=a.activePlaylistLoader.media_;o&&o.attributes.serviceLocation!==e&&(i=!0)}}),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,r=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||r&&r.size){for(const[i,s]of n.entries())r.get(i)||(this.mainPlaylistLoader_.updateOrDeleteClone(s),this.contentSteeringController_.excludePathway(i));for(const[i,s]of r.entries()){const a=n.get(i);if(!a){e.filter(o=>o.attributes["PATHWAY-ID"]===s["BASE-ID"]).forEach(o=>{this.mainPlaylistLoader_.addClonePathway(s,o)}),this.contentSteeringController_.addAvailablePathway(i);continue}this.equalPathwayClones_(a,s)||(this.mainPlaylistLoader_.updateOrDeleteClone(s,!0),this.contentSteeringController_.addAvailablePathway(i))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...r])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==i[s])return!1;for(const s in i)if(r[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;o?o&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&s&&(delete r.excludeUntil,Q.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const r=(typeof e=="string"?e:S7e(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${r} added to the keyStatusMap`),this.keyStatusMap_.set(r,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Q7e=(t,e,n)=>r=>{const i=t.main.playlists[e],s=KA(i),a=T_(i);if(typeof r>"u")return a;r?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return r!==a&&!s&&(r?(n(i),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),r};class X7e{constructor(e,n,r){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Qf(i.main(),n),this.playlist=n,this.id=r,this.enabled=Q7e(e.playlists,n.id,s)}}const Z7e=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=Cg(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!KA(r)).map((r,i)=>new X7e(t,r,r.id)):[]}},bO=["seeking","seeked","pause","playing","error"];class J7e extends Q.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=_s("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(u=>{l[u]={reset:()=>this.resetSegmentDownloads_(u),updateend:()=>this.checkSegmentDownloads_(u)},a[`${u}SegmentLoader_`].on("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].on("playlistupdate",l[u].reset),this.tech_.on(["seeked","seeking"],l[u].reset)});const c=u=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][u]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(bO,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(bO,s),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(u=>{a[`${u}SegmentLoader_`].off("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].off("playlistupdate",l[u].reset),this.tech_.off(["seeked","seeking"],l[u].reset)}),this.checkCurrentTimeTimeout_&&G.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&G.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=G.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],i=r.buffered_(),s=$Ae(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:cu(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Ca>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Lr([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),n=this.tech_.currentTime(),r=this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let i;if(r&&(i=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){const m=e.start(0);i=m+(m===e.end(0)?0:Ca)}if(typeof i<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${Xq(e)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),o=s.audioBuffer?s.audioBuffered():null,l=s.videoBuffer?s.videoBuffered():null,c=this.media(),u=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-wa)*2,d=[o,l];for(let m=0;m<d.length;m++)if(d[m]&&zA(d[m],n)<u)return!1;const h=oy(a,n);return h.length===0?!1:(i=h.start(0)+Ca,this.logger_(`Buffered region starts (${h.start(0)})  just beyond seek point (${n}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=ch(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=oy(i,n);return s.length>0?(this.logger_(`Stopped at ${n} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Ca;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+r.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let i;if(e.length&&n.length){const s=ch(e,r-3),a=ch(e,r),o=ch(n,r);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else oy(e,r).length||(i=this.gapFromVideoUnderflow_(e,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=oy(n,r);if(this.resetTimeUpdate_(),i.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+wa);const s={gapInfo:{from:r,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const r=DAe(e);for(let i=0;i<r.length;i++){const s=r.start(i),a=r.end(i);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const eCe={errorInterval:30,getSource(t){const e=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(e)}},jz=function(t,e){let n=0,r=0;const i=mt(eCe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(u){u!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(u),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Q.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},c=function(u){l(),jz(t,u)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=c},tCe=function(t){jz(this,t)};var Vz="3.16.2",nCe="7.1.0",rCe="1.3.1",iCe="7.2.0",sCe="4.0.2";const Qt={PlaylistLoader:uh,Playlist:ui,utils:owe,STANDARD_PLAYLIST_SELECTOR:cO,INITIAL_PLAYLIST_SELECTOR:Xwe,lastBandwidthSelector:cO,movingAverageBandwidthSelector:Ywe,comparePlaylistBandwidth:XA,comparePlaylistResolution:Kwe,xhr:pz()};Object.keys(Wn).forEach(t=>{Object.defineProperty(Qt,t,{get(){return Q.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Wn[t]},set(e){if(Q.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Q.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Wn[t]=e}})});const Hz="videojs-vhs",Gz=function(t,e){const n=e.media();let r=-1;for(let i=0;i<t.length;i++)if(t[i].id===n.id){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},aCe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),Gz(t,e.playlists)};Qt.canPlaySource=function(){return Q.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const oCe=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=Sv(pa(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=dm(r.video),s=dm(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return mt(t,a)},lCe=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const i=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&n.push(i),n},[]),cCe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,s=lCe(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((c,u)=>{t.tech_.one("keysessioncreated",c)})),a.push(new Promise((c,u)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){u(d);return}c()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},uCe=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const i=oCe(e,n,r);return i?(t.currentSource().keySystems=i,i&&!t.eme?(Q.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},qz=()=>{if(!G.localStorage)return null;const t=G.localStorage.getItem(Hz);if(!t)return null;try{return JSON.parse(t)}catch{return null}},dCe=t=>{if(!G.localStorage)return!1;let e=qz();e=e?mt(e,t):t;try{G.localStorage.setItem(Hz,JSON.stringify(e))}catch{return!1}return e},hCe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,zz=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},Wz=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Kz=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Yz=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Qt.supportsNativeHls=function(){if(!we||!we.createElement)return!1;const t=we.createElement("video");return Q.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))}):!1}();Qt.supportsNativeDash=function(){return!we||!we.createElement||!Q.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(we.createElement("video").canPlayType("application/dash+xml"))}();Qt.supportsTypeNatively=t=>t==="hls"?Qt.supportsNativeHls:t==="dash"?Qt.supportsNativeDash:!1;Qt.isSupported=function(){return Q.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Qt.xhr.onRequest=function(t){zz(Qt.xhr,t)};Qt.xhr.onResponse=function(t){Wz(Qt.xhr,t)};Qt.xhr.offRequest=function(t){Kz(Qt.xhr,t)};Qt.xhr.offResponse=function(t){Yz(Qt.xhr,t)};const mCe=Q.getComponent("Component");class Qz extends mCe{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=_s("VhsHandler"),n.options_&&n.options_.playerId){const i=Q.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(we,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=we.fullscreenElement||we.webkitFullscreenElement||we.mozFullScreenElement||we.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=mt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=qz();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Wn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Wn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=hCe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Qt,this.options_.sourceType=BH(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new Y7e(this.options_);const r=mt({liveRangeSafeTimeDelta:Ca},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new J7e(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Q.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?Qt.movingAverageBandwidthSelector(.55):Qt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=Qt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=G.navigator.connection||G.navigator.mozConnection||G.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Q.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>cu(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>cu(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&dCe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Z7e(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=G.URL.createObjectURL(this.playlistController_.mediaSource),(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),cCe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=uCe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Q.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{aCe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{Gz(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Vz,"mux.js":nCe,"mpd-parser":rCe,"m3u8-parser":iCe,"aes-decrypter":sCe}}version(){return this.constructor.version()}canChangeType(){return $z.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&G.URL.revokeObjectURL&&(G.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return pwe({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,i=2){return vz({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{zz(this.xhr,e)},this.xhr.onResponse=e=>{Wz(this.xhr,e)},this.xhr.offRequest=e=>{Kz(this.xhr,e)},this.xhr.offResponse=e=>{Yz(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,i=>{this.player_.trigger(Sn({},i))})}),n.forEach(r=>{this.playbackWatcher_.on(r,i=>{this.player_.trigger(Sn({},i))})})}}const Av={name:"videojs-http-streaming",VERSION:Vz,canHandleSource(t,e={}){const n=mt(Q.options,e);return!n.vhs.experimentalUseMMS&&!qf("avc1.4d400d,mp4a.40.2",!1)?!1:Av.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=mt(Q.options,n);return e.vhs=new Qz(t,e,r),e.vhs.xhr=pz(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=BH(t);if(!n)return"";const r=Av.getOverrideNative(e);return!Qt.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(Q.browser.IS_ANY_SAFARI||Q.browser.IS_IOS),{overrideNative:r=n}=e;return r}},pCe=()=>qf("avc1.4d400d,mp4a.40.2",!0);pCe()&&Q.getTech("Html5").registerSourceHandler(Av,0);Q.VhsHandler=Qz;Q.VhsSourceHandler=Av;Q.Vhs=Qt;Q.use||Q.registerComponent("Vhs",Qt);Q.options.vhs=Q.options.vhs||{};(!Q.getPlugin||!Q.getPlugin("reloadSourceOnError"))&&Q.registerPlugin("reloadSourceOnError",tCe);const fCe=(t,e)=>{const n=goog.pal,r=new n.ConsentSettings;r.allowStorage=!1;const i=new n.NonceLoader(r);return async()=>{try{const s=new URL(e),a=new n.NonceRequest;let o=localStorage.getItem("sl-device-id")||_1(),l=sessionStorage.getItem("sl-ad-session-id");l||(l=_1(),sessionStorage.setItem("sl-ad-session-id",l)),pH(o)||(o=QT(`https://${o}`,QT.URL)),a.adWillAutoPlay=s.searchParams.get("vpa")==="auto",a.adWillPlayMuted=s.searchParams.get("vpmute")==="1",a.continuousPlayback=!0,a.descriptionUrl=s.searchParams.get("description_url")||"",a.iconsSupported=!0,a.sessionId=o,a.supportedApiFrameworks="2,7,9",a.videoHeight=t.clientHeight,a.videoWidth=t.clientWidth;const c=await i.loadNonceManager(a);return s.searchParams.set("givn",c.getNonce()),s.searchParams.get("is_lat")==="[placeholder]"&&s.searchParams.set("is_lat","1"),s.searchParams.get("rdid")==="[placeholder]"&&s.searchParams.set("rdid",o),s.searchParams.get("correlator")==="[placeholder]"&&s.searchParams.set("correlator",l),s}catch(s){console.log("AdsManager could not be started",s);return}}};/*! @name videojs-contrib-ads @version 7.5.2 @license Apache-2.0 */var Xz="7.5.2";function gCe(t){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,_error:null,adType:null,VERSION:Xz,reset:function(){t.ads.disableNextSnapshotRestore=!1,t.ads._contentEnding=!1,t.ads._contentHasEnded=!1,t.ads.snapshot=null,t.ads.adType=null,t.ads._hasThereBeenALoadedData=!1,t.ads._hasThereBeenALoadedMetaData=!1,t.ads._cancelledPlay=!1,t.ads._shouldBlockPlay=!1,t.ads._playBlocked=!1,t.ads.nopreroll_=!1,t.ads.nopostroll_=!1,t.ads._playRequested=!1,t.ads._error=null},startLinearAdMode:function(){t.ads._state.startLinearAdMode()},endLinearAdMode:function(){t.ads._state.endLinearAdMode()},skipLinearAdMode:function(){t.ads._state.skipLinearAdMode()},stitchedAds:function(e){return e!==void 0&&(Q.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!e),this.settings.stitchedAds},videoElementRecycled:function(){if(t.ads.shouldPlayContentBehindAd(t))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=t.tech_.src()!==this.snapshot.src,n=t.currentSrc()!==this.snapshot.currentSrc;return e||n},isLive:function(e){return e===void 0&&(e=t),typeof e.ads.settings.contentIsLive=="boolean"?e.ads.settings.contentIsLive:e.duration()===1/0?!0:Q.browser.IOS_VERSION==="8"&&e.duration()===0},shouldPlayContentBehindAd:function(e){if(e===void 0&&(e=t),e)return e.ads.settings.liveCuePoints?!Q.browser.IS_IOS&&!Q.browser.IS_ANDROID&&e.duration()===1/0:!1;throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(e){return e===void 0&&(e=t),!this.shouldPlayContentBehindAd(e)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var e=t.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.length===1&&typeof n[0]=="string"?Q.log("ADS: "+n[0]):Q.log.apply(Q,["ADS:"].concat(n))}},error:function(e){if(e===void 0)return this._error||null;if(e===null||!e.errorType){this._error=null;return}this._error=e,Q.log.error("An error with Ads occured. Type: "+e.errorType+"."),t.trigger({type:"vjsadserror",error:this._error})}}}var Zz=function(t,e){e.isImmediatePropagationStopped=function(){return!0},e.cancelBubble=!0,e.isPropagationStopped=function(){return!0}},Ga=function(t,e,n){Zz(t,n),t.trigger({type:e+n.type,originalEvent:n})},yCe=function(t,e){t.ads.isInAdMode()&&(t.ads.isContentResuming()?t.ads._contentEnding&&Ga(t,"content",e):Ga(t,"ad",e))},TCe=function(t,e){t.ads.isInAdMode()?t.ads.isContentResuming()?(Zz(t,e),t.trigger("resumeended")):Ga(t,"ad",e):!t.ads._contentHasEnded&&!t.ads.stitchedAds()&&(Ga(t,"content",e),t.trigger("readyforpostroll"))},vCe=function(t,e){if(!(e.type==="loadstart"&&!t.ads._hasThereBeenALoadStartDuringPlayerLife||e.type==="loadeddata"&&!t.ads._hasThereBeenALoadedData||e.type==="loadedmetadata"&&!t.ads._hasThereBeenALoadedMetaData))if(t.ads.inAdBreak())Ga(t,"ad",e);else{if(t.currentSrc()!==t.ads.contentSrc)return;Ga(t,"content",e)}},_Ce=function(t,e){t.ads.inAdBreak()?Ga(t,"ad",e):t.ads.isContentResuming()&&Ga(t,"content",e)};function bCe(t){t.type==="playing"?yCe(this,t):t.type==="ended"?TCe(this,t):t.type==="loadstart"||t.type==="loadeddata"||t.type==="loadedmetadata"?vCe(this,t):t.type==="play"?_Ce(this,t):this.ads.isInAdMode()&&(this.ads.isContentResuming()?Ga(this,"content",t):Ga(this,"ad",t))}function SCe(t){t.ads.contentSrc=t.currentSrc(),t.ads._seenInitialLoadstart=!1;var e=function(){if(!t.ads.inAdBreak()){var n=t.currentSrc();n!==t.ads.contentSrc&&(t.ads._seenInitialLoadstart&&t.trigger({type:"contentchanged"}),t.trigger({type:"contentupdate",oldValue:t.ads.contentSrc,newValue:n}),t.ads.contentSrc=n),t.ads._seenInitialLoadstart=!0}};t.on("loadstart",e)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fk.apply(this,arguments)}function zi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bk(t,e)}function Bk(t,e){return Bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bk(t,e)}var Jz={},ECe=function(t){if(Q.dom.isInFrame()&&typeof G.__tcfapi!="function"){for(var e=G,n,r={};e;){try{if(e.frames.__tcfapiLocator){n=e;break}}catch{}if(e===G.top)break;e=e.parent}if(!n)return;G.__tcfapi=function(i,s,a,o){var l=Math.random()+"",c={__tcfapiCall:{command:i,parameter:o,version:s,callId:l}};r[l]=a,n.postMessage(c,"*")},G.addEventListener("message",function(i){var s={};try{s=typeof i.data=="string"?JSON.parse(i.data):i.data}catch{}var a=s.__tcfapiReturn;a&&typeof r[a.callId]=="function"&&(r[a.callId](a.returnValue,a.success),r[a.callId]=null)},!1)}},SO=function(){ECe(),typeof G.__tcfapi=="function"&&G.__tcfapi("addEventListener",2,function(t,e){e&&(Jz=t)})},kCe=function(t){for(var e=t.parent;e!==t.top;){try{if(e.frames&&e.frames.__uspapiLocator)return e}catch{}e=e.parent}try{if(t.top.frames&&t.top.frames.__uspapiLocator)return t.top}catch{}return null},jk="",ACe=function(){return jk},EO=function(t,e){if(e===void 0&&(e=G),e.__uspapi)e.__uspapi("getUSPData",1,function(a,o){var l=o?a.uspString:null;jk=l,t(l)});else{var n=kCe(e);if(!n){t(null);return}var r=Math.random().toString(36).substring(2),i={__uspapiCall:{command:"getUSPData",version:1,callId:r}},s=function a(o){if(o&&o.data&&o.data.__uspapiReturn&&o.data.__uspapiReturn.callId===r){e.removeEventListener("message",a,!1);var l=o.data.__uspapiReturn,c=l.returnValue,u=l.success,d=u?c.uspString:null;jk=d,t(d)}};e.addEventListener("message",s,!1),n.postMessage(i,"*")}},Ku={AdsBeforePrerollError:"ads-before-preroll-error",AdsPrerollError:"ads-preroll-error",AdsMidrollError:"ads-midroll-error",AdsPostrollError:"ads-postroll-error",AdsMacroReplacementFailed:"ads-macro-replacement-failed",AdsResumeContentFailed:"ads-resume-content-failed"},kO=function(t,e){return e?encodeURIComponent(t):t},wCe=function(t,e,n){if(t&&t[n])for(var r=t[n],i=Object.keys(r),s=0;s<i.length;s++){var a="{mediainfo."+n+"."+i[s]+"}";e[a]=r[i[s]]}},CCe=function(t,e){var n={};return["description","tags","reference_id","ad_keys"].forEach(function(r){t&&t[r]?n["{mediainfo."+r+"}"]=t[r]:e["{mediainfo."+r+"}"]?n["{mediainfo."+r+"}"]=e["{mediainfo."+r+"}"]:n["{mediainfo."+r+"}"]=""}),["custom_fields","customFields"].forEach(function(r){wCe(t,n,r)}),n},ICe=function(t){var e={},n=t.replace(/{([^}=]+)=([^}]*)}/g,function(r,i,s){return e["{"+i+"}"]=s,"{"+i+"}"});return{defaults:e,modifiedString:n}},xCe=function(t){return{"{player.id}":t.options_["data-player"]||t.id_,"{player.height}":t.currentHeight(),"{player.width}":t.currentWidth(),"{player.heightInt}":Math.round(t.currentHeight()),"{player.widthInt}":Math.round(t.currentWidth()),"{player.autoplay}":t.autoplay()?1:0,"{player.muted}":t.muted()?1:0,"{player.language}":t.language()||"","{mediainfo.id}":t.mediainfo?t.mediainfo.id:"","{mediainfo.name}":t.mediainfo?t.mediainfo.name:"","{mediainfo.duration}":t.mediainfo?t.mediainfo.duration:"","{player.duration}":t.duration(),"{player.durationInt}":Math.round(t.duration()),"{player.live}":t.duration()===1/0?1:0,"{player.pageUrl}":Q.dom.isInFrame()?we.referrer:G.location.href,"{playlistinfo.id}":t.playlistinfo?t.playlistinfo.id:"","{playlistinfo.name}":t.playlistinfo?t.playlistinfo.name:"","{timestamp}":new Date().getTime(),"{document.referrer}":we.referrer,"{window.location.href}":G.location.href,"{random}":Math.floor(Math.random()*1e12)}},LCe=function(t){var e={};return Object.keys(t).forEach(function(n){e["{tcf."+n+"}"]=t[n]}),e["{tcf.gdprAppliesInt}"]=t.gdprApplies?1:0,e},RCe=function(){return{"{usp.uspString}":ACe()}},NCe=function(t,e,n){var r=new RegExp("{pageVariable\\.([^}]+)}","g"),i={},s=(t.match(r)||[]).concat(Object.keys(n).filter(function(a){return r.test(a)&&t.includes(n[a])}));if(s)return s.forEach(function(a){for(var o=a,l=a.slice(14,-1),c=l.split("."),u=G,d,h=0;h<c.length;h++)if(h===c.length-1)d=u[c[h]];else if(u=u[c[h]],typeof u>"u")break;var m=typeof d;d===null?i[o]="null":d===void 0?e[o]?i[o]=e[o]:(Q.log.warn('Page variable "'+l+'" not found'),i[o]=""):m!=="string"&&m!=="number"&&m!=="boolean"?(Q.log.warn('Page variable "'+l+'" is not a supported type'),i[o]=""):i[o]=d}),i},AO=function(t,e,n,r,i){r===void 0&&(r={});for(var s in e){var a=r.hasOwnProperty(s)?r[s]:s;if(a.startsWith("r:"))try{var o=new RegExp(a.slice(2),"g");t=t.replace(o,kO(e[s],n))}catch(l){i.ads.error({errorType:Ku.AdsMacroReplacementFailed,macro:s,error:l}),Q.log.warn('Unable to replace macro with regex "'+a+'". The provided regex may be invalid.')}else t=t.split(a).join(kO(e[s],n))}return t};function OCe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n={});var r=n.disableDefaultMacros||!1,i=n.macroNameOverrides||{};delete n.disableDefaultMacros,delete n.macroNameOverrides;var s=n;if(r)return AO(t,s,e,i);var a=ICe(t),o=a.defaults,l=a.modifiedString;t=l,Fk(s,xCe(this),CCe(this.mediainfo,o),LCe(Jz),RCe(),NCe(t,o,i)),t=AO(t,s,e,i,this);for(var c in o)t=t.replace(c,o[c]);return t}var Yu={};Yu.processMetadataTracks=function(t,e){for(var n=t.textTracks(),r=function(s){s.kind==="metadata"&&(t.ads.cueTextTracks.setMetadataTrackMode(s),e(t,s))},i=0;i<n.length;i++)r(n[i]);n.addEventListener("addtrack",function(s){r(s.track)})};Yu.setMetadataTrackMode=function(t){};Yu.getSupportedAdCue=function(t,e){return e};Yu.isSupportedAdCue=function(t,e){return!0};Yu.getCueId=function(t,e){return e.id};var DCe=function(t,e){return e!==void 0&&t.ads.includedCues[e]},PCe=function(t,e){e!==void 0&&e!==""&&(t.ads.includedCues[e]=!0)};Yu.processAdTrack=function(t,e,n,r){t.ads.includedCues={};for(var i=0;i<e.length;i++){var s=e[i],a=this.getSupportedAdCue(t,s);if(!this.isSupportedAdCue(t,s)){Q.log.warn("Skipping as this is not a supported ad cue.",s);return}var o=this.getCueId(t,s),l=s.startTime;if(DCe(t,o)){Q.log("Skipping ad already seen with ID "+o);return}r&&r(t,a,o,l),n(t,a,o,l),PCe(t,o)}};function MCe(t,e){e&&Q.log("Using cancelContentPlay to block content playback"),t.on("play",$Ce)}function $Ce(){this.ads._shouldBlockPlay!==!1&&(this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0)}var Xm={},Zc=Q;Xm.isMiddlewareMediatorSupported=function(){return Zc.browser.IS_IOS||Zc.browser.IS_ANDROID?!1:!!(Zc.use&&Zc.middleware&&Zc.middleware.TERMINATOR)};Xm.playMiddleware=function(t){return{setSource:function(e,n){n(null,e)},callPlay:function(){if(t.ads&&t.ads._shouldBlockPlay===!0)return t.ads.debug("Using playMiddleware to block content playback"),t.ads._playBlocked=!0,Zc.middleware.TERMINATOR},play:function(e,n){t.ads&&t.ads._playBlocked&&e?(t.ads.debug("Play call to Tech was terminated."),t.trigger("play"),t.addClass("vjs-has-started"),t.ads._playBlocked=!1):n&&n.catch&&n.catch(function(r){r.name==="NotAllowedError"&&!Q.browser.IS_SAFARI&&t.trigger("pause")})}}};Xm.testHook=function(t){Zc=t};var UCe=Xm.playMiddleware,FCe=Xm.isMiddlewareMediatorSupported,BCe=function(){if(Q.getPlugin)return!!Q.getPlugin("ads");var t=Q.getComponent("Player");return!!(t&&t.prototype.ads)};function jCe(t){if(BCe())return!1;var e=Q.registerPlugin||Q.plugin;return e("ads",t),FCe()&&!Q.usingContribAdsMiddleware_&&(Q.use("*",UCe),Q.usingContribAdsMiddleware_=!0,Q.log.debug("Play middleware has been registered with videojs")),!0}var VCe={src:"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAxJtZGF03ABMYXZjNjEuMy4xMDAAQiAIwRg4AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2NCByMzEwOCAzMWUxOWY5IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMyAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAAn//71sXwKaunqigzoMi7hlyTJrrYi4m0AwABFxzcqWKGahTaoBcQAAMWK4AlcFlIICBeldSEQBGCMHAAABVNtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAIgABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAACQXRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAIgAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAABQAAAAPAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACIAAAAAAAEAAAAAAbltZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADwAAAACAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFkbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABJHN0YmwAAADAc3RzZAAAAAAAAAABAAAAsGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABQADwAEgAAABIAAAAAAAAAAEUTGF2YzYxLjMuMTAwIGxpYngyNjQAAAAAAAAAAAAAAAAY//8AAAA2YXZjQwFkAA3/4QAZZ2QADazZQUH7ARAAAAMAEAAAAwPA8UKZYAEABmjr48siwP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAALAEAACwBAAAAAYc3R0cwAAAAAAAAABAAAAAQAAAgAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAC7wAAAAEAAAAUc3RjbwAAAAAAAAABAAAARQAAAj10cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAAABgAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAXAAAEAAABAAAAAAG1bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAACsRAAACABVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABYG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABJHN0YmwAAAB+c3RzZAAAAAAAAAABAAAAbm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAACsRAAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAH0AAAAEisFgICABRIQVuUABoCAgAECAAAAFGJ0cnQAAAAAAAH0AAAAEisAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAAVAAAABgAAABhzdGNvAAAAAAAAAAIAAAAwAAADNAAAABpzZ3BkAQAAAHJvbGwAAAACAAAAAf//AAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAACAAAAAQAAAGF1ZHRhAAAAWW1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALGlsc3QAAAAkqXRvbwAAABxkYXRhAAAAAQAAAABMYXZmNjEuMS4xMDA=",type:"video/mp4"},Ye=function(){function t(){}return t.getState=function(e){if(e&&t.states_&&t.states_[e])return t.states_[e]},t.registerState=function(e,n){if(typeof e!="string"||!e)throw new Error('Illegal state name, "'+e+'"; must be a non-empty string.');return t.states_||(t.states_={}),t.states_[e]=n,n},t}(),ZA=function(){t._getName=function(){return"Anonymous State"};function t(n){this.player=n}var e=t.prototype;return e.transitionTo=function(n){var r=this.player;this.cleanup(r);var i=new n(r);r.ads._state=i,r.ads.debug(this.constructor._getName()+" -> "+i.constructor._getName());for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];i.init.apply(i,[r].concat(a))},e.init=function(){},e.cleanup=function(){},e.onPlay=function(){},e.onPlaying=function(){},e.onEnded=function(){},e.onAdEnded=function(){},e.onAdsReady=function(){Q.log.warn("Unexpected adsready event")},e.onAdsError=function(){},e.onAdsCanceled=function(){},e.onAdTimeout=function(){},e.onAdStarted=function(){},e.onAdSkipped=function(){},e.onContentChanged=function(){},e.onContentResumed=function(){},e.onReadyForPostroll=function(){Q.log.warn("Unexpected readyforpostroll event")},e.onNoPreroll=function(){},e.onNoPostroll=function(){},e.startLinearAdMode=function(){Q.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.endLinearAdMode=function(){Q.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.skipLinearAdMode=function(){Q.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},e.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},e.isWaitingForAdBreak=function(){return!1},e.isContentResuming=function(){return!1},e.inAdBreak=function(){return!1},e.handleEvent=function(n){var r=this.player;n==="play"?this.onPlay(r):n==="adsready"?this.onAdsReady(r):n==="adserror"?this.onAdsError(r):n==="adscanceled"?this.onAdsCanceled(r):n==="adtimeout"?this.onAdTimeout(r):n==="ads-ad-started"?this.onAdStarted(r):n==="ads-ad-skipped"?this.onAdSkipped(r):n==="contentchanged"?this.onContentChanged(r):n==="contentresumed"?this.onContentResumed(r):n==="readyforpostroll"?this.onReadyForPostroll(r):n==="playing"?this.onPlaying(r):n==="ended"?this.onEnded(r):n==="nopreroll"?this.onNoPreroll(r):n==="nopostroll"?this.onNoPostroll(r):n==="adended"&&this.onAdEnded(r)},t}();Ye.registerState("State",ZA);var HCe=function(t){zi(e,t);function e(r){var i;return i=t.call(this,r)||this,i.contentResuming=!1,i.waitingForAdBreak=!1,i}var n=e.prototype;return n.isAdState=function(){return!0},n.onPlaying=function(){var r=Ye.getState("ContentPlayback");this.contentResuming&&this.transitionTo(r)},n.onContentResumed=function(){var r=Ye.getState("ContentPlayback");this.contentResuming&&this.transitionTo(r)},n.isWaitingForAdBreak=function(){return this.waitingForAdBreak},n.isContentResuming=function(){return this.contentResuming},n.inAdBreak=function(){return this.player.ads._inLinearAdMode===!0},e}(ZA);Ye.registerState("AdState",HCe);var GCe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.isAdState=function(){return!1},n.onContentChanged=function(r){var i=Ye.getState("BeforePreroll"),s=Ye.getState("Preroll");r.ads.debug("Received contentchanged event (ContentState)"),r.paused()?this.transitionTo(i):(this.transitionTo(s,!1),r.pause(),r.ads._pausedOnContentupdate=!0)},e}(ZA);Ye.registerState("ContentState",GCe);var qCe=Ye.getState("ContentState"),zCe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"AdsDone"};var n=e.prototype;return n.init=function(r){r.ads._contentHasEnded=!0,r.trigger("ended")},n.startLinearAdMode=function(){Q.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},e}(qCe);Ye.registerState("AdsDone",zCe);var rS;function WCe(t){var e;Q.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?e=t.currentTime()-t.seekable().end(0):e=t.currentTime();var n=t.$(".vjs-tech"),r=t.textTracks?t.textTracks():[],i=[],s={ended:t.ended(),currentSrc:t.currentSrc(),sources:t.currentSources(),src:t.tech_.src(),currentTime:e,type:t.currentType()};n&&(s.style=n.getAttribute("style"));for(var a=0;a<r.length;a++){var o=r[a];i.push({track:o,mode:o.mode}),o.mode="disabled"}return s.suppressedTracks=i,s}function KCe(t,e){var n=t.ads.snapshot;if(e===void 0&&(e=function(){}),t.ads.disableNextSnapshotRestore===!0){t.ads.disableNextSnapshotRestore=!1,delete t.ads.snapshot,e();return}var r=t.$(".vjs-tech"),i=20,s=n.suppressedTracks,a,o=function(){for(var d=0;d<s.length;d++)a=s[d],a.track.mode=a.mode},l=function(){var d;if(Q.browser.IS_IOS&&t.ads.isLive(t)){if(n.currentTime<0&&(t.seekable().length>0?d=t.seekable().end(0)+n.currentTime:d=t.currentTime(),t.currentTime(d)),t.paused()){var h=t.play();h&&h.catch&&h.catch(function(g){Q.log.warn("Play promise rejected in IOS snapshot resume",g)})}}else if(n.ended)t.currentTime(t.duration());else{t.currentTime(n.currentTime);var m=t.play();m&&m.catch&&m.catch(function(g){Q.log.warn("Play promise rejected in snapshot resume",g)})}t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},c=function d(){if(t.off("contentcanplay",d),rS&&t.clearTimeout(rS),r=t.el().querySelector(".vjs-tech"),r.readyState>1||r.seekable===void 0||r.seekable.length>0)return l();if(i--)t.setTimeout(d,50);else try{l()}catch(h){t.ads.error({errorType:Ku.AdsResumeContentFailed,error:h}),Q.log.warn("Failed to resume the content after an advertisement",h)}};if("style"in n&&r.setAttribute("style",n.style||""),t.ads.videoElementRecycled())t.one("resumeended",function(){delete t.ads.snapshot,e()}),t.one("contentloadedmetadata",o),Q.browser.IS_IOS&&!t.autoplay()&&typeof t.techCall_=="function"&&(t.techCall_("setAutoplay",!0),t.ads.shouldRemoveAutoplay_=!0),t.src(n.sources),t.one("contentcanplay",c),rS=t.setTimeout(c,2e3);else{if(o(),!t.ended()){var u=t.play();u&&u.catch&&u.catch(function(d){Q.log.warn("Play promise rejected in snapshot restore",d)})}delete t.ads.snapshot,e()}}function YCe(t){t.ads.debug("Starting ad break"),t.ads._inLinearAdMode=!0,t.trigger("adstart"),t.ads.shouldTakeSnapshots()&&(t.ads.snapshot=WCe(t)),t.ads.shouldPlayContentBehindAd(t)&&!t.ads.settings.stitchedAds&&(t.ads.preAdVolume_=t.volume(),t.volume(0)),t.addClass("vjs-ad-playing"),t.hasClass("vjs-live")&&t.removeClass("vjs-live"),t.ads.removeNativePoster(),t.ads.preAdPlaybackRate_=t.playbackRate(),t.playbackRate(1),t.controlBar&&t.controlBar.playbackRateMenuButton&&t.controlBar.playbackRateMenuButton.playbackRateSupported&&!t.controlBar.playbackRateMenuButton.hasClass("vjs-hidden")?(t.controlBar.playbackRateMenuButton.hide(),t.ads.showPlaybackMenuOnAdEnd_=!0):t.ads.showPlaybackMenuOnAdEnd_=!1}function QCe(t,e){t.ads.debug("Ending ad break"),e===void 0&&(e=function(){}),t.ads.adType=null,t.ads._inLinearAdMode=!1,t.trigger("adend"),t.removeClass("vjs-ad-playing"),t.ads.isLive(t)&&t.addClass("vjs-live"),t.ads.shouldTakeSnapshots()?KCe(t,e):(t.ads.preAdVolume_&&t.volume(t.ads.preAdVolume_),e()),t.playbackRate(t.ads.preAdPlaybackRate_),t.ads.showPlaybackMenuOnAdEnd_&&t.controlBar.playbackRateMenuButton.show()}var qa={start:YCe,end:QCe},XCe=Ye.getState("AdState"),ZCe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"Preroll"};var n=e.prototype;return n.init=function(r,i,s){if(this.waitingForAdBreak=!0,r.addClass("vjs-ad-loading"),s||r.ads.nopreroll_)return this.resumeAfterNoPreroll(r);var a=r.ads.settings.timeout;typeof r.ads.settings.prerollTimeout=="number"&&(a=r.ads.settings.prerollTimeout),this._timeout=r.setTimeout(function(){r.trigger("adtimeout")},a),i?this.handleAdsReady():this.adsReady=!1},n.onAdsReady=function(r){r.ads.inAdBreak()?Q.log.warn("Unexpected adsready event (Preroll)"):(r.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},n.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},n.afterLoadStart=function(r){var i=this.player;i.ads._hasThereBeenALoadStartDuringPlayerLife?r():(i.ads.debug("Waiting for loadstart..."),i.one("loadstart",function(){i.ads.debug("Received loadstart event"),r()}))},n.noPreroll=function(){var r=this;this.afterLoadStart(function(){r.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),r.resumeAfterNoPreroll(r.player)})},n.readyForPreroll=function(){var r=this.player;this.afterLoadStart(function(){r.ads.debug("Triggered readyforpreroll event (Preroll)"),r.trigger("readyforpreroll")})},n.onAdsCanceled=function(r){var i=this;r.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){i.resumeAfterNoPreroll(r)})},n.onAdsError=function(r){var i=this;Q.log("adserror (Preroll)"),r.ads.error({errorType:Ku.AdsPrerollError}),this.inAdBreak()?r.ads.endLinearAdMode():this.afterLoadStart(function(){i.resumeAfterNoPreroll(r)})},n.startLinearAdMode=function(){var r=this.player;this.adsReady&&!r.ads.inAdBreak()&&!this.isContentResuming()?(this.clearTimeout(r),r.ads.adType="preroll",this.waitingForAdBreak=!1,qa.start(r),r.ads._shouldBlockPlay=!1):Q.log.warn("Unexpected startLinearAdMode invocation (Preroll)")},n.onAdStarted=function(r){r.removeClass("vjs-ad-loading")},n.endLinearAdMode=function(){var r=this.player;this.inAdBreak()&&(r.removeClass("vjs-ad-loading"),r.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,qa.end(r))},n.skipLinearAdMode=function(){var r=this,i=this.player;i.ads.inAdBreak()||this.isContentResuming()?Q.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){i.trigger("adskip"),i.ads.debug("skipLinearAdMode (Preroll)"),r.resumeAfterNoPreroll(i)})},n.onAdTimeout=function(r){var i=this;this.afterLoadStart(function(){r.ads.debug("adtimeout (Preroll)"),i.resumeAfterNoPreroll(r)})},n.onNoPreroll=function(r){r.ads.inAdBreak()||this.isContentResuming()?Q.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},n.resumeAfterNoPreroll=function(r){if(this.contentResuming=!0,r.ads._shouldBlockPlay=!1,this.cleanupPartial(r),r.ads._playRequested||r.ads._pausedOnContentupdate)if(r.paused()){r.ads.debug("resumeAfterNoPreroll: attempting to resume playback (Preroll)");var i=r.play();i&&i.then&&i.then(null,function(s){})}else r.ads.debug("resumeAfterNoPreroll: already playing (Preroll)"),r.trigger("play"),r.trigger("playing")},n.cleanup=function(r){r.ads._hasThereBeenALoadStartDuringPlayerLife||Q.log.warn("Leaving Preroll state before loadstart event can cause issues."),this.cleanupPartial(r)},n.cleanupPartial=function(r){r.removeClass("vjs-ad-loading"),r.removeClass("vjs-ad-content-resuming"),this.clearTimeout(r)},n.clearTimeout=function(r){r.clearTimeout(this._timeout),this._timeout=null},e}(XCe);Ye.registerState("Preroll",ZCe);var JCe=Ye.getState("ContentState"),eIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"BeforePreroll"};var n=e.prototype;return n.init=function(r){this.adsReady=!1,this.shouldResumeToContent=!1,r.ads._shouldBlockPlay=r.ads.settings.allowVjsAutoplay?!r.autoplay():!0},n.onAdsReady=function(r){r.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},n.onPlay=function(r){var i=Ye.getState("Preroll");r.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(i,this.adsReady,this.shouldResumeToContent)},n.onAdsCanceled=function(r){r.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},n.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.player.ads.error({errorType:Ku.AdsBeforePrerollError}),this.shouldResumeToContent=!0},n.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},n.skipLinearAdMode=function(){var r=this.player;r.trigger("adskip"),r.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},n.onContentChanged=function(){this.init(this.player)},e}(JCe);Ye.registerState("BeforePreroll",eIe);var tIe=Ye.getState("AdState"),nIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"Midroll"};var n=e.prototype;return n.init=function(r){r.ads.adType="midroll",qa.start(r),r.addClass("vjs-ad-loading")},n.onAdStarted=function(r){r.removeClass("vjs-ad-loading")},n.endLinearAdMode=function(){var r=this.player;this.inAdBreak()&&(this.contentResuming=!0,r.addClass("vjs-ad-content-resuming"),r.removeClass("vjs-ad-loading"),qa.end(r))},n.onAdsError=function(r){r.ads.error({errorType:Ku.AdsMidrollError}),this.inAdBreak()&&r.ads.endLinearAdMode()},n.cleanup=function(r){r.removeClass("vjs-ad-loading"),r.removeClass("vjs-ad-content-resuming")},e}(tIe);Ye.registerState("Midroll",nIe);var rIe=Ye.getState("AdState"),iIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"Postroll"};var n=e.prototype;return n.init=function(r){if(this.waitingForAdBreak=!0,r.ads._contentEnding=!0,r.ads.nopostroll_){this.resumeContent(r);var i=Ye.getState("AdsDone");this.transitionTo(i)}else{r.addClass("vjs-ad-loading");var s=r.ads.settings.timeout;typeof r.ads.settings.postrollTimeout=="number"&&(s=r.ads.settings.postrollTimeout),this._postrollTimeout=r.setTimeout(function(){r.trigger("adtimeout")},s)}},n.startLinearAdMode=function(){var r=this.player;!r.ads.inAdBreak()&&!this.isContentResuming()?(r.ads.adType="postroll",r.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,qa.start(r)):Q.log.warn("Unexpected startLinearAdMode invocation (Postroll)")},n.onAdStarted=function(r){r.removeClass("vjs-ad-loading")},n.endLinearAdMode=function(){var r=this,i=this.player,s=Ye.getState("AdsDone");this.inAdBreak()&&(i.removeClass("vjs-ad-loading"),this.resumeContent(i),qa.end(i,function(){r.transitionTo(s)}))},n.skipLinearAdMode=function(){var r=this.player;r.ads.inAdBreak()||this.isContentResuming()?Q.log.warn("Unexpected skipLinearAdMode invocation"):(r.ads.debug("Postroll abort (skipLinearAdMode)"),r.trigger("adskip"),this.abort(r))},n.onAdTimeout=function(r){r.ads.debug("Postroll abort (adtimeout)"),this.abort(r)},n.onAdsError=function(r){r.ads.debug("Postroll abort (adserror)"),r.ads.error({errorType:Ku.AdsPostrollError}),r.ads.inAdBreak()?r.ads.endLinearAdMode():this.abort(r)},n.onContentChanged=function(r){if(this.isContentResuming()){var i=Ye.getState("BeforePreroll");this.transitionTo(i)}else if(!this.inAdBreak()){var s=Ye.getState("Preroll");this.transitionTo(s)}},n.onNoPostroll=function(r){!this.isContentResuming()&&!this.inAdBreak()?this.abort(r):Q.log.warn("Unexpected nopostroll event (Postroll)")},n.resumeContent=function(r){this.contentResuming=!0,r.addClass("vjs-ad-content-resuming")},n.abort=function(r){var i=Ye.getState("AdsDone");this.resumeContent(r),r.removeClass("vjs-ad-loading"),this.transitionTo(i)},n.cleanup=function(r){r.removeClass("vjs-ad-content-resuming"),r.clearTimeout(this._postrollTimeout),r.ads._contentEnding=!1},e}(rIe);Ye.registerState("Postroll",iIe);var sIe=Ye.getState("ContentState"),aIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"ContentPlayback"};var n=e.prototype;return n.init=function(r){r.ads._shouldBlockPlay=!1},n.onAdsReady=function(r){r.ads.debug("Received adsready event (ContentPlayback)"),r.ads.nopreroll_||(r.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),r.trigger("readyforpreroll"))},n.onReadyForPostroll=function(r){var i=Ye.getState("Postroll");r.ads.debug("Received readyforpostroll event"),this.transitionTo(i)},n.startLinearAdMode=function(){var r=Ye.getState("Midroll");this.transitionTo(r)},e}(sIe);Ye.registerState("ContentPlayback",aIe);var oIe=Ye.getState("ContentState"),lIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"StitchedContentPlayback"};var n=e.prototype;return n.init=function(){this.player.ads._shouldBlockPlay=!1},n.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},n.startLinearAdMode=function(){var r=Ye.getState("StitchedAdRoll");this.transitionTo(r)},e}(oIe);Ye.registerState("StitchedContentPlayback",lIe);var cIe=Ye.getState("AdState"),uIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"StitchedAdRoll"};var n=e.prototype;return n.init=function(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",qa.start(this.player)},n.onPlaying=function(){},n.onContentResumed=function(){},n.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},n.endLinearAdMode=function(){var r=Ye.getState("StitchedContentPlayback");qa.end(this.player),this.transitionTo(r)},e}(cIe);Ye.registerState("StitchedAdRoll",uIe);var dIe=Ye.getState("AdState"),hIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"OutstreamPending"};var n=e.prototype;return n.init=function(r){this.adsReady=!1},n.onPlay=function(r){var i=Ye.getState("OutstreamPlayback");r.ads.debug("Received play event (OutstreamPending)"),this.transitionTo(i,this.adsReady)},n.onAdsReady=function(r){r.ads.debug("Received adsready event (OutstreamPending)"),this.adsReady=!0},n.onAdsError=function(){this.player.ads.debug("adserror (OutstreamPending)"),this.adsReady=!1},e}(dIe);Ye.registerState("OutstreamPending",hIe);var mIe=Ye.getState("AdState"),pIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"OutstreamPlayback"};var n=e.prototype;return n.init=function(r,i){r.addClass("vjs-ad-loading"),i?this.handleAdsReady():this.abort(r)},n.onAdsReady=function(r){r.ads.inAdBreak()?Q.log.warn("Unexpected adsready event (Preroll)"):(r.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},n.abort=function(r){var i=Ye.getState("OutstreamDone");r.removeClass("vjs-ad-loading"),this.transitionTo(i)},n.onAdStarted=function(r){r.removeClass("vjs-ad-loading")},n.handleAdsReady=function(){this.adsReady=!0,this.readyForOutstreamPlayback()},n.readyForOutstreamPlayback=function(){var r=this.player;this.afterLoadStart(function(){r.trigger("readyforoutstream")})},n.startLinearAdMode=function(){var r=this.player;this.adsReady&&!r.ads.inAdBreak()&&qa.start(r)},n.cleanup=function(r){r.ads._hasThereBeenALoadStartDuringPlayerLife||Q.log.warn("Leaving OutstreamPlayback state before loadstart event can cause issues."),this.cleanupPartial(r)},n.cleanupPartial=function(r){r.removeClass("vjs-ad-loading"),r.removeClass("vjs-ad-content-resuming"),this.clearTimeout(r)},n.clearTimeout=function(r){r.clearTimeout(this._timeout),this._timeout=null},n.onAdStarted=function(r){r.removeClass("vjs-ad-loading")},n.onAdsError=function(r){var i=this;Q.log("adserror (OutstreamPlayback)"),this.inAdBreak()?r.ads.endLinearAdMode():this.afterLoadStart(function(){i.abort(r)})},n.onAdTimeout=function(r){var i=this;this.afterLoadStart(function(){r.ads.debug("adtimeout (OutstreamPlayback)"),i.abort(r)})},n.onAdsCanceled=function(r){var i=this;r.ads.debug("adscanceled (OutstreamPlaybac)"),this.afterLoadStart(function(){i.abort(r)})},n.endLinearAdMode=function(){var r=this;if(this.inAdBreak()){this.player.removeClass("vjs-ad-loading");var i=Ye.getState("OutstreamDone");qa.end(this.player,function(){r.transitionTo(i)})}},n.afterLoadStart=function(r){var i=this.player;i.ads._hasThereBeenALoadStartDuringPlayerLife?r():(i.ads.debug("Waiting for loadstart..."),i.one("loadstart",function(){i.ads.debug("Received loadstart event"),r()}))},n.skipLinearAdMode=function(){var r=this,i=this.player,s=Ye.getState("OutstreamDone");this.inAdBreak()?Q.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){i.trigger("adskip"),i.ads.debug("skipLinearAdMode (OutstreamPlayback)"),r.transitionTo(s)})},e}(mIe);Ye.registerState("OutstreamPlayback",pIe);var fIe=Ye.getState("AdState"),gIe=function(t){zi(e,t);function e(){return t.apply(this,arguments)||this}e._getName=function(){return"OutstreamDone"};var n=e.prototype;return n.init=function(r){r.trigger("ended")},n.startLinearAdMode=function(){Q.log.warn("Unexpected startLinearAdMode invocation (OutstreamDone)")},e}(fIe);Ye.registerState("OutstreamDone",gIe);var yIe=Xm.isMiddlewareMediatorSupported,TIe=Q.getTech("Html5").Events,vIe={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:Q.options.normalizeAutoplay||!1},JA=function(t){var e=this,n=Q.obj.merge(vIe,t),r=[];TIe.concat(["firstplay","loadedalldata"]).forEach(function(a){r.indexOf(a)===-1&&r.push(a)}),e.on(r,bCe),yIe()||MCe(e,n.debug),e.setTimeout(function(){!e.ads._hasThereBeenALoadStartDuringPlayerLife&&e.src()!==""&&Q.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),e.on("ended",function(){e.hasClass("vjs-has-started")||e.addClass("vjs-has-started")}),e.on("contenttimeupdate",function(){e.removeClass("vjs-waiting")}),e.on(["addurationchange","adcanplay"],function(){if(!e.ads.settings.stitchedAds&&!e.hasStarted()&&!(e.ads.snapshot&&e.currentSrc()===e.ads.snapshot.currentSrc)&&e.ads.inAdBreak()){var a=e.play();a&&a.catch&&a.catch(function(o){Q.log.warn("Play promise rejected when playing ad",o)})}}),e.on("nopreroll",function(){e.ads.debug("Received nopreroll event"),e.ads.nopreroll_=!0}),e.on("nopostroll",function(){e.ads.debug("Received nopostroll event"),e.ads.nopostroll_=!0}),e.on("playing",function(){e.ads._cancelledPlay=!1,e.ads._pausedOnContentupdate=!1}),e.on("play",function(){e.ads._playRequested=!0}),e.one("loadstart",function(){e.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),e.on("loadeddata",function(){e.ads._hasThereBeenALoadedData=!0}),e.on("loadedmetadata",function(){e.ads._hasThereBeenALoadedMetaData=!0}),e.ads=gCe(e),e.ads.settings=n,n.stitchedAds=!!n.stitchedAds,n.playerMode==="outstream"?(e.src(VCe),e.ads._state=new(Ye.getState("OutstreamPending"))(e)):n.stitchedAds?e.ads._state=new(Ye.getState("StitchedContentPlayback"))(e):e.ads._state=new(Ye.getState("BeforePreroll"))(e),e.ads._state.init(e),e.ads.cueTextTracks=Yu,e.ads.adMacroReplacement=OCe.bind(e),SCe(e),e.on("contentchanged",e.ads.reset);var i=function(){return!e.ads.shouldPlayContentBehindAd(e)&&e.ads.inAdBreak()&&e.tech_.featuresNativeTextTracks&&Q.browser.IS_IOS&&!Array.isArray(e.textTracks())},s=function(){var a=e.textTracks();if(i())for(var o=0;o<a.length;o++){var l=a[o];l.mode==="showing"&&(l.mode="disabled")}};e.ready(function(){e.textTracks().addEventListener("change",s)}),e.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","ads-ad-skipped","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(a){e.ads._state.handleEvent(a.type)}),e.on("dispose",function(){e.ads.reset(),e.textTracks().removeEventListener("change",s)}),SO(),EO(function(){}),e.ads.listenToTcf=SO,e.ads.updateUsPrivacyString=function(a){return EO(a)}};JA.Error=Ku;JA.VERSION=Xz;jCe(JA);function ew(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const _Ie=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function wO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[],i=tW(t);!e.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=iW(Math.round(1e8*Math.random())),e.TIMESTAMP=new Date().toISOString(),e.RANDOM=e.random=e.CACHEBUSTING;for(const s in e)e[s]=rW(e[s]);for(const s in i){const a=i[s];typeof a=="string"&&r.push(eW(a,e))}return r}function eW(t,e){const n=(t=CO(t,e)).match(/[^[\]]+(?=])/g);if(!n)return t;let r=n.filter(i=>_Ie.indexOf(i)>-1);return r.length===0?t:(r=r.reduce((i,s)=>(i[s]=-1,i),{}),CO(t,r))}function CO(t,e){let n=t;for(const r in e){const i=e[r];n=n.replace(new RegExp("(?:\\[|%%)(".concat(r,")(?:\\]|%%)"),"g"),i)}return n}function tW(t){return Array.isArray(t)?t.map(e=>e&&e.hasOwnProperty("url")?e.url:e):t}function IO(t){return/^(https?:\/\/|\/\/)/.test(t)}function xO(t,e){for(let n=0;n<e.length;n++)if(nW(e[n],t))return!0;return!1}function nW(t,e){if(t&&e){const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);return n.length===r.length&&t.id===e.id&&t.url===e.url}return!1}function rW(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function iW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;return t.toString().padStart(e,"0")}const Ct={track:function(t,e,n){wO(t,e,n).forEach(r=>{typeof window<"u"&&window!==null&&(new Image().src=r)})},resolveURLTemplates:wO,extractURLsFromTemplates:tW,filterUrlTemplates:function(t){return t.reduce((e,n)=>{const r=n.url||n;return IO(r)?e.validUrls.push(r):e.invalidUrls.push(r),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:xO,isTemplateObjectEqual:nW,encodeURIComponentRFC3986:rW,replaceUrlMacros:eW,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce((n,r)=>n.concat(Array.isArray(r)?t(r):r),[])},joinArrayOfUniqueTemplateObjs:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[];return n.concat(r).reduce((i,s)=>(xO(s,i)||i.push(s),i),[])},isValidTimeValue:function(t){return Number.isFinite(t)&&t>=-2},addLeadingZeros:iW,isValidUrl:IO,isBrowserEnvironment:function(){return typeof window<"u"},formatMacrosValues:function(t){return typeof t!="object"?t:JSON.stringify(t)}};function LO(t){return["true","TRUE","True","1"].includes(t)}function bIe(t){if(t==null)return-1;if(Ct.isNumeric(t))return parseInt(t);const e=t.split(":");if(e.length!==3)return-1;const n=e[2].split(".");let r=parseInt(n[0]);n.length===2&&(r+=parseFloat("0.".concat(n[1])));const i=parseInt(60*e[1]),s=parseInt(60*e[0]*60);return isNaN(s)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:s+i+r}const ue={childByName:function(t,e){return Array.from(t.childNodes).find(n=>n.nodeName===e)},childrenByName:function(t,e){return Array.from(t.childNodes).filter(n=>n.nodeName===e)},resolveVastAdTagURI:function(t,e){if(!e)return t;if(t.startsWith("//")){const{protocol:n}=location;return"".concat(n).concat(t)}if(!t.includes("://")){const n=e.slice(0,e.lastIndexOf("/"));return"".concat(n,"/").concat(t)}return t},parseBoolean:LO,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,n){const r=e.getAttribute(t);r&&n.setAttribute(t,r)},parseAttributes:function(t){return Array.from(t.attributes).reduce((e,n)=>(e[n.nodeName]=n.nodeValue,e),{})},parseDuration:bIe,getStandAloneAds:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>!parseInt(t.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>parseInt(t.sequence,10)).sort((t,e)=>t.sequence-e.sequence)},assignAttributes:function(t,e){t&&Array.from(t).forEach(n=>{let{nodeName:r,nodeValue:i}=n;if(r&&i&&e.hasOwnProperty(r)){let s=i;typeof e[r]=="boolean"&&(s=LO(s)),e[r]=s}})},mergeWrapperAdData:function(t,e){var n;t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),e.viewableImpression.length>0&&(t.viewableImpression=[...t.viewableImpression,...e.viewableImpression]),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;const r=(e.creatives||[]).filter(o=>o&&o.type==="companion"),i=r.reduce((o,l)=>((l.variations||[]).forEach(c=>{(c.companionClickTrackingURLTemplates||[]).forEach(u=>{Ct.containsTemplateObject(u,o)||o.push(u)})}),o),[]);t.creatives=r.concat(t.creatives);const s=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,a=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;if(t.creatives.forEach(o=>{if(e.trackingEvents&&e.trackingEvents[o.type])for(const l in e.trackingEvents[o.type]){const c=e.trackingEvents[o.type][l];Array.isArray(o.trackingEvents[l])||(o.trackingEvents[l]=[]),o.trackingEvents[l]=o.trackingEvents[l].concat(c)}o.type==="linear"&&(s&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),a&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||o.videoClickThroughURLTemplate!==null&&o.videoClickThroughURLTemplate!==void 0||(o.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),o.type==="companion"&&i.length&&(o.variations||[]).forEach(l=>{l.companionClickTrackingURLTemplates=Ct.joinArrayOfUniqueTemplateObjs(l.companionClickTrackingURLTemplates,i)})}),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories)),(n=e.creatives)!==null&&n!==void 0&&n.length){const o=e.creatives.filter(l=>{var c;return((c=l.icons)===null||c===void 0?void 0:c.length)&&!l.mediaFiles.length});o.length&&(t.creatives=t.creatives.concat(o))}}};function SIe(t,e){const n=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:i,adId:s,sequence:a,apiFramework:o}=ew(r);return{id:i,adId:s,sequence:a,apiFramework:o,type:"companion",required:null,variations:[]}}(e);return n.required=t.getAttribute("required")||null,n.variations=ue.childrenByName(t,"Companion").map(r=>{const i=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:o.id||null,adType:"companionAd",width:o.width||0,height:o.height||0,assetWidth:o.assetWidth||null,assetHeight:o.assetHeight||null,expandedWidth:o.expandedWidth||null,expandedHeight:o.expandedHeight||null,apiFramework:o.apiFramework||null,adSlotId:o.adSlotId||null,pxratio:o.pxratio||"1",renderingMode:o.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(ue.parseAttributes(r));i.htmlResources=ue.childrenByName(r,"HTMLResource").reduce((o,l)=>{const c=ue.parseNodeText(l);return c?o.concat(c):o},[]),i.iframeResources=ue.childrenByName(r,"IFrameResource").reduce((o,l)=>{const c=ue.parseNodeText(l);return c?o.concat(c):o},[]),i.staticResources=ue.childrenByName(r,"StaticResource").reduce((o,l)=>{const c=ue.parseNodeText(l);return c?o.concat({url:c,creativeType:l.getAttribute("creativeType")||null}):o},[]),i.altText=ue.parseNodeText(ue.childByName(r,"AltText"))||null;const s=ue.childByName(r,"TrackingEvents");s&&ue.childrenByName(s,"Tracking").forEach(o=>{const l=o.getAttribute("event"),c=ue.parseNodeText(o);l&&c&&(Array.isArray(i.trackingEvents[l])||(i.trackingEvents[l]=[]),i.trackingEvents[l].push(c))}),i.companionClickTrackingURLTemplates=ue.childrenByName(r,"CompanionClickTracking").map(o=>({id:o.getAttribute("id")||null,url:ue.parseNodeText(o)})),i.companionClickThroughURLTemplate=ue.parseNodeText(ue.childByName(r,"CompanionClickThrough"))||null;const a=ue.childByName(r,"AdParameters");return a&&(i.adParameters={value:ue.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),i}),n}function EIe(t,e){let n;const r=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:c,adId:u,sequence:d,apiFramework:h}=ew(l);return{id:c,adId:u,sequence:d,apiFramework:h,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);r.duration=ue.parseDuration(ue.parseNodeText(ue.childByName(t,"Duration")));const i=t.getAttribute("skipoffset");if(i==null)r.skipDelay=null;else if(i.charAt(i.length-1)==="%"&&r.duration!==-1){const l=parseInt(i,10);r.skipDelay=r.duration*(l/100)}else r.skipDelay=ue.parseDuration(i);const s=ue.childByName(t,"VideoClicks");if(s){const l=ue.childByName(s,"ClickThrough");r.videoClickThroughURLTemplate=l?{id:l.getAttribute("id")||null,url:ue.parseNodeText(l)}:null,ue.childrenByName(s,"ClickTracking").forEach(c=>{r.videoClickTrackingURLTemplates.push({id:c.getAttribute("id")||null,url:ue.parseNodeText(c)})}),ue.childrenByName(s,"CustomClick").forEach(c=>{r.videoCustomClickURLTemplates.push({id:c.getAttribute("id")||null,url:ue.parseNodeText(c)})})}const a=ue.childByName(t,"AdParameters");a&&(r.adParameters={value:ue.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),ue.childrenByName(t,"TrackingEvents").forEach(l=>{ue.childrenByName(l,"Tracking").forEach(c=>{let u=c.getAttribute("event");const d=ue.parseNodeText(c);if(u&&d){if(u==="progress"){if(n=c.getAttribute("offset"),!n)return;u=n.charAt(n.length-1)==="%"?"progress-".concat(n):"progress-".concat(ue.parseDuration(n))}Array.isArray(r.trackingEvents[u])||(r.trackingEvents[u]=[]),r.trackingEvents[u].push(d)}})}),ue.childrenByName(t,"MediaFiles").forEach(l=>{ue.childrenByName(l,"MediaFile").forEach(m=>{r.mediaFiles.push(function(g){const p={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};p.id=g.getAttribute("id"),p.fileURL=ue.parseNodeText(g),p.deliveryType=g.getAttribute("delivery"),p.codec=g.getAttribute("codec"),p.mimeType=g.getAttribute("type"),p.mediaType=g.getAttribute("mediaType")||"2D",p.apiFramework=g.getAttribute("apiFramework"),p.fileSize=parseInt(g.getAttribute("fileSize")||0),p.bitrate=parseInt(g.getAttribute("bitrate")||0),p.minBitrate=parseInt(g.getAttribute("minBitrate")||0),p.maxBitrate=parseInt(g.getAttribute("maxBitrate")||0),p.width=parseInt(g.getAttribute("width")||0),p.height=parseInt(g.getAttribute("height")||0);const _=g.getAttribute("scalable");_&&typeof _=="string"&&(p.scalable=ue.parseBoolean(_));const y=g.getAttribute("maintainAspectRatio");return y&&typeof y=="string"&&(p.maintainAspectRatio=ue.parseBoolean(y)),p}(m))});const c=ue.childByName(l,"InteractiveCreativeFile");c&&(r.interactiveCreativeFile=function(m){const g=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:p.type||null,apiFramework:p.apiFramework||null,variableDuration:ue.parseBoolean(p.variableDuration),fileURL:null}}(ue.parseAttributes(m));return g.fileURL=ue.parseNodeText(m),g}(c));const u=ue.childByName(l,"ClosedCaptionFiles");u&&ue.childrenByName(u,"ClosedCaptionFile").forEach(m=>{const g=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:p.type||null,language:p.language||null,fileURL:null}}(ue.parseAttributes(m));g.fileURL=ue.parseNodeText(m),r.closedCaptionFiles.push(g)});const d=ue.childByName(l,"Mezzanine"),h=function(m,g){const p={};let _=!1;return g.forEach(y=>{m&&m.getAttribute(y)?p[y]=m.getAttribute(y):_=!0}),_?null:p}(d,["delivery","type","width","height"]);if(h){const m={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};m.id=d.getAttribute("id"),m.fileURL=ue.parseNodeText(d),m.delivery=h.delivery,m.codec=d.getAttribute("codec"),m.type=h.type,m.width=parseInt(h.width,10),m.height=parseInt(h.height,10),m.fileSize=parseInt(d.getAttribute("fileSize"),10),m.mediaType=d.getAttribute("mediaType")||"2D",r.mezzanine=m}});const o=ue.childByName(t,"Icons");return o&&ue.childrenByName(o,"Icon").forEach(l=>{r.icons.push(function(c){const u={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[]};u.program=c.getAttribute("program"),u.height=parseInt(c.getAttribute("height")||0),u.width=parseInt(c.getAttribute("width")||0),u.xPosition=function(h){return["left","right"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("xPosition")),u.yPosition=function(h){return["top","bottom"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("yPosition")),u.apiFramework=c.getAttribute("apiFramework"),u.pxratio=c.getAttribute("pxratio")||"1",u.offset=ue.parseDuration(c.getAttribute("offset")),u.duration=ue.parseDuration(c.getAttribute("duration")),ue.childrenByName(c,"HTMLResource").forEach(h=>{u.type=h.getAttribute("creativeType")||"text/html",u.htmlResource=ue.parseNodeText(h)}),ue.childrenByName(c,"IFrameResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.iframeResource=ue.parseNodeText(h)}),ue.childrenByName(c,"StaticResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.staticResource=ue.parseNodeText(h)});const d=ue.childByName(c,"IconClicks");if(d){u.iconClickThroughURLTemplate=ue.parseNodeText(ue.childByName(d,"IconClickThrough")),ue.childrenByName(d,"IconClickTracking").forEach(m=>{u.iconClickTrackingURLTemplates.push({id:m.getAttribute("id")||null,url:ue.parseNodeText(m)})});const h=ue.childByName(d,"IconClickFallbackImages");h&&ue.childrenByName(h,"IconClickFallbackImage").forEach(m=>{u.iconClickFallbackImages.push({url:ue.parseNodeText(m)||null,width:m.getAttribute("width")||null,height:m.getAttribute("height")||null})})}return u.iconViewTrackingURLTemplate=ue.parseNodeText(ue.childByName(c,"IconViewTracking")),u}(l))}),r}function kIe(t,e){const n=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:i,adId:s,sequence:a,apiFramework:o}=ew(r);return{id:i,adId:s,sequence:a,apiFramework:o,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return ue.childrenByName(t,"TrackingEvents").forEach(r=>{let i,s;ue.childrenByName(r,"Tracking").forEach(a=>{i=a.getAttribute("event"),s=ue.parseNodeText(a),i&&s&&(Array.isArray(n.trackingEvents[i])||(n.trackingEvents[i]=[]),n.trackingEvents[i].push(s))})}),ue.childrenByName(t,"NonLinear").forEach(r=>{const i={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};i.id=r.getAttribute("id")||null,i.width=r.getAttribute("width"),i.height=r.getAttribute("height"),i.expandedWidth=r.getAttribute("expandedWidth"),i.expandedHeight=r.getAttribute("expandedHeight"),i.scalable=ue.parseBoolean(r.getAttribute("scalable")),i.maintainAspectRatio=ue.parseBoolean(r.getAttribute("maintainAspectRatio")),i.minSuggestedDuration=ue.parseDuration(r.getAttribute("minSuggestedDuration")),i.apiFramework=r.getAttribute("apiFramework"),ue.childrenByName(r,"HTMLResource").forEach(a=>{i.type=a.getAttribute("creativeType")||"text/html",i.htmlResource=ue.parseNodeText(a)}),ue.childrenByName(r,"IFrameResource").forEach(a=>{i.type=a.getAttribute("creativeType")||0,i.iframeResource=ue.parseNodeText(a)}),ue.childrenByName(r,"StaticResource").forEach(a=>{i.type=a.getAttribute("creativeType")||0,i.staticResource=ue.parseNodeText(a)});const s=ue.childByName(r,"AdParameters");s&&(i.adParameters={value:ue.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),i.nonlinearClickThroughURLTemplate=ue.parseNodeText(ue.childByName(r,"NonLinearClickThrough")),ue.childrenByName(r,"NonLinearClickTracking").forEach(a=>{i.nonlinearClickTrackingURLTemplates.push({id:a.getAttribute("id")||null,url:ue.parseNodeText(a)})}),n.variations.push(i)}),n}function RO(t){const e=[];return t.forEach(n=>{const r=sW(n);r&&e.push(r)}),e}function sW(t){if(t.nodeName==="#comment")return null;const e={name:null,value:null,attributes:{},children:[]},n=t.attributes,r=t.childNodes;if(e.name=t.nodeName,t.attributes){for(const s in n)if(n.hasOwnProperty(s)){const a=n[s];a.nodeName&&a.nodeValue&&(e.attributes[a.nodeName]=a.nodeValue)}}for(const s in r)if(r.hasOwnProperty(s)){const a=sW(r[s]);a&&e.children.push(a)}if(e.children.length===0||e.children.length===1&&["#cdata-section","#text"].indexOf(e.children[0].name)>=0){const s=ue.parseNodeText(t);s!==""&&(e.value=s),e.children=[]}return(i=e).value===null&&Object.keys(i.attributes).length===0&&i.children.length===0?null:e;var i}function AIe(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}const h2={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function NO(t,e){if(!h2[t.nodeName]||!h2[t.nodeName].attributes)return;const n=h2[t.nodeName].attributes.filter(r=>!t.getAttribute(r));n.length>0&&W1({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:n},e)}function OO(t,e,n){const r=h2[t.nodeName],i=!n&&t.nodeName!=="Wrapper";if(!(!r||i)){if(r.subElements){const s=r.subElements.filter(a=>!ue.childByName(t,a));s.length>0&&W1({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:s},e)}!n||!r.oneOfinLineResources||r.oneOfinLineResources.some(s=>ue.childByName(t,s))||W1({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},e)}}function DO(t){return t.children&&t.children.length!==0}function W1(t,e){let{name:n,parentName:r,attributes:i,subElements:s,oneOfResources:a}=t,o="Element '".concat(n,"'");o+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):s?" missing required sub element(s) '".concat(s.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",e("VAST-warning",{message:o,parentElement:r,specVersion:4.1})}const wIe={verifyRequiredValues:function t(e,n,r){if(e&&e.nodeName)if(e.nodeName==="InLine"&&(r=!0),NO(e,n),DO(e)){OO(e,n,r);for(let i=0;i<e.children.length;i++)t(e.children[i],n,r)}else ue.parseNodeText(e).length===0&&W1({name:e.nodeName,parentName:e.parentNode.nodeName},n)},hasSubElements:DO,emitMissingValueWarning:W1,verifyRequiredAttributes:NO,verifyRequiredSubElements:OO};function CIe(t,e){let{allowMultipleAds:n,followAdditionalWrappers:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Array.from(t.childNodes).filter(s=>{const a=s.nodeName.toLowerCase();return a==="inline"||r!==!1&&a==="wrapper"});for(const s of i){if(ue.copyNodeAttribute("id",t,s),ue.copyNodeAttribute("sequence",t,s),ue.copyNodeAttribute("adType",t,s),s.nodeName==="Wrapper")return{ad:xIe(s,e),type:"WRAPPER"};if(s.nodeName==="InLine")return{ad:IIe(s,e,{allowMultipleAds:n}),type:"INLINE"};const a=s.nodeName.toLowerCase();e("VAST-warning",{message:"<".concat(s.nodeName,a==="inline"?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:s})}}function IIe(t,e){let{allowMultipleAds:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n===!1&&t.getAttribute("sequence")?null:aW(t,e)}function aW(t,e){let n=[];e&&wIe.verifyRequiredValues(t,e);const r=Array.from(t.childNodes),i=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:s.id||null,sequence:s.sequence||null,adType:s.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(ue.parseAttributes(t));return r.forEach(s=>{switch(s.nodeName){case"Error":i.errorURLTemplates.push(ue.parseNodeText(s));break;case"Impression":i.impressionURLTemplates.push({id:s.getAttribute("id")||null,url:ue.parseNodeText(s)});break;case"Creatives":i.creatives=function(a){const o=[];return a.forEach(l=>{const c={id:l.getAttribute("id")||null,adId:AIe(l),sequence:l.getAttribute("sequence")||null,apiFramework:l.getAttribute("apiFramework")||null},u=[];let d;ue.childrenByName(l,"UniversalAdId").forEach(m=>{const g={idRegistry:m.getAttribute("idRegistry")||"unknown",value:ue.parseNodeText(m)};u.push(g)});const h=ue.childByName(l,"CreativeExtensions");h&&(d=RO(ue.childrenByName(h,"CreativeExtension")));for(const m in l.childNodes){const g=l.childNodes[m];let p;switch(g.nodeName){case"Linear":p=EIe(g,c);break;case"NonLinearAds":p=kIe(g,c);break;case"CompanionAds":p=SIe(g,c)}p&&(u&&(p.universalAdIds=u),d&&(p.creativeExtensions=d),o.push(p))}}),o}(ue.childrenByName(s,"Creative"));break;case"Extensions":{const a=ue.childrenByName(s,"Extension");i.extensions=RO(a),i.adVerifications.length||(n=function(o){let l=null,c=[];return o.some(u=>l=ue.childByName(u,"AdVerifications")),l&&(c=PO(ue.childrenByName(l,"Verification"))),c}(a));break}case"AdVerifications":i.adVerifications=PO(ue.childrenByName(s,"Verification"));break;case"AdSystem":i.system={value:ue.parseNodeText(s),version:s.getAttribute("version")||null};break;case"AdTitle":i.title=ue.parseNodeText(s);break;case"AdServingId":i.adServingId=ue.parseNodeText(s);break;case"Category":i.categories.push({authority:s.getAttribute("authority")||null,value:ue.parseNodeText(s)});break;case"Expires":i.expires=parseInt(ue.parseNodeText(s),10);break;case"ViewableImpression":i.viewableImpression.push(function(a){const o=(l,c)=>{const u=ue.parseNodeText(c);return u&&l.push(u),l};return{id:a.getAttribute("id")||null,viewable:ue.childrenByName(a,"Viewable").reduce(o,[]),notViewable:ue.childrenByName(a,"NotViewable").reduce(o,[]),viewUndetermined:ue.childrenByName(a,"ViewUndetermined").reduce(o,[])}}(s));break;case"Description":i.description=ue.parseNodeText(s);break;case"Advertiser":i.advertiser={id:s.getAttribute("id")||null,value:ue.parseNodeText(s)};break;case"Pricing":i.pricing={value:ue.parseNodeText(s),model:s.getAttribute("model")||null,currency:s.getAttribute("currency")||null};break;case"Survey":i.survey={value:ue.parseNodeText(s),type:s.getAttribute("type")||null};break;case"BlockedAdCategories":i.blockedAdCategories.push({authority:s.getAttribute("authority")||null,value:ue.parseNodeText(s)})}}),n.length&&(i.adVerifications=i.adVerifications.concat(n)),i}function xIe(t,e){const n=aW(t,e),r=t.getAttribute("followAdditionalWrappers"),i=t.getAttribute("allowMultipleAds"),s=t.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!r||ue.parseBoolean(r),n.allowMultipleAds=!!i&&ue.parseBoolean(i),n.fallbackOnNoAd=s?ue.parseBoolean(s):null;let a=ue.childByName(t,"VASTAdTagURI");if(a?n.nextWrapperURL=ue.parseNodeText(a):(a=ue.childByName(t,"VASTAdTagURL"),a&&(n.nextWrapperURL=ue.parseNodeText(ue.childByName(a,"URL")))),n.creatives.forEach(o=>{if(["linear","nonlinear"].includes(o.type)){if(o.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[o.type]||(n.trackingEvents[o.type]={});for(const l in o.trackingEvents){const c=o.trackingEvents[l];Array.isArray(n.trackingEvents[o.type][l])||(n.trackingEvents[o.type][l]=[]),c.forEach(u=>{n.trackingEvents[o.type][l].push(u)})}}o.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),o.videoClickTrackingURLTemplates.forEach(l=>{n.videoClickTrackingURLTemplates.push(l)})),o.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=o.videoClickThroughURLTemplate),o.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),o.videoCustomClickURLTemplates.forEach(l=>{n.videoCustomClickURLTemplates.push(l)}))}}),n.nextWrapperURL)return n}function PO(t){const e=[];return t.forEach(n=>{const r={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},i=Array.from(n.childNodes);ue.assignAttributes(n.attributes,r),i.forEach(a=>{let{nodeName:o,textContent:l,attributes:c}=a;switch(o){case"JavaScriptResource":case"ExecutableResource":r.resource=l.trim(),ue.assignAttributes(c,r);break;case"VerificationParameters":r.parameters=l.trim()}});const s=ue.childByName(n,"TrackingEvents");s&&ue.childrenByName(s,"Tracking").forEach(a=>{const o=a.getAttribute("event"),l=ue.parseNodeText(a);o&&l&&(Array.isArray(r.trackingEvents[o])||(r.trackingEvents[o]=[]),r.trackingEvents[o].push(l))}),e.push(r)}),e}class oW{constructor(){this._handlers=[]}on(e,n){if(typeof n!="function")throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof n));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:n}),this}once(e,n){return this.on(e,function(r,i,s){const a={fired:!1,wrapFn:void 0};function o(){a.fired||(r.off(i,a.wrapFn),a.fired=!0,s.bind(r)(...arguments))}return a.wrapFn=o,o}(this,e,n))}off(e,n){return this._handlers=this._handlers.filter(r=>r.event!==e||r.handler!==n),this}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let s=!1;return this._handlers.forEach(a=>{a.event==="*"&&(s=!0,a.handler(e,...r)),a.event===e&&(s=!0,a.handler(...r))}),s}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(n=>n.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(n=>n.event===e).length}listeners(e){return this._handlers.reduce((n,r)=>(r.event===e&&n.push(r.handler),n),[])}eventNames(){return this._handlers.map(e=>e.event)}}let MO=0,Vk=0;const lW=(t,e)=>{!t||!e||t<=0||e<=0||(Vk=(Vk*MO+8*t/e)/++MO)},LIe={ERRORCODE:900,extensions:[]},$O="VAST response version not supported";class cW extends oW{constructor(){let{fetcher:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];this.emit("VAST-error",Object.assign({},LIe,n,...i)),Ct.track(e,n)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return Vk}initParsingStatus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),lW(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));const n=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(n,{wrapperDepth:0,url:this.rootURL}).then(r=>this.buildVASTResponse(r))}parseVAST(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(e,n).then(r=>this.buildVASTResponse(r))}buildVASTResponse(e){const n=function(r){let{ads:i,errorURLTemplates:s,version:a}=r;return{ads:i||[],errorURLTemplates:s||[],version:a||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(n),n}parseVastXml(e,n){let{isRootVAST:r=!1,url:i=null,wrapperDepth:s=0,allowMultipleAds:a,followAdditionalWrappers:o}=n;if(!e||!e.documentElement||e.documentElement.nodeName!=="VAST"){var l;this.emit("VAST-ad-parsed",{type:"ERROR",url:i,wrapperDepth:s});const h=(e==null||(l=e.documentElement)===null||l===void 0?void 0:l.nodeName)==="VideoAdServingTemplate";throw new Error(h?$O:"Invalid VAST XMLDocument")}const c=[],u=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");r&&d&&(this.vastVersion=d);for(const h in u){const m=u[h];if(m.nodeName==="Error"){const g=ue.parseNodeText(m);r?this.rootErrorURLTemplates.push(g):this.errorURLTemplates.push(g)}else if(m.nodeName==="Ad"){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(a===!1&&c.length>1)break;const g=CIe(m,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:o});g.ad?(c.push(g.ad),this.emit("VAST-ad-parsed",{type:g.type,url:i,wrapperDepth:s,adIndex:c.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}parse(e){let{url:n=null,resolveAll:r=!0,wrapperSequence:i=null,previousUrl:s=null,wrapperDepth:a=0,isRootVAST:o=!1,followAdditionalWrappers:l,allowMultipleAds:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(c=!0);try{u=this.parseVastXml(e,{isRootVAST:o,url:n,wrapperDepth:a,allowMultipleAds:c,followAdditionalWrappers:l})}catch(d){return Promise.reject(d)}if(u.length===1&&i!=null&&(u[0].sequence=i),r===!1){const d=ue.getSortedAdPods(u),h=ue.getStandAloneAds(u);d.length?u=d:h.length&&(u=[h.shift()]),this.remainingAds=h}return this.resolveAds(u,{wrapperDepth:a,previousUrl:s,url:n})}resolveAds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{wrapperDepth:n,previousUrl:r,url:i}=arguments.length>1?arguments[1]:void 0;const s=[];return r=i,e.forEach(a=>{const o=this.resolveWrappers(a,n,r);s.push(o)}),Promise.all(s).then(a=>Ct.flatten(a))}resolveWrappers(e,n,r){const i={...e};return new Promise(s=>{var a;if(n++,!i.nextWrapperURL)return delete i.nextWrapperURL,s(i);if(!this.fetcher)return i.VASTAdTagURI=i.nextWrapperURL,delete i.nextWrapperURL,s(i);if(n>=this.maxWrapperDepth)return i.errorCode=302,delete i.nextWrapperURL,s(i);i.nextWrapperURL=ue.resolveVastAdTagURI(i.nextWrapperURL,r);const o=(a=this.parsingOptions.allowMultipleAds)!==null&&a!==void 0?a:i.allowMultipleAds,l=i.sequence;this.fetcher.fetchVAST({url:i.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(c=>this.parse(c,{url:i.nextWrapperURL,previousUrl:r,wrapperSequence:l,wrapperDepth:n,followAdditionalWrappers:i.followAdditionalWrappers,allowMultipleAds:o}).then(u=>{if(delete i.nextWrapperURL,u.length===0)return i.creatives=[],s(i);u.forEach(d=>{d&&ue.mergeWrapperAdData(d,i)}),s(u)})).catch(c=>{i.errorCode=c.message===$O?102:301,i.errorMessage=c.message,s(i)})})}completeWrapperResolving(e){if(e.ads.length===0)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let n=e.ads.length-1;n>=0;n--){const r=e.ads[n],i=!r.creatives.some(s=>{var a;return((a=s.mediaFiles)===null||a===void 0?void 0:a.length)>0});!r.errorCode&&!i||r.VASTAdTagURI||(this.trackVastError(r.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:r.errorCode||303},{ERRORMESSAGE:r.errorMessage||""},{extensions:r.extensions},{system:r.system}),e.ads.splice(n,1))}}}let Za=null;const RIe={data:{},length:0,getItem(t){return this.data[t]},setItem(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem(t){delete this.data[t],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class NIe{constructor(){this.storage=this.initStorage()}initStorage(){if(Za)return Za;try{Za=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{Za=null}return Za&&!this.isStorageDisabled(Za)||(Za=RIe,Za.clear()),Za}isStorageDisabled(e){const n="__VASTStorage__";try{if(e.setItem(n,n),e.getItem(n)!==n)return e.removeItem(n),!0}catch{return!0}return e.removeItem(n),!1}getItem(e){return this.storage.getItem(e)}setItem(e,n){return this.storage.setItem(e,n)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const Hk=12e4,OIe={get:async function(t,e){try{const n=new AbortController,r=setTimeout(()=>{throw n.abort(),new Error("URLHandler: Request timed out after ".concat(e.timeout||Hk," ms (408)"))},e.timeout||Hk),i=await fetch(t,{...e,signal:n.signal,credentials:e.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(r)}),s=function(a){return Ct.isBrowserEnvironment()&&window.location.protocol==="https:"&&a.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":a.status===200&&a.ok?null:"URLHandler: ".concat(a.statusText," (").concat(a.status,")")}(i);return s?{error:new Error(s),statusCode:i.status}:async function(a){const o=await a.text();let l;return l=Ct.isBrowserEnvironment()?new DOMParser:new(await Promise.resolve().then(()=>K6e)).DOMParser,{xml:l.parseFromString(o,"text/xml"),details:{byteLength:o.length,statusCode:a.status,rawXml:o}}}(i)}catch(n){return{error:n,statusCode:n.name==="AbortError"?408:null}}}};class DIe{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||OIe,this.fetchingOptions={timeout:e.timeout||Hk,withCredentials:!!e.withCredentials}}addURLTemplateFilter(e){typeof e=="function"&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var n;let{url:r,maxWrapperDepth:i,emitter:s,wrapperDepth:a=0,previousUrl:o=null,wrapperAd:l=null}=e;const c=Date.now();this.URLTemplateFilters.forEach(h=>{r=h(r)}),s("VAST-resolving",{url:r,previousUrl:o,wrapperDepth:a,maxWrapperDepth:i,timeout:this.fetchingOptions.timeout,wrapperAd:l});const u=await this.urlHandler.get(r,this.fetchingOptions),d=Math.round(Date.now()-c);if(s("VAST-resolved",{url:r,previousUrl:o,wrapperDepth:a,error:(u==null?void 0:u.error)||null,duration:d,statusCode:(u==null?void 0:u.statusCode)||null,...u==null?void 0:u.details}),lW(u==null||(n=u.details)===null||n===void 0?void 0:n.byteLength,d),u.error)throw new Error(u.error);return u.xml}}class PIe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new NIe;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=n,this.fetcher=new DIe,this.vastParser=new cW({fetcher:this.fetcher}),this.storage=r,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.fetcher.setOptions(n),this.vastParser.parseVAST(e,n)}get(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Date.now();return n.hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise((i,s)=>{if(this.cappingFreeLunch>=this.totalCalls)return s(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const a=r-this.lastSuccessfulAd;if(a<0)this.lastSuccessfulAd=0;else if(a<this.cappingMinimumTimeInterval)return s(new Error("VAST call canceled – (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(n),this.fetcher.setOptions(n),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(o=>(n.previousUrl=e,n.isRootVAST=!0,n.url=e,this.vastParser.parse(o,n).then(l=>{const c=this.vastParser.buildVASTResponse(l);i(c)}))).catch(o=>s(o))})}}class UO extends oW{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];super(),this.ad=n,this.creative=r,this.variation=i,this.muted=s,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const a in this.creative.trackingEvents){const o=this.creative.trackingEvents[a];this.trackingEvents[a]=o.slice(0)}(function(a){return a.type==="linear"})(this.creative)?this._initLinearTracking():this._initVariationTracking(),e&&this.on("start",()=>{e.lastSuccessfulAd=Date.now()})}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const n=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(n.slice(0)):this.trackingEvents[e]=n.slice(0)}this.variation.adType==="nonLinearAd"?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return e.adType==="companionAd"}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Ct.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(!Ct.isValidTimeValue(e)||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))});const i=this.skipDelay||-1;if(i===-1||this.skippable||(i>e?this.emit("skip-countdown",i-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const s=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push("start");for(let o=this.lastPercentage;o<s;o++)a.push("progress-".concat(o+1,"%"));a.push("progress-".concat(e));for(const o in this.quartiles)this.isQuartileReached(o,this.quartiles[o],e)&&(a.push(o),this._alreadyTriggeredQuartiles[o]=!0);this.lastPercentage=s}a.forEach(o=>{this.track(o,{macros:n,once:r})}),e<this.progress&&(this.track("rewind",{macros:n}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,n,r){let i=!1;return n<=r&&!this._alreadyTriggeredQuartiles[e]&&(i=!0),i}setMuted(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:n}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))})}setPaused(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.paused!==e&&this.track(e?"pause":"resume",{macros:n}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))})}setFullscreen(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:n}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))})}setExpand(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:n}),this.track(e?"playerExpand":"playerCollapse",{macros:n})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))})}setSkipDelay(e){Ct.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.ad.viewableImpression.forEach(n=>{this.trackURLs(n.viewable,e)}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.ad.viewableImpression.forEach(n=>{this.trackURLs(n.notViewable,e)}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.ad.viewableImpression.forEach(n=>{this.trackURLs(n.viewUndetermined,e)}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"&&typeof n=="boolean"?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:n}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Ct.formatMacrosValues(e),", isCustomCode: ").concat(n)})}errorWithCode(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="string"&&typeof n=="boolean"?(this.error({ERRORCODE:e},n),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(n)})}complete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string"||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const r=this.ad.adVerifications.find(s=>s.vendor===e);if(!r)throw new Error("No associated verification element found for vendor: ".concat(e));const i=r.trackingEvents;if(i&&i.verificationNotExecuted){const s=i.verificationNotExecuted;this.trackURLs(s,n),this.emit("verificationNotExecuted",{trackingURLTemplates:s})}}overlayViewDuration(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&typeof n=="object"?(n.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:n})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))})}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==null&&typeof e!="string"||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Ct.formatMacrosValues(n))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,n);const r=this.clickThroughURLTemplate||e,i={...n};if(r){this.progress&&(i.ADPLAYHEAD=this.progressFormatted());const s=Ct.resolveURLTemplates([r],i)[0];this.emit("clickthrough",s)}}trackProgressEvents(e,n,r){const i=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter(s=>{let[a]=s;return a.startsWith("progress-")}).map(s=>{let[a,o]=s;return{name:a,time:parseFloat(a.split("-")[1]),urls:o}}).filter(s=>{let{time:a}=s;return a<=i&&a>this.progress}).forEach(s=>{let{name:a,urls:o}=s;!r&&this.trackedProgressEvents.includes(a)||(this.emit(a,{trackingURLTemplates:o}),this.trackURLs(o,n),r?delete this.trackingEvents[a]:this.trackedProgressEvents.push(a))})}track(e){let{macros:n={},once:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof n!="object")return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(n)});e==="closeLinear"&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,n,r);const i=this.trackingEvents[e],s=this.emitAlwaysEvents.indexOf(e)>-1;i?(this.emit(e,{trackingURLTemplates:i}),this.trackURLs(i,n)):s&&this.emit(e,null),r&&(delete this.trackingEvents[e],s&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{validUrls:s,invalidUrls:a}=Ct.filterUrlTemplates(e);a.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(a)});const o={...r};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(o.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(o.ADPLAYHEAD=this.progressFormatted())),(n=this.creative)!==null&&n!==void 0&&(n=n.universalAdIds)!==null&&n!==void 0&&n.length&&(o.UNIVERSALADID=this.creative.universalAdIds.map(l=>l.idRegistry.concat(" ",l.value)).join(",")),this.ad&&(this.ad.sequence&&(o.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(o.ADTYPE=this.ad.adType),this.ad.adServingId&&(o.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(o.ADCATEGORIES=this.ad.categories.map(l=>l.value).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(o.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map(l=>l.value).join(","))),Ct.track(s,o,i)}convertToTimecode(e){if(!Ct.isValidTimeValue(e))return"";const n=1e3*e,r=Math.floor(n/36e5),i=Math.floor(n/6e4%60),s=Math.floor(n/1e3%60),a=Math.floor(n%1e3);return"".concat(Ct.addLeadingZeros(r,2),":").concat(Ct.addLeadingZeros(i,2),":").concat(Ct.addLeadingZeros(s,2),".").concat(Ct.addLeadingZeros(a,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}var m2,p2;class MIe extends Q.EventTarget{constructor(e,n){super(),Ar(this,m2,()=>{const r=this.skipDelay,i=this.player;r>0&&(i.duration()||this.duration)>=r&&(this.skipButtonElement&&(this.skipButtonElement.style.display="block"),this.options.displayRemainingTime&&(this.remainingTimeElement.style.display="block"),this.options.displayRemainingTimeIcons&&(this.remainingTimePlayElement&&this.remainingTimePlayElement.classList.remove("vjs-hidden"),this.remainingTimeMuteElement&&this.remainingTimeMuteElement.classList.remove("vjs-hidden")),i.on("adtimeupdate",gt(this,p2))),i.loadingSpinner.el().style.display="none"}),Ar(this,p2,()=>{this.player.loadingSpinner.el().style.display="none";const r=Math.ceil(this.skipDelay-this.player.currentTime());if(this.options.displayRemainingTime){const i=Math.ceil(this.player.remainingTime());this.remainingTimeElement.innerHTML=this.options.messages.remainingTime.replace("{seconds}",i)}this.skipButtonElement&&(r>0?($Ie(this.skipButtonElement),this.skipButtonElement.innerHTML=this.options.messages.skipCountdown.replace("{seconds}",r)):(UIe(this.skipButtonElement),this.skipButtonElement.innerHTML=this.options.messages.skip))}),this.player=e,this.options=n,this.duration=0,this.skipDelay=0,this.originalState={controlsEnabled:e.controls(),seekEnabled:e.controlBar.progressControl.enabled()}}setUp(){const e=this.player,n=this.options,r=()=>{e.controls(n.controlsEnabled),n.seekEnabled?e.controlBar.progressControl.enable():e.controlBar.progressControl.disable()},i=()=>{const l=this.blocker=window.document.createElement("div");l.className="vast-blocker",l.onclick=()=>{if(e.paused())return e.play(),!1;this.trigger("click")},e.el().insertBefore(l,e.controlBar.el())},s=()=>{const l=this.skipButtonElement=window.document.createElement("div");l.className="vast-skip-button",l.style.display="none",e.el().appendChild(l),e.one("adplay",gt(this,m2)),l.onclick=c=>{if((" "+l.className+" ").indexOf(" enabled ")>=0&&this.trigger("skip"),window.Event.prototype.stopPropagation!==void 0)c.stopPropagation();else return!1}},a=()=>{if(!n.displayRemainingTime)return;const l=this.remainingTimeElement=window.document.createElement("div");l.className="vast-remaining-time",l.style.display="none",e.el().appendChild(l)},o=l=>{if(!n.displayRemainingTimeIcons)return;const c={play:{className:"vjs-icon-play vast-remaining-time-icon-play",action:y=>y.paused()?y.play():y.pause(),toggleClasses:["vjs-icon-pause","vjs-icon-play"],events:["adplay","adpause"],initialState:y=>y.paused()?"vjs-icon-play":"vjs-icon-pause"},mute:{className:"vast-remaining-time-icon-mute",action:y=>y.muted(!y.muted()),toggleClasses:["vjs-icon-volume-high","vjs-icon-volume-mute"],events:["advolumechange"],initialState:y=>y.muted()?"vjs-icon-volume-mute":"vjs-icon-volume-high"}},{className:u,action:d,toggleClasses:h,events:m,initialState:g}=c[l],p=e.addChild("button",{className:`vjs-visible-text vjs-button vast-remaining-time-icon ${u}`,clickHandler:(function(){d(this.player)}).bind(this)});p.removeClass("vjs-control"),p.addClass(g(e));const _=()=>{h.forEach(y=>p.toggleClass(y))};this[`remainingTime${l.charAt(0).toUpperCase()+l.slice(1)}Element`]=p.el(),m.forEach(y=>e.on(y,_))};r(),i(),a(),n.displaySkipBtn&&s(),n.autoplay||o("play"),n.muted&&o("mute")}tearDown(){const e=this.player,n=this.originalState;this.duration=0,this.skipDelay=0,e.controls(n.controlsEnabled),n.seekEnabled?e.controlBar.progressControl.enable():e.controlBar.progressControl.disable(),this.blocker.parentElement.removeChild(this.blocker),this.skipButtonElement&&this.skipButtonElement.parentElement.removeChild(this.skipButtonElement),this.options.displayRemainingTime&&this.remainingTimeElement.parentElement.removeChild(this.remainingTimeElement),this.options.displayRemainingTimeIcons&&(this.remainingTimePlayElement.parentElement.removeChild(this.remainingTimePlayElement),this.remainingTimeMuteElement.parentElement.removeChild(this.remainingTimeMuteElement)),e.off("adtimeupdate",gt(this,p2)),e.off("adplay",gt(this,m2))}}m2=new WeakMap,p2=new WeakMap;function uW(t){return t&&(" "+t.className+" ").indexOf(" enabled ")>-1}function $Ie(t){t&&uW(t)&&(t.className=t.className.replace(" enabled ",""))}function UIe(t){t&&!uW(t)&&(t.className+=" enabled ")}function dW(t,e=null){let n;return function(){return t&&(n=t.apply(e||this,arguments),t=null),n}}function hW(t){return t.type==="linear"&&t.mediaFiles.length}function FO(t){return t.type==="companion"}function FIe(t){return JSON.parse(JSON.stringify(t))}function BIe(t,e=null){let n=null;if(typeof t=="string")if(t.includes("%"))e!=null&&(n=t.replace("%","")/100*e);else if(t.includes(":")){const[r,i,s]=t.split(":").slice(-3);n=parseInt(r||0,10)*3600+parseInt(i||0,10)*60+parseInt(s||0,10)}else n=parseInt(t);return n==null&&(n=Number(t)),isNaN(n)?null:n}var pf,f2,ff;class jIe{constructor(e,n){Ar(this,pf),Ar(this,f2),Ar(this,ff),On(this,pf,e),On(this,f2,n),On(this,ff,!1)}get linearCreative(){return gt(this,pf).creative}get linearAdTracker(){return gt(this,pf)}get companionTracker(){return gt(this,f2)}get skipAfterDuration(){return gt(this,ff)}set skipAfterDuration(e){On(this,ff,e)}hasVideoMedia(){return this.linearCreative.mediaFiles.some(e=>e&&e.apiFramework==null)}}pf=new WeakMap,f2=new WeakMap,ff=new WeakMap;var Rd,g2,Nd,gf,y2;class VIe{constructor(e,n,r,i){Ar(this,Rd),Ar(this,g2),Ar(this,Nd),Ar(this,gf),Ar(this,y2,s=>{const a=o=>{const l=new UO(gt(this,Rd),o,o.creatives.find(hW),o.creatives.find(FO));l.on("clickthrough",BO);let c=null;const u=o.creatives.find(FO);if(u){const d=gt(this,Nd),h=u.variations.filter(m=>m.staticResource).filter(m=>m.type.indexOf("image")===0).find(m=>parseInt(m.width,10)<=d.companion.maxWidth&&parseInt(m.height,10)<=d.companion.maxHeight);h&&(c=new UO(gt(this,Rd),o,u,h),c.on("clickthrough",BO))}return new jIe(l,c)};return s.map(a)}),On(this,Rd,e),On(this,g2,n),On(this,gf,r),On(this,Nd,i)}loadAds(e={}){return new Promise((n,r)=>{const{url:i,xml:s}=e,a=(Array.isArray(i)?i:[i]).filter(l=>l!=null);let o;if(a.length)o=Promise.resolve([]),a.forEach(l=>{o=o.then(c=>c==null||c.length===0?this.loadAdsWithUrl(l):c).catch(c=>[])});else if(s!=null)o=this.loadAdsWithXml(s);else throw new Error("xml or url must be set");o.then(n).catch(r)})}loadAdsWithXml(e){return new Promise((n,r)=>{let i;if(e.constructor===window.XMLDocument)i=e;else if(e.constructor===String)i=new window.DOMParser().parseFromString(e,"application/xml");else throw new Error("xml config option must be a String or XMLDocument");gt(this,g2).parseVAST(i).then(gt(this,gf).selectAds).then(gt(this,y2)).then(n).catch(r)})}loadAdsWithUrl(e){return new Promise((n,r)=>{gt(this,Rd).get(e,{withCredentials:gt(this,Nd).withCredentials,wrapperLimit:gt(this,Nd).wrapperLimit}).then(gt(this,gf).selectAds).then(gt(this,y2)).then(n).catch(r)})}}Rd=new WeakMap,g2=new WeakMap,Nd=new WeakMap,gf=new WeakMap,y2=new WeakMap;function BO(t){window.open(t,"_blank")}class HIe{selectAds(e){if(!e.ads||e.ads.length===0)throw new Error("no ads found in VAST");const n=e.ads.filter(i=>i.creatives.some(hW));if(!n.length)throw new Error("no linear ads found in VAST");const r=n.filter(i=>i.sequence);return r.length?r.sort((i,s)=>i.sequence-s.sequence):n.filter(i=>!r.includes(i)).slice(0,1)}}function mW(){}function GIe(t,e){return t?null:new Error(e)}var Gk={};function pW(t){var e=Gk[t];e&&(clearTimeout(e),delete Gk[t])}function qIe(t,e,n){var r,i;return i=setTimeout(function(){e=mW,delete i[r],n()},t),r=function(){e.apply(this,arguments)&&pW(r)},Gk[r]=i,r}function zIe(t,e,n){var r=document.createElement(e);return n&&(r.id=n),t.appendChild(r),r}function WIe(t,e,n){var r=fW(t,null,n.zIndex);if(TW(r,yW(e,n)))return r}function fW(t,e,n){var r=document.createElement("iframe");return r.src=e||"about:blank",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.width="100%",r.height="100%",gW(r),n&&(r.style.zIndex=n),r.setAttribute("SCROLLING","NO"),t.innerHTML="",t.appendChild(r),r}function gW(t){t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.width="100%",t.style.height="100%"}function yW(t,e){return Object.keys(e).forEach(function(n){var r=typeof r=="object"?JSON.stringify(e[n]):e[n];t=t.replace(new RegExp("{{"+n+"}}","g"),r)}),t}function TW(t,e){var n=t.contentWindow&&t.contentWindow.document;return n?(n.write(e),!0):!1}function KIe(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function YIe(t){var e=-1;return function(){return t+"_"+ ++e}}var vW={noop:mW,validate:GIe,clearCallbackTimeout:pW,callbackTimeout:qIe,createElementInEl:zIe,createIframeWithContent:WIe,createIframe:fW,setFullSizeStyle:gW,simpleTemplate:yW,setIframeContent:TW,extend:KIe,unique:YIe},iS,jO;function QIe(){if(jO)return iS;jO=1;var t=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],e=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],n=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],r=["setAdVolume"];function i(o,l,c){}i.prototype.handshakeVersion=function(o,l){},i.prototype.initAd=function(o,l,c,u,d,h,m){},i.prototype.startAd=function(o){},i.prototype.stopAd=function(o){},i.prototype.skipAd=function(o){},i.prototype.resizeAd=function(o,l,c,u){},i.prototype.pauseAd=function(o){},i.prototype.resumeAd=function(o){},i.prototype.expandAd=function(o){},i.prototype.collapseAd=function(o){},i.prototype.subscribe=function(o,l,c){},i.prototype.unsubscribe=function(o,l){},i.prototype.getAdLinear=function(o){},i.prototype.getAdWidth=function(o){},i.prototype.getAdHeight=function(o){},i.prototype.getAdExpanded=function(o){},i.prototype.getAdSkippableState=function(o){},i.prototype.getAdRemainingTime=function(o){},i.prototype.getAdDuration=function(o){},i.prototype.getAdVolume=function(o){},i.prototype.getAdCompanions=function(o){},i.prototype.getAdIcons=function(o){},i.prototype.setAdVolume=function(o,l){},a(i,"METHODS",t),a(i,"GETTERS",n),a(i,"SETTERS",r),a(i,"EVENTS",e);var s=t.filter(function(o){return["skipAd"].indexOf(o)===-1});a(i,"checkVPAIDInterface",function(o){var l=s.every(function(c){return typeof o[c]=="function"});return l}),iS=i;function a(o,l,c){Object.defineProperty(o,l,{writable:!1,configurable:!1,value:c})}return iS}var sS,VO;function XIe(){if(VO)return sS;VO=1;function t(){this._subscribers={}}return t.prototype.subscribe=function(e,n,r){this.isHandlerAttached(e,n)||this.get(n).push({handler:e,context:r,eventName:n})},t.prototype.unsubscribe=function(e,n){this._subscribers[n]=this.get(n).filter(function(r){return e!==r.handler})},t.prototype.unsubscribeAll=function(){this._subscribers={}},t.prototype.trigger=function(e,n){var r=this,i=this.get(e).concat(this.get("*"));i.forEach(function(s){setTimeout(function(){r.isHandlerAttached(s.handler,s.eventName)&&s.handler.call(s.context,n)},0)})},t.prototype.triggerSync=function(e,n){var r=this.get(e).concat(this.get("*"));r.forEach(function(i){i.handler.call(i.context,n)})},t.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},t.prototype.isHandlerAttached=function(e,n){return this.get(n).some(function(r){return e===r.handler})},sS=t,sS}var aS,HO;function ZIe(){if(HO)return aS;HO=1;var t=QIe(),e=XIe(),n=t.checkVPAIDInterface,r=vW;t.METHODS;var i="AdError",s="AdClickThru",a=t.EVENTS.filter(function(h){return h!=s});function o(h,m,g,p){this._isValid=n(h),this._isValid&&(this._creative=h,this._el=m,this._videoEl=g,this._iframe=p,this._subscribers=new e,r.setFullSizeStyle(m),l.call(this))}o.prototype=Object.create(t.prototype),o.prototype.isValidVPAIDAd=function(){return this._isValid},t.METHODS.forEach(function(h){var m=["subscribe","unsubscribe","initAd"];m.indexOf(h)===-1&&(o.prototype[h]=function(){var g=t.prototype[h].length,p=Array.prototype.slice.call(arguments),_=g===p.length?p.pop():void 0;setTimeout((function(){var y,v=null;try{y=this._creative[h].apply(this._creative,p)}catch(E){v=E}d(_,this._subscribers,v,y)}).bind(this),0)})}),o.prototype.initAd=function(h,m,g,p,_,y,v){_=_||{},y=r.extend({slot:this._el,videoSlot:this._videoEl},y||{}),setTimeout((function(){var E;try{this._creative.initAd(h,m,g,p,_,y)}catch(x){E=x}d(v,this._subscribers,E)}).bind(this),0)},o.prototype.subscribe=function(h,m,g){this._subscribers.subscribe(m,h,g)},o.prototype.unsubscribe=function(h,m){this._subscribers.unsubscribe(m,h)},o.prototype.on=o.prototype.subscribe,o.prototype.off=o.prototype.unsubscribe,t.GETTERS.forEach(function(h){o.prototype[h]=function(m){setTimeout((function(){var g,p=null;try{g=this._creative[h]()}catch(_){p=_}d(m,this._subscribers,p,g)}).bind(this),0)}}),o.prototype.setAdVolume=function(h,m){setTimeout((function(){var g,p=null;try{this._creative.setAdVolume(h),g=this._creative.getAdVolume()}catch(_){p=_}p||(p=r.validate(g===h,"failed to apply volume: "+h)),d(m,this._subscribers,p,g)}).bind(this),0)},o.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()};function l(){if(a.forEach((function(g){this._creative.subscribe(u.bind(this,g),g)}).bind(this)),this._creative.subscribe(c.bind(this),s),this._videoEl){var h=this._iframe.contentDocument.documentElement,m=this._videoEl;h.addEventListener("click",function(g){g.target===h&&m.click()})}}function c(h,m,g){this._subscribers.triggerSync(s,{url:h,id:m,playerHandles:g})}function u(h){this._subscribers.trigger(h,Array.prototype.slice(arguments,1))}function d(h,m,g,p){h?h(g,p):g&&m.trigger(i,g)}return aS=o,aS}var Rl=vW,JIe=Rl.unique("vpaidIframe"),exe=ZIe(),txe=`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage('{"event": "ready", "id": "{{iframeID}}"}', '{{origin}}');<\/script></body></html>`,nxe="AdStopped";function Zm(t,e,n,r){n=n||{},this._id=JIe(),this._destroyed=!1,this._frameContainer=Rl.createElementInEl(t,"div"),this._videoEl=e,this._vpaidOptions=r||{timeout:1e4},this._templateConfig={template:n.template||txe,extraOptions:n.extraOptions||{}}}Zm.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,tw.call(this))};Zm.prototype.isDestroyed=function(){return this._destroyed};Zm.prototype.loadAdUnit=function(t,e){axe.call(this),tw.call(this);var n=this,r=Rl.createIframeWithContent(this._frameContainer,this._templateConfig.template,Rl.extend({iframeURL_JS:t,iframeID:this.getID(),origin:GO()},this._templateConfig.extraOptions));this._frame=r,this._onLoad=Rl.callbackTimeout(this._vpaidOptions.timeout,i.bind(this),s.bind(this)),window.addEventListener("message",this._onLoad);function i(a){if(a.origin===GO()){var o=JSON.parse(a.data);if(o.id===n.getID()){var l,c,u;if(n._frame.contentWindow?(u=n._frame.contentWindow.getVPAIDAd,c=Rl.validate(typeof u=="function","the ad didn't return a function to create an ad")):c="the iframe is not anymore in the DOM tree",!c){var d=n._frame.contentWindow.document.querySelector(".ad-element");l=new exe(u(),d,n._videoEl,n._frame),l.subscribe(nxe,ixe.bind(n)),c=Rl.validate(l.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return n._adUnit=l,bW.call(n),e(c,c?null:l),!0}}}function s(){e("timeout",null)}};Zm.prototype.unloadAdUnit=function(){tw.call(this)};Zm.prototype.getID=function(){return this._id};function rxe(t){var e=this[t];e&&(e.remove(),delete this[t])}function ixe(){_W.call(this),delete this._adUnit}function tw(){_W.call(this),sxe.call(this)}function _W(){rxe.call(this,"_frame"),bW.call(this)}function bW(){this._onLoad&&(window.removeEventListener("message",this._onLoad),Rl.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function sxe(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function axe(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function GO(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var oxe=Zm;const lxe=Vm(oxe);function Fh(t){if(t){console.log("vastTracker",{...t});const e=t.ad,n=t.creative;return{mediaFiles:n.mediaFiles.map(r=>Object.assign({},r)),adSequenceId:e.sequence,adId:e.id,creativeAdId:n.id,skippable:t.skippable,skipDelay:t.skipDelay,hasAdUrl:!!n.videoClickThroughURLTemplate.url,whyThisAd:n.icons.find(r=>r.program==="GoogleWhyThisAd")}}}const cxe=["application/x-javascript","text/javascript","application/javascript"];var Kc,vl,yf,T2,v2,Tf;class uxe{constructor(e,n){Ar(this,Kc),Ar(this,vl),Ar(this,yf),Ar(this,T2),Ar(this,v2),Ar(this,Tf),On(this,T2,e),On(this,v2,n),On(this,Tf,new Q.EventTarget)}handle(e){return On(this,vl,!1),On(this,yf,!1),On(this,Kc,!1),new Promise((n,r)=>{const i=gt(this,v2),s=gt(this,T2);let a=null;const o=(h,m)=>{if(h){r(h);return}const g=()=>{_(),n(),s.trigger("vpaid.AdStopped"),s.trigger({type:"vast.adEnd",vast:Fh(e)})};m.subscribe("AdStopped",g);const p=C=>{if(m&&!gt(this,Kc)){m.unsubscribe("AdStopped",g);const R=()=>{On(this,Kc,!0),_(),r(C),s.trigger("vpaid.AdStopped")};oS(m,"AdStopped",R,R),m.stopAd()}else On(this,Kc,!0),r(C)};if(gt(this,Tf).on("forceStopAd",p),gt(this,vl)){p("Received cancel signal from player");return}function _(){s.controlBar.show(),s.off("playerresize",x),d.destroy(),a&&(a.parentElement.removeChild(a),a=null)}const y=(C,R)=>{var D;if(C){log.console(C),p("Error on VPAID handshake");return}const U={AdParameters:l.adParameters||"",Duration:l.duration||30,SkipTime:i.skip,ClickURL:((D=l.videoClickThroughURLTemplate)==null?void 0:D.url)||"about:blank",All:l,Options:i},K={};oS(m,"AdLoaded",v,p);const V=s.isFullscreen()?"fullscreen":"normal";m.subscribe("AdError",X=>{e.error({ERRORCODE:901}),On(this,Kc,!0),_(),r(`Fatal VPAID Error: ${typeof X=="object"?JSON.stringify(X):X}`),s.trigger({type:"vpaid.AdError",error:X})}),m.initAd(s.currentWidth(),s.currentHeight(),V,-1,U,K)},v=()=>{if(gt(this,vl)){p("Received cancel signal");return}m.subscribe("AdSkipped",()=>{e.skip(),s.trigger("vpaid.AdSkipped"),s.trigger({type:"vast.adSkip",vast:Fh(e)})}),m.subscribe("AdVolumeChange",()=>{const R=s.volume();m.getAdVolume((D,U)=>{D||(U===0&&R>0?e.setMuted(!0):U>0&&R===0&&e.setMuted(!1),s.volume(U),s.trigger("vpaid.AdVolumeChange"))})}),m.subscribe("AdImpression",()=>{e.trackImpression(),s.trigger("vpaid.AdImpression")}),m.subscribe("AdClickThru",({url:R,id:D,playerHandles:U})=>{U||e.once("clickthrough",K=>{window.open(K,"_blank")}),e.click(R),s.trigger("vpaid.AdClickThru")}),m.subscribe("AdVideoFirstQuartile",()=>{e.track("firstQuartile"),s.trigger("vpaid.AdVideoFirstQuartile")}),m.subscribe("AdVideoMidpoint",()=>{e.track("midpoint"),s.trigger("vpaid.AdVideoMidpoint")}),m.subscribe("AdVideoThirdQuartile",()=>{e.track("thirdQuartile"),s.trigger("vpaid.AdVideoThirdQuartile")}),m.subscribe("AdVideoComplete",()=>{e.track("complete"),s.trigger("vpaid.AdVideoComplete")}),m.subscribe("AdUserAcceptInvitation",()=>{e.acceptInvitation(),s.trigger("vpaid.AdUserAcceptInvitation")}),m.subscribe("AdUserMinimize",()=>{e.minimize(),s.trigger("vpaid.AdUserMinimize")}),m.subscribe("AdUserClose",()=>{e.close(),s.trigger("vpaid.AdUserClose")}),m.subscribe("AdPaused",()=>{e.setPaused(!0),s.trigger("vpaid.AdPaused")}),m.subscribe("AdPlaying",()=>{e.setPaused(!1),s.trigger("vpaid.AdPlaying")}),m.getAdLinear(SW((R,D)=>{if(gt(this,vl)){p("Received cancel signal");return}R?p(R):D?C():p("Non-linear not supported")},()=>{p("Unable to get mode of operation: linear or non-linear")}));const C=()=>{s.controlBar.hide();const R=dW(E);oS(m,"AdStarted",R,p),m.startAd()}},E=()=>{gt(this,vl)?p("Received cancel signal"):(On(this,yf,!0),e.track("start"),s.on("playerresize",x),s.trigger("ads-ad-started"),s.trigger({type:"vast.adStart",vast:Fh(e)}))},x=()=>{m.resizeAd(s.currentWidth(),s.currentHeight(),s.isFullscreen()?"fullscreen":"normal")};m.handshakeVersion("2.0",y)},l=e.creative,c=l.mediaFiles.find(h=>h.apiFramework==="VPAID"&&hxe(h));if(!c)throw new Error("Invalid VPAID media file: only JavaScript is supported");a=mxe(i),s.el().insertBefore(a,s.controlBar.el());const u=dxe(s,i),d=new lxe(a,u,{});d.loadAdUnit(c.fileURL,o)})}cancel(){On(this,vl,!0),gt(this,yf)&&gt(this,Tf).trigger("forceStopAd")}}Kc=new WeakMap,vl=new WeakMap,yf=new WeakMap,T2=new WeakMap,v2=new WeakMap,Tf=new WeakMap;function dxe(t,e){const n=e.vpaid.videoInstance;let r;return n==="none"?r=null:(n!=="same"&&console.log(`${n} is an invalid videoInstance value. Defaulting to 'same'.`),r=t.tech({kindaKnowWhatImDoing:!0}).el(),r==null&&console.log("Unable to find the video element for VPAID.")),r}function hxe(t){return cxe.indexOf(t.mimeType.trim())>-1}function mxe(t){const e=t.vpaid.containerClass,n=document.createElement("div");return e&&n.classList.add(e),n}function SW(t,e=null){const n=setTimeout(()=>{t=()=>{},e&&e()},1e4);return function(){clearTimeout(n),t.apply(null,arguments)}}function oS(t,e,n,r){const i=SW(n,()=>{r&&r(new Error(`Timeout while waiting for ${e} event.`))});t.subscribe(e,i)}const pxe=Q.getPlugin("plugin"),fxe=Object.freeze({seekEnabled:!1,controlsEnabled:!1,wrapperLimit:10,withCredentials:!0,skip:0,autoplay:!0,muted:!1,displaySkipBtn:!0,displayRemainingTime:!1,displayRemainingTimeIcons:!1,messages:{skip:"Skip",skipCountdown:"Skip in {seconds}...",remainingTime:"This ad will end in {seconds}"},vpaid:{containerClass:"vjs-vpaid-container",videoInstance:"none"},companion:{elementId:null,maxWidth:0,maxHeight:0},honorSkipOffset:!1});class gxe extends pxe{constructor(e,n){super(e),typeof e.ads=="function"&&e.ads({debug:!0,stitchedAds:!0,liveCuePoints:!1}),n=(parseInt(Q.VERSION,10)>=8?Q.obj.merge:Q.mergeOptions)(fxe,n||{});const r=new PIe,i=[];let s=null,a=0,o=0;const l=new uxe(e,n);let c=!1,u=n.schedule;u==null||u.length===0?u=[{offset:0,url:n.url||null,xml:n.xml||null}]:(u=FIe(u),u.forEach(ne=>delete ne.offsetInSeconds));const d=X(u),h=he(u),m=ie(u).sort((ne,oe)=>ne.offset-oe.offset);e.on("adtimeout",()=>{console.log("Ad timeout"),c=!0});const g=new MIe(e,n);function p(){s!=null&&s.hasVideoMedia()&&(s.linearAdTracker.skip(),e.trigger({type:"vast.skipAd",vast:Fh(s.linearAdTracker)}),x())}this.skipAd=p,g.on("skip",p),g.on("click",()=>{!e.paused()&&!n.autoplay&&e.pause()}),this.adAction=()=>{s.linearAdTracker.click()};const _=(()=>{let ne=!1;return()=>{if(ne)return;let oe=null;for(;m.length>0&&(oe=m[0].offsetInSeconds,oe==null);){const{offset:_e}=m[0];oe=BIe(_e,e.duration()),oe==null?m.shift():m[0].offsetInSeconds=oe}if(oe!=null&&this.player.currentTime()>oe){ne=!0;const _e=m.shift();v.loadAds(_e).then(Y=>{Y.length>0&&(i.push(...Y),s=null,U())}).catch(Y=>{console.log(`An error occurred when loading ads for the midroll ad break: : ${Y==null?void 0:Y.message}`)}).finally(()=>{ne=!1})}}})();m.length>0&&e.on("timeupdate",_),e.on("readyforpostroll",()=>{c=!1,v.loadAds(h).then(ne=>{c?ne.forEach(oe=>{oe.linearAdTracker.error({ERRORCODE:301})}):ne.length>0?(i.push(...ne),s=null,U()):e.trigger("nopostroll")}).catch(ne=>{console.log(`An error occurred when loading ads for the postroll ad break: : ${ne.message}`),e.trigger("nopostroll")})}),e.on("readyforpreroll",()=>{U()});const y=dW(()=>{e.trigger("adsready")});setTimeout(y,3e3);const v=new VIe(r,new cW,new HIe,n);v.loadAds(d).then(ne=>{console.log("trackedAds",ne),c?ne.forEach(oe=>{oe.linearAdTracker.error({ERRORCODE:301})}):ne.length>0?(i.push(...ne),s=null,y(),s||U()):e.trigger("nopreroll")}).catch(ne=>{console.log(`An error occurred when loading ads for the preroll ad break: ${ne.message}`),e.trigger("nopreroll")});const E=ne=>ne.filter(oe=>oe.apiFramework==null).map(oe=>({type:oe.mimeType,src:oe.fileURL})),x=()=>{const ne=i.shift();if(ne!=null&&ne.hasVideoMedia()?s!=null&&s.hasVideoMedia()||g.setUp():s!=null&&s.hasVideoMedia()&&g.tearDown(),ne){if(s=ne,a++,console.log(`Playing ad ${a}/${o}`),s.hasVideoMedia()){const oe=s.linearCreative.mediaFiles,_e=oe.filter(re=>re.deliveryType==="streaming"),Y=oe.filter(re=>re.deliveryType!=="streaming");if(Y.length>0)e.src(E(Y));else if(_e.length>0){let re=s.linearAdTracker.assetDuration;if(re==null||re<1){console.log("Streaming ads must have a duration"),x();return}e.src(E(_e)),s.skipAfterDuration=!0}g.duration=s.linearAdTracker.assetDuration||0;const te=s.linearAdTracker.skipDelay;g.skipDelay=te!=null&&n.honorSkipOffset?te:n.skip,n.autoplay&&e.play(),n.muted&&e.muted(!0)}else l.handle(s.linearAdTracker).then(()=>{x()}).catch(oe=>{console.log(oe),x()});D()}else s=null,a=0,pe()},{setUpEvents:C,tearDownEvents:R}=(()=>{const ne=()=>{if(s.skipAfterDuration){const W=s;setTimeout(()=>{s===W&&p()},W.linearAdTracker.assetDuration*1e3)}!s.linearAdTracker.impressed&&s.hasVideoMedia()&&(s.linearAdTracker.trackImpression(),e.trigger({type:"vast.adStart",vast:Fh(s.linearAdTracker),adCount:a,adTotal:o,skipDelay:g.skipDelay}))},oe=()=>{s&&(isNaN(s.linearAdTracker.assetDuration)&&(s.linearAdTracker.assetDuration=e.duration()),s.linearAdTracker.setProgress(e.currentTime()))},_e=()=>{e.remainingTime()>0&&(s.linearAdTracker.setPaused(!0),e.one("adplay",()=>{s.linearAdTracker.setPaused(!1)}))},Y=()=>{s.linearAdTracker.error({ERRORCODE:405}),e.error(null),x()},te=()=>{s.linearAdTracker.setFullscreen(e.isFullscreen())},re=(()=>{let W=e.muted(),J=e.volume();return()=>{const le=e.volume(),ve=e.muted();W!==ve?(s.linearAdTracker.setMuted(ve),W=ve):J!==le&&(J>0&&le===0?s.linearAdTracker.setMuted(!0):J===0&&le>0&&s.linearAdTracker.setMuted(!1),J=le)}})(),Ae=()=>{s.hasVideoMedia()&&(s.linearAdTracker.complete(),e.trigger({type:"vast.adEnd",vast:Fh(s.linearAdTracker)}),x())};return{setUpEvents:()=>{e.on("adended",Ae),e.on("adplay",ne),e.on("adtimeupdate",oe),e.on("adpause",_e),e.on("aderror",Y),e.on("advolumechange",re),e.on("fullscreenchange",te)},tearDownEvents:()=>{e.off("adended",Ae),e.off("adplay",ne),e.off("adtimeupdate",oe),e.off("adpause",_e),e.off("aderror",Y),e.off("advolumechange",re),e.off("fullscreenchange",te)}}})(),D=()=>{const ne=s.companionTracker,oe=document.getElementById(n.companion.elementId);if(ne&&ne.variation&&oe){const _e=ne.variation,Y=()=>{ne.click()},te=document.createElement("a");te.src="#",te.addEventListener("click",Y);const re=document.createElement("img");re.src=_e.staticResource,te.appendChild(re),oe.innerHTML="",oe.appendChild(te)}else oe&&(oe.innerHTML="")},U=()=>{o=i.length,console.log(`Playing ${o} ads`),e.ads.startLinearAdMode(),C(),x()};function K(ne){return ne.offset===0||ne.offset==null||ne.offset==="pre"}function V(ne){return ne.offset==="post"}function X(ne){return ne.find(K)}function he(ne){return ne.find(V)}function ie(ne){return ne.filter(oe=>!K(oe)&&!V(oe))}const pe=()=>{e.ads.endLinearAdMode(),R()}}}Q.registerPlugin("vast",gxe);const yxe=({promotion:t,controlVideo:e,onClose:n,promotionId:r,externalAd:i,skipAutoClose:s})=>{var a,o,l,c,u;const d=N.useRef(null),h=N.useRef(),m=N.useRef(),[g,p]=N.useState(!0),[_,y]=N.useState(!0),[v,E]=N.useState(!1),[x,C]=N.useState(0),[R,D]=N.useState(0),[U,K]=N.useState(0),[V,X]=N.useState(0),[he,ie]=N.useState(),pe=N.useCallback(()=>{h.current&&(h.current.dispose(),h.current=void 0)},[]),ne=N.useCallback(()=>{C(0),D(0),K(0),p(!1),ie(void 0),e==null||e({muted:!1}),pe(),m.current=void 0,h.current=void 0,d.current&&(d.current.innerHTML="")},[e,pe]);N.useEffect(()=>{if(i!=null&&i.url&&d.current){p(!0);const _e=document.createElement("video");_e.classList.add("video-js","vjs-default-skin"),d.current.appendChild(_e),h.current=Q(_e,{controls:!1,playsinline:!0}),h.current.on("pause",()=>{y(!0)}),h.current.on("play",()=>{y(!1)}),h.current.on("vast.play",Y=>{console.log("Ad is playing",Y)}),h.current.on("timeupdate",Y=>{C(Math.round(Y.target.player.duration()-Y.target.player.currentTime()))}),h.current.on("vast.adStart",Y=>{console.log("Ad is start",Y),p(!0),K(Y.adCount),D(Y.adTotal),X(Y.skipDelay),E(Y.vast.hasAdUrl),ie(Y.vast.whyThisAd),Y.vast.whyThisAd&&console.log(JSON.stringify(Y.vast.whyThisAd,null,2))}),h.current.on("nopreroll",Y=>{console.log("Ad is nopreroll",Y)}),h.current.on("nopostroll",Y=>{console.log("Ad is nopostroll",Y)}),h.current.on("vast.adEnd",Y=>{console.log("Ad is end",Y),p(!1),n==null||n()}),h.current.on("vast.skipAd",Y=>{console.log("Ad is skip",Y),ne(),n==null||n()}),fCe(d.current,i==null?void 0:i.url)().then(Y=>{Y&&h.current?m.current=h.current.vast({url:Y.toString(),honorSkipOffset:!0,displayRemainingTimeIcons:!0,displaySkipBtn:!1,withCredentials:!0,autoplay:Y.searchParams.get("vpa")!=="click",muted:Y.searchParams.get("vpmute")==="1"}):ne()}).catch(Y=>{console.log("error",Y),ne()})}return ne},[i==null?void 0:i.url,pe,ne,n]);const oe=((a=t.sponsor)==null?void 0:a.logo)&&t.logoMode===zd.CENTER;return S.jsxs(gH,{className:"PromoOverlay",children:[S.jsxs(yH,{children:[S.jsx(TH,{className:Bn(!oe&&vH),children:S.jsx(bH,{style:{transform:"scale(1.5)"},children:"Ad"})}),S.jsxs(q8e,{children:[S.jsx(j8e,{time:x,adCount:R,adPosition:U}),!!V&&g&&S.jsx(S1,{timerClassName:"SkipTimerCount",className:"ClosePromoIcon",close:()=>{var _e;(_e=m.current)==null||_e.skipAd()},duration:V,isPlaying:!_,skipIcon:!0}),s&&S.jsx(S1,{className:"ClosePromoIcon",close:()=>{ne(),n==null||n()}})]})]}),S.jsx(_H,{className:Bn(VR,g&&HR,!g&&GR),children:S.jsx(G8e,{ref:d,children:he&&S.jsx(H8e,{whyThisAd:he})})}),v&&S.jsx(SH,{className:Bn(VR,g&&HR,!g&&GR),children:S.jsx(EH,{as:"button",onClick:()=>{var _e;(_e=m.current)==null||_e.adAction()},style:{backgroundColor:((l=(o=t.banner)==null?void 0:o.ctaButton)==null?void 0:l.color)||"#009dc4",color:((u=(c=t.banner)==null?void 0:c.ctaButton)==null?void 0:u.textColor)||"#fff"},"data-analytics":"button","data-promo-id":r,"data-promo-type":t.type,target:"_blank",children:"Show more"})})]})},qO=t=>{var e,n,r,i,s,a,o,l,c,u,d,h,m,g,p,_,y,v,E,x,C,R,D,U,K,V,X,he,ie,pe;const{promotion:ne,open:oe,advertisementPaused:_e,togglePause:Y,controlVideo:te,skipAutoClose:re,promotionId:Ae,onClose:W,markAsViewed:J,externalAd:le}=t,ve=ne.type===xt.INGAME_IAB11_LBAR||ne.type===xt.INGAME_IAB11,Re=((e=ne.sponsor)==null?void 0:e.logo)&&ne.logoMode===zd.CENTER,Me=!!((r=(n=ne.banner)==null?void 0:n.video)!=null&&r.url),Ue=ne.autoPlayVideo===og.ENABLED;if(N.useEffect(()=>{Y==null||Y(Me||Ue),oe==null||oe()},[]),N.useEffect(()=>{Ae&&ne.type&&J&&J()},[Ae,ne.type,J]),N.useEffect(()=>()=>{te==null||te({muted:!1})},[te]),le)return S.jsx(yxe,{...t,externalAd:le});let Ge=(i=ne.banner)==null?void 0:i.url;Ge&&Ge.indexOf("http")!==0&&(Ge=`https://${Ge}`);let Je=!0;return Me&&(!_e||!Ue?Je=!0:Je=!1),S.jsxs(gH,{className:"PromoOverlay",children:[S.jsxs(yH,{children:[S.jsxs(TH,{className:Bn(!Re&&vH),children:[((s=ne.sponsor)==null?void 0:s.logo)&&ne.logoMode===zd.LEFT&&S.jsx(FR,{className:"PromoSponsorLogo",src:(a=ne.sponsor)==null?void 0:a.logo,alt:"promo"}),S.jsxs(D8e,{style:{paddingLeft:(o=ne.sponsor)!=null&&o.logo&&ne.logoMode===zd.LEFT?"0px":"8px"},children:[((l=ne.sponsor)==null?void 0:l.logo)&&ne.logoMode===zd.LEFT&&S.jsx(L8e,{children:(c=ne.sponsor)==null?void 0:c.name}),S.jsxs(P8e,{className:"SponsorText",children:[S.jsx(bH,{children:"AD"}),S.jsx(M8e,{children:"SPONSORED"})]})]})]}),S.jsx(S1,{className:"ClosePromoIcon",close:W,autoClose:(u=ne.closeTimer)==null?void 0:u.auto,duration:re?0:(d=ne.closeTimer)==null?void 0:d.seconds,isPlaying:Je})]}),S.jsxs(_H,{children:[Re&&S.jsx(FR,{className:N8e,src:(h=ne.sponsor)==null?void 0:h.logo,alt:"promo"}),S.jsx(BR,{children:(g=(m=ne.banner)==null?void 0:m.video)!=null&&g.url?S.jsx(j3,{source:(_=(p=ne.banner)==null?void 0:p.video)==null?void 0:_.url,poster:(v=(y=ne.banner)==null?void 0:y.video)==null?void 0:v.thumbnailUrl,aspectRatio:ve?"1/1":"16/9",onPause:()=>{Ue&&(Y==null||Y(!0))},onPlay:()=>{Fa.emit("advertisement",{action:"videoPlay",payload:{id:Ae,type:ne.type}}),Y==null||Y(!1)},controlVideo:te,autoPlay:Ue}):(E=ne.banner)!=null&&E.imageUrl?S.jsx(R8e,{style:ve?{aspectRatio:"1/1"}:{},src:(x=ne.banner)==null?void 0:x.imageUrl,alt:"promo"}):null}),!ve&&S.jsxs(BR,{children:[((C=ne.banner)==null?void 0:C.title)&&S.jsx($8e,{className:Bn("AdvTitle",Re&&U8e),children:(R=ne.banner)==null?void 0:R.title}),((D=ne.banner)==null?void 0:D.body)&&S.jsx(O8e,{className:"AdvDescription",children:(U=ne.banner)==null?void 0:U.body})]})]}),ne.buttonType!==GU.NO_BUTTON&&S.jsx(SH,{children:S.jsx(EH,{href:Ge,style:{backgroundColor:((V=(K=ne.banner)==null?void 0:K.ctaButton)==null?void 0:V.color)||"#009dc4",color:((he=(X=ne.banner)==null?void 0:X.ctaButton)==null?void 0:he.textColor)||"#fff"},"data-analytics":"button","data-promo-id":Ae,"data-promo-type":ne.type,target:"_blank",children:(pe=(ie=ne.banner)==null?void 0:ie.ctaButton)==null?void 0:pe.label})})]})},Txe=P("div")({name:"SidebarContainer",class:"s1abskp8",propsAsIs:!1}),vxe=({children:t,direction:e,style:n,className:r,hiding:i})=>S.jsx(K9,{direction:e,style:n,hiding:i,className:r,children:S.jsx(Txe,{children:t})}),_xe=t=>(t==null?void 0:t.type)===xt.INGAME_IAB11_LBAR||(t==null?void 0:t.type)===xt.INGAME_IAB21_LBAR,bxe=t=>(t==null?void 0:t.type)===xt.INGAME_IAB11||(t==null?void 0:t.type)===xt.INGAME_IAB21,Sxe=({advertisement:t,close:e,skipTypeCheck:n,skipAutoClose:r,layoutMode:i="side-by-side",sidebar:s,isNotification:a,banner:o,markAsViewed:l,open:c,externalAd:u,controlVideo:d,advertisementPaused:h,togglePause:m})=>t.promotion?a&&t.notification?S.jsx(I8e,{open:()=>c==null?void 0:c({fromNotification:!0}),notification:t.notification,promotionId:t.question.id}):!s&&!o&&(n||bxe(t.promotion))?S.jsx(x8e,{className:"PromoOverlayContainer",children:S.jsx(qO,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,onClose:e,open:c,skipAutoClose:r,externalAd:u,controlVideo:d,advertisementPaused:h,togglePause:m})}):s&&(n||_xe(t.promotion))?S.jsx(vxe,{className:"PromoSidebarContainer",direction:s,hiding:!1,children:S.jsx(qO,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,externalAd:u,onClose:e,open:c,controlVideo:d,skipAutoClose:r,advertisementPaused:h,togglePause:m})}):o?S.jsx(zEe,{promotionId:t.question.id,hiding:!1,promotion:t.promotion,direction:o}):null:null,Exe=P("div")({name:"AdvertisementUIWrap",class:"aa6pjif",propsAsIs:!1}),kxe=t=>{const e=t.target;if(e instanceof HTMLAnchorElement&&e.target==="_blank"){const n=e.getAttribute("data-promo-id")||"",r=e.getAttribute("data-promo-type")||xt.UNSET;e.getAttribute("data-analytics")==="button"&&Fa.emit("advertisement",{action:"buttonSelect",payload:{id:n,type:r}}),e.getAttribute("data-analytics")==="banner"&&Fa.emit("advertisement",{action:"bannerSelect",payload:{id:n,type:r}})}},Axe=({gamification:t,layoutMode:e,skipAutoClose:n,skipTypeCheck:r,sidebar:i,banner:s,notification:a,isMobileScreen:o,persistent:l,externalAd:c,controlVideo:u})=>{var d,h,m;const g=N.useRef(null),p=ot(t.advertisement.$store);xB(g,{enabled:!!p.data,event:"click",listener:kxe});const _=!s&&!i;if(p.data===void 0||!l&&p.isViewed)return null;const y=((m=(h=(d=p==null?void 0:p.data)==null?void 0:d.notification)==null?void 0:h.promotion)==null?void 0:m.mode)===g5.LOWER_THIRD;return S.jsx(Exe,{ref:g,style:{height:_?"auto":"100%"},className:Bn("SL-AdvertisementUIWrap",o&&"mobile-view",y&&"SL-AdvertisementUIWrap--lower-third"),children:S.jsx(Sxe,{skipTypeCheck:r,sidebar:i,banner:s,advertisement:p.data,advertisementPaused:p.isPaused,togglePause:p.togglePause,close:p.close,externalAd:c?p.externalAd:void 0,markAsViewed:t.advertisement.markAsViewed,open:t.advertisement.open,layoutMode:e,isNotification:a,skipAutoClose:n,controlVideo:u})})},wxe=({sdk:t,sidebar:e,externalAd:n,banner:r,skipAutoClose:i,skipTypeCheck:s,layoutMode:a,isMobileScreen:o,persistent:l,notification:c})=>{const u=ot(t.featuresList.getStore()),[d,h]=N.useState(!n);if(N.useEffect(()=>{if(n){const g=document.createElement("script");g.async=!0,g.src="https://imasdk.googleapis.com/pal/sdkloader/pal.js",document.body.appendChild(g),g.onload=()=>{h(!0)}}},[n]),e&&r)return S.jsx("div",{style:{color:"red"},children:"define either sidebar or banner, not both."});if(r&&n)return S.jsx("div",{style:{color:"red"},children:"externalAd is not supported with banner"});if(!u)return null;const m=t.getFeature(Qe.GAMES);return!m||n&&!d?null:S.jsx(Axe,{gamification:m,sidebar:e,banner:r,layoutMode:a,isMobileScreen:o,persistent:l,notification:c,skipTypeCheck:s,skipAutoClose:i,externalAd:n,controlVideo:t.controlVideoPlayer})},vd=({event:t,sidebar:e,banner:n,isMobileScreen:r,skipAutoClose:i,persistent:s,theme:a,notification:o,skipTypeCheck:l,externalAd:c})=>{const u=jm(),d=G3(),h=H3();return u?c&&!d.promotionExternalAd?t!==void 0&&S.jsx(Tl,{event:t}):!c&&d.promotionExternalAd?t!==void 0&&S.jsx(Tl,{event:t}):e&&!d.promotionSidebar?t!==void 0&&S.jsx(Tl,{event:t}):n&&!d.promotionBanner?t!==void 0&&S.jsx(Tl,{event:t}):o&&!d.promotionNotification?t!==void 0&&S.jsx(Tl,{event:t}):!n&&!e&&!o&&!d.promotionOverlay?t!==void 0&&S.jsx(Tl,{event:t}):S.jsxs("div",{className:"StreamLayerSDK",children:[S.jsx(V3,{customTheme:a??h.theme,themeMode:h.themeMode,children:S.jsx(wxe,{sdk:u,sidebar:e,banner:n,isMobileScreen:r,persistent:s,notification:o,skipTypeCheck:l,skipAutoClose:i,layoutMode:"side-by-side",externalAd:c})}),t!==void 0&&S.jsx(Tl,{event:t})]}):null};function cn(t,e){if(!t)throw new Error(e)}const Cxe=34028234663852886e22,Ixe=-34028234663852886e22,xxe=4294967295,Lxe=2147483647,Rxe=-2147483648;function _2(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>Lxe||t<Rxe)throw new Error("invalid int 32: "+t)}function qk(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>xxe||t<0)throw new Error("invalid uint 32: "+t)}function EW(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>Cxe||t<Ixe))throw new Error("invalid float 32: "+t)}const kW=Symbol("@bufbuild/protobuf/enum-type");function Nxe(t){const e=t[kW];return cn(e,"missing enum type on enum object"),e}function AW(t,e,n,r){t[kW]=wW(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function wW(t,e,n){const r=Object.create(null),i=Object.create(null),s=[];for(const a of e){const o=CW(a);s.push(o),r[a.name]=o,i[a.no]=o}return{typeName:t,values:s,findName(a){return r[a]},findNumber(a){return i[a]}}}function Oxe(t,e,n){const r={};for(const i of e){const s=CW(i);r[s.localName]=s.no,r[s.no]=s.localName}return AW(r,t,e),r}function CW(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class IW{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(n);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(n);return i.readMessage(r,e,s,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e==null?void 0:e.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Dxe(t,e,n,r){var i;const s=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),a={[s]:function(o){t.util.initFields(this),t.util.initPartial(o,this)}}[s];return Object.setPrototypeOf(a.prototype,new IW),Object.assign(a,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(o,l){return new a().fromBinary(o,l)},fromJson(o,l){return new a().fromJson(o,l)},fromJsonString(o,l){return new a().fromJsonString(o,l)},equals(o,l){return t.util.equals(a,o,l)}}),a}function Pxe(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function lS(t,e,n){for(let s=0;s<28;s=s+7){const a=t>>>s,o=!(!(a>>>7)&&e==0),l=(o?a|128:a)&255;if(n.push(l),!o)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const a=e>>>s,o=!!(a>>>7),l=(o?a|128:a)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const b2=4294967296;function zO(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(a,o){const l=Number(t.slice(a,o));i*=n,r=r*n+l,r>=b2&&(i=i+(r/b2|0),r=r%b2)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?LW(r,i):nw(r,i)}function Mxe(t,e){let n=nw(t,e);const r=n.hi&2147483648;r&&(n=LW(n.lo,n.hi));const i=xW(n.lo,n.hi);return r?"-"+i:i}function xW(t,e){if({lo:t,hi:e}=$xe(t,e),e<=2097151)return String(b2*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,a=r+i*8147497,o=i*2;const l=1e7;return s>=l&&(a+=Math.floor(s/l),s%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+WO(a)+WO(s)}function $xe(t,e){return{lo:t>>>0,hi:e>>>0}}function nw(t,e){return{lo:t|0,hi:e|0}}function LW(t,e){return e=~e,t?t=~t+1:e+=1,nw(t,e)}const WO=t=>{const e=String(t);return"0000000".slice(e.length)+e};function KO(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function Uxe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var YO={};function Fxe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof YO!="object"||YO.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>s||c<i)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<a)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}const n=i=>cn(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),r=i=>cn(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),zO(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),zO(i)},dec(i,s){return Mxe(i,s)},uDec(i,s){return xW(i,s)}}}const xi=Fxe();var Ee;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Ee||(Ee={}));var fc;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(fc||(fc={}));function fl(t,e,n){if(e===n)return!0;if(t==Ee.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case Ee.UINT64:case Ee.FIXED64:case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:return e==n}return!1}function km(t,e){switch(t){case Ee.BOOL:return!1;case Ee.UINT64:case Ee.FIXED64:case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:return e==0?xi.zero:"0";case Ee.DOUBLE:case Ee.FLOAT:return 0;case Ee.BYTES:return new Uint8Array(0);case Ee.STRING:return"";default:return 0}}function RW(t,e){switch(t){case Ee.BOOL:return e===!1;case Ee.STRING:return e==="";case Ee.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var bn;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(bn||(bn={}));class Bxe{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(qk(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return _2(e),KO(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){EW(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){qk(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){_2(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return _2(e),e=(e<<1^e>>31)>>>0,KO(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=xi.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=xi.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=xi.enc(e);return lS(n.lo,n.hi,this.buf),this}sint64(e){let n=xi.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return lS(i,s,this.buf),this}uint64(e){let n=xi.uEnc(e);return lS(n.lo,n.hi,this.buf),this}}class jxe{constructor(e,n){this.varint64=Pxe,this.uint32=Uxe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case bn.Varint:for(;this.buf[this.pos++]&128;);break;case bn.Bit64:this.pos+=4;case bn.Bit32:this.pos+=4;break;case bn.LengthDelimited:let i=this.uint32();this.pos+=i;break;case bn.StartGroup:for(;;){const[s,a]=this.tag();if(a===bn.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return xi.dec(...this.varint64())}uint64(){return xi.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,xi.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return xi.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return xi.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function Vxe(t,e,n,r){let i;return{typeName:e,extendee:n,get field(){if(!i){const s=typeof r=="function"?r():r;s.name=e.split(".").pop(),s.jsonName=`[${e}]`,i=t.util.newFieldList([s]).list()[0]}return i},runtime:t}}function NW(t){const e=t.field.localName,n=Object.create(null);return n[e]=Hxe(t),[n,()=>n[e]]}function Hxe(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return km(e.T,e.L);case"message":const n=e.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function Gxe(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),v_=[];for(let t=0;t<vo.length;t++)v_[vo[t].charCodeAt(0)]=t;v_[45]=vo.indexOf("+");v_[95]=vo.indexOf("/");const OW={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,s,a=0;for(let o=0;o<t.length;o++){if(s=v_[t.charCodeAt(o)],s===void 0)switch(t[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=s,i=1;break;case 1:n[r++]=a<<2|(s&48)>>4,a=s,i=2;break;case 2:n[r++]=(a&15)<<4|(s&60)>>2,a=s,i=3;break;case 3:n[r++]=(a&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let s=0;s<t.length;s++)switch(r=t[s],n){case 0:e+=vo[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=vo[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=vo[i|r>>6],e+=vo[r&63],n=0;break}return n&&(e+=vo[i],e+="=",n==1&&(e+="=")),e}};function qxe(t,e,n){PW(e,t);const r=e.runtime.bin.makeReadOptions(n),i=Gxe(t.getType().runtime.bin.listUnknownFields(t),e.field),[s,a]=NW(e);for(const o of i)e.runtime.bin.readField(s,r.readerFactory(o.data),e.field,o.wireType,r);return a()}function zxe(t,e,n,r){PW(e,t);const i=e.runtime.bin.makeReadOptions(r),s=e.runtime.bin.makeWriteOptions(r);if(DW(t,e)){const c=t.getType().runtime.bin.listUnknownFields(t).filter(u=>u.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const u of c)t.getType().runtime.bin.onUnknownField(t,u.no,u.wireType,u.data)}const a=s.writerFactory();let o=e.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(o,n,a,s);const l=i.readerFactory(a.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),d=l.skip(u,c);t.getType().runtime.bin.onUnknownField(t,c,u,d)}}function DW(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(r=>r.no==e.field.no)}function PW(t,e){cn(t.extendee.typeName==e.getType().typeName,`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}function MW(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!RW(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function QO(t,e){const n=t.localName,r=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=r?t.T.values[0].no:void 0;break;case"scalar":e[n]=r?km(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function ku(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(IW.prototype).every(r=>r in t&&typeof t[r]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function $W(t,e){return ku(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}Ee.DOUBLE,Ee.FLOAT,Ee.INT64,Ee.UINT64,Ee.INT32,Ee.UINT32,Ee.BOOL,Ee.STRING,Ee.BYTES;const XO={ignoreUnknownFields:!1},ZO={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Wxe(t){return t?Object.assign(Object.assign({},XO),t):XO}function Kxe(t){return t?Object.assign(Object.assign({},ZO),t):ZO}const wv=Symbol(),S2=Symbol();function Yxe(){return{makeReadOptions:Wxe,makeWriteOptions:Kxe,readMessage(t,e,n,r){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${fa(e)}`);r=r??new t;const i=new Map,s=n.typeRegistry;for(const[a,o]of Object.entries(e)){const l=t.fields.findJsonName(a);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=i.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${a}"`);i.set(l.oneof,a)}JO(r,o,l,n,t)}else{let c=!1;if(s!=null&&s.findExtension&&a.startsWith("[")&&a.endsWith("]")){const u=s.findExtension(a.substring(1,a.length-1));if(u&&u.extendee.typeName==t.typeName){c=!0;const[d,h]=NW(u);JO(d,o,u.field,n,u),zxe(r,u,h(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${a}" is unknown`)}}return r},writeMessage(t,e){const n=t.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!MW(i,t)){if(i.req)throw"required field not set";if(!e.emitDefaultValues||!Xxe(i))continue}const a=i.oneof?t[i.oneof.localName].value:t[i.localName],o=eD(i,a,e);o!==void 0&&(r[e.useProtoFieldName?i.name:i.jsonName]=o)}const s=e.typeRegistry;if(s!=null&&s.findExtensionFor)for(const a of n.runtime.bin.listUnknownFields(t)){const o=s.findExtensionFor(n.typeName,a.no);if(o&&DW(t,o)){const l=qxe(t,o,e),c=eD(o.field,l,e);c!==void 0&&(r[o.field.jsonName]=c)}}}catch(s){const a=i?`cannot encode field ${n.typeName}.${i.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=s instanceof Error?s.message:String(s);throw new Error(a+(o.length>0?`: ${o}`:""))}return r},readScalar(t,e,n){return Xf(t,e,n??fc.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||RW(t,e)))return E2(t,e)},debug:fa}}function fa(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function JO(t,e,n,r,i){let s=n.localName;if(n.repeated){if(cn(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${fa(e)}`);const a=t[s];for(const o of e){if(o===null)throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${fa(o)}`);switch(n.kind){case"message":a.push(n.T.fromJson(o,r));break;case"enum":const l=cS(n.T,o,r.ignoreUnknownFields,!0);l!==S2&&a.push(l);break;case"scalar":try{a.push(Xf(n.T,o,n.L,!0))}catch(c){let u=`cannot decode field ${i.typeName}.${n.name} from JSON: ${fa(o)}`;throw c instanceof Error&&c.message.length>0&&(u+=`: ${c.message}`),new Error(u)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${fa(e)}`);const a=t[s];for(const[o,l]of Object.entries(e)){if(l===null)throw new Error(`cannot decode field ${i.typeName}.${n.name} from JSON: map value null`);let c;try{c=Qxe(n.K,o)}catch(u){let d=`cannot decode map key for field ${i.typeName}.${n.name} from JSON: ${fa(e)}`;throw u instanceof Error&&u.message.length>0&&(d+=`: ${u.message}`),new Error(d)}switch(n.V.kind){case"message":a[c]=n.V.T.fromJson(l,r);break;case"enum":const u=cS(n.V.T,l,r.ignoreUnknownFields,!0);u!==S2&&(a[c]=u);break;case"scalar":try{a[c]=Xf(n.V.T,l,fc.BIGINT,!0)}catch(d){let h=`cannot decode map value for field ${i.typeName}.${n.name} from JSON: ${fa(e)}`;throw d instanceof Error&&d.message.length>0&&(h+=`: ${d.message}`),new Error(h)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:s},s="value"),n.kind){case"message":const a=n.T;if(e===null&&a.typeName!="google.protobuf.Value")return;let o=t[s];ku(o)?o.fromJson(e,r):(t[s]=o=a.fromJson(e,r),a.fieldWrapper&&!n.oneof&&(t[s]=a.fieldWrapper.unwrapField(o)));break;case"enum":const l=cS(n.T,e,r.ignoreUnknownFields,!1);switch(l){case wv:QO(n,t);break;case S2:break;default:t[s]=l;break}break;case"scalar":try{const c=Xf(n.T,e,n.L,!1);switch(c){case wv:QO(n,t);break;default:t[s]=c;break}}catch(c){let u=`cannot decode field ${i.typeName}.${n.name} from JSON: ${fa(e)}`;throw c instanceof Error&&c.message.length>0&&(u+=`: ${c.message}`),new Error(u)}break}}function Qxe(t,e){if(t===Ee.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return Xf(t,e,fc.BIGINT,!0).toString()}function Xf(t,e,n,r){if(e===null)return r?km(t,n):wv;switch(t){case Ee.DOUBLE:case Ee.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return t==Ee.FLOAT&&EW(i),i;case Ee.INT32:case Ee.FIXED32:case Ee.SFIXED32:case Ee.SINT32:case Ee.UINT32:let s;if(typeof e=="number"?s=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(s=Number(e)),s===void 0)break;return t==Ee.UINT32||t==Ee.FIXED32?qk(s):_2(s),s;case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:if(typeof e!="number"&&typeof e!="string")break;const a=xi.parse(e);return n?a.toString():a;case Ee.FIXED64:case Ee.UINT64:if(typeof e!="number"&&typeof e!="string")break;const o=xi.uParse(e);return n?o.toString():o;case Ee.BOOL:if(typeof e!="boolean")break;return e;case Ee.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case Ee.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return OW.dec(e)}throw new Error}function cS(t,e,n,r){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:r?t.values[0].no:wv;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=t.findName(e);if(i!==void 0)return i.no;if(n)return S2;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${fa(e)}`)}function Xxe(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function eD(t,e,n){if(t.kind=="map"){cn(typeof e=="object"&&e!=null);const r={},i=Object.entries(e);switch(t.V.kind){case"scalar":for(const[a,o]of i)r[a.toString()]=E2(t.V.T,o);break;case"message":for(const[a,o]of i)r[a.toString()]=o.toJson(n);break;case"enum":const s=t.V.T;for(const[a,o]of i)r[a.toString()]=uS(s,o,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(t.repeated){cn(Array.isArray(e));const r=[];switch(t.kind){case"scalar":for(let i=0;i<e.length;i++)r.push(E2(t.T,e[i]));break;case"enum":for(let i=0;i<e.length;i++)r.push(uS(t.T,e[i],n.enumAsInteger));break;case"message":for(let i=0;i<e.length;i++)r.push(e[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(t.kind){case"scalar":return E2(t.T,e);case"enum":return uS(t.T,e,n.enumAsInteger);case"message":return $W(t.T,e).toJson(n)}}function uS(t,e,n){var r;if(cn(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const i=t.findNumber(e);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:e}function E2(t,e){switch(t){case Ee.INT32:case Ee.SFIXED32:case Ee.SINT32:case Ee.FIXED32:case Ee.UINT32:return cn(typeof e=="number"),e;case Ee.FLOAT:case Ee.DOUBLE:return cn(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case Ee.STRING:return cn(typeof e=="string"),e;case Ee.BOOL:return cn(typeof e=="boolean"),e;case Ee.UINT64:case Ee.FIXED64:case Ee.INT64:case Ee.SFIXED64:case Ee.SINT64:return cn(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case Ee.BYTES:return cn(e instanceof Uint8Array),OW.enc(e)}}const _d=Symbol("@bufbuild/protobuf/unknown-fields"),tD={readUnknownFields:!0,readerFactory:t=>new jxe(t)},nD={writeUnknownFields:!0,writerFactory:()=>new Bxe};function Zxe(t){return t?Object.assign(Object.assign({},tD),t):tD}function Jxe(t){return t?Object.assign(Object.assign({},nD),t):nD}function eLe(){return{makeReadOptions:Zxe,makeWriteOptions:Jxe,listUnknownFields(t){var e;return(e=t[_d])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[_d]},writeUnknownFields(t,e){const r=t[_d];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[_d])||(i[_d]=[]),i[_d].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r,i){const s=t.getType(),a=i?e.len:e.pos+n;let o,l;for(;e.pos<a&&([o,l]=e.tag(),!(i===!0&&l==bn.EndGroup));){const c=s.fields.find(o);if(!c){const u=e.skip(l,o);r.readUnknownFields&&this.onUnknownField(t,o,l,u);continue}rD(t,e,c,l,r)}if(i&&(l!=bn.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:rD,writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){if(!MW(i,t)){if(i.req)throw new Error(`cannot encode field ${r.typeName}.${i.name} to binary: required field not set`);continue}const s=i.oneof?t[i.oneof.localName].value:t[i.localName];iD(i,s,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,r){e!==void 0&&iD(t,e,n,r)}}}function rD(t,e,n,r,i){let{repeated:s,localName:a}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=a&&delete t.value,t.case=a,a="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?Ee.INT32:n.T;let l=Cv;if(n.kind=="scalar"&&n.L>0&&(l=nLe),s){let h=t[a];if(r==bn.LengthDelimited&&o!=Ee.STRING&&o!=Ee.BYTES){let g=e.uint32()+e.pos;for(;e.pos<g;)h.push(l(e,o))}else h.push(l(e,o))}else t[a]=l(e,o);break;case"message":const c=n.T;s?t[a].push(k2(e,new c,i,n)):ku(t[a])?k2(e,t[a],i,n):(t[a]=k2(e,new c,i,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(t[a]=c.fieldWrapper.unwrapField(t[a])));break;case"map":let[u,d]=tLe(n,e,i);t[a][u]=d;break}}function k2(t,e,n,r){const i=e.getType().runtime.bin,s=r==null?void 0:r.delimited;return i.readMessage(e,t,s?r.no:t.uint32(),n,s),e}function tLe(t,e,n){const r=e.uint32(),i=e.pos+r;let s,a;for(;e.pos<i;){const[o]=e.tag();switch(o){case 1:s=Cv(e,t.K);break;case 2:switch(t.V.kind){case"scalar":a=Cv(e,t.V.T);break;case"enum":a=e.int32();break;case"message":a=k2(e,new t.V.T,n,void 0);break}break}}if(s===void 0&&(s=km(t.K,fc.BIGINT)),typeof s!="string"&&typeof s!="number"&&(s=s.toString()),a===void 0)switch(t.V.kind){case"scalar":a=km(t.V.T,fc.BIGINT);break;case"enum":a=t.V.T.values[0].no;break;case"message":a=new t.V.T;break}return[s,a]}function nLe(t,e){const n=Cv(t,e);return typeof n=="bigint"?n.toString():n}function Cv(t,e){switch(e){case Ee.STRING:return t.string();case Ee.BOOL:return t.bool();case Ee.DOUBLE:return t.double();case Ee.FLOAT:return t.float();case Ee.INT32:return t.int32();case Ee.INT64:return t.int64();case Ee.UINT64:return t.uint64();case Ee.FIXED64:return t.fixed64();case Ee.BYTES:return t.bytes();case Ee.FIXED32:return t.fixed32();case Ee.SFIXED32:return t.sfixed32();case Ee.SFIXED64:return t.sfixed64();case Ee.SINT64:return t.sint64();case Ee.UINT32:return t.uint32();case Ee.SINT32:return t.sint32()}}function iD(t,e,n,r){cn(e!==void 0);const i=t.repeated;switch(t.kind){case"scalar":case"enum":let s=t.kind=="enum"?Ee.INT32:t.T;if(i)if(cn(Array.isArray(e)),t.packed)iLe(n,s,t.no,e);else for(const a of e)Zf(n,s,t.no,a);else Zf(n,s,t.no,e);break;case"message":if(i){cn(Array.isArray(e));for(const a of e)sD(n,r,t,a)}else sD(n,r,t,e);break;case"map":cn(typeof e=="object"&&e!=null);for(const[a,o]of Object.entries(e))rLe(n,r,t,a,o);break}}function rLe(t,e,n,r,i){t.tag(n.no,bn.LengthDelimited),t.fork();let s=r;switch(n.K){case Ee.INT32:case Ee.FIXED32:case Ee.UINT32:case Ee.SFIXED32:case Ee.SINT32:s=Number.parseInt(r);break;case Ee.BOOL:cn(r=="true"||r=="false"),s=r=="true";break}switch(Zf(t,n.K,1,s),n.V.kind){case"scalar":Zf(t,n.V.T,2,i);break;case"enum":Zf(t,Ee.INT32,2,i);break;case"message":cn(i!==void 0),t.tag(2,bn.LengthDelimited).bytes(i.toBinary(e));break}t.join()}function sD(t,e,n,r){const i=$W(n.T,r);n.delimited?t.tag(n.no,bn.StartGroup).raw(i.toBinary(e)).tag(n.no,bn.EndGroup):t.tag(n.no,bn.LengthDelimited).bytes(i.toBinary(e))}function Zf(t,e,n,r){cn(r!==void 0);let[i,s]=UW(e);t.tag(n,i)[s](r)}function iLe(t,e,n,r){if(!r.length)return;t.tag(n,bn.LengthDelimited).fork();let[,i]=UW(e);for(let s=0;s<r.length;s++)t[i](r[s]);t.join()}function UW(t){let e=bn.Varint;switch(t){case Ee.BYTES:case Ee.STRING:e=bn.LengthDelimited;break;case Ee.DOUBLE:case Ee.FIXED64:case Ee.SFIXED64:e=bn.Bit64;break;case Ee.FIXED32:case Ee.SFIXED32:case Ee.FLOAT:e=bn.Bit32;break}const n=Ee[t].toLowerCase();return[e,n]}function sLe(){return{setEnumType:AW,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,s=e,a=t;if(a[i]!=null)switch(r.kind){case"oneof":const o=a[i].case;if(o===void 0)continue;const l=r.findField(o);let c=a[i].value;l&&l.kind=="message"&&!ku(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===Ee.BYTES&&(c=Gp(c)),s[i]={case:o,value:c};break;case"scalar":case"enum":let u=a[i];r.T===Ee.BYTES&&(u=r.repeated?u.map(Gp):Gp(u)),s[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===Ee.BYTES)for(const[m,g]of Object.entries(a[i]))s[i][m]=Gp(g);else Object.assign(s[i],a[i]);break;case"message":const h=r.V.T;for(const m of Object.keys(a[i])){let g=a[i][m];h.fieldWrapper||(g=new h(g)),s[i][m]=g}break}break;case"message":const d=r.T;if(r.repeated)s[i]=a[i].map(h=>ku(h,d)?h:new d(h));else{const h=a[i];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?s[i]=Gp(h):s[i]=h:s[i]=ku(h,d)?h:new d(h)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],s=n[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((a,o)=>r.T.equals(a,s[o]));case"scalar":return i.every((a,o)=>fl(r.T,a,s[o]));case"enum":return i.every((a,o)=>fl(Ee.INT32,a,s[o]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(i,s);case"enum":return fl(Ee.INT32,i,s);case"scalar":return fl(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const a=r.findField(i.case);if(a===void 0)return!0;switch(a.kind){case"message":return a.T.equals(i.value,s.value);case"enum":return fl(Ee.INT32,i.value,s.value);case"scalar":return fl(a.T,i.value,s.value)}throw new Error(`oneof cannot contain ${a.kind}`);case"map":const o=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const l=r.V.T;return o.every(u=>l.equals(i[u],s[u]));case"enum":return o.every(u=>fl(Ee.INT32,i[u],s[u]));case"scalar":const c=r.V.T;return o.every(u=>fl(c,i[u],s[u]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const s=t[i.localName];let a;if(i.repeated)a=s.map(uy);else if(i.kind=="map"){a=r[i.localName];for(const[o,l]of Object.entries(s))a[o]=uy(l)}else i.kind=="oneof"?a=i.findField(s.case)?{case:s.case,value:uy(s.value)}:{case:void 0}:a=uy(s);r[i.localName]=a}for(const i of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function uy(t){if(t===void 0)return t;if(ku(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function Gp(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function aLe(t,e,n){return{syntax:t,json:Yxe(),bin:eLe(),util:Object.assign(Object.assign({},sLe()),{newFieldList:e,initFields:n}),makeMessageType(r,i,s){return Dxe(this,r,i,s)},makeEnum:Oxe,makeEnumType:wW,getEnumType:Nxe,makeExtension(r,i,s){return Vxe(this,r,i,s)}}}class oLe{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function FW(t,e){const n=BW(t);return e?n:mLe(hLe(n))}function lLe(t){return FW(t,!1)}const cLe=BW;function BW(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const uLe=new Set(["constructor","toString","toJSON","valueOf"]),dLe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),jW=t=>`${t}$`,hLe=t=>dLe.has(t)?jW(t):t,mLe=t=>uLe.has(t)?jW(t):t;class pLe{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=lLe(e)}addField(e){cn(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function fLe(t,e){var n,r,i,s,a,o;const l=[];let c;for(const u of typeof t=="function"?t():t){const d=u;if(d.localName=FW(u.name,u.oneof!==void 0),d.jsonName=(n=u.jsonName)!==null&&n!==void 0?n:cLe(u.name),d.repeated=(r=u.repeated)!==null&&r!==void 0?r:!1,u.kind=="scalar"&&(d.L=(i=u.L)!==null&&i!==void 0?i:fc.BIGINT),d.delimited=(s=u.delimited)!==null&&s!==void 0?s:!1,d.req=(a=u.req)!==null&&a!==void 0?a:!1,d.opt=(o=u.opt)!==null&&o!==void 0?o:!1,u.packed===void 0&&(d.packed=u.kind=="enum"||u.kind=="scalar"&&u.T!=Ee.BYTES&&u.T!=Ee.STRING),u.oneof!==void 0){const h=typeof u.oneof=="string"?u.oneof:u.oneof.name;(!c||c.name!=h)&&(c=new pLe(h)),d.oneof=c,c.addField(d)}l.push(d)}return l}const B=aLe("proto3",t=>new oLe(t,e=>fLe(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=km(e.T,e.L);break}}});var at;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(at||(at={}));var aD;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(aD||(aD={}));const gLe=B.makeEnum("streamlayer.interactive.QuestionImages",[{no:0,name:"QUESTION_IMAGES_UNSET",localName:"UNSET"},{no:1,name:"QUESTION_IMAGES_NONE",localName:"NONE"},{no:2,name:"QUESTION_IMAGES_ROUNDED",localName:"ROUNDED"},{no:3,name:"QUESTION_IMAGES_TRANSPARENT",localName:"TRANSPARENT"},{no:4,name:"QUESTION_IMAGES_CENTERED",localName:"CENTERED"}]),yLe=B.makeMessageType("streamlayer.interactive.Sponsorship",()=>[{no:1,name:"logo",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]),oD=B.makeMessageType("streamlayer.interactive.AnswerFeedback",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}]),TLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameAppearance",()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9}]),vLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameMedia",()=>[{no:1,name:"game_icon",kind:"scalar",T:9},{no:2,name:"sponsor_logo",kind:"scalar",T:9}]),_Le=B.makeMessageType("streamlayer.sdkSettings.game.common.GamePrize",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"image",kind:"scalar",T:9}]),bLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameOverview",()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"auto_activate",kind:"scalar",T:8},{no:4,name:"scoring",kind:"scalar",T:8},{no:5,name:"media",kind:"message",T:vLe},{no:6,name:"appearance",kind:"message",T:TLe},{no:7,name:"prizes",kind:"message",T:_Le,repeated:!0},{no:8,name:"completed",kind:"scalar",T:8}]),SLe=B.makeMessageType("streamlayer.sdkSettings.game.common.TitleCardMedia",()=>[{no:1,name:"icon",kind:"scalar",T:9},{no:2,name:"sponsor_logo",kind:"scalar",T:9}]),ELe=B.makeMessageType("streamlayer.sdkSettings.game.common.TitleCardAppearance",()=>[{no:1,name:"graphic",kind:"scalar",T:9}]),kLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameTitleCard",()=>[{no:1,name:"visible",kind:"scalar",T:8},{no:2,name:"opt_in",kind:"scalar",T:8},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"subtitle",kind:"scalar",T:9},{no:5,name:"header",kind:"scalar",T:9},{no:6,name:"media",kind:"message",T:SLe},{no:7,name:"appearance",kind:"message",T:ELe},{no:8,name:"completed",kind:"scalar",T:8}]),ALe=B.makeMessageType("streamlayer.sdkSettings.game.common.OnboardingStep",()=>[{no:1,name:"headline",kind:"scalar",T:9},{no:2,name:"body",kind:"scalar",T:9},{no:3,name:"graphic",kind:"scalar",T:9}]),wLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameOnboarding",()=>[{no:1,name:"steps",kind:"message",T:ALe,repeated:!0},{no:2,name:"completed",kind:"scalar",T:8}]),CLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameRules",()=>[{no:1,name:"heading",kind:"scalar",T:9},{no:2,name:"typeface",kind:"scalar",T:9},{no:3,name:"button_label",kind:"scalar",T:9},{no:4,name:"numbers_color",kind:"scalar",T:9},{no:5,name:"rules",kind:"scalar",T:9,repeated:!0},{no:6,name:"completed",kind:"scalar",T:8},{no:7,name:"terms",kind:"scalar",T:9},{no:8,name:"terms_url",kind:"scalar",T:9}]),ILe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameInviteCard",()=>[{no:1,name:"heading",kind:"scalar",T:9},{no:2,name:"typeface",kind:"scalar",T:9},{no:3,name:"subtext",kind:"scalar",T:9},{no:4,name:"button_label",kind:"scalar",T:9},{no:5,name:"icon_color",kind:"scalar",T:9},{no:6,name:"terms",kind:"scalar",T:9},{no:7,name:"completed",kind:"scalar",T:8}]),xLe=B.makeMessageType("streamlayer.sdkSettings.game.common.GameSettings",()=>[{no:1,name:"overview",kind:"message",T:bLe},{no:2,name:"title_card",kind:"message",T:kLe},{no:3,name:"onboarding",kind:"message",T:wLe},{no:4,name:"rules",kind:"message",T:CLe},{no:5,name:"invite_card",kind:"message",T:ILe},{no:6,name:"completed",kind:"scalar",T:8},{no:7,name:"enable",kind:"scalar",T:8}]),LLe=B.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationGeneral",()=>[{no:1,name:"default_color",kind:"scalar",T:9},{no:2,name:"points",kind:"scalar",T:13},{no:3,name:"auto_hide_interval",kind:"scalar",T:4},{no:4,name:"insights_history_enabled",kind:"scalar",T:8},{no:5,name:"pick_history_enabled",kind:"scalar",T:8},{no:6,name:"correct_feedbacks",kind:"message",T:oD,repeated:!0},{no:7,name:"incorrect_feedbacks",kind:"message",T:oD,repeated:!0}]),RLe=B.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationNotifications",()=>[{no:1,name:"default_image",kind:"scalar",T:9},{no:2,name:"image_mode",kind:"enum",T:B.getEnumType(gLe)}]),NLe=B.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationSponsorships",()=>[{no:1,name:"rotate",kind:"scalar",T:8},{no:2,name:"no_sponsor",kind:"scalar",T:8},{no:3,name:"sponsors",kind:"message",T:yLe,repeated:!0}]),OLe=B.makeMessageType("streamlayer.sdkSettings.moderation.common.ModerationSettings",()=>[{no:1,name:"general",kind:"message",T:LLe},{no:2,name:"notifications",kind:"message",T:RLe},{no:3,name:"sponsorships",kind:"message",T:NLe}]),dh=B.makeEnum("streamlayer.sdkSettings.SdkOverlayType",[{no:0,name:"SDK_OVERLAY_TYPE_UNSET",localName:"UNSET"},{no:1,name:"SDK_OVERLAY_TYPE_INPLAY",localName:"INPLAY"},{no:2,name:"SDK_OVERLAY_TYPE_MESSAGING",localName:"MESSAGING"},{no:3,name:"SDK_OVERLAY_TYPE_STATISTICS",localName:"STATISTICS"},{no:4,name:"SDK_OVERLAY_TYPE_BETTING",localName:"BETTING"},{no:5,name:"SDK_OVERLAY_TYPE_TWITTER",localName:"TWITTER"},{no:6,name:"SDK_OVERLAY_TYPE_MERCHANDISE",localName:"MERCHANDISE"},{no:7,name:"SDK_OVERLAY_TYPE_CONTESTS",localName:"CONTESTS"},{no:8,name:"SDK_OVERLAY_TYPE_VOICE_CHAT",localName:"VOICE_CHAT"},{no:9,name:"SDK_OVERLAY_TYPE_TICKETS",localName:"TICKETS"},{no:10,name:"SDK_OVERLAY_TYPE_WHOIS_WATCHING",localName:"WHOIS_WATCHING"},{no:11,name:"SDK_OVERLAY_TYPE_PROFILE",localName:"PROFILE"},{no:12,name:"SDK_OVERLAY_TYPE_GAMES",localName:"GAMES"},{no:13,name:"SDK_OVERLAY_TYPE_GOLF_STATISTICS",localName:"GOLF_STATISTICS"},{no:14,name:"SDK_OVERLAY_TYPE_HIGHLIGHTS",localName:"HIGHLIGHTS"},{no:15,name:"SDK_OVERLAY_TYPE_PUBLIC_CHAT",localName:"PUBLIC_CHAT"}]),DLe=B.makeEnum("streamlayer.sdkSettings.BettingFavoriteType",[{no:0,name:"BETTING_FAVORITE_TYPE_UNSET",localName:"UNSET"},{no:1,name:"BETTING_FAVORITE_TYPE_LEAGUE",localName:"LEAGUE"},{no:2,name:"BETTING_FAVORITE_TYPE_TEAM",localName:"TEAM"}]),PLe=B.makeEnum("streamlayer.sdkSettings.BettingSettingsTextColor",[{no:0,name:"BETTING_SETTINGS_TEXT_COLOR_UNSET",localName:"UNSET"},{no:1,name:"BETTING_SETTINGS_TEXT_COLOR_PRIMARY",localName:"PRIMARY"},{no:2,name:"BETTING_SETTINGS_TEXT_COLOR_GREY",localName:"GREY"},{no:3,name:"BETTING_SETTINGS_TEXT_COLOR_CUSTOM",localName:"CUSTOM"}]),rw=B.makeEnum("streamlayer.sdkSettings.GetStreamChannelType",[{no:0,name:"GETSTREAM_CHANNEL_TYPE_UNSET"},{no:1,name:"GETSTREAM_CHANNEL_TYPE_LIVESTREAM"},{no:2,name:"GETSTREAM_CHANNEL_TYPE_MESSAGING"},{no:3,name:"GETSTREAM_CHANNEL_TYPE_TEAM"},{no:4,name:"GETSTREAM_CHANNEL_TYPE_COMMERCE"},{no:5,name:"GETSTREAM_CHANNEL_TYPE_GAMING"},{no:6,name:"GETSTREAM_CHANNEL_TYPE_CUSTOM"}]),MLe=B.makeEnum("streamlayer.sdkSettings.GetStreamChannelDefault",[{no:0,name:"GETSTREAM_CHANNEL_DEFAULT_UNSET"},{no:1,name:"GETSTREAM_CHANNEL_DEFAULT_TRUE"},{no:2,name:"GETSTREAM_CHANNEL_DEFAULT_FALSE"}]),VW=B.makeEnum("streamlayer.sdkSettings.GetStreamEnabled",[{no:0,name:"GETSTREAM_ENABLED_UNSET"},{no:1,name:"GETSTREAM_ENABLED_TRUE"},{no:2,name:"GETSTREAM_ENABLED_FALSE"}]),$Le=B.makeEnum("streamlayer.sdkSettings.PublicName",[{no:0,name:"PUBLIC_NAME_UNSET",localName:"UNSET"},{no:1,name:"PUBLIC_NAME_ENABLED",localName:"ENABLED"},{no:2,name:"PUBLIC_NAME_DISABLED",localName:"DISABLED"}]),ULe=B.makeEnum("streamlayer.sdkSettings.AnalyticsVersion",[{no:0,name:"ANALYTICS_VERSION_UNSET",localName:"UNSET"},{no:1,name:"ANALYTICS_VERSION_V1",localName:"V1"},{no:2,name:"ANALYTICS_VERSION_V2",localName:"V2"}]),FLe=B.makeEnum("streamlayer.sdkSettings.LeaderboardKind",[{no:0,name:"LEADERBOARD_KIND_UNSET",localName:"UNSET"},{no:1,name:"LEADERBOARD_KIND_GLOBAL",localName:"GLOBAL"},{no:2,name:"LEADERBOARD_KIND_FRIENDS",localName:"FRIENDS"}]),BLe=B.makeEnum("streamlayer.sdkSettings.AdvertisingPlacement",[{no:0,name:"ADVERTISING_PLACEMENT_UNSET",localName:"UNSET"},{no:1,name:"ADVERTISING_PLACEMENT_DEFAULT",localName:"DEFAULT"},{no:2,name:"ADVERTISING_PLACEMENT_WATCHPARTY_FULLSIZE",localName:"WATCHPARTY_FULLSIZE"},{no:3,name:"ADVERTISING_PLACEMENT_WATCHPARTY_VIDEOPANEL",localName:"WATCHPARTY_VIDEOPANEL"},{no:4,name:"ADVERTISING_PLACEMENT_OVERLAY_NAVBAR",localName:"OVERLAY_NAVBAR"}]),jLe=B.makeMessageType("streamlayer.sdkSettings.TwitterOverlaySettings",()=>[{no:1,name:"accounts",kind:"scalar",T:9,repeated:!0}]),VLe=B.makeMessageType("streamlayer.sdkSettings.BettingFavorite",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"icon",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"type",kind:"enum",T:B.getEnumType(DLe)}]),HLe=B.makeMessageType("streamlayer.sdkSettings.CtaImage",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]),HW=B.makeMessageType("streamlayer.sdkSettings.BrandDefaults",()=>[{no:1,name:"appearance",kind:"message",T:GLe}]),GLe=B.makeMessageType("streamlayer.sdkSettings.BrandDefaults.Appearance",()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9}],{localName:"BrandDefaults_Appearance"}),lD=B.makeMessageType("streamlayer.sdkSettings.BettingOverlaySettings",()=>[{no:1,name:"favorites",kind:"message",T:VLe,repeated:!0},{no:2,name:"primary_color",kind:"scalar",T:9},{no:3,name:"button_icon",kind:"scalar",T:9},{no:4,name:"text_color",kind:"enum",T:B.getEnumType(PLe)},{no:5,name:"app_installed_text",kind:"scalar",T:9},{no:6,name:"app_not_installed_text",kind:"scalar",T:9},{no:7,name:"text_color_custom",kind:"scalar",T:9},{no:8,name:"cta_image",kind:"message",T:HLe}]),qLe=B.makeMessageType("streamlayer.sdkSettings.GetStreamSettingsClient",()=>[{no:1,name:"enabled",kind:"enum",T:B.getEnumType(VW)},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"app_id",kind:"scalar",T:9},{no:5,name:"default_channel_type",kind:"enum",T:B.getEnumType(rw)}]),Iv=B.makeMessageType("streamlayer.sdkSettings.GetStreamChannel",()=>[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9},{no:3,name:"channel_id",kind:"scalar",T:9},{no:4,name:"channel_type",kind:"enum",T:B.getEnumType(rw)},{no:5,name:"is_default",kind:"enum",T:B.getEnumType(MLe)}]),zLe=B.makeMessageType("streamlayer.sdkSettings.GetStreamChannels",()=>[{no:1,name:"enabled",kind:"enum",T:B.getEnumType(VW)},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"app_id",kind:"scalar",T:9},{no:4,name:"default_channel_type",kind:"enum",T:B.getEnumType(rw)},{no:5,name:"default_channel",kind:"message",T:Iv},{no:6,name:"channels",kind:"message",T:Iv,repeated:!0}]),GW=B.makeMessageType("streamlayer.sdkSettings.StreamSettings",()=>[{no:1,name:"overlays",kind:"message",T:zW,repeated:!0},{no:2,name:"custom",kind:"scalar",T:8},{no:3,name:"button_icon",kind:"scalar",T:9},{no:4,name:"primary_color",kind:"scalar",T:9},{no:5,name:"secondary_color",kind:"scalar",T:9},{no:6,name:"moderation_primary_color",kind:"scalar",T:9},{no:7,name:"link_share_icon",kind:"scalar",T:9},{no:8,name:"link_share_text",kind:"scalar",T:9},{no:9,name:"brand_defaults",kind:"message",T:HW},{no:10,name:"getstream",kind:"message",T:zLe}]),WLe=B.makeMessageType("streamlayer.sdkSettings.JWK",()=>[{no:1,name:"alg",kind:"scalar",T:9,opt:!0},{no:2,name:"crv",kind:"scalar",T:9,opt:!0},{no:3,name:"d",kind:"scalar",T:9,opt:!0},{no:4,name:"dp",kind:"scalar",T:9,opt:!0},{no:5,name:"dq",kind:"scalar",T:9,opt:!0},{no:6,name:"e",kind:"scalar",T:9,opt:!0},{no:7,name:"ext",kind:"scalar",T:8,opt:!0},{no:8,name:"k",kind:"scalar",T:9,opt:!0},{no:9,name:"key_ops",kind:"scalar",T:9,repeated:!0},{no:10,name:"kid",kind:"scalar",T:9,opt:!0},{no:11,name:"kty",kind:"scalar",T:9,opt:!0},{no:12,name:"n",kind:"scalar",T:9,opt:!0},{no:13,name:"oth",kind:"message",T:KLe,repeated:!0},{no:14,name:"p",kind:"scalar",T:9,opt:!0},{no:15,name:"q",kind:"scalar",T:9,opt:!0},{no:16,name:"qi",kind:"scalar",T:9,opt:!0},{no:17,name:"use",kind:"scalar",T:9,opt:!0},{no:18,name:"x",kind:"scalar",T:9,opt:!0},{no:19,name:"y",kind:"scalar",T:9,opt:!0},{no:20,name:"x5c",kind:"scalar",T:9,repeated:!0},{no:21,name:"x5t",kind:"scalar",T:9,opt:!0},{no:22,name:"x5u",kind:"scalar",T:9,opt:!0}]),KLe=B.makeMessageType("streamlayer.sdkSettings.JWK.OTH",()=>[{no:1,name:"d",kind:"scalar",T:9,opt:!0},{no:2,name:"r",kind:"scalar",T:9,opt:!0},{no:3,name:"t",kind:"scalar",T:9,opt:!0}],{localName:"JWK_OTH"}),qW=B.makeMessageType("streamlayer.sdkSettings.OrganizationSettings",()=>[{no:1,name:"overlays",kind:"message",T:zW,repeated:!0},{no:2,name:"button_icon",kind:"scalar",T:9},{no:3,name:"tinode_host",kind:"scalar",T:9},{no:4,name:"audience",kind:"scalar",T:9},{no:5,name:"name",kind:"scalar",T:9},{no:6,name:"provider",kind:"scalar",T:9},{no:7,name:"primary_color",kind:"scalar",T:9},{no:8,name:"secondary_color",kind:"scalar",T:9},{no:9,name:"moderation_primary_color",kind:"scalar",T:9},{no:10,name:"link_share_icon",kind:"scalar",T:9},{no:11,name:"link_share_text",kind:"scalar",T:9},{no:12,name:"brand_defaults",kind:"message",T:HW},{no:13,name:"pub",kind:"message",T:WLe},{no:14,name:"getstream",kind:"message",T:qLe},{no:15,name:"public_name",kind:"enum",T:B.getEnumType($Le)},{no:16,name:"analytics_version",kind:"enum",T:B.getEnumType(ULe)}]),YLe=B.makeMessageType("streamlayer.sdkSettings.GamesOverlaySettings",()=>[{no:1,name:"inplay_game",kind:"message",T:xLe},{no:2,name:"moderation",kind:"message",T:OLe},{no:3,name:"pinned_leaderboard_id",kind:"scalar",T:9},{no:4,name:"leaderboard_kind",kind:"enum",T:B.getEnumType(FLe)}]),cD=B.makeMessageType("streamlayer.sdkSettings.GetStreamOverlaySettings",()=>[{no:1,name:"default_channel",kind:"message",T:Iv},{no:2,name:"channels",kind:"message",T:Iv,repeated:!0}]),vf=B.makeMessageType("streamlayer.sdkSettings.SdkOverlaySettings",()=>[{no:4,name:"twitter",kind:"message",T:jLe,oneof:"overlay_settings"},{no:5,name:"betting",kind:"message",T:lD,oneof:"overlay_settings"},{no:6,name:"inplay",kind:"message",T:lD,oneof:"overlay_settings"},{no:7,name:"games",kind:"message",T:YLe,oneof:"overlay_settings"},{no:8,name:"getstream",kind:"message",T:cD,oneof:"overlay_settings"},{no:9,name:"public_chat",kind:"message",T:cD,oneof:"overlay_settings"}]),QLe=B.makeMessageType("streamlayer.sdkSettings.SdkOverlayMeta",()=>[{no:1,name:"organization",kind:"message",T:vf},{no:2,name:"global_preset",kind:"message",T:vf},{no:3,name:"preset",kind:"message",T:vf},{no:4,name:"stream",kind:"message",T:vf}]),zW=B.makeMessageType("streamlayer.sdkSettings.SdkOverlay",()=>[{no:1,name:"type",kind:"enum",T:B.getEnumType(dh)},{no:3,name:"position",kind:"scalar",T:5},{no:4,name:"overwrite",kind:"scalar",T:8},{no:5,name:"settings",kind:"message",T:vf},{no:6,name:"meta",kind:"message",T:QLe},{no:7,name:"enable",kind:"scalar",T:8},{no:8,name:"sdk_enable",kind:"scalar",T:8},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"icon",kind:"scalar",T:9},{no:11,name:"svg_icon",kind:"scalar",T:9},{no:12,name:"enable_overwrite",kind:"scalar",T:9,oneof:"overwrite_flag"},{no:13,name:"disable_overwrite",kind:"scalar",T:9,oneof:"overwrite_flag"},{no:14,name:"enable_sdk_button",kind:"scalar",T:8}]),XLe=B.makeMessageType("streamlayer.sdkSettings.AdvertisingImage",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9},{no:3,name:"file_url",kind:"scalar",T:9},{no:4,name:"placement",kind:"enum",T:B.getEnumType(BLe)}]),ZLe=B.makeMessageType("streamlayer.sdkSettings.AdvertisingVideo",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9},{no:3,name:"file_url",kind:"scalar",T:9},{no:4,name:"background_color",kind:"scalar",T:9}]),JLe=B.makeMessageType("streamlayer.sdkSettings.AdvertisingSettings",()=>[{no:1,name:"frequency",kind:"scalar",T:5},{no:2,name:"images",kind:"message",T:XLe,repeated:!0},{no:3,name:"videos",kind:"message",T:ZLe,repeated:!0}]),eRe=B.makeMessageType("streamlayer.sdkSettings.AdvertisingOverlaySettings",()=>[{no:1,name:"overlay_type",kind:"enum",T:B.getEnumType(dh)},{no:2,name:"settings",kind:"map",K:9,V:{kind:"message",T:JLe}},{no:3,name:"enabled",kind:"scalar",T:8},{no:4,name:"overlay_name",kind:"scalar",T:9},{no:5,name:"use_custom",kind:"scalar",T:8,opt:!0}]),tRe=B.makeMessageType("streamlayer.sdkSettings.Advertising",()=>[{no:1,name:"template_id",kind:"scalar",T:9},{no:2,name:"overlay_settings",kind:"map",K:9,V:{kind:"message",T:eRe}}]),WW=B.makeEnum("streamlayer.sports.EventStatus",[{no:0,name:"EVENT_STATUS_UNSET",localName:"UNSET"},{no:1,name:"EVENT_STATUS_PREGAME",localName:"PREGAME"},{no:2,name:"EVENT_STATUS_ACTIVE",localName:"ACTIVE"},{no:3,name:"EVENT_STATUS_BREAK",localName:"BREAK"},{no:4,name:"EVENT_STATUS_OVERTIME",localName:"OVERTIME"},{no:5,name:"EVENT_STATUS_SHOOTOUTS",localName:"SHOOTOUTS"},{no:6,name:"EVENT_STATUS_POSTGAME",localName:"POSTGAME"},{no:7,name:"EVENT_STATUS_CANCELLED",localName:"CANCELLED"}]),KW=B.makeEnum("streamlayer.sports.EventEndless",[{no:0,name:"EVENT_ENDLESS_UNSET",localName:"UNSET"},{no:1,name:"EVENT_ENDLESS_ENABLED",localName:"ENABLED"},{no:2,name:"EVENT_ENDLESS_DISABLED",localName:"DISABLED"}]),__=B.makeMessageType("streamlayer.sports.Pagination",()=>[{no:1,name:"page",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}]),YW=B.makeMessageType("streamlayer.sports.Sort",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"order",kind:"scalar",T:9}]),b_=B.makeMessageType("streamlayer.sports.Meta",()=>[{no:1,name:"count",kind:"scalar",T:5},{no:2,name:"page",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}]),QW=B.makeMessageType("streamlayer.sports.Venue",()=>[{no:1,name:"city",kind:"scalar",T:9},{no:2,name:"country",kind:"scalar",T:9},{no:3,name:"stadium",kind:"scalar",T:9}]),S_=B.makeMessageType("streamlayer.sports.EventTime",()=>[{no:1,name:"clock",kind:"scalar",T:9},{no:2,name:"period",kind:"scalar",T:5}]),nRe=B.makeMessageType("streamlayer.sports.EventPeriod",()=>[{no:1,name:"number",kind:"scalar",T:5},{no:2,name:"score_home",kind:"scalar",T:5},{no:3,name:"score_away",kind:"scalar",T:5}]),gc=B.makeMessageType("streamlayer.sports.TeamRecord",()=>[{no:1,name:"wins",kind:"scalar",T:5},{no:2,name:"losses",kind:"scalar",T:5}]),yc=B.makeMessageType("streamlayer.sports.EventTeam",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"is_winner",kind:"scalar",T:8}]),rRe=B.makeMessageType("streamlayer.sports.EventCustomFields",()=>[{no:1,name:"preview",kind:"scalar",T:9},{no:2,name:"stream",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"event_ids",kind:"scalar",T:9,repeated:!0},{no:6,name:"subtitle",kind:"scalar",T:9},{no:7,name:"promotitle",kind:"scalar",T:9},{no:8,name:"slate",kind:"scalar",T:9},{no:9,name:"horizontal_preview",kind:"scalar",T:9},{no:10,name:"small_logo",kind:"scalar",T:9},{no:11,name:"description",kind:"scalar",T:9}]),iRe=B.makeMessageType("streamlayer.sports.EventProgram",()=>[{no:1,name:"id",kind:"scalar",T:9,opt:!0},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:9},{no:4,name:"end_time",kind:"scalar",T:9},{no:5,name:"thumbnail_url",kind:"scalar",T:9},{no:6,name:"square_thumbnail_url",kind:"scalar",T:9}]),sRe=B.makeMessageType("streamlayer.sports.EventData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"sport",kind:"scalar",T:9},{no:3,name:"league",kind:"scalar",T:9},{no:4,name:"scheduled",kind:"scalar",T:9},{no:5,name:"home",kind:"message",T:yc},{no:6,name:"away",kind:"message",T:yc},{no:7,name:"status",kind:"enum",T:B.getEnumType(WW)},{no:8,name:"custom_fields",kind:"message",T:rRe},{no:9,name:"start_time",kind:"scalar",T:9},{no:10,name:"end_time",kind:"scalar",T:9},{no:11,name:"venue",kind:"message",T:QW},{no:12,name:"schedule",kind:"message",T:iRe,repeated:!0},{no:13,name:"endless",kind:"enum",T:B.getEnumType(KW)},{no:14,name:"provider_id",kind:"scalar",T:9}]),Qu=B.makeMessageType("streamlayer.sports.EventSummary",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"scheduled",kind:"scalar",T:9},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"venue",kind:"message",T:QW},{no:6,name:"event_time",kind:"message",T:S_},{no:7,name:"home_team",kind:"message",T:yc},{no:8,name:"away_team",kind:"message",T:yc},{no:9,name:"status",kind:"enum",T:B.getEnumType(WW)},{no:10,name:"periods",kind:"message",T:nRe,repeated:!0},{no:11,name:"league",kind:"scalar",T:9},{no:12,name:"start_time",kind:"scalar",T:9},{no:13,name:"end_time",kind:"scalar",T:9},{no:14,name:"name",kind:"scalar",T:9},{no:15,name:"logo",kind:"scalar",T:9},{no:16,name:"stream",kind:"scalar",T:9}]),aRe=B.makeEnum("streamlayer.sports.baseball.PitcherStatus",[{no:0,name:"PITCHER_STATUS_UNSET",localName:"UNSET"},{no:1,name:"PITCHER_STATUS_WIN",localName:"WIN"},{no:2,name:"PITCHER_STATUS_LOSS",localName:"LOSS"}]),oRe=B.makeEnum("streamlayer.sports.baseball.BaseballBase",[{no:0,name:"BASEBALL_BASE_UNSET",localName:"UNSET"},{no:1,name:"BASEBALL_BASE_FIRST",localName:"FIRST"},{no:2,name:"BASEBALL_BASE_SECOND",localName:"SECOND"},{no:3,name:"BASEBALL_BASE_THIRD",localName:"THIRD"}]),uD=B.makeMessageType("streamlayer.sports.baseball.PitcherSummary",()=>[{no:1,name:"statistics",kind:"message",T:XW},{no:2,name:"status",kind:"enum",T:B.getEnumType(aRe)},{no:3,name:"win_rate",kind:"scalar",T:5},{no:4,name:"loss_rate",kind:"scalar",T:5}]),lRe=B.makeMessageType("streamlayer.sports.baseball.Runner",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"jersey_number",kind:"scalar",T:9}]),cRe=B.makeMessageType("streamlayer.sports.baseball.RunnerOnBase",()=>[{no:1,name:"base_number",kind:"enum",T:B.getEnumType(oRe)},{no:2,name:"player",kind:"message",T:lRe}]),uRe=B.makeMessageType("streamlayer.sports.baseball.Hitting",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"hits_per_bat",kind:"scalar",T:9},{no:3,name:"runs",kind:"scalar",T:9},{no:4,name:"run_batted_in",kind:"scalar",T:9},{no:5,name:"walks",kind:"scalar",T:9},{no:6,name:"batting_average",kind:"scalar",T:9}]),dRe=B.makeMessageType("streamlayer.sports.baseball.Batting",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"at_bat",kind:"scalar",T:9},{no:3,name:"runs",kind:"scalar",T:9},{no:4,name:"hits",kind:"scalar",T:9},{no:5,name:"batting_average",kind:"scalar",T:9}]),XW=B.makeMessageType("streamlayer.sports.baseball.Pitching",()=>[{no:1,name:"player_name",kind:"scalar",T:9},{no:2,name:"innings_pitched",kind:"scalar",T:9},{no:3,name:"hits_by_pitch",kind:"scalar",T:9},{no:4,name:"earned_runs",kind:"scalar",T:9},{no:5,name:"walks",kind:"scalar",T:9},{no:6,name:"strikeouts",kind:"scalar",T:9}]),dD=B.makeMessageType("streamlayer.sports.baseball.BaseballTeamSummary",()=>[{no:1,name:"hitting",kind:"message",T:uRe,repeated:!0},{no:2,name:"batting",kind:"message",T:dRe,repeated:!0},{no:3,name:"pitching",kind:"message",T:XW,repeated:!0}]),hRe=B.makeMessageType("streamlayer.sports.baseball.BaseballSummary",()=>[{no:1,name:"home_pitcher",kind:"message",T:uD},{no:2,name:"away_pitcher",kind:"message",T:uD},{no:3,name:"home_statistics",kind:"message",T:dD},{no:4,name:"away_statistics",kind:"message",T:dD}]),mRe=B.makeMessageType("streamlayer.sports.baseball.BaseballPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:yc},{no:2,name:"inning",kind:"scalar",T:9},{no:3,name:"play_text",kind:"scalar",T:9},{no:4,name:"detail",kind:"message",T:pRe,repeated:!0},{no:5,name:"runs",kind:"scalar",T:5},{no:6,name:"hits",kind:"scalar",T:5},{no:7,name:"errors",kind:"scalar",T:5}]),pRe=B.makeMessageType("streamlayer.sports.baseball.BaseballPlayByPlayStatistics.BaseballPlayByPlayDetailStatistics",()=>[{no:1,name:"score_home",kind:"scalar",T:5},{no:2,name:"score_away",kind:"scalar",T:5},{no:3,name:"play_text",kind:"scalar",T:9},{no:4,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}],{localName:"BaseballPlayByPlayStatistics_BaseballPlayByPlayDetailStatistics"}),fRe=B.makeMessageType("streamlayer.sports.baseball.EventScore",()=>[{no:1,name:"outs",kind:"scalar",T:5},{no:2,name:"inning",kind:"scalar",T:5},{no:3,name:"inning_division",kind:"scalar",T:9},{no:4,name:"is_delayed",kind:"scalar",T:8},{no:5,name:"reason_for_delay",kind:"scalar",T:9},{no:6,name:"runners_on_base",kind:"message",T:cRe,repeated:!0},{no:7,name:"taken_bases",kind:"scalar",T:5},{no:8,name:"home_team_record",kind:"message",T:gc},{no:9,name:"away_team_record",kind:"message",T:gc}]),gRe=B.makeMessageType("streamlayer.sports.baseball.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:mRe,repeated:!0}]),yRe=B.makeMessageType("streamlayer.sports.baseball.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:hRe}]),TRe=B.makeMessageType("streamlayer.sports.baseball.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:vRe},{no:11,name:"rank",kind:"message",T:_Re},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),vRe=B.makeMessageType("streamlayer.sports.baseball.TeamStanding.Streak",()=>[{no:1,name:"losses",kind:"scalar",T:5},{no:2,name:"wins",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),_Re=B.makeMessageType("streamlayer.sports.baseball.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),bRe=B.makeMessageType("streamlayer.sports.baseball.Standings",()=>[{no:1,name:"standings",kind:"message",T:TRe,repeated:!0}]),SRe=B.makeEnum("streamlayer.sports.basketball.BasketballPerformerCategory",[{no:0,name:"BASKETBALL_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"BASKETBALL_PERFORMER_CATEGORY_POINTS",localName:"POINTS"},{no:2,name:"BASKETBALL_PERFORMER_CATEGORY_REBOUNDS",localName:"REBOUNDS"},{no:3,name:"BASKETBALL_PERFORMER_CATEGORY_ASSISTS",localName:"ASSISTS"}]),ERe=B.makeMessageType("streamlayer.sports.basketball.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:gc},{no:9,name:"away_team_record",kind:"message",T:gc}]),hD=B.makeMessageType("streamlayer.sports.basketball.BasketballTeamSummary",()=>[{no:1,name:"field_goal_percentage",kind:"scalar",T:1},{no:2,name:"three_pts_percentage",kind:"scalar",T:1},{no:3,name:"free_throw_percentage",kind:"scalar",T:1},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"rebounds",kind:"scalar",T:5}]),mD=B.makeMessageType("streamlayer.sports.basketball.BasketballPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:9}]),kRe=B.makeMessageType("streamlayer.sports.basketball.BasketballPerformers",()=>[{no:1,name:"category",kind:"enum",T:B.getEnumType(SRe)},{no:2,name:"home_player",kind:"message",T:mD},{no:3,name:"away_player",kind:"message",T:mD}]),ARe=B.makeMessageType("streamlayer.sports.basketball.BasketballSummary",()=>[{no:1,name:"home_statistics",kind:"message",T:hD},{no:2,name:"away_statistics",kind:"message",T:hD}]),wRe=B.makeMessageType("streamlayer.sports.basketball.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:ARe},{no:2,name:"top_performers",kind:"message",T:kRe,repeated:!0},{no:3,name:"last_games",kind:"message",T:ZW}]),CRe=B.makeMessageType("streamlayer.sports.basketball.BasketballPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:yc},{no:2,name:"event_time",kind:"message",T:S_},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}]),IRe=B.makeMessageType("streamlayer.sports.basketball.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:CRe,repeated:!0}]),pD=B.makeMessageType("streamlayer.sports.basketball.PlayerScores",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"points",kind:"scalar",T:5},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"rebounds",kind:"scalar",T:5},{no:6,name:"minutes",kind:"scalar",T:1},{no:7,name:"starter",kind:"scalar",T:8}]),xRe=B.makeMessageType("streamlayer.sports.basketball.Boxscore",()=>[{no:1,name:"home_players",kind:"message",T:pD,repeated:!0},{no:2,name:"away_players",kind:"message",T:pD,repeated:!0}]),LRe=B.makeMessageType("streamlayer.sports.basketball.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:RRe},{no:11,name:"rank",kind:"message",T:NRe},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),RRe=B.makeMessageType("streamlayer.sports.basketball.TeamStanding.Streak",()=>[{no:1,name:"kind",kind:"scalar",T:9},{no:2,name:"length",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),NRe=B.makeMessageType("streamlayer.sports.basketball.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),ORe=B.makeMessageType("streamlayer.sports.basketball.Standings",()=>[{no:1,name:"standings",kind:"message",T:LRe,repeated:!0}]),fD=B.makeMessageType("streamlayer.sports.basketball.BasketballMatchPlayer",()=>[{no:1,name:"first_name",kind:"scalar",T:9},{no:2,name:"last_name",kind:"scalar",T:9},{no:3,name:"display_name",kind:"scalar",T:9},{no:4,name:"photo",kind:"scalar",T:9},{no:5,name:"position",kind:"scalar",T:9},{no:6,name:"jersey",kind:"scalar",T:5}]),gD=B.makeMessageType("streamlayer.sports.basketball.BasketballMatchLineup",()=>[{no:3,name:"start_players",kind:"message",T:fD,repeated:!0},{no:4,name:"substitutes",kind:"message",T:fD,repeated:!0}]),DRe=B.makeMessageType("streamlayer.sports.basketball.BasketballMatchLineups",()=>[{no:1,name:"home_team",kind:"message",T:gD},{no:2,name:"away_team",kind:"message",T:gD}]),dS=B.makeMessageType("streamlayer.sports.basketball.BasketballLastGame",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:PRe}]),PRe=B.makeMessageType("streamlayer.sports.basketball.BasketballLastGame.BasketballLastGameAttributes",()=>[{no:1,name:"league",kind:"scalar",T:9},{no:2,name:"home_team",kind:"scalar",T:9},{no:3,name:"away_team",kind:"scalar",T:9},{no:5,name:"home_score",kind:"scalar",T:5},{no:6,name:"away_score",kind:"scalar",T:5},{no:7,name:"date",kind:"scalar",T:9}],{localName:"BasketballLastGame_BasketballLastGameAttributes"}),ZW=B.makeMessageType("streamlayer.sports.basketball.BasketballLastGames",()=>[{no:1,name:"home",kind:"message",T:dS,repeated:!0},{no:2,name:"away",kind:"message",T:dS,repeated:!0},{no:3,name:"head_to_head",kind:"message",T:dS,repeated:!0}]),MRe=B.makeEnum("streamlayer.sports.hockey.HockeyPerformerCategory",[{no:0,name:"HOCKEY_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"HOCKEY_PERFORMER_CATEGORY_GOALS",localName:"GOALS"},{no:2,name:"HOCKEY_PERFORMER_CATEGORY_SHOTS",localName:"SHOTS"},{no:3,name:"HOCKEY_PERFORMER_CATEGORY_HITS",localName:"HITS"},{no:4,name:"HOCKEY_PERFORMER_CATEGORY_SAVES",localName:"SAVES"}]),JW=B.makeEnum("streamlayer.sports.hockey.HockeyPlayerPosition",[{no:0,name:"HOCKEY_PLAYER_POSITION_UNSET",localName:"UNSET"},{no:1,name:"HOCKEY_PLAYER_POSITION_CENTER",localName:"CENTER"},{no:2,name:"HOCKEY_PLAYER_POSITION_LEFT_WIND",localName:"LEFT_WIND"},{no:3,name:"HOCKEY_PLAYER_POSITION_RIGHT_WING",localName:"RIGHT_WING"},{no:4,name:"HOCKEY_PLAYER_POSITION_DEFENSE",localName:"DEFENSE"},{no:5,name:"HOCKEY_PLAYER_POSITION_GOALTENDER",localName:"GOALTENDER"}]),$Re=B.makeMessageType("streamlayer.sports.hockey.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:gc},{no:9,name:"away_team_record",kind:"message",T:gc}]),yD=B.makeMessageType("streamlayer.sports.hockey.HockeyPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:5}]),URe=B.makeMessageType("streamlayer.sports.hockey.HockeyPerformers",()=>[{no:1,name:"category",kind:"enum",T:B.getEnumType(MRe)},{no:2,name:"home_player",kind:"message",T:yD,repeated:!0},{no:3,name:"away_player",kind:"message",T:yD,repeated:!0}]),TD=B.makeMessageType("streamlayer.sports.hockey.HockeyTeamSummary",()=>[{no:1,name:"shots_on_goal",kind:"scalar",T:5},{no:2,name:"faceoff",kind:"scalar",T:1},{no:3,name:"powerplay",kind:"scalar",T:5},{no:4,name:"penalty_minutes",kind:"scalar",T:5},{no:5,name:"hits",kind:"scalar",T:5},{no:6,name:"blocks",kind:"scalar",T:5},{no:7,name:"giveaways",kind:"scalar",T:5},{no:8,name:"takeaways",kind:"scalar",T:5}]),FRe=B.makeMessageType("streamlayer.sports.hockey.HockeySummary",()=>[{no:1,name:"home_statistics",kind:"message",T:TD},{no:2,name:"away_statistics",kind:"message",T:TD}]),BRe=B.makeMessageType("streamlayer.sports.hockey.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:FRe},{no:2,name:"top_performers",kind:"message",T:URe,repeated:!0}]),jRe=B.makeMessageType("streamlayer.sports.hockey.HockeyPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:yc},{no:2,name:"event_time",kind:"message",T:S_},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5}]),VRe=B.makeMessageType("streamlayer.sports.hockey.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:jRe,repeated:!0}]),hS=B.makeMessageType("streamlayer.sports.hockey.PlayerScore",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"goals",kind:"scalar",T:5},{no:4,name:"assists",kind:"scalar",T:5},{no:5,name:"shots",kind:"scalar",T:5},{no:6,name:"penalty_minutes",kind:"scalar",T:1},{no:7,name:"minutes",kind:"scalar",T:9},{no:8,name:"position",kind:"enum",T:B.getEnumType(JW)}]),vD=B.makeMessageType("streamlayer.sports.hockey.GoaltenderScore",()=>[{no:1,name:"jersey",kind:"scalar",T:5},{no:2,name:"full_name",kind:"scalar",T:9},{no:3,name:"shots_againts",kind:"scalar",T:5},{no:4,name:"goals_againts",kind:"scalar",T:5},{no:5,name:"saves",kind:"scalar",T:5},{no:6,name:"saves_pct",kind:"scalar",T:5},{no:7,name:"minutes",kind:"scalar",T:9},{no:8,name:"position",kind:"enum",T:B.getEnumType(JW)}]),_D=B.makeMessageType("streamlayer.sports.hockey.PlayerScores",()=>[{no:1,name:"skaters",kind:"message",T:hS,repeated:!0},{no:2,name:"goaltender",kind:"message",T:vD},{no:3,name:"forwards",kind:"message",T:hS,repeated:!0},{no:4,name:"defensemen",kind:"message",T:hS,repeated:!0},{no:5,name:"goaltenders",kind:"message",T:vD,repeated:!0}]),HRe=B.makeMessageType("streamlayer.sports.hockey.Boxscore",()=>[{no:1,name:"home_players",kind:"message",T:_D},{no:2,name:"away_players",kind:"message",T:_D}]),GRe=B.makeMessageType("streamlayer.sports.hockey.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"pct",kind:"scalar",T:1},{no:9,name:"games_behind",kind:"scalar",T:5},{no:10,name:"streak",kind:"message",T:qRe},{no:11,name:"rank",kind:"message",T:zRe},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"conference",kind:"scalar",T:9}]),qRe=B.makeMessageType("streamlayer.sports.hockey.TeamStanding.Streak",()=>[{no:1,name:"kind",kind:"scalar",T:9},{no:2,name:"length",kind:"scalar",T:5}],{localName:"TeamStanding_Streak"}),zRe=B.makeMessageType("streamlayer.sports.hockey.TeamStanding.Rank",()=>[{no:1,name:"division",kind:"scalar",T:5},{no:2,name:"conference",kind:"scalar",T:5}],{localName:"TeamStanding_Rank"}),WRe=B.makeMessageType("streamlayer.sports.hockey.Standings",()=>[{no:1,name:"standings",kind:"message",T:GRe,repeated:!0}]),KRe=B.makeEnum("streamlayer.sports.soccer.SoccerPerformerCategory",[{no:0,name:"SOCCER_PERFORMER_CATEGORY_UNSET",localName:"UNSET"},{no:1,name:"SOCCER_PERFORMER_CATEGORY_ATTACK",localName:"ATTACK"},{no:2,name:"SOCCER_PERFORMER_CATEGORY_MIDFIELD",localName:"MIDFIELD"},{no:3,name:"SOCCER_PERFORMER_CATEGORY_DEFENSE",localName:"DEFENSE"}]),YRe=B.makeEnum("streamlayer.sports.soccer.SoccerMatchActivityType",[{no:0,name:"SOCCER_MATCH_ACTIVITY_UNSET"},{no:1,name:"SOCCER_MATCH_ACTIVITY_GOAL"},{no:2,name:"SOCCER_MATCH_ACTIVITY_YELLOW_CARD"},{no:3,name:"SOCCER_MATCH_ACTIVITY_RED_CARD"},{no:4,name:"SOCCER_MATCH_ACTIVITY_SUBSTITUTION"},{no:5,name:"SOCCER_MATCH_ACTIVITY_HALF_TIME"},{no:6,name:"SOCCER_MATCH_ACTIVITY_FULL_TIME"}]),QRe=B.makeMessageType("streamlayer.sports.soccer.EventScore",()=>[{no:8,name:"home_team_record",kind:"message",T:gc},{no:9,name:"away_team_record",kind:"message",T:gc}]),iw=B.makeMessageType("streamlayer.sports.soccer.SoccerPerformer",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"photo",kind:"scalar",T:9},{no:3,name:"score",kind:"scalar",T:5}]),XRe=B.makeMessageType("streamlayer.sports.soccer.SoccerAttackPerfomer",()=>[{no:1,name:"perfomer",kind:"message",T:iw},{no:2,name:"attack_stats",kind:"message",T:aNe}]),ZRe=B.makeMessageType("streamlayer.sports.soccer.SoccerMidfieldPerformer",()=>[{no:1,name:"perfomer",kind:"message",T:iw},{no:2,name:"midfield_stats",kind:"message",T:oNe}]),JRe=B.makeMessageType("streamlayer.sports.soccer.SoccerDefensePerfomer",()=>[{no:1,name:"perfomer",kind:"message",T:iw},{no:2,name:"defense_stats",kind:"message",T:lNe}]),eNe=B.makeMessageType("streamlayer.sports.soccer.SoccerPerformers",()=>[{no:1,name:"category",kind:"enum",T:B.getEnumType(KRe)},{no:2,name:"attack_performer",kind:"message",T:XRe},{no:3,name:"midfield_performer",kind:"message",T:ZRe},{no:4,name:"defense_performer",kind:"message",T:JRe}]),tNe=B.makeMessageType("streamlayer.sports.soccer.SoccerTeamTopMatchStats",()=>[{no:1,name:"possession",kind:"scalar",T:1},{no:2,name:"shots",kind:"scalar",T:5},{no:3,name:"shots_on_target",kind:"scalar",T:5},{no:4,name:"passes",kind:"scalar",T:5},{no:5,name:"offsides",kind:"scalar",T:5},{no:6,name:"yellow_cards",kind:"scalar",T:5},{no:7,name:"corner_kicks",kind:"scalar",T:5},{no:8,name:"free_kicks",kind:"scalar",T:5},{no:9,name:"red_cards",kind:"scalar",T:5}]),nNe=B.makeMessageType("streamlayer.sports.soccer.SoccerTeamAttackingStats",()=>[{no:1,name:"possession",kind:"scalar",T:1},{no:2,name:"passing_accuracy",kind:"scalar",T:1},{no:3,name:"chances_created",kind:"scalar",T:5},{no:4,name:"successful_crosses",kind:"scalar",T:1}]),rNe=B.makeMessageType("streamlayer.sports.soccer.SoccerTeamDefenseStats",()=>[{no:1,name:"tackles_made",kind:"scalar",T:5},{no:2,name:"interceptions",kind:"scalar",T:5},{no:3,name:"blocked_shots",kind:"scalar",T:5},{no:4,name:"clearances",kind:"scalar",T:5},{no:5,name:"duels_won",kind:"scalar",T:5}]),bD=B.makeMessageType("streamlayer.sports.soccer.SoccerTeamSummary",()=>[{no:1,name:"top_match_stats",kind:"message",T:tNe},{no:2,name:"attacking_stats",kind:"message",T:nNe},{no:3,name:"defense_stats",kind:"message",T:rNe}]),iNe=B.makeMessageType("streamlayer.sports.soccer.SoccerSummary",()=>[{no:1,name:"home_statistics",kind:"message",T:bD},{no:2,name:"away_statistics",kind:"message",T:bD},{no:3,name:"perfomers",kind:"message",T:eNe}]),sNe=B.makeMessageType("streamlayer.sports.soccer.EventSummary",()=>[{no:1,name:"statistics",kind:"message",T:iNe},{no:2,name:"last_games",kind:"message",T:eK}]),aNe=B.makeMessageType("streamlayer.sports.soccer.SoccerPlayerAttackingStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"shots",kind:"scalar",T:5},{no:4,name:"shots_on_goal",kind:"scalar",T:5},{no:5,name:"penalty_kick_goals",kind:"scalar",T:5}]),oNe=B.makeMessageType("streamlayer.sports.soccer.SoccerPlayerMidfieldStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"key_passes",kind:"scalar",T:5},{no:4,name:"crosses",kind:"scalar",T:5},{no:5,name:"corners",kind:"scalar",T:5}]),lNe=B.makeMessageType("streamlayer.sports.soccer.SoccerPlayerDefenseStats",()=>[{no:1,name:"goals",kind:"scalar",T:5},{no:2,name:"assists",kind:"scalar",T:5},{no:3,name:"tackles_made",kind:"scalar",T:5},{no:4,name:"interceptions",kind:"scalar",T:5},{no:5,name:"blocked_shots",kind:"scalar",T:5}]),cNe=B.makeMessageType("streamlayer.sports.soccer.SoccerMatchFormationMatrixPlayer",()=>[{no:1,name:"jersey_number",kind:"scalar",T:5},{no:2,name:"player_name",kind:"scalar",T:9},{no:3,name:"photo",kind:"scalar",T:9}]),uNe=B.makeMessageType("streamlayer.sports.soccer.SoccerMatchFormationMatrix",()=>[{no:1,name:"row_players",kind:"message",T:cNe,repeated:!0}]),SD=B.makeMessageType("streamlayer.sports.soccer.SoccerMatchPlayer",()=>[{no:1,name:"first_name",kind:"scalar",T:9},{no:2,name:"last_name",kind:"scalar",T:9},{no:3,name:"display_name",kind:"scalar",T:9},{no:4,name:"photo",kind:"scalar",T:9},{no:5,name:"position",kind:"scalar",T:9},{no:6,name:"jersey",kind:"scalar",T:5}]),ED=B.makeMessageType("streamlayer.sports.soccer.SoccerMatchLineup",()=>[{no:1,name:"formation_string",kind:"scalar",T:9},{no:2,name:"formation_matrix",kind:"message",T:uNe,repeated:!0},{no:3,name:"start_players",kind:"message",T:SD,repeated:!0},{no:4,name:"substitutes",kind:"message",T:SD,repeated:!0}]),dNe=B.makeMessageType("streamlayer.sports.soccer.SoccerMatchLineups",()=>[{no:1,name:"home_team",kind:"message",T:ED},{no:2,name:"away_team",kind:"message",T:ED}]),hNe=B.makeMessageType("streamlayer.sports.soccer.SoccerPlayByPlayStatistics",()=>[{no:1,name:"team",kind:"message",T:yc},{no:2,name:"event_time",kind:"message",T:S_},{no:3,name:"score_home",kind:"scalar",T:5},{no:4,name:"score_away",kind:"scalar",T:5},{no:5,name:"play_text",kind:"scalar",T:9},{no:6,name:"scoring",kind:"scalar",T:8},{no:7,name:"play_id",kind:"scalar",T:5},{no:8,name:"type",kind:"enum",T:B.getEnumType(YRe)}]),mNe=B.makeMessageType("streamlayer.sports.soccer.PlayByPlay",()=>[{no:1,name:"statistics",kind:"message",T:hNe,repeated:!0}]),pNe=B.makeMessageType("streamlayer.sports.soccer.TeamStanding",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:4,name:"logo",kind:"scalar",T:9},{no:5,name:"colors",kind:"scalar",T:9,repeated:!0},{no:6,name:"wins",kind:"scalar",T:5},{no:7,name:"losses",kind:"scalar",T:5},{no:8,name:"draws",kind:"scalar",T:5},{no:9,name:"games_behind",kind:"scalar",T:5},{no:12,name:"division",kind:"scalar",T:9},{no:13,name:"points",kind:"scalar",T:5},{no:14,name:"position",kind:"scalar",T:5},{no:15,name:"total_goals",kind:"scalar",T:5},{no:16,name:"total_goals_received",kind:"scalar",T:5}]),fNe=B.makeMessageType("streamlayer.sports.soccer.Standings",()=>[{no:1,name:"standings",kind:"message",T:pNe,repeated:!0}]),mS=B.makeMessageType("streamlayer.sports.soccer.SoccerLastGame",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:gNe}]),gNe=B.makeMessageType("streamlayer.sports.soccer.SoccerLastGame.SoccerLastGameAttributes",()=>[{no:1,name:"league",kind:"scalar",T:9},{no:2,name:"home_team",kind:"scalar",T:9},{no:3,name:"away_team",kind:"scalar",T:9},{no:5,name:"home_score",kind:"scalar",T:5},{no:6,name:"away_score",kind:"scalar",T:5},{no:7,name:"date",kind:"scalar",T:9}],{localName:"SoccerLastGame_SoccerLastGameAttributes"}),eK=B.makeMessageType("streamlayer.sports.soccer.SoccerLastGames",()=>[{no:1,name:"home",kind:"message",T:mS,repeated:!0},{no:2,name:"away",kind:"message",T:mS,repeated:!0},{no:3,name:"head_to_head",kind:"message",T:mS,repeated:!0}]),Xu=B.makeEnum("streamlayer.sports.events.EventType",[{no:0,name:"EVENT_TYPE_UNSET",localName:"UNSET"},{no:1,name:"EVENT_TYPE_BASEBALL",localName:"BASEBALL"},{no:2,name:"EVENT_TYPE_BASKETBALL",localName:"BASKETBALL"},{no:3,name:"EVENT_TYPE_HOCKEY",localName:"HOCKEY"},{no:4,name:"EVENT_TYPE_SOCCER",localName:"SOCCER"},{no:5,name:"EVENT_TYPE_GOLF",localName:"GOLF"}]),yNe=B.makeMessageType("streamlayer.sports.events.ScheduleAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"baseball",kind:"message",T:fRe,oneof:"sport"},{no:3,name:"basketball",kind:"message",T:ERe,oneof:"sport"},{no:4,name:"hockey",kind:"message",T:$Re,oneof:"sport"},{no:5,name:"soccer",kind:"message",T:QRe,oneof:"sport"}]),TNe=B.makeMessageType("streamlayer.sports.events.ScheduleResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:yNe}]),vNe=B.makeMessageType("streamlayer.sports.events.ListResponseAttributes",()=>[{no:1,name:"common",kind:"message",T:sRe}]),tK=B.makeMessageType("streamlayer.sports.events.ListResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:vNe}]),_Ne=B.makeMessageType("streamlayer.sports.events.ListRequest",()=>[{no:1,name:"filter",kind:"message",T:bNe},{no:2,name:"pagination",kind:"message",T:__},{no:3,name:"sort",kind:"message",T:YW},{no:4,name:"ids",kind:"scalar",T:4,repeated:!0},{no:5,name:"organization_id",kind:"scalar",T:9}]),bNe=B.makeMessageType("streamlayer.sports.events.ListRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9},{no:3,name:"start_date_time",kind:"scalar",T:9},{no:4,name:"end_date_time",kind:"scalar",T:9},{no:5,name:"sport",kind:"scalar",T:9},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"endless",kind:"enum",T:B.getEnumType(KW)}],{localName:"ListRequest_Filter"}),SNe=B.makeMessageType("streamlayer.sports.events.DemoListRequest",()=>[{no:1,name:"filter",kind:"message",T:ENe},{no:2,name:"pagination",kind:"message",T:__},{no:3,name:"sort",kind:"message",T:YW}]),ENe=B.makeMessageType("streamlayer.sports.events.DemoListRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9}],{localName:"DemoListRequest_Filter"}),kNe=B.makeMessageType("streamlayer.sports.events.DemoListResponse",()=>[{no:1,name:"meta",kind:"message",T:b_},{no:2,name:"data",kind:"message",T:tK,repeated:!0}]),ANe=B.makeMessageType("streamlayer.sports.events.ListResponse",()=>[{no:1,name:"meta",kind:"message",T:b_},{no:2,name:"data",kind:"message",T:tK,repeated:!0}]),kD=B.makeMessageType("streamlayer.sports.events.SummaryRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"organization_id",kind:"scalar",T:9}]),AD=B.makeMessageType("streamlayer.sports.events.SummaryResponse",()=>[{no:1,name:"data",kind:"message",T:wNe}]),wNe=B.makeMessageType("streamlayer.sports.events.SummaryResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:CNe}],{localName:"SummaryResponse_ResponseData"}),CNe=B.makeMessageType("streamlayer.sports.events.SummaryResponse.ResponseData.SummaryResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"baseball",kind:"message",T:yRe,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:wRe,oneof:"sports"},{no:4,name:"hockey",kind:"message",T:BRe,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:sNe,oneof:"sports"}],{localName:"SummaryResponse_ResponseData_SummaryResponseAttributes"}),INe=B.makeMessageType("streamlayer.sports.events.AdminSummaryRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"organization_id",kind:"scalar",T:9}]),xNe=B.makeMessageType("streamlayer.sports.events.AdminSummaryResponse",()=>[{no:1,name:"data",kind:"message",T:LNe}]),LNe=B.makeMessageType("streamlayer.sports.events.AdminSummaryResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"attributes",kind:"message",T:RNe}],{localName:"AdminSummaryResponse_ResponseData"}),RNe=B.makeMessageType("streamlayer.sports.events.AdminSummaryResponse.ResponseData.SummaryResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"provider_id",kind:"scalar",T:9}],{localName:"AdminSummaryResponse_ResponseData_SummaryResponseAttributes"}),NNe=B.makeMessageType("streamlayer.sports.events.PlayByPlayRequest",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"pagination",kind:"message",T:__},{no:3,name:"order",kind:"scalar",T:9}]),ONe=B.makeMessageType("streamlayer.sports.events.PlayByPlayResponse",()=>[{no:1,name:"data",kind:"message",T:DNe},{no:2,name:"meta",kind:"message",T:b_}]),DNe=B.makeMessageType("streamlayer.sports.events.PlayByPlayResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:PNe}],{localName:"PlayByPlayResponse_ResponseData"}),PNe=B.makeMessageType("streamlayer.sports.events.PlayByPlayResponse.ResponseData.PlayByPlayResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"baseball",kind:"message",T:gRe,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:IRe,oneof:"sports"},{no:4,name:"hockey",kind:"message",T:VRe,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:mNe,oneof:"sports"}],{localName:"PlayByPlayResponse_ResponseData_PlayByPlayResponseAttributes"}),MNe=B.makeMessageType("streamlayer.sports.events.ScheduleRequest",()=>[{no:1,name:"filter",kind:"message",T:$Ne},{no:2,name:"pagination",kind:"message",T:__}]),$Ne=B.makeMessageType("streamlayer.sports.events.ScheduleRequest.Filter",()=>[{no:1,name:"date",kind:"scalar",T:9},{no:2,name:"league",kind:"scalar",T:9}],{localName:"ScheduleRequest_Filter"}),UNe=B.makeMessageType("streamlayer.sports.events.ScheduleResponse",()=>[{no:1,name:"data",kind:"message",T:TNe,repeated:!0},{no:2,name:"meta",kind:"message",T:b_}]),FNe=B.makeMessageType("streamlayer.sports.events.ScheduleDatesRequest",()=>[{no:1,name:"filter",kind:"message",T:BNe}]),BNe=B.makeMessageType("streamlayer.sports.events.ScheduleDatesRequest.Filter",()=>[{no:2,name:"league",kind:"scalar",T:9}],{localName:"ScheduleDatesRequest_Filter"}),jNe=B.makeMessageType("streamlayer.sports.events.ScheduleDatesResponse",()=>[{no:1,name:"data",kind:"scalar",T:9,repeated:!0}]),VNe=B.makeMessageType("streamlayer.sports.events.BoxscoreRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),HNe=B.makeMessageType("streamlayer.sports.events.BoxscoreResponse",()=>[{no:1,name:"data",kind:"message",T:GNe}]),GNe=B.makeMessageType("streamlayer.sports.events.BoxscoreResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:qNe}],{localName:"BoxscoreResponse_ResponseData"}),qNe=B.makeMessageType("streamlayer.sports.events.BoxscoreResponse.ResponseData.BoxscoreResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"basketball",kind:"message",T:xRe,oneof:"sports"},{no:3,name:"hockey",kind:"message",T:HRe,oneof:"sports"}],{localName:"BoxscoreResponse_ResponseData_BoxscoreResponseAttributes"}),zNe=B.makeMessageType("streamlayer.sports.events.StandingsRequest",()=>[{no:1,name:"league",kind:"scalar",T:9}]),WNe=B.makeMessageType("streamlayer.sports.events.StandingsResponse",()=>[{no:1,name:"data",kind:"message",T:KNe}]),KNe=B.makeMessageType("streamlayer.sports.events.StandingsResponse.ResponseData",()=>[{no:1,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:2,name:"attributes",kind:"message",T:YNe}],{localName:"StandingsResponse_ResponseData"}),YNe=B.makeMessageType("streamlayer.sports.events.StandingsResponse.ResponseData.StandingsResponseAttributes",()=>[{no:2,name:"basketball",kind:"message",T:ORe,oneof:"sports"},{no:3,name:"hockey",kind:"message",T:WRe,oneof:"sports"},{no:4,name:"baseball",kind:"message",T:bRe,oneof:"sports"},{no:5,name:"soccer",kind:"message",T:fNe,oneof:"sports"}],{localName:"StandingsResponse_ResponseData_StandingsResponseAttributes"}),QNe=B.makeMessageType("streamlayer.sports.events.LineupRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),XNe=B.makeMessageType("streamlayer.sports.events.LineupResponse",()=>[{no:1,name:"data",kind:"message",T:ZNe}]),ZNe=B.makeMessageType("streamlayer.sports.events.LineupResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:JNe}],{localName:"LineupResponse_ResponseData"}),JNe=B.makeMessageType("streamlayer.sports.events.LineupResponse.ResponseData.LineupResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"soccer",kind:"message",T:dNe,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:DRe,oneof:"sports"}],{localName:"LineupResponse_ResponseData_LineupResponseAttributes"}),eOe=B.makeMessageType("streamlayer.sports.events.LastGamesRequest",()=>[{no:1,name:"id",kind:"scalar",T:4}]),tOe=B.makeMessageType("streamlayer.sports.events.LastGamesResponse",()=>[{no:1,name:"data",kind:"message",T:nOe}]),nOe=B.makeMessageType("streamlayer.sports.events.LastGamesResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4},{no:2,name:"type",kind:"enum",T:B.getEnumType(Xu)},{no:3,name:"attributes",kind:"message",T:rOe}],{localName:"LastGamesResponse_ResponseData"}),rOe=B.makeMessageType("streamlayer.sports.events.LastGamesResponse.ResponseData.LastGamesResponseAttributes",()=>[{no:1,name:"summary",kind:"message",T:Qu},{no:2,name:"soccer",kind:"message",T:eK,oneof:"sports"},{no:3,name:"basketball",kind:"message",T:ZW,oneof:"sports"}],{localName:"LastGamesResponse_ResponseData_LastGamesResponseAttributes"}),iOe=B.makeMessageType("streamlayer.sports.events.RetrieveEventIdRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),sOe=B.makeMessageType("streamlayer.sports.events.RetrieveEventIdResponse",()=>[{no:1,name:"data",kind:"message",T:aOe}]),aOe=B.makeMessageType("streamlayer.sports.events.RetrieveEventIdResponse.RetrieveEventIdResponseData",()=>[{no:1,name:"id",kind:"scalar",T:4}],{localName:"RetrieveEventIdResponse_RetrieveEventIdResponseData"});at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.ServerStreaming;const oOe=B.makeEnum("streamlayer.sdkSettings.client.VisibleStatus",[{no:0,name:"VISIBLE_STATUS_UNSET",localName:"UNSET"},{no:1,name:"VISIBLE_STATUS_INCOGNITO",localName:"INCOGNITO"},{no:2,name:"VISIBLE_STATUS_VISIBLE",localName:"VISIBLE"}]),lOe=B.makeEnum("streamlayer.sdkSettings.client.MessagesNotify",[{no:0,name:"MESSAGES_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"MESSAGES_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"MESSAGES_NOTIFY_ALLOW",localName:"ALLOW"}]),cOe=B.makeEnum("streamlayer.sdkSettings.client.FriendsNotify",[{no:0,name:"FRIENDS_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"FRIENDS_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"FRIENDS_NOTIFY_ALLOW",localName:"ALLOW"}]),uOe=B.makeEnum("streamlayer.sdkSettings.client.TwitterNotify",[{no:0,name:"TWITTER_NOTIFY_UNSET",localName:"UNSET"},{no:1,name:"TWITTER_NOTIFY_DISALLOW",localName:"DISALLOW"},{no:2,name:"TWITTER_NOTIFY_ALLOW",localName:"ALLOW"}]),dOe=B.makeEnum("streamlayer.sdkSettings.client.CallsSound",[{no:0,name:"CALLS_SOUND_UNSET",localName:"UNSET"},{no:1,name:"CALLS_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"CALLS_SOUND_ALLOW",localName:"ALLOW"}]),hOe=B.makeEnum("streamlayer.sdkSettings.client.MessagesSound",[{no:0,name:"MESSAGES_SOUND_UNSET",localName:"UNSET"},{no:1,name:"MESSAGES_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"MESSAGES_SOUND_ALLOW",localName:"ALLOW"}]),mOe=B.makeEnum("streamlayer.sdkSettings.client.FriendsSound",[{no:0,name:"FRIENDS_SOUND_UNSET",localName:"UNSET"},{no:1,name:"FRIENDS_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"FRIENDS_SOUND_ALLOW",localName:"ALLOW"}]),pOe=B.makeEnum("streamlayer.sdkSettings.client.TwitterSound",[{no:0,name:"TWITTER_SOUND_UNSET",localName:"UNSET"},{no:1,name:"TWITTER_SOUND_DISALLOW",localName:"DISALLOW"},{no:2,name:"TWITTER_SOUND_ALLOW",localName:"ALLOW"}]),nK=B.makeEnum("streamlayer.sdkSettings.client.SettingsAllow",[{no:0,name:"SETTINGS_ALLOW_UNSET",localName:"UNSET"},{no:1,name:"SETTINGS_ALLOW_DISALLOW",localName:"DISALLOW"},{no:2,name:"SETTINGS_ALLOW_ALLOW",localName:"ALLOW"}]),fOe=B.makeEnum("streamlayer.sdkSettings.client.ManagedGroupType",[{no:0,name:"MANAGED_GROUP_TYPE_UNSET",localName:"UNSET"},{no:1,name:"MANAGED_GROUP_TYPE_CHAT",localName:"CHAT"},{no:2,name:"MANAGED_GROUP_TYPE_WP",localName:"WP"}]),gOe=B.makeEnum("streamlayer.sdkSettings.client.GroupType",[{no:0,name:"GROUP_TYPE_UNSET",localName:"UNSET"},{no:1,name:"GROUP_TYPE_CHAT",localName:"CHAT"},{no:2,name:"GROUP_TYPE_WP",localName:"WP"}]),yOe=B.makeMessageType("streamlayer.sdkSettings.client.NotifySettings",()=>[{no:1,name:"allow",kind:"enum",T:B.getEnumType(nK)}]),TOe=B.makeMessageType("streamlayer.sdkSettings.client.SoundSettings",()=>[{no:1,name:"allow",kind:"enum",T:B.getEnumType(nK)}]),pS=B.makeMessageType("streamlayer.sdkSettings.client.ClientSettingsNotifications",()=>[{no:1,name:"notify",kind:"message",T:yOe},{no:2,name:"sound",kind:"message",T:TOe}]),sw=B.makeMessageType("streamlayer.sdkSettings.client.ClientSettings",()=>[{no:1,name:"visible_status",kind:"enum",T:B.getEnumType(oOe)},{no:2,name:"messages_notify",kind:"enum",T:B.getEnumType(lOe)},{no:3,name:"friends_notify",kind:"enum",T:B.getEnumType(cOe)},{no:4,name:"calls_sound",kind:"enum",T:B.getEnumType(dOe)},{no:5,name:"messages_sound",kind:"enum",T:B.getEnumType(hOe)},{no:6,name:"friends_sound",kind:"enum",T:B.getEnumType(mOe)},{no:7,name:"twitter_notify",kind:"enum",T:B.getEnumType(uOe)},{no:8,name:"twitter_sound",kind:"enum",T:B.getEnumType(pOe)},{no:9,name:"gamification",kind:"message",T:pS},{no:10,name:"watch_party_invitation",kind:"message",T:pS},{no:11,name:"twitter_question",kind:"message",T:pS}]),vOe=B.makeMessageType("streamlayer.sdkSettings.client.GetRequest",[]),_Oe=B.makeMessageType("streamlayer.sdkSettings.client.GetResponse",()=>[{no:1,name:"data",kind:"message",T:bOe}]),bOe=B.makeMessageType("streamlayer.sdkSettings.client.GetResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:sw}],{localName:"GetResponse_GetResponseData"}),SOe=B.makeMessageType("streamlayer.sdkSettings.client.UpdateRequest",()=>[{no:2,name:"settings",kind:"message",T:sw}]),EOe=B.makeMessageType("streamlayer.sdkSettings.client.UpdateResponse",()=>[{no:1,name:"data",kind:"message",T:kOe}]),kOe=B.makeMessageType("streamlayer.sdkSettings.client.UpdateResponse.UpdateResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:sw}],{localName:"UpdateResponse_UpdateResponseData"}),AOe=B.makeMessageType("streamlayer.sdkSettings.client.GetStreamRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),wOe=B.makeMessageType("streamlayer.sdkSettings.client.GetStreamResponse",()=>[{no:1,name:"data",kind:"message",T:COe}]),COe=B.makeMessageType("streamlayer.sdkSettings.client.GetStreamResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:GW}],{localName:"GetStreamResponse_GetResponseData"}),IOe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationRequest",[]),xOe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationResponse",()=>[{no:1,name:"data",kind:"message",T:LOe}]),LOe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationResponse.GetResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:qW}],{localName:"GetOrganizationResponse_GetResponseData"}),ROe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingRequest",()=>[{no:1,name:"event_id",kind:"scalar",T:9,opt:!0}]),NOe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingResponse",()=>[{no:1,name:"data",kind:"message",T:OOe}]),OOe=B.makeMessageType("streamlayer.sdkSettings.client.GetOrganizationAdvertisingResponse.GetOrganizationAdvertisingResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:tRe}],{localName:"GetOrganizationAdvertisingResponse_GetOrganizationAdvertisingResponseData"}),DOe=B.makeMessageType("streamlayer.sdkSettings.client.ManagedGroup",()=>[{no:1,name:"group_id",kind:"scalar",T:9},{no:2,name:"fantasy_group_id",kind:"scalar",T:9},{no:3,name:"group_type",kind:"enum",T:B.getEnumType(fOe)}]),POe=B.makeMessageType("streamlayer.sdkSettings.client.DeepLinkData",()=>[{no:1,name:"group_id",kind:"scalar",T:9},{no:2,name:"event_id",kind:"scalar",T:9},{no:3,name:"gamification",kind:"scalar",T:8},{no:4,name:"managed_group",kind:"message",T:DOe},{no:5,name:"external_event_id",kind:"scalar",T:9},{no:6,name:"external_group_id",kind:"scalar",T:9},{no:7,name:"group_type",kind:"enum",T:B.getEnumType(gOe)}]),MOe=B.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkRequest",()=>[{no:1,name:"data",kind:"message",T:POe}]),$Oe=B.makeMessageType("streamlayer.sdkSettings.client.DeepLink",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"link_id",kind:"scalar",T:9}]),UOe=B.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkResponse",()=>[{no:1,name:"data",kind:"message",T:FOe}]),FOe=B.makeMessageType("streamlayer.sdkSettings.client.GenerateDeepLinkResponse.GenerateDeepLinkResponseData",()=>[{no:1,name:"attributes",kind:"message",T:$Oe}],{localName:"GenerateDeepLinkResponse_GenerateDeepLinkResponseData"}),BOe=B.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),jOe=B.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionRequest",[]),VOe=B.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:HOe}]),HOe=B.makeMessageType("streamlayer.sdkSettings.client.StreamSubscriptionResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:GW}],{localName:"StreamSubscriptionResponse_ResponseData"}),GOe=B.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionResponse",()=>[{no:1,name:"data",kind:"message",T:qOe}]),qOe=B.makeMessageType("streamlayer.sdkSettings.client.OrganizationSubscriptionResponse.ResponseData",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:qW}],{localName:"OrganizationSubscriptionResponse_ResponseData"});at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.Unary,at.ServerStreaming,at.ServerStreaming;const zOe=B.makeMessageType("streamlayer.users.PublicChatUser",()=>[{no:1,name:"name",kind:"scalar",T:9}]),WOe=B.makeMessageType("streamlayer.users.UserAttributes",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"alias",kind:"scalar",T:9},{no:5,name:"avatar",kind:"scalar",T:9},{no:6,name:"public_chat",kind:"message",T:zOe},{no:7,name:"public_name",kind:"scalar",T:9}]),aw=B.makeMessageType("streamlayer.users.User",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"attributes",kind:"message",T:WOe}]),KOe=B.makeMessageType("streamlayer.users.LoginRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9}]),YOe=B.makeMessageType("streamlayer.users.AuthResponse",()=>[{no:1,name:"meta",kind:"message",T:QOe},{no:2,name:"data",kind:"message",T:aw}]),QOe=B.makeMessageType("streamlayer.users.AuthResponse.AuthResponseMetadata",()=>[{no:1,name:"jwt",kind:"scalar",T:9},{no:3,name:"getstream",kind:"scalar",T:9}],{localName:"AuthResponse_AuthResponseMetadata"}),XOe=B.makeMessageType("streamlayer.users.RegisterRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),ZOe=B.makeMessageType("streamlayer.users.Referral",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"watching_game",kind:"scalar",T:9}]),JOe=B.makeMessageType("streamlayer.users.RegisterResponse",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"requires_activation",kind:"scalar",T:8},{no:3,name:"referral",kind:"message",T:ZOe}]),eDe=B.makeMessageType("streamlayer.users.RequestPasswordRequest",()=>[{no:1,name:"id",kind:"scalar",T:9}]),tDe=B.makeMessageType("streamlayer.users.RequestPasswordResponse",()=>[{no:1,name:"requested",kind:"scalar",T:8},{no:2,name:"uid",kind:"scalar",T:9}]),nDe=B.makeMessageType("streamlayer.users.MeRequest",[]),rDe=B.makeMessageType("streamlayer.users.MeResponse",()=>[{no:1,name:"data",kind:"message",T:aw}]),iDe=B.makeMessageType("streamlayer.users.UpdateMetadataRequest",()=>[{no:1,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:2,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),sDe=B.makeMessageType("streamlayer.users.UpdateAvatarRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_avatar",kind:"scalar",T:9,oneof:"avatar"},{no:3,name:"del_avatar",kind:"scalar",T:9,oneof:"avatar"}]),aDe=B.makeMessageType("streamlayer.users.UpdateAvatarResponse",[]),oDe=B.makeMessageType("streamlayer.users.UpdatePublicChatNameRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:3,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),lDe=B.makeMessageType("streamlayer.users.UpdatePublicChatNameResponse",[]),cDe=B.makeMessageType("streamlayer.users.UpdatePublicNameRequest",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"set_name",kind:"scalar",T:9,oneof:"name"},{no:3,name:"del_name",kind:"scalar",T:9,oneof:"name"}]),uDe=B.makeMessageType("streamlayer.users.UpdatePublicNameResponse",[]),dDe=B.makeMessageType("streamlayer.users.UpdateMetadataResponse",[]),hDe=B.makeMessageType("streamlayer.users.InviteRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"referral",kind:"message",T:mDe}]),mDe=B.makeMessageType("streamlayer.users.InviteRequest.InviteReferral",()=>[{no:1,name:"watching_game",kind:"scalar",T:9}],{localName:"InviteRequest_InviteReferral"}),pDe=B.makeMessageType("streamlayer.users.InviteResponse",[]),fDe=B.makeMessageType("streamlayer.users.BypassAuthRequest",()=>[{no:1,name:"user_key",kind:"scalar",T:9},{no:2,name:"schema",kind:"scalar",T:9},{no:3,name:"init",kind:"scalar",T:8},{no:4,name:"inviter_key",kind:"scalar",T:9,opt:!0}]),gDe=B.makeMessageType("streamlayer.users.BypassAuthResponse",()=>[{no:1,name:"meta",kind:"message",T:yDe},{no:2,name:"data",kind:"message",T:aw,opt:!0}]),yDe=B.makeMessageType("streamlayer.users.BypassAuthResponse.AuthResponseMetadata",()=>[{no:1,name:"jwt",kind:"scalar",T:9,opt:!0},{no:3,name:"token",kind:"scalar",T:9,opt:!0},{no:4,name:"getstream",kind:"scalar",T:9},{no:5,name:"inviter_key",kind:"scalar",T:9,opt:!0}],{localName:"BypassAuthResponse_AuthResponseMetadata"}),TDe=B.makeMessageType("streamlayer.users.GetFriendsRequest",()=>[{no:1,name:"last_created_at",kind:"scalar",T:9,opt:!0},{no:2,name:"limit",kind:"scalar",T:5,opt:!0}]),vDe=B.makeMessageType("streamlayer.users.GetFriendsResponse",()=>[{no:1,name:"data",kind:"message",T:bDe,repeated:!0},{no:2,name:"metadata",kind:"message",T:_De}]),_De=B.makeMessageType("streamlayer.users.GetFriendsResponse.ResponseMeta",()=>[{no:1,name:"last_created_at",kind:"scalar",T:9}],{localName:"GetFriendsResponse_ResponseMeta"}),bDe=B.makeMessageType("streamlayer.users.GetFriendsResponse.FriendData",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"tinode_id",kind:"scalar",T:9},{no:3,name:"sl_id",kind:"scalar",T:9}],{localName:"GetFriendsResponse_FriendData"}),SDe={typeName:"streamlayer.users.Users",methods:{login:{name:"Login",I:KOe,O:YOe,kind:at.Unary},register:{name:"Register",I:XOe,O:JOe,kind:at.Unary},requestPassword:{name:"RequestPassword",I:eDe,O:tDe,kind:at.Unary},me:{name:"Me",I:nDe,O:rDe,kind:at.Unary},invite:{name:"Invite",I:hDe,O:pDe,kind:at.Unary},bypassAuth:{name:"BypassAuth",I:fDe,O:gDe,kind:at.Unary},updateMetadata:{name:"UpdateMetadata",I:iDe,O:dDe,kind:at.Unary},updateAvatar:{name:"UpdateAvatar",I:sDe,O:aDe,kind:at.Unary},updatePublicChatName:{name:"UpdatePublicChatName",I:oDe,O:lDe,kind:at.Unary},updatePublicName:{name:"UpdatePublicName",I:cDe,O:uDe,kind:at.Unary},getFriends:{name:"GetFriends",I:TDe,O:vDe,kind:at.Unary}}},dn=crypto,za=t=>t instanceof CryptoKey,EDe=async(t,e)=>{const n=`SHA-${t.slice(-3)}`;return new Uint8Array(await dn.subtle.digest(n,e))},$l=new TextEncoder,rK=new TextDecoder,xv=2**32;function Ig(...t){const e=t.reduce((i,{length:s})=>i+s,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function kDe(t,e){return Ig($l.encode(t),new Uint8Array([0]),e)}function zk(t,e,n){if(e<0||e>=xv)throw new RangeError(`value must be >= 0 and <= ${xv-1}. Received ${e}`);t.set([e>>>24,e>>>16,e>>>8,e&255],n)}function ADe(t){const e=Math.floor(t/xv),n=t%xv,r=new Uint8Array(8);return zk(r,e,0),zk(r,n,4),r}function ow(t){const e=new Uint8Array(4);return zk(e,t),e}function fS(t){return Ig(ow(t.length),t)}async function wDe(t,e,n){const r=Math.ceil((e>>3)/32),i=new Uint8Array(r*32);for(let s=0;s<r;s++){const a=new Uint8Array(4+t.length+n.length);a.set(ow(s+1)),a.set(t,4),a.set(n,4+t.length),i.set(await EDe("sha256",a),s*32)}return i.slice(0,e>>3)}const CDe=t=>{let e=t;typeof e=="string"&&(e=$l.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},ss=t=>CDe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),IDe=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},E_=t=>{let e=t;e instanceof Uint8Array&&(e=rK.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return IDe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Zr extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Zr.code="ERR_JOSE_GENERIC";class xDe extends Zr{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}xDe.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class LDe extends Zr{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}LDe.code="ERR_JWT_EXPIRED";class RDe extends Zr{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}RDe.code="ERR_JOSE_ALG_NOT_ALLOWED";class qr extends Zr{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}qr.code="ERR_JOSE_NOT_SUPPORTED";class NDe extends Zr{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}NDe.code="ERR_JWE_DECRYPTION_FAILED";class _o extends Zr{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}_o.code="ERR_JWE_INVALID";class ODe extends Zr{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}ODe.code="ERR_JWS_INVALID";class DDe extends Zr{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}DDe.code="ERR_JWT_INVALID";class PDe extends Zr{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}PDe.code="ERR_JWK_INVALID";class MDe extends Zr{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}MDe.code="ERR_JWKS_INVALID";class $De extends Zr{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}$De.code="ERR_JWKS_NO_MATCHING_KEY";class UDe extends Zr{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}UDe.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class FDe extends Zr{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}FDe.code="ERR_JWKS_TIMEOUT";class BDe extends Zr{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}BDe.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const lw=dn.getRandomValues.bind(dn);function iK(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new qr(`Unsupported JWE Algorithm: ${t}`)}}const jDe=t=>lw(new Uint8Array(iK(t)>>3)),VDe=(t,e)=>{if(e.length<<3!==iK(t))throw new _o("Invalid Initialization Vector length")},wD=(t,e)=>{const n=t.byteLength<<3;if(n!==e)throw new _o(`Invalid Content Encryption Key length. Expected ${e} bits, got ${n} bits`)};function gl(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function dy(t,e){return t.name===e}function HDe(t){return parseInt(t.name.slice(4),10)}function GDe(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function Am(t,e,...n){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!dy(t.algorithm,"AES-GCM"))throw gl("AES-GCM");const r=parseInt(e.slice(1,4),10);if(t.algorithm.length!==r)throw gl(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!dy(t.algorithm,"AES-KW"))throw gl("AES-KW");const r=parseInt(e.slice(1,4),10);if(t.algorithm.length!==r)throw gl(r,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw gl("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!dy(t.algorithm,"PBKDF2"))throw gl("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!dy(t.algorithm,"RSA-OAEP"))throw gl("RSA-OAEP");const r=parseInt(e.slice(9),10)||1;if(HDe(t.algorithm.hash)!==r)throw gl(`SHA-${r}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}GDe(t,n)}function sK(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const Wa=(t,...e)=>sK("Key must be ",t,...e);function aK(t,e,...n){return sK(`Key for the ${t} algorithm must be `,e,...n)}const oK=t=>za(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Xs=["CryptoKey"],qDe=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const s of i){if(n.has(s))return!1;n.add(s)}}return!0};function zDe(t){return typeof t=="object"&&t!==null}function cw(t){if(!zDe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const lK=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function WDe(t,e){if(t.algorithm.length!==parseInt(e.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${e}`)}function KDe(t,e,n){if(za(t))return Am(t,e,n),t;if(t instanceof Uint8Array)return dn.subtle.importKey("raw",t,"AES-KW",!0,[n]);throw new TypeError(Wa(t,...Xs,"Uint8Array"))}const Wk=async(t,e,n)=>{const r=await KDe(e,t,"wrapKey");WDe(r,t);const i=await dn.subtle.importKey("raw",n,...lK);return new Uint8Array(await dn.subtle.wrapKey("raw",i,r,"AES-KW"))};async function YDe(t,e,n,r,i=new Uint8Array(0),s=new Uint8Array(0)){if(!za(t))throw new TypeError(Wa(t,...Xs));if(Am(t,"ECDH"),!za(e))throw new TypeError(Wa(e,...Xs));Am(e,"ECDH","deriveBits");const a=Ig(fS($l.encode(n)),fS(i),fS(s),ow(r));let o;t.algorithm.name==="X25519"?o=256:t.algorithm.name==="X448"?o=448:o=Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3;const l=new Uint8Array(await dn.subtle.deriveBits({name:t.algorithm.name,public:t},e,o));return wDe(l,r,a)}async function QDe(t){if(!za(t))throw new TypeError(Wa(t,...Xs));return dn.subtle.generateKey(t.algorithm,!0,["deriveBits"])}function XDe(t){if(!za(t))throw new TypeError(Wa(t,...Xs));return["P-256","P-384","P-521"].includes(t.algorithm.namedCurve)||t.algorithm.name==="X25519"||t.algorithm.name==="X448"}function ZDe(t){if(!(t instanceof Uint8Array)||t.length<8)throw new _o("PBES2 Salt Input must be 8 or more octets")}function JDe(t,e){if(t instanceof Uint8Array)return dn.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]);if(za(t))return Am(t,e,"deriveBits","deriveKey"),t;throw new TypeError(Wa(t,...Xs,"Uint8Array"))}async function ePe(t,e,n,r){ZDe(t);const i=kDe(e,t),s=parseInt(e.slice(13,16),10),a={hash:`SHA-${e.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:i},o={length:s,name:"AES-KW"},l=await JDe(r,e);if(l.usages.includes("deriveBits"))return new Uint8Array(await dn.subtle.deriveBits(a,l,s));if(l.usages.includes("deriveKey"))return dn.subtle.deriveKey(a,l,o,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const tPe=async(t,e,n,r=2048,i=lw(new Uint8Array(16)))=>{const s=await ePe(i,t,r,e);return{encryptedKey:await Wk(t.slice(-6),s,n),p2c:r,p2s:ss(i)}};function CD(t){switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new qr(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}const nPe=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},rPe=async(t,e,n)=>{if(!za(e))throw new TypeError(Wa(e,...Xs));if(Am(e,t,"encrypt","wrapKey"),nPe(t,e),e.usages.includes("encrypt"))return new Uint8Array(await dn.subtle.encrypt(CD(t),e,n));if(e.usages.includes("wrapKey")){const r=await dn.subtle.importKey("raw",n,...lK);return new Uint8Array(await dn.subtle.wrapKey("raw",r,e,CD(t)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')};function xg(t){return cw(t)&&typeof t.kty=="string"}function iPe(t){return t.kty!=="oct"&&typeof t.d=="string"}function sPe(t){return t.kty!=="oct"&&typeof t.d>"u"}function aPe(t){return xg(t)&&t.kty==="oct"&&typeof t.k=="string"}function oPe(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new qr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new qr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new qr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new qr('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const cK=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=oPe(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,dn.subtle.importKey("jwk",i,...r)},uK=t=>E_(t);let bd,Sd;const dK=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Lv=async(t,e,n,r,i=!1)=>{let s=t.get(e);if(s!=null&&s[r])return s[r];const a=await cK({...n,alg:r});return i&&Object.freeze(e),s?s[r]=a:t.set(e,{[r]:a}),a},lPe=(t,e)=>{if(dK(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?uK(n.k):(Sd||(Sd=new WeakMap),Lv(Sd,t,n,e))}return xg(t)?t.k?E_(t.k):(Sd||(Sd=new WeakMap),Lv(Sd,t,t,e,!0)):t},cPe=(t,e)=>{if(dK(t)){let n=t.export({format:"jwk"});return n.k?uK(n.k):(bd||(bd=new WeakMap),Lv(bd,t,n,e))}return xg(t)?t.k?E_(t.k):(bd||(bd=new WeakMap),Lv(bd,t,t,e,!0)):t},gS={normalizePublicKey:lPe,normalizePrivateKey:cPe};function hK(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new qr(`Unsupported JWE Algorithm: ${t}`)}}const qp=t=>lw(new Uint8Array(hK(t)>>3));async function uPe(t,e){if(!cw(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return E_(t.k);case"RSA":if(t.oth!==void 0)throw new qr('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return cK({...t,alg:e});default:throw new qr('Unsupported "kty" (Key Type) Parameter value')}}const Od=t=>t==null?void 0:t[Symbol.toStringTag],Kk=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},dPe=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&xg(e)){if(aPe(e)&&Kk(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!oK(e))throw new TypeError(aK(t,e,...Xs,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${Od(e)} instances for symmetric algorithms must be of type "secret"`)}},hPe=(t,e,n,r)=>{if(r&&xg(e))switch(n){case"sign":if(iPe(e)&&Kk(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(sPe(e)&&Kk(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!oK(e))throw new TypeError(aK(t,e,...Xs,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${Od(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${Od(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${Od(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${Od(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${Od(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function mK(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?dPe(e,n,r,t):hPe(e,n,r,t)}const mPe=mK.bind(void 0,!1);mK.bind(void 0,!0);async function pPe(t,e,n,r,i){if(!(n instanceof Uint8Array))throw new TypeError(Wa(n,"Uint8Array"));const s=parseInt(t.slice(1,4),10),a=await dn.subtle.importKey("raw",n.subarray(s>>3),"AES-CBC",!1,["encrypt"]),o=await dn.subtle.importKey("raw",n.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await dn.subtle.encrypt({iv:r,name:"AES-CBC"},a,e)),c=Ig(i,r,l,ADe(i.length<<3)),u=new Uint8Array((await dn.subtle.sign("HMAC",o,c)).slice(0,s>>3));return{ciphertext:l,tag:u,iv:r}}async function fPe(t,e,n,r,i){let s;n instanceof Uint8Array?s=await dn.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(Am(n,t,"encrypt"),s=n);const a=new Uint8Array(await dn.subtle.encrypt({additionalData:i,iv:r,name:"AES-GCM",tagLength:128},s,e)),o=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:o,iv:r}}const pK=async(t,e,n,r,i)=>{if(!za(n)&&!(n instanceof Uint8Array))throw new TypeError(Wa(n,...Xs,"Uint8Array"));switch(r?VDe(t,r):r=jDe(t),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&wD(n,parseInt(t.slice(-3),10)),pPe(t,e,n,r,i);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&wD(n,parseInt(t.slice(1,4),10)),fPe(t,e,n,r,i);default:throw new qr("Unsupported JWE Content Encryption Algorithm")}};async function gPe(t,e,n,r){const i=t.slice(0,7),s=await pK(i,n,e,r,new Uint8Array(0));return{encryptedKey:s.ciphertext,iv:ss(s.iv),tag:ss(s.tag)}}function yPe(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(a=>typeof a!="string"||a.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;n!==void 0?s=new Map([...Object.entries(n),...e.entries()]):s=e;for(const a of r.crit){if(!s.has(a))throw new qr(`Extension Header Parameter "${a}" is not recognized`);if(i[a]===void 0)throw new t(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&r[a]===void 0)throw new t(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(r.crit)}const TPe=Symbol(),vPe=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:ss(t)};if(!za(t))throw new TypeError(Wa(t,...Xs,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...s}=await dn.subtle.exportKey("jwk",t);return s};async function _Pe(t){return vPe(t)}async function bPe(t,e,n,r,i={}){var l;let s,a,o;switch(mPe(t,n,"encrypt"),n=await((l=gS.normalizePublicKey)==null?void 0:l.call(gS,n,t))||n,t){case"dir":{o=n;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!XDe(n))throw new qr("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:c,apv:u}=i;let{epk:d}=i;d||(d=(await QDe(n)).privateKey);const{x:h,y:m,crv:g,kty:p}=await _Pe(d),_=await YDe(n,d,t==="ECDH-ES"?e:t,t==="ECDH-ES"?hK(e):parseInt(t.slice(-5,-2),10),c,u);if(a={epk:{x:h,crv:g,kty:p}},p==="EC"&&(a.epk.y=m),c&&(a.apu=ss(c)),u&&(a.apv=ss(u)),t==="ECDH-ES"){o=_;break}o=r||qp(e);const y=t.slice(-6);s=await Wk(y,_,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{o=r||qp(e),s=await rPe(t,n,o);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=r||qp(e);const{p2c:c,p2s:u}=i;({encryptedKey:s,...a}=await tPe(t,n,o,c,u));break}case"A128KW":case"A192KW":case"A256KW":{o=r||qp(e),s=await Wk(t,n,o);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=r||qp(e);const{iv:c}=i;({encryptedKey:s,...a}=await gPe(t,n,o,c));break}default:throw new qr('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:s,parameters:a}}class SPe{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,n){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new _o("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!qDe(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new _o("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(yPe(_o,new Map,n==null?void 0:n.crit,this._protectedHeader,r),r.zip!==void 0)throw new qr('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:i,enc:s}=r;if(typeof i!="string"||!i)throw new _o('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof s!="string"||!s)throw new _o('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let a;if(this._cek&&(i==="dir"||i==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);let o;{let p;({cek:o,encryptedKey:a,parameters:p}=await bPe(i,s,e,this._cek,this._keyManagementParameters)),p&&(n&&TPe in n?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...p}:this.setUnprotectedHeader(p):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...p}:this.setProtectedHeader(p))}let l,c,u;this._protectedHeader?c=$l.encode(ss(JSON.stringify(this._protectedHeader))):c=$l.encode(""),this._aad?(u=ss(this._aad),l=Ig(c,$l.encode("."),$l.encode(u))):l=c;const{ciphertext:d,tag:h,iv:m}=await pK(s,this._plaintext,o,this._iv,l),g={ciphertext:ss(d)};return m&&(g.iv=ss(m)),h&&(g.tag=ss(h)),a&&(g.encrypted_key=ss(a)),u&&(g.aad=u),this._protectedHeader&&(g.protected=rK.decode(c)),this._sharedUnprotectedHeader&&(g.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(g.header=this._unprotectedHeader),g}}const Uc=t=>Math.floor(t.getTime()/1e3),fK=60,gK=fK*60,uw=gK*24,EPe=uw*7,kPe=uw*365.25,APe=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,yS=t=>{const e=APe.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*fK);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*gK);break;case"day":case"days":case"d":i=Math.round(n*uw);break;case"week":case"weeks":case"w":i=Math.round(n*EPe);break;default:i=Math.round(n*kPe);break}return e[1]==="-"||e[4]==="ago"?-i:i};class wPe{constructor(e){this._flattened=new SPe(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,n){const r=await this._flattened.encrypt(e,n);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}function Fc(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class CPe{constructor(e={}){if(!cw(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:Fc("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Fc("setNotBefore",Uc(e))}:this._payload={...this._payload,nbf:Uc(new Date)+yS(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:Fc("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Fc("setExpirationTime",Uc(e))}:this._payload={...this._payload,exp:Uc(new Date)+yS(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:Uc(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Fc("setIssuedAt",Uc(e))}:typeof e=="string"?this._payload={...this._payload,iat:Fc("setIssuedAt",Uc(new Date)+yS(e))}:this._payload={...this._payload,iat:Fc("setIssuedAt",e)},this}}class IPe extends CPe{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,n){const r=new wPe($l.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,n)}}var xPe=Object.defineProperty,LPe=(t,e,n)=>e in t?xPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jr=(t,e,n)=>LPe(t,typeof e!="symbol"?e+"":e,n),TS,vS;function ID(){throw new Error("setTimeout has not been defined")}function xD(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?TS=setTimeout:TS=ID}catch{TS=ID}try{typeof clearTimeout=="function"?vS=clearTimeout:vS=xD}catch{vS=xD}})();var dw={exports:{}};function RPe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var NPe=OPe;function OPe(t,e,n){var r=n&&n.stringify||RPe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=r(t);for(var o=1;o<s;o++)a[o]=r(e[o]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,d=-1,h=t&&t.length||0,m=0;m<h;){if(t.charCodeAt(m)===37&&m+1<h){switch(d=d>-1?d:0,t.charCodeAt(m+1)){case 100:case 102:if(u>=l||e[u]==null)break;d<m&&(c+=t.slice(d,m)),c+=Number(e[u]),d=m+2,m++;break;case 105:if(u>=l||e[u]==null)break;d<m&&(c+=t.slice(d,m)),c+=Math.floor(Number(e[u])),d=m+2,m++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;d<m&&(c+=t.slice(d,m));var g=typeof e[u];if(g==="string"){c+="'"+e[u]+"'",d=m+2,m++;break}if(g==="function"){c+=e[u].name||"<anonymous>",d=m+2,m++;break}c+=r(e[u]),d=m+2,m++;break;case 115:if(u>=l)break;d<m&&(c+=t.slice(d,m)),c+=String(e[u]),d=m+2,m++;break;case 37:d<m&&(c+=t.slice(d,m)),c+="%",d=m+2,m++,u--;break}++u}++m}return d===-1?t:(d<h&&(c+=t.slice(d)),c)}const LD=NPe;dw.exports=Wo;const K1=KPe().console||{},DPe={mapHttpRequest:hy,mapHttpResponse:hy,wrapRequestSerializer:_S,wrapResponseSerializer:_S,wrapErrorSerializer:_S,req:hy,res:hy,err:ND,errWithCause:ND};function Rv(t,e){return t==="silent"?1/0:e.levels.values[t]}const hw=Symbol("pino.logFuncs"),Yk=Symbol("pino.hierarchy"),PPe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function RD(t,e){const n={logger:e,parent:t[Yk]};e[Yk]=n}function MPe(t,e,n){const r={};e.forEach(i=>{r[i]=n[i]?n[i]:K1[i]||K1[PPe[i]||"log"]||Bh}),t[hw]=r}function $Pe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Wo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||K1;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=$Pe(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(p){n[p]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(n);c.log||(c.log=Bh),MPe(c,o,n),RD({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:h,set:m});const u={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:o,timestamp:qPe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Bh};c.levels=UPe(t),c.level=l,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Bh,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=function(...p){return g.call(this,u,...p)},e&&(c._logEvent=Qk());function d(){return Rv(this.level,this)}function h(){return this._level}function m(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Bc(this,u,c,"error"),Bc(this,u,c,"fatal"),Bc(this,u,c,"warn"),Bc(this,u,c,"info"),Bc(this,u,c,"debug"),Bc(this,u,c,"trace"),a.forEach(_=>{Bc(this,u,c,_)})}function g(p,_,y){if(!_)throw new Error("missing bindings for child Pino");y=y||{},i&&_.serializers&&(y.serializers=_.serializers);const v=y.serializers;if(i&&v){var E=Object.assign({},r,v),x=t.browser.serialize===!0?Object.keys(E):i;delete _.serializers,mw([_],x,E,this._stdErrSerialize)}function C(D){this._childLevel=(D._childLevel|0)+1,this.bindings=_,E&&(this.serializers=E,this._serialize=x),e&&(this._logEvent=Qk([].concat(D._logEvent.bindings,_)))}C.prototype=this;const R=new C(this);return RD(this,R),R.child=function(...D){return g.call(this,p,...D)},R.level=y.level||this.level,p.onChild(R),R}return c}function UPe(t){const e=t.customLevels||{},n=Object.assign({},Wo.levels.values,e),r=Object.assign({},Wo.levels.labels,FPe(e));return{values:n,labels:r}}function FPe(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}Wo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Wo.stdSerializers=DPe;Wo.stdTimeFunctions=Object.assign({},{nullTime:yK,epochTime:TK,unixTime:zPe,isoTime:WPe});function BPe(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[Yk];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function Bc(t,e,n,r){if(Object.defineProperty(t,r,{value:Rv(t.level,n)>Rv(r,n)?Bh:n[hw][r],writable:!0,enumerable:!0,configurable:!0}),t[r]===Bh){if(!e.transmit)return;const s=e.transmit.level||t.level,a=n.levels.values[s];if(n.levels.values[r]<a)return}t[r]=VPe(t,e,n,r);const i=BPe(t);i.length!==0&&(t[r]=jPe(i,t[r]))}function jPe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function VPe(t,e,n,r){return function(i){return function(){const a=e.timestamp(),o=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===K1?K1:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var u=!1;if(e.serialize&&(mw(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters?i.call(l,HPe(this,r,o,a,e)):i.apply(l,o),e.transmit){const d=e.transmit.level||t._level,h=n.levels.values[d],m=n.levels.values[r];if(m<h)return;GPe(this,{ts:a,methodLevel:r,methodValue:m,transmitLevel:d,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Rv(t._level,n)},o,u)}}}(t[hw][r])}function HPe(t,e,n,r,i){const{level:s,log:a=h=>h}=i.formatters||{},o=n.slice();let l=o[0];const c={};if(r&&(c.time=r),s){const h=s(e,t.levels.values[e]);Object.assign(c,h)}else c.level=t.levels.values[e];let u=(t._childLevel|0)+1;if(u<1&&(u=1),l!==null&&typeof l=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());l=o.length?LD(o.shift(),o):void 0}else typeof l=="string"&&(l=LD(o.shift(),o));return l!==void 0&&(c[i.messageKey]=l),a(c)}function mw(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Wo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(const s in t[i])e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function GPe(t,e,n,r=!1){const i=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,l=e.val,c=t._logEvent.bindings;r||mw(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,i(a,t._logEvent,l),t._logEvent=Qk(c)}function Qk(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function ND(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function qPe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?yK:TK}function hy(){return{}}function _S(t){return t}function Bh(){}function yK(){return!1}function TK(){return Date.now()}function zPe(){return Math.round(Date.now()/1e3)}function WPe(){return new Date(Date.now()).toISOString()}function KPe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}dw.exports.default=Wo;var YPe=dw.exports.pino=Wo;const QPe=YPe({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),Lg=(t,e)=>QPe.child({name:t},e);Lg("event-bus");var OD;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(OD||(OD={}));window.slStore=Object.create(null);var DD;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(DD||(DD={}));dh.BETTING+"",dh.GAMES+"",dh.PUBLIC_CHAT+"",dh.TWITTER+"";var PD;(function(t){t.Ready="ready",t.Suspended="suspended"})(PD||(PD={}));var so;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(so||(so={}));function MD(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function XPe(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}class ZPe{constructor(e="main",n=window.localStorage){jr(this,"delimiter",":"),jr(this,"prefix"),jr(this,"storage"),jr(this,"clear",()=>{for(const r in window.localStorage)r.startsWith(this.prefix)&&this.storage.removeItem(r)}),jr(this,"generateKey",r=>`${this.prefix}${this.delimiter}${r.join(this.delimiter)}`),jr(this,"write",(...r)=>{const i=r.pop()||"",s=this.generateKey(r);try{this.storage.setItem(s,i)}catch(a){XPe(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,i))}}),jr(this,"read",(...r)=>{const i=this.storage.getItem(this.generateKey(r));return i===null?void 0:i}),jr(this,"remove",(...r)=>{this.storage.removeItem(this.generateKey(r))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}}var $D;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})($D||($D={}));Lg("grpc:stream");so.Unknown,so.Internal,so.DeadlineExceeded,so.ResourceExhausted,so.FailedPrecondition,so.Unavailable,so.DataLoss;Lg("grpc:retry");MD(10,{description:"Number of attempts to retry"}),MD(3e4,{description:"Max delay between retries in milliseconds"});const JPe=(t,e)=>{const{client:n,createRequestOptions:r}=t.createPromiseClient(SDe,{method:"bypassAuth"}),i=r({retryAttempts:0});return n.bypassAuth(e,{contextValues:i})};var ao;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(ao||(ao={}));class eMe extends ZPe{constructor(){super("user"),jr(this,"setSchema",e=>{this.write(ao.SCHEMA,e)}),jr(this,"getSchema",()=>this.read(ao.SCHEMA)),jr(this,"setToken",e=>{this.write(ao.TOKEN,e)}),jr(this,"getToken",()=>this.read(ao.TOKEN)),jr(this,"setExternalToken",e=>{this.write(ao.EXTERNAL_TOKEN,e)}),jr(this,"getExternalToken",()=>this.read(ao.EXTERNAL_TOKEN)),jr(this,"removeToken",()=>{this.remove(ao.TOKEN)})}}var UD;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(UD||(UD={}));Lg("deep_link");Lg("bypass");const FD=new eMe,BD=async(t,e={})=>{var n,r;const{schemaName:i,issuer:s}={schemaName:"slra",issuer:"sdk-web",...e};t.sdk.withAuth=!0;const a=await t.stores.organizationSettings.getValue();if(!a)throw new Error("unknown organization");const o=`${(n=a.pub)==null?void 0:n.kid}`,l=`${i}:${a.id}`,u=(r=(await JPe(t.transport,{userKey:o,schema:l,init:!0})).meta)==null?void 0:r.token,d=a.pub,h=await uPe({...d}),m=window.crypto.randomUUID(),g=await new IPe({"device-id":m,totp:u}).setProtectedHeader({alg:d.alg||"",enc:"A256CBC-HS512",kid:d.kid}).setIssuedAt().setIssuer(s).setAudience(a.id).setExpirationTime("2m").encrypt(h);await t.auth.login(l,g),FD.setSchema("streamlayer:streamlayer"),FD.setExternalToken(g)},tMe=async(t,e={})=>{try{await t.auth.reLogin({skipLogin:!0})||await BD(t,e).catch(r=>{console.error(r,"fail anon login")})}catch(n){console.log(n,"fail anon re-login"),await BD(t,e)}},nMe=(t,e={})=>new Promise((n,r)=>{const i=setTimeout(()=>{r(new Error("timeout"))},3e4);t.stores.status.subscribe(async s=>{if(s==="ready")try{await tMe(t,e),n(!0)}catch(a){r(a)}finally{clearTimeout(i)}})}),rMe=(t,e,n)=>{t.sdk.anonymousAuthorization=async()=>{await nMe(t,e)},n()};var iMe=!1;function sMe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function aMe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var oMe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!iMe:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(aMe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=sMe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),br="-ms-",Nv="-moz-",ut="-webkit-",vK="comm",pw="rule",fw="decl",lMe="@import",_K="@keyframes",cMe="@layer",uMe=Math.abs,k_=String.fromCharCode,dMe=Object.assign;function hMe(t,e){return ur(t,0)^45?(((e<<2^ur(t,0))<<2^ur(t,1))<<2^ur(t,2))<<2^ur(t,3):0}function bK(t){return t.trim()}function mMe(t,e){return(t=e.exec(t))?t[0]:t}function dt(t,e,n){return t.replace(e,n)}function Xk(t,e){return t.indexOf(e)}function ur(t,e){return t.charCodeAt(e)|0}function Y1(t,e,n){return t.slice(e,n)}function va(t){return t.length}function gw(t){return t.length}function my(t,e){return e.push(t),t}function pMe(t,e){return t.map(e).join("")}var A_=1,wm=1,SK=0,vi=0,Cn=0,Jm="";function w_(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:A_,column:wm,length:a,return:""}}function zp(t,e){return dMe(w_("",null,null,"",null,null,0),t,{length:-t.length},e)}function fMe(){return Cn}function gMe(){return Cn=vi>0?ur(Jm,--vi):0,wm--,Cn===10&&(wm=1,A_--),Cn}function Mi(){return Cn=vi<SK?ur(Jm,vi++):0,wm++,Cn===10&&(wm=1,A_++),Cn}function $a(){return ur(Jm,vi)}function A2(){return vi}function Rg(t,e){return Y1(Jm,t,e)}function Q1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function EK(t){return A_=wm=1,SK=va(Jm=t),vi=0,[]}function kK(t){return Jm="",t}function w2(t){return bK(Rg(vi-1,Zk(t===91?t+2:t===40?t+1:t)))}function yMe(t){for(;(Cn=$a())&&Cn<33;)Mi();return Q1(t)>2||Q1(Cn)>3?"":" "}function TMe(t,e){for(;--e&&Mi()&&!(Cn<48||Cn>102||Cn>57&&Cn<65||Cn>70&&Cn<97););return Rg(t,A2()+(e<6&&$a()==32&&Mi()==32))}function Zk(t){for(;Mi();)switch(Cn){case t:return vi;case 34:case 39:t!==34&&t!==39&&Zk(Cn);break;case 40:t===41&&Zk(t);break;case 92:Mi();break}return vi}function vMe(t,e){for(;Mi()&&t+Cn!==57;)if(t+Cn===84&&$a()===47)break;return"/*"+Rg(e,vi-1)+"*"+k_(t===47?t:Mi())}function _Me(t){for(;!Q1($a());)Mi();return Rg(t,vi)}function bMe(t){return kK(C2("",null,null,null,[""],t=EK(t),0,[0],t))}function C2(t,e,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,m=0,g=0,p=1,_=1,y=1,v=0,E="",x=i,C=s,R=r,D=E;_;)switch(g=v,v=Mi()){case 40:if(g!=108&&ur(D,d-1)==58){Xk(D+=dt(w2(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:D+=w2(v);break;case 9:case 10:case 13:case 32:D+=yMe(g);break;case 92:D+=TMe(A2()-1,7);continue;case 47:switch($a()){case 42:case 47:my(SMe(vMe(Mi(),A2()),e,n),l);break;default:D+="/"}break;case 123*p:o[c++]=va(D)*y;case 125*p:case 59:case 0:switch(v){case 0:case 125:_=0;case 59+u:y==-1&&(D=dt(D,/\f/g,"")),m>0&&va(D)-d&&my(m>32?VD(D+";",r,n,d-1):VD(dt(D," ","")+";",r,n,d-2),l);break;case 59:D+=";";default:if(my(R=jD(D,e,n,c,u,i,o,E,x=[],C=[],d),s),v===123)if(u===0)C2(D,e,R,R,x,s,d,o,C);else switch(h===99&&ur(D,3)===110?100:h){case 100:case 108:case 109:case 115:C2(t,R,R,r&&my(jD(t,R,R,0,0,i,o,E,i,x=[],d),C),i,C,d,o,r?x:C);break;default:C2(D,R,R,R,[""],C,0,o,C)}}c=u=m=0,p=y=1,E=D="",d=a;break;case 58:d=1+va(D),m=g;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&gMe()==125)continue}switch(D+=k_(v),v*p){case 38:y=u>0?1:(D+="\f",-1);break;case 44:o[c++]=(va(D)-1)*y,y=1;break;case 64:$a()===45&&(D+=w2(Mi())),h=$a(),u=d=va(E=D+=_Me(A2())),v++;break;case 45:g===45&&va(D)==2&&(p=0)}}return s}function jD(t,e,n,r,i,s,a,o,l,c,u){for(var d=i-1,h=i===0?s:[""],m=gw(h),g=0,p=0,_=0;g<r;++g)for(var y=0,v=Y1(t,d+1,d=uMe(p=a[g])),E=t;y<m;++y)(E=bK(p>0?h[y]+" "+v:dt(v,/&\f/g,h[y])))&&(l[_++]=E);return w_(t,e,n,i===0?pw:o,l,c,u)}function SMe(t,e,n){return w_(t,e,n,vK,k_(fMe()),Y1(t,2,-2),0)}function VD(t,e,n,r){return w_(t,e,n,fw,Y1(t,0,r),Y1(t,r+1,-1),r)}function jh(t,e){for(var n="",r=gw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EMe(t,e,n,r){switch(t.type){case cMe:if(t.children.length)break;case lMe:case fw:return t.return=t.return||t.value;case vK:return"";case _K:return t.return=t.value+"{"+jh(t.children,r)+"}";case pw:t.value=t.props.join(",")}return va(n=jh(t.children,r))?t.return=t.value+"{"+n+"}":""}function kMe(t){var e=gw(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function AMe(t){return function(e){e.root||(e=e.return)&&t(e)}}function AK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wMe=function(e,n,r){for(var i=0,s=0;i=s,s=$a(),i===38&&s===12&&(n[r]=1),!Q1(s);)Mi();return Rg(e,vi)},CMe=function(e,n){var r=-1,i=44;do switch(Q1(i)){case 0:i===38&&$a()===12&&(n[r]=1),e[r]+=wMe(vi-1,n,r);break;case 2:e[r]+=w2(i);break;case 4:if(i===44){e[++r]=$a()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=k_(i)}while(i=Mi());return e},IMe=function(e,n){return kK(CMe(EK(e),n))},HD=new WeakMap,xMe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!HD.get(r))&&!i){HD.set(e,!0);for(var s=[],a=IMe(n,s),o=r.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},LMe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function wK(t,e){switch(hMe(t,e)){case 5103:return ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+t+Nv+t+br+t+t;case 6828:case 4268:return ut+t+br+t+t;case 6165:return ut+t+br+"flex-"+t+t;case 5187:return ut+t+dt(t,/(\w+).+(:[^]+)/,ut+"box-$1$2"+br+"flex-$1$2")+t;case 5443:return ut+t+br+"flex-item-"+dt(t,/flex-|-self/,"")+t;case 4675:return ut+t+br+"flex-line-pack"+dt(t,/align-content|flex-|-self/,"")+t;case 5548:return ut+t+br+dt(t,"shrink","negative")+t;case 5292:return ut+t+br+dt(t,"basis","preferred-size")+t;case 6060:return ut+"box-"+dt(t,"-grow","")+ut+t+br+dt(t,"grow","positive")+t;case 4554:return ut+dt(t,/([^-])(transform)/g,"$1"+ut+"$2")+t;case 6187:return dt(dt(dt(t,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),t,"")+t;case 5495:case 3959:return dt(t,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return dt(dt(t,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+br+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+t+t;case 4095:case 3583:case 4068:case 2532:return dt(t,/(.+)-inline(.+)/,ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(va(t)-1-e>6)switch(ur(t,e+1)){case 109:if(ur(t,e+4)!==45)break;case 102:return dt(t,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+Nv+(ur(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Xk(t,"stretch")?wK(dt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ur(t,e+1)!==115)break;case 6444:switch(ur(t,va(t)-3-(~Xk(t,"!important")&&10))){case 107:return dt(t,":",":"+ut)+t;case 101:return dt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(ur(t,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+br+"$2box$3")+t}break;case 5936:switch(ur(t,e+11)){case 114:return ut+t+br+dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ut+t+br+dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ut+t+br+dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ut+t+br+t+t}return t}var RMe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case fw:e.return=wK(e.value,e.length);break;case _K:return jh([zp(e,{value:dt(e.value,"@","@"+ut)})],i);case pw:if(e.length)return pMe(e.props,function(s){switch(mMe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jh([zp(e,{props:[dt(s,/:(read-\w+)/,":"+Nv+"$1")]})],i);case"::placeholder":return jh([zp(e,{props:[dt(s,/:(plac\w+)/,":"+ut+"input-$1")]}),zp(e,{props:[dt(s,/:(plac\w+)/,":"+Nv+"$1")]}),zp(e,{props:[dt(s,/:(plac\w+)/,br+"input-$1")]})],i)}return""})}},NMe=[RMe],CK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var _=p.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||NMe,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var _=p.getAttribute("data-emotion").split(" "),y=1;y<_.length;y++)s[_[y]]=!0;o.push(p)});var l,c=[xMe,LMe];{var u,d=[EMe,AMe(function(p){u.insert(p)})],h=kMe(c.concat(i,d)),m=function(_){return jh(bMe(_),h)};l=function(_,y,v,E){u=v,m(_?_+"{"+y.styles+"}":y.styles),E&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new oMe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(o),g};function OMe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var DMe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PMe=!1,MMe=/[A-Z]|^ms/g,$Me=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IK=function(e){return e.charCodeAt(1)===45},GD=function(e){return e!=null&&typeof e!="boolean"},bS=AK(function(t){return IK(t)?t:t.replace(MMe,"-$&").toLowerCase()}),qD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($Me,function(r,i,s){return _a={name:i,styles:s,next:_a},i})}return DMe[e]!==1&&!IK(e)&&typeof n=="number"&&n!==0?n+"px":n},UMe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function X1(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return _a={name:i.name,styles:i.styles,next:_a},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)_a={name:a.name,styles:a.styles,next:_a},a=a.next;var o=s.styles+";";return o}return FMe(t,e,n)}case"function":{if(t!==void 0){var l=_a,c=n(t);return _a=l,X1(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function FMe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=X1(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":GD(o)&&(r+=bS(s)+":"+qD(s,o)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&PMe)throw new Error(UMe);if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)GD(a[l])&&(r+=bS(s)+":"+qD(s,a[l])+";");else{var c=X1(t,e,a);switch(s){case"animation":case"animationName":{r+=bS(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var zD=/label:\s*([^\s;{]+)\s*(;|$)/g,_a;function I2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";_a=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=X1(n,e,s);else{var a=s;i+=a[0]}for(var o=1;o<t.length;o++)if(i+=X1(n,e,t[o]),r){var l=s;i+=l[o]}zD.lastIndex=0;for(var c="",u;(u=zD.exec(i))!==null;)c+="-"+u[1];var d=OMe(i)+c;return{name:d,styles:i,next:_a}}var BMe=!0;function yw(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var xK=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||BMe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},LK=function(e,n,r){xK(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function WD(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function KD(t,e,n){var r=[],i=yw(t,r,n);return r.length<2?n:i+e(r)}var jMe=function(e){var n=CK(e);n.sheet.speedy=function(o){this.isSpeedy=o},n.compat=!0;var r=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=I2(c,n.registered,void 0);return LK(n,d,!1),n.key+"-"+d.name},i=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=I2(c,n.registered),h="animation-"+d.name;return WD(n,{name:d.name,styles:"@keyframes "+h+"{"+d.styles+"}"}),h},s=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=I2(c,n.registered);WD(n,d)},a=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return KD(n.registered,r,VMe(c))};return{css:r,cx:a,injectGlobal:s,keyframes:i,hydrate:function(l){l.forEach(function(c){n.inserted[c]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:yw.bind(null,n.registered),merge:KD.bind(null,n.registered,r)}},VMe=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var s=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))s=t(i);else{s="";for(var a in i)i[a]&&a&&(s&&(s+=" "),s+=a)}break}default:s=i}s&&(n&&(n+=" "),n+=s)}}return n},HMe=jMe({key:"css"}),GMe=HMe.cx;const Ov=new URLSearchParams(window.location.search),RK=Ov.get("production")===null?!0:Ov.get("production")==="true",qMe=Ov.get("sdk_key")||"60c21294e9e79c092cbf028d8b204a4c46b2c85583f1ba50b0f8e04d00ceba71",Jk=Ov.get("event_id")||"1571885",zMe=RK?`https://studio.streamlayer.io/events/all/id/${Jk}/moderation`:`https://studio.next.streamlayer.io/events/all/id/${Jk}/moderation`;function e6(){return e6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e6.apply(null,arguments)}var WMe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,KMe=AK(function(t){return WMe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),YMe=function(e){return e()},QMe=C7.useInsertionEffect?C7.useInsertionEffect:!1,XMe=QMe||YMe,NK=N.createContext(typeof HTMLElement<"u"?CK({key:"css"}):null);NK.Provider;var ZMe=function(e){return N.forwardRef(function(n,r){var i=N.useContext(NK);return e(n,i,r)})},JMe=N.createContext({}),e$e=KMe,t$e=function(e){return e!=="theme"},YD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?e$e:t$e},QD=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},n$e=!1,r$e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return xK(n,r,i),XMe(function(){return LK(n,r,i)}),null},i$e=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var o=QD(e,n,r),l=o||YD(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],u[0][m])}var g=ZMe(function(p,_,y){var v=c&&p.as||i,E="",x=[],C=p;if(p.theme==null){C={};for(var R in p)C[R]=p[R];C.theme=N.useContext(JMe)}typeof p.className=="string"?E=yw(_.registered,x,p.className):p.className!=null&&(E=p.className+" ");var D=I2(d.concat(x),_.registered,C);E+=_.key+"-"+D.name,a!==void 0&&(E+=" "+a);var U=c&&o===void 0?YD(v):l,K={};for(var V in p)c&&V==="as"||U(V)&&(K[V]=p[V]);return K.className=E,y&&(K.ref=y),N.createElement(N.Fragment,null,N.createElement(r$e,{cache:_,serialized:D,isStringTag:typeof v=="string"}),N.createElement(v,K))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=o,Object.defineProperty(g,"toString",{value:function(){return a===void 0&&n$e?"NO_COMPONENT_SELECTOR":"."+a}}),g.withComponent=function(p,_){return t(p,e6({},n,_,{shouldForwardProp:QD(g,_,!0)})).apply(void 0,d)},g}},s$e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bt=i$e.bind();s$e.forEach(function(t){bt[t]=bt(t)});const Fu=t=>`
    @media only screen and (max-width: 1024px) {
        ${t}
    }

    @media only screen and (max-width: 1366px) and (orientation: landscape) {
        ${t}
    }
`,Ws=t=>`
    @media only screen and (max-width: 1024px) and (orientation: portrait) {
        ${t}
    }
`,a$e=bt.nav`
    position: sticky;
    z-index: 12;
    top: -40px;
    background: #fff;
    height: var(--nav-bar-height);
    width: 100%;
    padding: 6px 20px;
    box-sizing: border-box;
    display: ${({mobile:t})=>t?"none":"flex"};
    justify-content: space-between;
    align-items: center;
    z-index: 10;

    ${Fu(`
        position: absolute;
        height: 40px;
    `)}

    ${Ws(`
        position: static;
        top: 0;
    `)}

    &:hover {
        top: 0;

        .ShowMenuBtn {
            display: none;
        }
    }

`,o$e=bt.button`
    border-radius: 48px;
    background: rgba(0, 0, 0, 0.40);
    border: none;
    padding: 8px 16px;
    color: #fff;
    font-size: 14px;
    font-family: 'SF Pro Text', Arial, Helvetica, sans-serif;

    position: absolute;
    top: 46px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;

    &:before {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: -50px;
        right: -50px;
    }

    display: none;

    ${Fu(`
        display: block;
    `)}

    ${Ws(`
        display: none;
    `)}
`,l$e=bt.img`
    height: 20px;

    ${Ws(`
        width: 20px;
        object-fit: cover;
        object-position: left;
    `)}
`,c$e=bt.a`
    text-decoration: none;
    color: #1D7BFF;
    font-size: 16px;
    font-weight: 500;
    line-height: 28px;
    letter-spacing: -0.32px;
    display: flex;
    align-items: center;
    column-gap: 8px;
    height: 100%;

    &:hover, &:visited, &:focus {
        text-decoration: none;
        color: #1D7BFF;
    }

    span {
        ${Ws(`
            display: none;
        `)}
    }
`,u$e=bt.div`
    display: flex;
    align-items: center;
    border-radius: 50px;
    background: rgba(29, 123, 255, 0.10);

    ${Ws(`
        display: none;
    `)}
`,XD=bt.div`
    position: relative;

    label {
        display: block;
        position: absolute;
        top: calc(50% - 3px);
        right: 16px;
        width: 10px;
        height: 6px;
        background-image: url(https://cdn.streamlayer.io/sdk-web-demo/select-arr.png);
        background-size: contain;
        background-repeat: no-repeat;
    }

    display: none;

    ${Ws(`
        display: block;
    `)}
`,ZD=bt.select`
    display: none;
    border: none;
    font-weight: 500;
    font-size: 14px;
    padding: 0px;
    padding-left: 16px;
    padding-right: 34px;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    color: #fff;
    appearance: none;
    outline: none !important;
    position: relative;
    text-align: center;

    &::-ms-expand {
        display: none;
    }

    ${Ws(`
        display: flex;
    `)}

    background-blend-mode: soft-light, normal;
    background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
`,SS=bt.button`
    height: 100%;
    border: none;
    color: #1D7BFF;
    cursor: pointer;
    outline: none;
    transition: all 0.3s;
    font-weight: 500;
    font-size: 14px;
    padding: 0px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    background-color: transparent;

    ${({active:t})=>!t&&`
        &:hover {
            opacity: 0.5;
        }
    `}

    &:focus {
        outline: none;
    }

    &:disabled {
        opacity: 0.5;
    }

    ${({active:t})=>t&&`
        background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
        background-blend-mode: soft-light, normal;
        color: #fff;
        cursor: default;
    `}
`,d$e=window.localStorage.getItem("with-theme"),h$e=({mode:t,theme:e,tabs:n,toggleMode:r,toggleTheme:i,disabled:s})=>S.jsxs(a$e,{className:"NavBarContainer",children:[S.jsx(l$e,{src:"https://cdn.streamlayer.io/sdk-web-demo/sl-logo.png"}),n&&S.jsxs(u$e,{onClick:r,children:[S.jsx(SS,{active:t==="side-panel",name:"side-panel",children:"Sidebar"}),S.jsx(SS,{active:t==="l-bar",name:"l-bar",children:"L-Bar"}),S.jsx(SS,{active:t==="overlay",disabled:s==null?void 0:s.overlay,name:"overlay",children:"Overlay"})]}),n&&S.jsxs(XD,{children:[S.jsxs(ZD,{id:"select-mode",onChange:r,children:[S.jsx("option",{value:"side-panel",selected:t==="side-panel",children:"Sidebar"}),S.jsx("option",{value:"l-bar",selected:t==="l-bar",children:"L-Bar"}),S.jsx("option",{value:"overlay",selected:t==="overlay",disabled:s==null?void 0:s.overlay,children:"Overlay"})]}),S.jsx("label",{htmlFor:"select-mode"})]}),!!d$e&&S.jsxs(XD,{style:{display:"block"},children:[S.jsxs(ZD,{style:{display:"flex"},id:"select-theme",onChange:i,children:[S.jsx("option",{value:"light",selected:e==="light",children:"Light"}),S.jsx("option",{value:"dark",selected:e==="dark",children:"Dark"}),S.jsx("option",{value:"tgl",selected:e==="tgl",children:"TGL"})]}),S.jsx("label",{htmlFor:"select-mode"})]}),S.jsxs(c$e,{href:zMe,target:"_blank",children:[S.jsx("img",{src:"https://cdn.streamlayer.io/assets/sdk-web/storybook-assets/studio-link.svg"}),S.jsx("span",{children:"Open Studio"})]}),S.jsx(o$e,{className:"ShowMenuBtn",children:"Show menu"})]});function m$e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OK={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return u.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):c;var m=o.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var p={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(p.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)p.path=m.path,h.params||(p.params=m.params,h.query||(p.query=m.query));else{var _=m.path,y=_.substring(0,_.lastIndexOf("/")+1)+h.path;p.path=o.normalizePath(y)}return p.path===null&&(p.path=u.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(p)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(OK);var Tw=OK.exports;function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){g$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f$e(t){var e=p$e(t,"string");return typeof e=="symbol"?e:String(e)}function g$e(t,e,n){return e=f$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(){return Ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ln.apply(this,arguments)}const Pe=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},y$e=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=T$e},T$e=Number.MAX_SAFE_INTEGER||9007199254740991;let $=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),ze=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),de=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Yc=function(){},t6={trace:Yc,debug:Yc,log:Yc,warn:Yc,info:Yc,error:Yc};let Jf=t6;function v$e(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Yc}function _$e(t,...e){e.forEach(function(n){Jf[n]=t[n]?t[n].bind(t):v$e(n)})}function b$e(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){_$e(t,"debug","log","info","warn","error");try{Jf.log(`Debug logs enabled for "${e}" in hls.js version 1.5.17`)}catch{Jf=t6}}else Jf=t6}const ae=Jf,S$e=/^(\d+)x(\d+)$/,eP=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Wt{constructor(e){typeof e=="string"&&(e=Wt.parseAttrList(e)),Ln(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=S$e.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(eP.lastIndex=0;(n=eP.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const a=n[1].trim();r[a]=s}return r}}function E$e(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function k$e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class DK{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){ae.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Ln(new Wt({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);Pe(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Pe(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Pe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class C_{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var yt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class PK{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[yt.AUDIO]:null,[yt.VIDEO]:null,[yt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Tw.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class ES extends PK{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new C_,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!Pe(this.programDateTime))return null;const e=Pe(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,a=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:a};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[yt.AUDIO]=null,e[yt.VIDEO]=null,e[yt.AUDIOVIDEO]=null}}class A$e extends PK{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new C_,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const w$e=10;class C$e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?Pe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||w$e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function vw(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function I$e(t){const e=n6(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function x$e(t){const e=function(r,i,s){const a=r[i];r[i]=r[s],r[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function L$e(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",a=i[1];s?(r.splice(-1,1),n=vw(a)):n=I$e(a)}}return n}function n6(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const Cm=typeof self<"u"?self:void 0;var Rt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},li={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function tP(t){switch(t){case li.FAIRPLAY:return Rt.FAIRPLAY;case li.PLAYREADY:return Rt.PLAYREADY;case li.WIDEVINE:return Rt.WIDEVINE;case li.CLEARKEY:return Rt.CLEARKEY}}var _f={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function nP(t){if(t===_f.WIDEVINE)return Rt.WIDEVINE;if(t===_f.PLAYREADY)return Rt.PLAYREADY;if(t===_f.CENC||t===_f.CLEARKEY)return Rt.CLEARKEY}function rP(t){switch(t){case Rt.FAIRPLAY:return li.FAIRPLAY;case Rt.PLAYREADY:return li.PLAYREADY;case Rt.WIDEVINE:return li.WIDEVINE;case Rt.CLEARKEY:return li.CLEARKEY}}function kS(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[Rt.FAIRPLAY,Rt.WIDEVINE,Rt.PLAYREADY,Rt.CLEARKEY].filter(i=>!!e[i]):[];return!r[Rt.WIDEVINE]&&n&&r.push(Rt.WIDEVINE),r}const MK=function(t){return Cm!=null&&(t=Cm.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function R$e(t,e,n,r){let i;switch(t){case Rt.FAIRPLAY:i=["cenc","sinf"];break;case Rt.WIDEVINE:case Rt.PLAYREADY:i=["cenc"];break;case Rt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return N$e(i,e,n,r)}function N$e(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function Au(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const _w=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,$K=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Z1=(t,e)=>{const n=e;let r=0;for(;_w(t,e);){r+=10;const i=I_(t,e+6);r+=i,$K(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},I_=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},O$e=(t,e)=>_w(t,e)&&I_(t,e+6)+10<=t.length-e,bw=t=>{const e=FK(t);for(let n=0;n<e.length;n++){const r=e[n];if(UK(r))return F$e(r)}},UK=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",D$e=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=I_(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},FK=t=>{let e=0;const n=[];for(;_w(t,e);){const r=I_(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=D$e(t.subarray(e)),a=P$e(s);a&&n.push(a),e+=s.size+10}$K(t,e)&&(e+=10)}return n},P$e=t=>t.type==="PRIV"?M$e(t):t.type[0]==="W"?U$e(t):$$e(t),M$e=t=>{if(t.size<2)return;const e=Ua(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},$$e=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=Ua(t.data.subarray(n),!0);n+=r.length+1;const i=Ua(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Ua(t.data.subarray(1));return{key:t.type,data:e}},U$e=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=Ua(t.data.subarray(n),!0);n+=r.length+1;const i=Ua(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Ua(t.data);return{key:t.type,data:e}},F$e=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},Ua=(t,e=!1)=>{const n=B$e();if(n){const c=n.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const r=t.length;let i,s,a,o="",l=0;for(;l<r;){if(i=t[l++],i===0&&e)return o;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:s=t[l++],o+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[l++],a=t[l++],o+=String.fromCharCode((i&15)<<12|(s&63)<<6|(a&63)<<0);break}}return o};let AS;function B$e(){if(!navigator.userAgent.includes("PlayStation 4"))return!AS&&typeof self.TextDecoder<"u"&&(AS=new self.TextDecoder("utf-8")),AS}const ga={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},Dv=Math.pow(2,32)-1,j$e=[].push,BK={video:1,audio:2,id3:3,text:4};function Nn(t){return String.fromCharCode.apply(null,t)}function jK(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function je(t,e){const n=VK(t,e);return n<0?4294967296+n:n}function iP(t,e){let n=je(t,e);return n*=Math.pow(2,32),n+=je(t,e+4),n}function VK(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function wS(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function V$e(t){const e=t.byteLength;for(let n=0;n<e;){const r=je(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function Ze(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=je(t,i),a=Nn(t.subarray(i+4,i+8)),o=s>1?i+s:r;if(a===e[0])if(e.length===1)n.push(t.subarray(i+8,o));else{const l=Ze(t.subarray(i+8,o),e.slice(1));l.length&&j$e.apply(n,l)}i=o}return n}function H$e(t){const e=[],n=t[0];let r=8;const i=je(t,r);r+=4;let s=0,a=0;n===0?(s=je(t,r),a=je(t,r+4),r+=8):(s=iP(t,r),a=iP(t,r+8),r+=16),r+=2;let o=t.length+a;const l=jK(t,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=je(t,u);u+=4;const h=d&2147483647;if((d&2147483648)>>>31===1)return ae.warn("SIDX has hierarchical references (not supported)"),null;const g=je(t,u);u+=4,e.push({referenceSize:h,subsegmentDuration:g,info:{duration:g/i,start:o,end:o+h-1}}),o+=h,u+=4,r=u}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:l,references:e}}function HK(t){const e=[],n=Ze(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],a=Ze(s,["tkhd"])[0];if(a){let o=a[0];const l=je(a,o===0?12:20),c=Ze(s,["mdia","mdhd"])[0];if(c){o=c[0];const u=je(c,o===0?12:20),d=Ze(s,["mdia","hdlr"])[0];if(d){const h=Nn(d.subarray(8,12)),m={soun:yt.AUDIO,vide:yt.VIDEO}[h];if(m){const g=Ze(s,["mdia","minf","stbl","stsd"])[0],p=G$e(g);e[l]={timescale:u,type:m},e[m]=er({timescale:u,id:l},p)}}}}}return Ze(t,["moov","mvex","trex"]).forEach(i=>{const s=je(i,4),a=e[s];a&&(a.default={duration:je(i,12),flags:je(i,20)})}),e}function G$e(t){const e=t.subarray(8),n=e.subarray(86),r=Nn(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const o=Ze(e,[r])[0].subarray(r==="enca"?28:78);Ze(o,["sinf"]).forEach(c=>{const u=Ze(c,["schm"])[0];if(u){const d=Nn(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const h=Ze(c,["frma"])[0];h&&(i=Nn(h))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const a=Ze(n,["avcC"])[0];i+="."+py(a[1])+py(a[2])+py(a[3]);break}case"mp4a":{const a=Ze(e,[r])[0],o=Ze(a.subarray(28),["esds"])[0];if(o&&o.length>12){let l=4;if(o[l++]!==3)break;l=CS(o,l),l+=2;const c=o[l++];if(c&128&&(l+=2),c&64&&(l+=o[l++]),o[l++]!==4)break;l=CS(o,l);const u=o[l++];if(u===64)i+="."+py(u);else break;if(l+=12,o[l++]!==5)break;l=CS(o,l);const d=o[l++];let h=(d&248)>>3;h===31&&(h+=1+((d&7)<<3)+((o[l]&224)>>5)),i+="."+h}break}case"hvc1":case"hev1":{const a=Ze(n,["hvcC"])[0],o=a[1],l=["","A","B","C"][o>>6],c=o&31,u=je(a,2),d=(o&32)>>5?"H":"L",h=a[12],m=a.subarray(6,12);i+="."+l+c,i+="."+u.toString(16).toUpperCase(),i+="."+d+h;let g="";for(let p=m.length;p--;){const _=m[p];(_||g)&&(g="."+_.toString(16).toUpperCase()+g)}i+=g;break}case"dvh1":case"dvhe":{const a=Ze(n,["dvcC"])[0],o=a[2]>>1&127,l=a[2]<<5&32|a[3]>>3&31;i+="."+ia(o)+"."+ia(l);break}case"vp09":{const a=Ze(n,["vpcC"])[0],o=a[4],l=a[5],c=a[6]>>4&15;i+="."+ia(o)+"."+ia(l)+"."+ia(c);break}case"av01":{const a=Ze(n,["av1C"])[0],o=a[1]>>>5,l=a[1]&31,c=a[2]>>>7?"H":"M",u=(a[2]&64)>>6,d=(a[2]&32)>>5,h=o===2&&u?d?12:10:u?10:8,m=(a[2]&16)>>4,g=(a[2]&8)>>3,p=(a[2]&4)>>2,_=a[2]&3;i+="."+o+"."+ia(l)+c+"."+ia(h)+"."+m+"."+g+p+_+"."+ia(1)+"."+ia(1)+"."+ia(1)+"."+0;break}}return{codec:i,encrypted:s}}function CS(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function py(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function ia(t){return(t<10?"0":"")+t}function q$e(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&Ze(t,["moov","trak"]).forEach(i=>{const a=Ze(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=Ze(a,["enca"]);const l=o.length>0;l||(o=Ze(a,["encv"])),o.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);Ze(u,["sinf"]).forEach(h=>{const m=GK(h);if(m){const g=m.subarray(8,24);g.some(p=>p!==0)||(ae.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${ga.hexDump(g)} -> ${ga.hexDump(n)}`),m.set(n,8))}})})}),t}function GK(t){const e=Ze(t,["schm"])[0];if(e){const n=Nn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return Ze(t,["schi","tenc"])[0]}return null}function z$e(t,e){return Ze(e,["moof","traf"]).reduce((n,r)=>{const i=Ze(r,["tfdt"])[0],s=i[0],a=Ze(r,["tfhd"]).reduce((o,l)=>{const c=je(l,4),u=t[c];if(u){let d=je(i,4);if(s===1){if(d===Dv)return ae.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;d*=Dv+1,d+=je(i,8)}const h=u.timescale||9e4,m=d/h;if(Pe(m)&&(o===null||m<o))return m}return o},null);return a!==null&&Pe(a)&&(n===null||a<n)?a:n},null)}function W$e(t,e){let n=0,r=0,i=0;const s=Ze(t,["moof","traf"]);for(let a=0;a<s.length;a++){const o=s[a],l=Ze(o,["tfhd"])[0],c=je(l,4),u=e[c];if(!u)continue;const d=u.default,h=je(l,0)|(d==null?void 0:d.flags);let m=d==null?void 0:d.duration;h&8&&(h&2?m=je(l,12):m=je(l,8));const g=u.timescale||9e4,p=Ze(o,["trun"]);for(let _=0;_<p.length;_++){if(n=K$e(p[_]),!n&&m){const y=je(p[_],4);n=m*y}u.type===yt.VIDEO?r+=n/g:u.type===yt.AUDIO&&(i+=n/g)}}if(r===0&&i===0){let a=1/0,o=0,l=0;const c=Ze(t,["sidx"]);for(let u=0;u<c.length;u++){const d=H$e(c[u]);if(d!=null&&d.references){a=Math.min(a,d.earliestPresentationTime/d.timescale);const h=d.references.reduce((m,g)=>m+g.info.duration||0,0);o=Math.max(o,h+d.earliestPresentationTime/d.timescale),l=o-a}}if(l&&Pe(l))return l}return r||i}function K$e(t){const e=je(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=je(t,4);for(let s=0;s<i;s++){if(e&256){const a=je(t,n);r+=a,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function Y$e(t,e,n){Ze(e,["moof","traf"]).forEach(r=>{Ze(r,["tfhd"]).forEach(i=>{const s=je(i,4),a=t[s];if(!a)return;const o=a.timescale||9e4;Ze(r,["tfdt"]).forEach(l=>{const c=l[0],u=n*o;if(u){let d=je(l,4);if(c===0)d-=u,d=Math.max(d,0),wS(l,4,d);else{d*=Math.pow(2,32),d+=je(l,8),d-=u,d=Math.max(d,0);const h=Math.floor(d/(Dv+1)),m=Math.floor(d%(Dv+1));wS(l,4,h),wS(l,8,m)}}})})})}function Q$e(t){const e={valid:null,remainder:null},n=Ze(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=Au(t,0,r.byteOffset-8),e.remainder=Au(t,r.byteOffset-8),e}function vs(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function sP(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let a=!1;return Ze(r,["moof"]).map(l=>{const c=l.byteOffset-8;Ze(l,["traf"]).map(d=>{const h=Ze(d,["tfdt"]).map(m=>{const g=m[0];let p=je(m,4);return g===1&&(p*=Math.pow(2,32),p+=je(m,8)),p/i})[0];return h!==void 0&&(t=h),Ze(d,["tfhd"]).map(m=>{const g=je(m,4),p=je(m,0)&16777215,_=(p&1)!==0,y=(p&2)!==0,v=(p&8)!==0;let E=0;const x=(p&16)!==0;let C=0;const R=(p&32)!==0;let D=8;g===s&&(_&&(D+=8),y&&(D+=4),v&&(E=je(m,D),D+=4),x&&(C=je(m,D),D+=4),R&&(D+=4),e.type==="video"&&(a=X$e(e.codec)),Ze(d,["trun"]).map(U=>{const K=U[0],V=je(U,0)&16777215,X=(V&1)!==0;let he=0;const ie=(V&4)!==0,pe=(V&256)!==0;let ne=0;const oe=(V&512)!==0;let _e=0;const Y=(V&1024)!==0,te=(V&2048)!==0;let re=0;const Ae=je(U,4);let W=8;X&&(he=je(U,W),W+=4),ie&&(W+=4);let J=he+c;for(let le=0;le<Ae;le++){if(pe?(ne=je(U,W),W+=4):ne=E,oe?(_e=je(U,W),W+=4):_e=C,Y&&(W+=4),te&&(K===0?re=je(U,W):re=VK(U,W),W+=4),e.type===yt.VIDEO){let ve=0;for(;ve<_e;){const Re=je(r,J);if(J+=4,Z$e(a,r[J])){const Me=r.subarray(J,J+Re);qK(Me,a?2:1,t+re/i,n)}J+=Re,ve+=Re+4}}t+=ne/i}}))})})}),n}function X$e(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function Z$e(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function qK(t,e,n,r){const i=zK(t);let s=0;s+=e;let a=0,o=0,l=0;for(;s<i.length;){a=0;do{if(s>=i.length)break;l=i[s++],a+=l}while(l===255);o=0;do{if(s>=i.length)break;l=i[s++],o+=l}while(l===255);const c=i.length-s;let u=s;if(o<c)s+=o;else if(o>c){ae.error(`Malformed SEI payload. ${o} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(i[u++]===181){const h=jK(i,u);if(u+=2,h===49){const m=je(i,u);if(u+=4,m===1195456820){const g=i[u++];if(g===3){const p=i[u++],_=31&p,y=64&p,v=y?2+_*3:0,E=new Uint8Array(v);if(y){E[0]=p;for(let x=1;x<v;x++)E[x]=i[u++]}r.push({type:g,payloadType:a,pts:n,bytes:E})}}}}}else if(a===5&&o>16){const d=[];for(let g=0;g<16;g++){const p=i[u++].toString(16);d.push(p.length==1?"0"+p:p),(g===3||g===5||g===7||g===9)&&d.push("-")}const h=o-16,m=new Uint8Array(h);for(let g=0;g<h;g++)m[g]=i[u++];r.push({payloadType:a,pts:n,uuid:d.join(""),userData:Ua(m),userDataBytes:m})}}}function zK(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),s[r]=t[a];return s}function J$e(t){const e=t[0];let n="",r="",i=0,s=0,a=0,o=0,l=0,c=0;if(e===0){for(;Nn(t.subarray(c,c+1))!=="\0";)n+=Nn(t.subarray(c,c+1)),c+=1;for(n+=Nn(t.subarray(c,c+1)),c+=1;Nn(t.subarray(c,c+1))!=="\0";)r+=Nn(t.subarray(c,c+1)),c+=1;r+=Nn(t.subarray(c,c+1)),c+=1,i=je(t,12),s=je(t,16),o=je(t,20),l=je(t,24),c=28}else if(e===1){c+=4,i=je(t,c),c+=4;const d=je(t,c);c+=4;const h=je(t,c);for(c+=4,a=2**32*d+h,y$e(a)||(a=Number.MAX_SAFE_INTEGER,ae.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=je(t,c),c+=4,l=je(t,c),c+=4;Nn(t.subarray(c,c+1))!=="\0";)n+=Nn(t.subarray(c,c+1)),c+=1;for(n+=Nn(t.subarray(c,c+1)),c+=1;Nn(t.subarray(c,c+1))!=="\0";)r+=Nn(t.subarray(c,c+1)),c+=1;r+=Nn(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:s,eventDuration:o,id:l,payload:u}}function eUe(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function tUe(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),eUe([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,a,n||new Uint8Array)}function nUe(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=rUe(i);e.push(s),r+=s.size}}return e}function rUe(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const a=t.buffer,o=ga.hexDump(new Uint8Array(a,n+12,16)),l=t.getUint32(28);let c=null,u=null;if(s===0){if(e-32<l||l<22)return{offset:n,size:e};u=new Uint8Array(a,n+32,l)}else if(s===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(a,n+32+d*16,16))}return{version:s,systemId:o,kids:c,data:u,offset:n,size:e}}let fy={};class J1{static clearKeyUriToKeyIdMap(){fy={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case li.FAIRPLAY:case li.WIDEVINE:case li.PLAYREADY:case li.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&ae.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=iUe(e);return new J1(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=L$e(this.uri);if(n)switch(this.keyFormat){case li.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case li.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=tUe(r,null,n);const i=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(i)),a=s.substring(s.indexOf("<"),s.length),c=new DOMParser().parseFromString(a,"text/xml").getElementsByTagName("KID")[0];if(c){const u=c.childNodes[0]?c.childNodes[0].nodeValue:c.getAttribute("VALUE");if(u){const d=vw(u).subarray(0,16);x$e(d),this.keyId=d}}break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=fy[this.uri];if(!r){const i=Object.keys(fy).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),fy[this.uri]=r}this.keyId=r}return this}}function iUe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const WK=/\{\$([a-zA-Z0-9-_]+)\}/g;function aP(t){return WK.test(t)}function ti(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=r6(t,s))}}function r6(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(WK,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function oP(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(n).searchParams;if(a.has(i))s=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function sUe(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Bu(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function aUe(t){return typeof self<"u"&&t===self.ManagedMediaSource}const Pv={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function oUe(t,e){const n=Pv[e];return!!n&&!!n[t.slice(0,4)]}function IS(t,e,n=!0){return!t.split(",").some(r=>!KK(r,e,n))}function KK(t,e,n=!0){var r;const i=Bu(n);return(r=i==null?void 0:i.isTypeSupported(eg(t,e)))!=null?r:!1}function eg(t,e){return`${e}/mp4;codecs="${t}"`}function lP(t){if(t){const e=t.substring(0,4);return Pv.video[e]}return 2}function Mv(t){return t.split(",").reduce((e,n)=>{const r=Pv.video[n];return r?(r*2+e)/(e?3:2):(Pv.audio[n]+e)/(e?2:1)},0)}const xS={};function lUe(t,e=!0){if(xS[t])return xS[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(KK(n[r],"audio",e))return xS[t]=n[r],n[r];return t}const cUe=/flac|opus/i;function $v(t,e=!0){return t.replace(cUe,n=>lUe(n.toLowerCase(),e))}function cP(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function uUe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=i}}return e.join(",")}const uP=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,dP=/#EXT-X-MEDIA:(.*)/g,dUe=/^#EXT(?:INF|-X-TARGETDURATION):/m,hP=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),hUe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class xa{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return Tw.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return dUe.test(e)}static parseMasterPlaylist(e,n){const r=aP(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];uP.lastIndex=0;let a;for(;(a=uP.exec(e))!=null;)if(a[1]){var o;const c=new Wt(a[1]);ti(i,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=r6(i,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:xa.resolve(u,n)},h=c.decimalResolution("RESOLUTION");h&&(d.width=h.width,d.height=h.height),mUe(c.CODECS,d),(o=d.unknownCodecs)!=null&&o.length||s.push(d),i.levels.push(d)}else if(a[3]){const c=a[3],u=a[4];switch(c){case"SESSION-DATA":{const d=new Wt(u);ti(i,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const h=d["DATA-ID"];h&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[h]=d);break}case"SESSION-KEY":{const d=mP(u,n,i);d.encrypted&&d.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(d)):ae.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new Wt(u);ti(i,d,["NAME","VALUE","QUERYPARAM"]),oP(i,d,n)}break}case"CONTENT-STEERING":{const d=new Wt(u);ti(i,d,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:xa.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=pP(u);break}}}const l=s.length>0&&s.length<i.levels.length;return i.levels=l?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},a=r.levels,o={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(dP.lastIndex=0;(i=dP.exec(e))!==null;){const c=new Wt(i[1]),u=c.TYPE;if(u){const d=o[u],h=s[u]||[];s[u]=h,ti(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const m=c.LANGUAGE,g=c["ASSOC-LANGUAGE"],p=c.CHANNELS,_=c.CHARACTERISTICS,y=c["INSTREAM-ID"],v={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||m||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:m,url:c.URI?xa.resolve(c.URI,n):""};if(g&&(v.assocLang=g),p&&(v.channels=p),_&&(v.characteristics=_),y&&(v.instreamId=y),d!=null&&d.length){const E=xa.findGroup(d,v.groupId)||d[0];fP(v,E,"audioCodec"),fP(v,E,"textCodec")}h.push(v)}}return s}static parseLevelPlaylist(e,n,r,i,s,a){const o=new C$e(n),l=o.fragments;let c=null,u=0,d=0,h=0,m=0,g=null,p=new ES(i,n),_,y,v,E=-1,x=!1,C=null;for(hP.lastIndex=0,o.m3u8=e,o.hasVariableRefs=aP(e);(_=hP.exec(e))!==null;){x&&(x=!1,p=new ES(i,n),p.start=h,p.sn=u,p.cc=m,p.level=r,c&&(p.initSegment=c,p.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,C&&(p.setByteRange(C),C=null)));const K=_[1];if(K){p.duration=parseFloat(K);const V=(" "+_[2]).slice(1);p.title=V||null,p.tagList.push(V?["INF",K,V]:["INF",K])}else if(_[3]){if(Pe(p.duration)){p.start=h,v&&TP(p,v,o),p.sn=u,p.level=r,p.cc=m,l.push(p);const V=(" "+_[3]).slice(1);p.relurl=r6(o,V),gP(p,g),g=p,h+=p.duration,u++,d=0,x=!0}}else if(_[4]){const V=(" "+_[4]).slice(1);g?p.setByteRange(V,g):p.setByteRange(V)}else if(_[5])p.rawProgramDateTime=(" "+_[5]).slice(1),p.tagList.push(["PROGRAM-DATE-TIME",p.rawProgramDateTime]),E===-1&&(E=l.length);else{if(_=_[0].match(hUe),!_){ae.warn("No matches on slow regex match for level playlist!");continue}for(y=1;y<_.length&&!(typeof _[y]<"u");y++);const V=(" "+_[y]).slice(1),X=(" "+_[y+1]).slice(1),he=_[y+2]?(" "+_[y+2]).slice(1):"";switch(V){case"PLAYLIST-TYPE":o.type=X.toUpperCase();break;case"MEDIA-SEQUENCE":u=o.startSN=parseInt(X);break;case"SKIP":{const ie=new Wt(X);ti(o,ie,["RECENTLY-REMOVED-DATERANGES"]);const pe=ie.decimalInteger("SKIPPED-SEGMENTS");if(Pe(pe)){o.skippedSegments=pe;for(let oe=pe;oe--;)l.unshift(null);u+=pe}const ne=ie.enumeratedString("RECENTLY-REMOVED-DATERANGES");ne&&(o.recentlyRemovedDateranges=ne.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(X),1);break;case"VERSION":o.version=parseInt(X);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(X||he)&&p.tagList.push(he?[X,he]:[X]);break;case"DISCONTINUITY":m++,p.tagList.push(["DIS"]);break;case"GAP":p.gap=!0,p.tagList.push([V]);break;case"BITRATE":p.tagList.push([V,X]);break;case"DATERANGE":{const ie=new Wt(X);ti(o,ie,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ti(o,ie,ie.clientAttrs);const pe=new DK(ie,o.dateRanges[ie.ID]);pe.isValid||o.skippedSegments?o.dateRanges[pe.id]=pe:ae.warn(`Ignoring invalid DATERANGE tag: "${X}"`),p.tagList.push(["EXT-X-DATERANGE",X]);break}case"DEFINE":{{const ie=new Wt(X);ti(o,ie,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in ie?sUe(o,ie,a):oP(o,ie,n)}break}case"DISCONTINUITY-SEQUENCE":m=parseInt(X);break;case"KEY":{const ie=mP(X,n,o);if(ie.isSupported()){if(ie.method==="NONE"){v=void 0;break}v||(v={}),v[ie.keyFormat]&&(v=Ln({},v)),v[ie.keyFormat]=ie}else ae.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${X}"`);break}case"START":o.startTimeOffset=pP(X);break;case"MAP":{const ie=new Wt(X);if(ti(o,ie,["BYTERANGE","URI"]),p.duration){const pe=new ES(i,n);yP(pe,ie,r,v),c=pe,p.initSegment=c,c.rawProgramDateTime&&!p.rawProgramDateTime&&(p.rawProgramDateTime=c.rawProgramDateTime)}else{const pe=p.byteRangeEndOffset;if(pe){const ne=p.byteRangeStartOffset;C=`${pe-ne}@${ne}`}else C=null;yP(p,ie,r,v),c=p,x=!0}break}case"SERVER-CONTROL":{const ie=new Wt(X);o.canBlockReload=ie.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=ie.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&ie.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=ie.optionalFloat("PART-HOLD-BACK",0),o.holdBack=ie.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const ie=new Wt(X);o.partTarget=ie.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ie=o.partList;ie||(ie=o.partList=[]);const pe=d>0?ie[ie.length-1]:void 0,ne=d++,oe=new Wt(X);ti(o,oe,["BYTERANGE","URI"]);const _e=new A$e(oe,p,n,ne,pe);ie.push(_e),p.duration+=_e.duration;break}case"PRELOAD-HINT":{const ie=new Wt(X);ti(o,ie,["URI"]),o.preloadHint=ie;break}case"RENDITION-REPORT":{const ie=new Wt(X);ti(o,ie,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(ie);break}default:ae.warn(`line parsed but not handled: ${_}`);break}}}g&&!g.relurl?(l.pop(),h-=g.duration,o.partList&&(o.fragmentHint=g)):o.partList&&(gP(p,g),p.cc=m,o.fragmentHint=p,v&&TP(p,v,o));const R=l.length,D=l[0],U=l[R-1];if(h+=o.skippedSegments*o.targetduration,h>0&&R&&U){o.averagetargetduration=h/R;const K=U.sn;o.endSN=K!=="initSegment"?K:0,o.live||(U.endList=!0),D&&(o.startCC=D.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(h+=o.fragmentHint.duration),o.totalduration=h,o.endCC=m,E>0&&pUe(l,E),o}}function mP(t,e,n){var r,i;const s=new Wt(t);ti(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=(r=s.METHOD)!=null?r:"",o=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=(i=s.KEYFORMAT)!=null?i:"identity";o&&s.IV&&!l&&ae.error(`Invalid IV: ${s.IV}`);const d=o?xa.resolve(o,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new J1(a,d,u,h,l)}function pP(t){const n=new Wt(t).decimalFloatingPoint("TIME-OFFSET");return Pe(n)?n:null}function mUe(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>oUe(s,r));i.length&&(e[`${r}Codec`]=i.join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function fP(t,e,n){const r=e[n];r&&(t[n]=r)}function pUe(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function gP(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Pe(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function yP(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function TP(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var st={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Ve={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function vP(t){const{type:e}=t;switch(e){case st.AUDIO_TRACK:return Ve.AUDIO;case st.SUBTITLE_TRACK:return Ve.SUBTITLE;default:return Ve.MAIN}}function LS(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class fUe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,a=new s(n);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:st.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:a,deliveryDirectives:o}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:st.LEVEL,url:a,deliveryDirectives:o})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:a}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:st.AUDIO_TRACK,url:s,deliveryDirectives:a})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:a}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:st.SUBTITLE_TRACK,url:s,deliveryDirectives:a})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=i.context;if(c&&c.url===e.url&&c.level===e.level){ae.trace("[playlist-loader]: playlist request ongoing");return}ae.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===st.MANIFEST?s=r.manifestLoadPolicy.default:s=Ln({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Pe((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===st.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===st.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===st.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const h=Math.max(u*3,d*.8)*1e3;s=Ln({},s,{maxTimeToFirstByteMs:Math.min(h,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(h,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},o={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,u,d,h)=>{const m=this.getInternalLoader(d);this.resetInternalLoader(d.type);const g=c.data;if(g.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),h||null,u);return}u.parsing.start=performance.now(),xa.isMediaPlaylist(g)?this.handleTrackOrLevelPlaylist(c,u,d,h||null,m):this.handleMasterPlaylist(c,u,d,h)},onError:(c,u,d,h)=>{this.handleNetworkError(u,d,!1,c,h)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};i.load(e,o,l)}handleMasterPlaylist(e,n,r,i){const s=this.hls,a=e.data,o=LS(e,r),l=xa.parseMasterPlaylist(a,o);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:h,startTimeOffset:m,variableList:g}=l;this.variableList=g;const{AUDIO:p=[],SUBTITLES:_,"CLOSED-CAPTIONS":y}=xa.parseMasterPlaylistMedia(a,o,l);p.length&&!p.some(E=>!E.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(ae.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Wt({}),bitrate:0,url:""})),s.trigger($.MANIFEST_LOADED,{levels:u,audioTracks:p,subtitles:_,captions:y,contentSteering:c,url:o,stats:n,networkDetails:i,sessionData:d,sessionKeys:h,startTimeOffset:m,variableList:g})}handleTrackOrLevelPlaylist(e,n,r,i,s){const a=this.hls,{id:o,level:l,type:c}=r,u=LS(e,r),d=0,h=Pe(l)?l:Pe(o)?o:0,m=vP(r),g=xa.parseLevelPlaylist(e.data,u,h,m,d,this.variableList);if(c===st.MANIFEST){const p={attrs:new Wt({}),bitrate:0,details:g,name:"",url:u};a.trigger($.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=g,this.handlePlaylistLoaded(g,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger($.ERROR,{type:ze.NETWORK_ERROR,details:de.MANIFEST_PARSING_ERROR,fatal:n.type===st.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let a=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===st.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===st.AUDIO_TRACK||e.type===st.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(a);ae.warn(`[playlist-loader]: ${a}`);let l=de.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case st.MANIFEST:l=r?de.MANIFEST_LOAD_TIMEOUT:de.MANIFEST_LOAD_ERROR,c=!0;break;case st.LEVEL:l=r?de.LEVEL_LOAD_TIMEOUT:de.LEVEL_LOAD_ERROR,c=!1;break;case st.AUDIO_TRACK:l=r?de.AUDIO_TRACK_LOAD_TIMEOUT:de.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case st.SUBTITLE_TRACK:l=r?de.SUBTITLE_TRACK_LOAD_TIMEOUT:de.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:ze.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:o,networkDetails:n,stats:s};if(i){const h=(n==null?void 0:n.url)||e.url;d.response=er({url:h,data:void 0},i)}this.hls.trigger($.ERROR,d)}handlePlaylistLoaded(e,n,r,i,s,a){const o=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:h}=i,m=LS(n,i),g=vP(i),p=typeof i.level=="number"&&g===Ve.MAIN?c:void 0;if(!e.fragments.length){const y=new Error("No Segments found in Playlist");o.trigger($.ERROR,{type:ze.NETWORK_ERROR,details:de.LEVEL_EMPTY_ERROR,fatal:!1,url:m,error:y,reason:y.message,response:n,context:i,level:p,parent:g,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const _=e.playlistParsingError;if(_){o.trigger($.ERROR,{type:ze.NETWORK_ERROR,details:de.LEVEL_PARSING_ERROR,fatal:!1,url:m,error:_,reason:_.message,response:n,context:i,level:p,parent:g,networkDetails:s,stats:r});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case st.MANIFEST:case st.LEVEL:o.trigger($.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:r,networkDetails:s,deliveryDirectives:h});break;case st.AUDIO_TRACK:o.trigger($.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:h});break;case st.SUBTITLE_TRACK:o.trigger($.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:h});break}}}function YK(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function QK(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){ae.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){ae.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function hh(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function i6(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=yUe(t.cues,e,n);for(let a=0;a<s.length;a++)(!r||r(s[a]))&&t.removeCue(s[a])}i==="disabled"&&(t.mode=i)}function gUe(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function yUe(t,e,n){const r=[],i=gUe(t,e);if(i>-1)for(let s=i,a=t.length;s<a;s++){const o=t[s];if(o.startTime>=e&&o.endTime<=n)r.push(o);else if(o.startTime>n)return r}return r}function x2(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var Fs={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const TUe=.25;function s6(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function _P(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,JSON.stringify(i?er({type:i},r):r))}return s}const gy=(()=>{const t=s6();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function RS(t,e){return t.getTime()/1e3-e}function vUe(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class _Ue{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(hh(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return YK(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=s6();if(a)for(let o=0;o<s.length;o++){const l=s[o].type;if(l===Fs.emsg&&!r||!i)continue;const c=FK(s[o].data);if(c){const u=s[o].pts;let d=u+s[o].duration;d>gy&&(d=gy),d-u<=0&&(d=u+TUe);for(let m=0;m<c.length;m++){const g=c[m];if(!UK(g)){this.updateId3CueEnds(u,l);const p=_P(a,u,d,g,l);p&&this.id3Track.addCue(p)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const a=i[s];a.type===n&&a.startTime<e&&a.endTime===gy&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=a;if(s&&(o||l)){let c;i==="audio"?c=u=>u.type===Fs.audioId3&&l:i==="video"?c=u=>u.type===Fs.emsg&&o:c=u=>u.type===Fs.audioId3&&l||u.type===Fs.emsg&&o,i6(s,n,r,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,a=Object.keys(s);if(i){const u=Object.keys(r).filter(d=>!a.includes(d));for(let d=u.length;d--;){const h=u[d];Object.keys(r[h].cues).forEach(m=>{i.removeCue(r[h].cues[m])}),delete r[h]}}const o=n.fragments[n.fragments.length-1];if(a.length===0||!Pe(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,c=s6();for(let u=0;u<a.length;u++){const d=a[u],h=s[d],m=RS(h.startDate,l),g=r[d],p=(g==null?void 0:g.cues)||{};let _=(g==null?void 0:g.durationKnown)||!1,y=gy;const v=h.endDate;if(v)y=RS(v,l),_=!0;else if(h.endOnNext&&!_){const x=a.reduce((C,R)=>{if(R!==h.id){const D=s[R];if(D.class===h.class&&D.startDate>h.startDate&&(!C||h.startDate<C.startDate))return D}return C},null);x&&(y=RS(x.startDate,l),_=!0)}const E=Object.keys(h.attr);for(let x=0;x<E.length;x++){const C=E[x];if(!E$e(C))continue;const R=p[C];if(R)_&&!g.durationKnown&&(R.endTime=y);else if(c){let D=h.attr[C];k$e(C)&&(D=vUe(D));const U=_P(c,m,y,{key:C,data:D},Fs.dateRange);U&&(U.id=d,this.id3Track.addCue(U),p[C]=U)}}r[d]={cues:p,dateRange:h,durationKnown:_}}}}class bUe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let c=o&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:a*i);const u=i;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,a=i-r.totalduration,o=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,s),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on($.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on($.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on($.ERROR,this.onError,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off($.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off($.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off($.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===de.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&ae.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!n.live)return;const a=this.targetLatency;if(a===null)return;const o=r-a,l=Math.min(this.maxLatency,a+n.targetduration);if(o<l&&o>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,s)),d=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const a6=["NONE","TYPE-0","TYPE-1",null];function SUe(t){return a6.indexOf(t)>-1}const Uv=["SDR","PQ","HLG"];function EUe(t){return!!t&&Uv.indexOf(t)>-1}var L2={No:"",Yes:"YES",v2:"v2"};function bP(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?L2.v2:L2.Yes:L2.No}class SP{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class Im{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return EP(this._audioGroups,e)}hasSubtitleGroup(e){return EP(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function EP(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function NS(t,e){const n=e.startPTS;if(Pe(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function XK(t,e,n,r,i,s){r-n<=0&&(ae.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let o=n,l=r;const c=e.startPTS,u=e.endPTS;if(Pe(c)){const _=Math.abs(c-n);Pe(e.deltaPTS)?e.deltaPTS=Math.max(_,e.deltaPTS):e.deltaPTS=_,o=Math.max(n,c),n=Math.min(n,c),i=Math.min(i,e.startDTS),l=Math.min(r,u),r=Math.max(r,u),s=Math.max(s,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=o,e.startDTS=i,e.endPTS=r,e.minEndPTS=l,e.endDTS=s;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let m;const g=h-t.startSN,p=t.fragments;for(p[g]=e,m=g;m>0;m--)NS(p[m],p[m-1]);for(m=g;m<p.length-1;m++)NS(p[m],p[m+1]);return t.fragmentHint&&NS(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function kUe(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const c=r[l].initSegment;if(c){n=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,s;if(CUe(t,e,(l,c)=>{l.relurl&&(i=l.cc-c.cc),Pe(l.startPTS)&&Pe(l.endPTS)&&(c.start=c.startPTS=l.startPTS,c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.duration=l.endPTS-l.startPTS,c.duration&&(s=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=l.elementaryStreams,c.loader=l.loader,c.stats=l.stats,l.initSegment&&(c.initSegment=l.initSegment,n=l.initSegment)}),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(c=>{var u;c&&(!c.initSegment||c.initSegment.relurl===((u=n)==null?void 0:u.relurl))&&(c.initSegment=n)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){ae.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=AUe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(i){ae.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<a.length;l++)a[l].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),wUe(t.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),s?XK(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):ZK(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const l=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=l),e.driftEndTime=o,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function AUe(t,e,n){const r=Ln({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new DK(e[i].attr,r[i]);s.isValid?r[i]=s:ae.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function wUe(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const a=t[i],o=e[i+r];a&&o&&a.index===o.index&&a.fragment.sn===o.fragment.sn?n(a,o):r--}}}function CUe(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=s;c++){const u=l[a+c];let d=o[c];r&&!d&&c<r&&(d=e.fragments[c]=u),u&&d&&n(u,d)}}function ZK(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||o6(e,r[n].start)}function o6(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function IUe(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function xUe(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function kP(t,e,n){var r;return t!=null&&t.details?JK((r=t.details)==null?void 0:r.partList,e,n):null}function JK(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function eY(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=n})})}function Fv(t){switch(t.details){case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_TIMEOUT:case de.LEVEL_LOAD_TIMEOUT:case de.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function AP(t,e){const n=Fv(e);return t.default[`${n?"timeout":"error"}Retry`]}function Sw(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function wP(t){return er(er({},t),{errorRetry:null,timeoutRetry:null})}function Bv(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,s=e<t.maxNumRetry&&(LUe(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function LUe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const tY={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const a=e(s);if(a>0)n=i+1;else if(a<0)r=i-1;else return s}return null}};function RUe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!Pe(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const a=t[s];if(OUe(e,n,a))return a}return null}function jv(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const o=t.endDTS-n;o>0&&o<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&l6(n,r,s)===0||NUe(s,t,Math.min(i,r))))return s;const a=tY.search(e,l6.bind(null,n,r));return a&&(a!==t||!s)?a:s}function NUe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function l6(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function OUe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function DUe(t,e){return tY.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var or={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},xs={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class PUe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=ae.log.bind(ae,"[info]:"),this.warn=ae.warn.bind(ae,"[warning]:"),this.error=ae.error.bind(ae,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on($.ERROR,this.onError,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.ERROR,this.onError,this),e.off($.ERROR,this.onErrorOut,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Ve.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,a=n.context;switch(n.details){case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case de.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:or.DoNothing,flags:xs.None};return}case de.FRAG_GAP:case de.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=or.SendAlternateToPenaltyBox;return}case de.LEVEL_EMPTY_ERROR:case de.LEVEL_PARSING_ERROR:{var o,l;const c=n.parent===Ve.MAIN?n.level:s.loadLevel;n.details===de.LEVEL_EMPTY_ERROR&&((o=n.context)!=null&&(l=o.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case de.LEVEL_LOAD_ERROR:case de.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,a.level));return;case de.AUDIO_TRACK_LOAD_ERROR:case de.AUDIO_TRACK_LOAD_TIMEOUT:case de.SUBTITLE_LOAD_ERROR:case de.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=s.levels[s.loadLevel];if(c&&(a.type===st.AUDIO_TRACK&&c.hasAudioGroup(a.groupId)||a.type===st.SUBTITLE_TRACK&&c.hasSubtitleGroup(a.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=or.SendAlternateToPenaltyBox,n.errorAction.flags=xs.MoveAllAlternatesMatchingHost;return}}return;case de.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=s.levels[s.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?n.errorAction={action:or.SendAlternateToPenaltyBox,flags:xs.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(n)}return;case de.BUFFER_ADD_CODEC_ERROR:case de.REMUX_ALLOC_ERROR:case de.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case de.INTERNAL_EXCEPTION:case de.BUFFER_APPENDING_ERROR:case de.BUFFER_FULL_ERROR:case de.LEVEL_SWITCH_ERROR:case de.BUFFER_STALLED_ERROR:case de.BUFFER_SEEK_OVER_HOLE:case de.BUFFER_NUDGE_ON_STALL:n.errorAction={action:or.DoNothing,flags:xs.None};return}n.type===ze.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=AP(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Bv(i,s,Fv(e),e.response))return{action:or.RetryRequest,flags:xs.None,retryConfig:i,retryCount:s};const o=this.getLevelSwitchAction(e,n);return i&&(o.retryConfig=i,o.retryCount=s),o}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:a}=n.config,o=AP(e.details.startsWith("key")?a:s,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(i&&(e.details!==de.FRAG_GAP&&i.fragmentError++,Bv(o,l,Fv(e),e.response)))return{action:or.RetryRequest,flags:xs.None,retryConfig:o,retryCount:l};const c=this.getLevelSwitchAction(e,r);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,a;const c=e.details;i.loadError++,c===de.BUFFER_APPEND_ERROR&&i.fragmentError++;let u=-1;const{levels:d,loadLevel:h,minAutoLevel:m,maxAutoLevel:g}=r;r.autoLevelEnabled||(r.loadLevel=-1);const p=(s=e.frag)==null?void 0:s.type,y=(p===Ve.AUDIO&&c===de.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===de.BUFFER_ADD_CODEC_ERROR||c===de.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:R})=>i.audioCodec!==R),E=e.sourceBufferName==="video"&&(c===de.BUFFER_ADD_CODEC_ERROR||c===de.BUFFER_APPEND_ERROR)&&d.some(({codecSet:R,audioCodec:D})=>i.codecSet!==R&&i.audioCodec===D),{type:x,groupId:C}=(a=e.context)!=null?a:{};for(let R=d.length;R--;){const D=(R+h)%d.length;if(D!==h&&D>=m&&D<=g&&d[D].loadError===0){var o,l;const U=d[D];if(c===de.FRAG_GAP&&p===Ve.MAIN&&e.frag){const K=d[D].details;if(K){const V=jv(e.frag,K.fragments,e.frag.start);if(V!=null&&V.gap)continue}}else{if(x===st.AUDIO_TRACK&&U.hasAudioGroup(C)||x===st.SUBTITLE_TRACK&&U.hasSubtitleGroup(C))continue;if(p===Ve.AUDIO&&(o=i.audioGroups)!=null&&o.some(K=>U.hasAudioGroup(K))||p===Ve.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(K=>U.hasSubtitleGroup(K))||y&&i.audioCodec===U.audioCodec||!y&&i.audioCodec!==U.audioCodec||E&&i.codecSet===U.codecSet)continue}u=D;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:or.SendAlternateToPenaltyBox,flags:xs.None,nextAutoLevel:u}}return{action:or.SendAlternateToPenaltyBox,flags:xs.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case or.DoNothing:break;case or.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==de.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:a}=r;switch(i){case xs.None:this.switchLevel(e,a);break;case xs.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=a6[a6.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,a)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class Ew{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=ae.log.bind(ae,`${n}:`),this.warn=ae.warn.bind(ae,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let s=-1;for(let a=0;a<i.length;a++){const o=i[a];let l;try{l=new self.URL(o.URI,n.url).href}catch(c){ae.warn(`Could not construct new URL for Rendition Report: ${c}`),l=o.URI||""}if(l===e){s=a;break}else l===e.substring(0,l.length)&&(s=a)}if(s!==-1){const a=i[s],o=parseInt(a["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(a["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=r&&bP(r);return new SP(o,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,a=self.performance.now(),o=s.loading.first?Math.max(0,a-s.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&kUe(r,i),!this.canLoad||!i.live)return;let l,c,u;if(i.canBlockReload&&i.endSN&&i.advanced){const _=this.hls.config.lowLatencyMode,y=i.lastPartSn,v=i.endSN,E=i.lastPartIndex,x=E!==-1,C=y===v,R=_?0:E;x?(c=C?v+1:y,u=C?R:E+1):c=v+1;const D=i.age,U=D+i.ageHeader;let K=Math.min(U-i.partTarget,i.targetduration*1.5);if(K>0){if(r&&K>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${K} with playlist age: ${i.age}`),K=0;else{const V=Math.floor(K/i.targetduration);if(c+=V,u!==void 0){const X=Math.round(K%i.targetduration/i.partTarget);u+=X}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${D.toFixed(2)}s goal: ${K} skip sn ${V} to part ${u}`)}i.tuneInGoal=K}if(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u),_||!C){this.loadPlaylist(l);return}}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,h=d?d.end-d.len:0,m=(i.edge-h)*1e3,g=IUe(i,m);i.updated&&a>this.requestScheduled+g&&(this.requestScheduled=s.loading.start),c!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+g-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+g<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=g);let p=this.requestScheduled-a;p=Math.max(0,p),this.log(`reload live playlist ${e} in ${Math.round(p)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),p)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=bP(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=L2.No),new SP(r,i,s)}checkRetry(e){const n=e.details,r=Fv(e),i=e.errorAction,{action:s,retryCount:a=0,retryConfig:o}=i||{},l=!!i&&!!o&&(s===or.RetryRequest||!i.resolved&&s===or.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,a>=o.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=Sw(o,a);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}class Ed{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class MUe{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ed(e),this.fast_=new Ed(n),this.defaultTTFB_=i,this.ttfb_=new Ed(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new Ed(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new Ed(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Ed(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const nY={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},CP={};function $Ue(t,e,n,r,i,s){const a=t.audioCodec?t.audioGroups:null,o=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):o?1/0:2;let u=null;if(a!=null&&a.length)try{a.length===1&&a[0]?u=e.groups[a[0]].channels:u=a.reduce((d,h)=>{if(h){const m=e.groups[h];if(!m)throw new Error(`Audio track group ${h} not found`);Object.keys(m.channels).forEach(g=>{d[g]=(d[g]||0)+m.channels[g]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!u&&Pe(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function UUe(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(nY);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;a!=="SDR"&&(s.transferFunction=a.toLowerCase());const o=r.split(",").map(l=>({type:"media-source",video:er(er({},s),{},{contentType:eg(l,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",h=parseFloat(d);Pe(h)&&h>2&&o.push.apply(o,i.split(",").map(m=>({type:"media-source",audio:{contentType:eg(m,"audio"),channels:""+h}})))}}))}),Promise.all(o.map(l=>{const c=FUe(l);return CP[c]||(CP[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:o,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:o,decodingInfoResults:[],error:l}))}function FUe(t){const{audio:e,video:n}=t,r=n||e;if(r){const i=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${i}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function BUe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function jUe(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||Uv.slice(0),n=e.preferHDR!==void 0?e.preferHDR:BUe(),n?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function VUe(t,e,n,r,i){const s=Object.keys(t),a=r==null?void 0:r.channels,o=r==null?void 0:r.audioCodec,l=a&&parseInt(a)===2;let c=!0,u=!1,d=1/0,h=1/0,m=1/0,g=0,p=[];const{preferHDR:_,allowedVideoRanges:y}=jUe(e,i);for(let C=s.length;C--;){const R=t[s[C]];c=R.channels[2]>0,d=Math.min(d,R.minHeight),h=Math.min(h,R.minFramerate),m=Math.min(m,R.minBitrate);const D=y.filter(U=>R.videoRanges[U]>0);D.length>0&&(u=!0,p=D)}d=Pe(d)?d:0,h=Pe(h)?h:0;const v=Math.max(1080,d),E=Math.max(30,h);return m=Pe(m)?m:n,n=Math.max(m,n),u||(e=void 0,p=[]),{codecSet:s.reduce((C,R)=>{const D=t[R];if(R===C)return C;if(D.minBitrate>n)return Ja(R,`min bitrate of ${D.minBitrate} > current estimate of ${n}`),C;if(!D.hasDefaultAudio)return Ja(R,"no renditions with default or auto-select sound found"),C;if(o&&R.indexOf(o.substring(0,4))%5!==0)return Ja(R,`audio codec preference "${o}" not found`),C;if(a&&!l){if(!D.channels[a])return Ja(R,`no renditions with ${a} channel sound found (channels options: ${Object.keys(D.channels)})`),C}else if((!o||l)&&c&&D.channels[2]===0)return Ja(R,"no renditions with stereo sound found"),C;return D.minHeight>v?(Ja(R,`min resolution of ${D.minHeight} > maximum of ${v}`),C):D.minFramerate>E?(Ja(R,`min framerate of ${D.minFramerate} > maximum of ${E}`),C):p.some(U=>D.videoRanges[U]>0)?D.maxScore<g?(Ja(R,`max score of ${D.maxScore} < selected max of ${g}`),C):C&&(Mv(R)>=Mv(C)||D.fragmentError>t[C].fragmentError)?C:(g=D.maxScore,R):(Ja(R,`no variants with VIDEO-RANGE of ${JSON.stringify(p)} found`),C)},void 0),videoRanges:p,preferHDR:_,minFramerate:h,minBitrate:m}}function Ja(t,e){ae.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function HUe(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function GUe(t,e,n,r){return t.slice(n,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const a=s.audioGroups;let o=i[s.codecSet];o||(i[s.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return o.minHeight=Math.min(o.minHeight,l),o.minFramerate=Math.min(o.minFramerate,s.frameRate),o.maxScore=Math.max(o.maxScore,s.score),o.fragmentError+=s.fragmentError,o.videoRanges[s.videoRange]=(o.videoRanges[s.videoRange]||0)+1,a&&a.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{o.channels[d]=(o.channels[d]||0)+u.channels[d]}))}),i},{})}function La(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Vh(t,i,n))return r}return-1}function Vh(t,e,n){const{groupId:r,name:i,lang:s,assocLang:a,characteristics:o,default:l}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===a)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(o===void 0||qUe(o,e.characteristics))&&(n===void 0||n(t,e))}function qUe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function kd(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function zUe(t,e,n,r,i){const s=e[r],o=e.reduce((h,m,g)=>{const p=m.uri;return(h[p]||(h[p]=[])).push(g),h},{})[s.uri];o.length>1&&(r=Math.max.apply(Math,o));const l=s.videoRange,c=s.frameRate,u=s.codecSet.substring(0,4),d=IP(e,r,h=>{if(h.videoRange!==l||h.frameRate!==c||h.codecSet.substring(0,4)!==u)return!1;const m=h.audioGroups,g=n.filter(p=>!m||m.indexOf(p.groupId)!==-1);return La(t,g,i)>-1});return d>-1?d:IP(e,r,h=>{const m=h.audioGroups,g=n.filter(p=>!m||m.indexOf(p.groupId)!==-1);return La(t,g,i)>-1})}function IP(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class WUe{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:a}=i;if(!n||!a)return;const o=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,u=o-l.loading.start,d=i.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||a.paused||!a.playbackRate||!a.readyState)return;const h=i.mainForwardBufferInfo;if(h===null)return;const m=this.bwEstimator.getEstimateTTFB(),g=Math.abs(a.playbackRate);if(u<=Math.max(m,1e3*(c/(g*2))))return;const p=h.len/g,_=l.loading.first?l.loading.first-l.loading.start:-1,y=l.loaded&&_>-1,v=this.getBwEstimate(),E=i.levels,x=E[n.level],C=l.total||Math.max(l.loaded,Math.round(c*x.averageBitrate/8));let R=y?u-_:u;R<1&&y&&(R=Math.min(u,l.loaded*8/v));const D=y?l.loaded*1e3/R:0,U=D?(C-l.loaded)/D:C*8/v+m/1e3;if(U<=p)return;const K=D?D*8:v;let V=Number.POSITIVE_INFINITY,X;for(X=n.level-1;X>d;X--){const ie=E[X].maxBitrate;if(V=this.getTimeToLoadFrag(m/1e3,K,c*ie,!E[X].details),V<p)break}if(V>=U||V>c*10)return;i.nextLoadLevel=i.nextAutoLevel=X,y?this.bwEstimator.sample(u-Math.min(m,_),l.loaded):this.bwEstimator.sampleTTFB(u);const he=E[X].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>he&&this.resetEstimator(he),this.clearTimer(),ae.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${p.toFixed(3)} s
      Estimated load time for current fragment: ${U.toFixed(3)} s
      Estimated load time for down switch fragment: ${V.toFixed(3)} s
      TTFB estimate: ${_|0} ms
      Current BW estimate: ${Pe(v)?v|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${X} @ ${he|0} bps`),i.trigger($.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(ae.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new MUe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off($.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case de.BUFFER_ADD_CODEC_ERROR:case de.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case de.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const a=performance.now(),o=s?s.stats:r.stats,l=a-o.loading.start,c=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,a=i?this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.start;Pe(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Ve.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,a=this.hls.levels[n.level],o=(a.loaded?a.loaded.bytes:0)+i.loaded,l=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:o,duration:l},a.realBitrate=Math.round(8*o/l)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered($.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Ve.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const a=this.hls.firstLevel,o=Math.min(Math.max(a,n),e);return ae.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:a}=r,o=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=s.abrBandWidthFactor,d=s.abrBandWidthUpFactor;if(c){const _=this.findBestLevel(l,a,i,c,0,u,d);if(_>=0)return _}let h=o?Math.min(o,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const _=this.bitrateTestDelay;_&&(h=(o?Math.min(o,s.maxLoadingDelay):s.maxLoadingDelay)-_,ae.info(`[abr] bitrate test took ${Math.round(1e3*_)}ms, set first fragment max fetchDuration to ${Math.round(1e3*h)} ms`),u=d=1)}const m=this.findBestLevel(l,a,i,c,h,u,d);if(ae.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`),m>-1)return m;const g=r.levels[a],p=r.levels[r.loadLevel];return(g==null?void 0:g.bitrate)<(p==null?void 0:p.bitrate)?a:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,a,o){var l;const c=i+s,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:h,partCurrent:m}=this,{levels:g,allAudioTracks:p,loadLevel:_,config:y}=this.hls;if(g.length===1)return 0;const v=g[d],E=!!(v!=null&&(l=v.details)!=null&&l.live),x=_===-1||u===-1;let C,R="SDR",D=(v==null?void 0:v.frameRate)||0;const{audioPreference:U,videoPreference:K}=y,V=this.audioTracksByGroup||(this.audioTracksByGroup=HUe(p));if(x){if(this.firstSelection!==-1)return this.firstSelection;const ne=this.codecTiers||(this.codecTiers=GUe(g,V,n,r)),oe=VUe(ne,R,e,U,K),{codecSet:_e,videoRanges:Y,minFramerate:te,minBitrate:re,preferHDR:Ae}=oe;C=_e,R=Ae?Y[Y.length-1]:Y[0],D=te,e=Math.max(e,re),ae.log(`[abr] picked start tier ${JSON.stringify(oe)}`)}else C=v==null?void 0:v.codecSet,R=v==null?void 0:v.videoRange;const X=m?m.duration:h?h.duration:0,he=this.bwEstimator.getEstimateTTFB()/1e3,ie=[];for(let ne=r;ne>=n;ne--){var pe;const oe=g[ne],_e=ne>d;if(!oe)continue;if(y.useMediaCapabilities&&!oe.supportedResult&&!oe.supportedPromise){const le=navigator.mediaCapabilities;typeof(le==null?void 0:le.decodingInfo)=="function"&&$Ue(oe,V,R,D,e,U)?(oe.supportedPromise=UUe(oe,V,le),oe.supportedPromise.then(ve=>{if(!this.hls)return;oe.supportedResult=ve;const Re=this.hls.levels,Me=Re.indexOf(oe);ve.error?ae.warn(`[abr] MediaCapabilities decodingInfo error: "${ve.error}" for level ${Me} ${JSON.stringify(ve)}`):ve.supported||(ae.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${Me} ${JSON.stringify(ve)}`),Me>-1&&Re.length>1&&(ae.log(`[abr] Removing unsupported level ${Me}`),this.hls.removeLevel(Me)))})):oe.supportedResult=nY}if(C&&oe.codecSet!==C||R&&oe.videoRange!==R||_e&&D>oe.frameRate||!_e&&D>0&&D<oe.frameRate||oe.supportedResult&&!((pe=oe.supportedResult.decodingInfoResults)!=null&&pe[0].smooth)){ie.push(ne);continue}const Y=oe.details,te=(m?Y==null?void 0:Y.partTarget:Y==null?void 0:Y.averagetargetduration)||X;let re;_e?re=o*e:re=a*e;const Ae=X&&i>=X*2&&s===0?g[ne].averageBitrate:g[ne].maxBitrate,W=this.getTimeToLoadFrag(he,re,Ae*te,Y===void 0);if(re>=Ae&&(ne===u||oe.loadError===0&&oe.fragmentError===0)&&(W<=he||!Pe(W)||E&&!this.bitrateTestDelay||W<c)){const le=this.forcedAutoLevel;return ne!==_&&(le===-1||le!==_)&&(ie.length&&ae.trace(`[abr] Skipped level(s) ${ie.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${g[ie[0]].codecs}" ${g[ie[0]].videoRange}; not compatible with "${v.codecs}" ${R}`),ae.info(`[abr] switch candidate:${d}->${ne} adjustedbw(${Math.round(re)})-bitrate=${Math.round(re-Ae)} ttfb:${he.toFixed(1)} avgDuration:${te.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${W.toFixed(1)} firstSelection:${x} codecSet:${C} videoRange:${R} hls.loadLevel:${_}`)),x&&(this.firstSelection=ne),ne}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class KUe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Kn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class YUe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.BUFFER_APPENDED,this.onBufferAppended,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off($.BUFFER_APPENDED,this.onBufferAppended,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const a=s.end;if(s.start<=e&&a!==null&&e<=a)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const a=r[i[s]];if((a==null?void 0:a.body.type)===n&&a.buffered){const o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o||s>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===r&&this.removeFragment(o.body);return}const l=o.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return u&&this.removeFragment(o.body),u})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=Ad(r),a=this.fragments[s];if(!a||a.buffered&&r.gap)return;const o=!r.relurl;Object.keys(n).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const u=n[l],d=o||c.partial===!0;a.range[l]=this.getBufferedTimes(r,i,d,u)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=r.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),yy(a)||this.removeParts(r.sn-1,r.type)):this.removeFragment(a.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Ad(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},a=e.start,o=e.end,l=e.minEndPTS||o,c=e.maxStartPTS||a;for(let u=0;u<i.length;u++){const d=i.start(u)-this.bufferPadding,h=i.end(u)+this.bufferPadding;if(c>=d&&l<=h){s.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(o,i.end(u))});break}else if(a<h&&o>d){const m=Math.max(a,i.start(u)),g=Math.min(o,i.end(u));g>m&&(s.partial=!0,s.time.push({startPTS:m,endPTS:g}))}else if(o<=d)break}return s}getPartialFragment(e){let n=null,r,i,s,a=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&yy(u)&&(i=u.body.start-o,s=u.body.end+o,e>=i&&e<=s&&(r=Math.min(e-i,s-e),a<=r&&(n=u.body,a=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||yy(n))}getState(e){const n=Ad(e),r=this.fragments[n];return r?r.buffered?yy(r)?Kn.PARTIAL:Kn.OK:Kn.APPENDING:Kn.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,s=r.end(a)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,a=Ad(r);this.fragments[a]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const a=r.type;if(i){let o=this.activePartLists[a];o||(this.activePartLists[a]=o=[]),o.push(i)}this.timeRanges=s,Object.keys(s).forEach(o=>{const l=s[o];this.detectEvictedFragments(o,l,a,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Ad(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o)return;const l=o.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(o.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=Ad(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function yy(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function Ad(t){return`${t.type}_${t.level}_${t.sn}`}const QUe={length:0,start:()=>0,end:()=>0};class Lt{static isBuffered(e,n){try{if(e){const r=Lt.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=Lt.getBuffered(e),s=[];let a;for(a=0;a<i.length;a++)s.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let i=[];if(r)for(let c=0;c<e.length;c++){const u=i.length;if(u){const d=i[u-1].end;e[c].start-d<r?e[c].end>d&&(i[u-1].end=e[c].end):i.push(e[c])}else i.push(e[c])}else i=e;let s=0,a,o=n,l=n;for(let c=0;c<i.length;c++){const u=i[c].start,d=i[c].end;if(n+r>=u&&n<d)o=u,l=d,s=l-n;else if(n+r<u){a=u;break}}return{len:s,start:o||0,end:l||0,nextStart:a}}static getBuffered(e){try{return e.buffered}catch(n){return ae.log("failed to get media.buffered",n),QUe}}}class kw{constructor(e,n,r,i=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Ty(),this.buffering={audio:Ty(),video:Ty(),audiovideo:Ty()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=a}}function Ty(){return{start:0,executeStart:0,executeEnd:0,end:0}}function R2(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function XUe(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function ZUe(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){ae.log("No fragments to align");return}const i=R2(n,r[0].cc);if(!i||i&&!i.startPTS){ae.log("No frag in previous level to align on");return}return i}function xP(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function rY(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)xP(n[r],t);e.fragmentHint&&xP(e.fragmentHint,t),e.alignedSliding=!0}function JUe(t,e,n){e&&(eFe(t,n,e),!n.alignedSliding&&e&&Vv(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&ZK(e,n))}function eFe(t,e,n){if(XUe(t,n,e)){const r=ZUe(n,e);r&&Pe(r.start)&&(ae.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),rY(r.start,e))}}function Vv(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=R2(r,a),s=R2(n,a)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=R2(n,i.cc)||n[Math.floor(n.length/2)]);const o=i.programDateTime,l=s.programDateTime;if(!o||!l)return;const c=(l-o)/1e3-(s.start-i.start);rY(c,t)}const LP=Math.pow(2,17);class tFe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new oo({type:ze.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(m=>m[0]==="GAP")){l(NP(e));return}else e.gap=!1;const c=this.loader=e.loader=s?new s(i):new a(i),u=RP(e),d=wP(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:LP};e.stats=c.stats,c.load(u,h,{onSuccess:(m,g,p,_)=>{this.resetLoader(e,c);let y=m.data;p.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(y.slice(0,16)),y=y.slice(16)),o({frag:e,part:null,payload:y,networkDetails:_})},onError:(m,g,p,_)=>{this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:er({url:r,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:p,stats:_}))},onAbort:(m,g,p)=>{this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:p,stats:m}))},onTimeout:(m,g,p)=>{this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:p,stats:m}))},onProgress:(m,g,p,_)=>{n&&n({frag:e,part:null,payload:p,networkDetails:_})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(NP(e,n));return}const c=this.loader=e.loader=s?new s(i):new a(i),u=RP(e,n),d=wP(i.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:LP};n.stats=c.stats,c.load(u,h,{onSuccess:(m,g,p,_)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const y={frag:e,part:n,payload:m.data,networkDetails:_};r(y),o(y)},onError:(m,g,p,_)=>{this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:er({url:u.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:p,stats:_}))},onAbort:(m,g,p)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:p,stats:m}))},onTimeout:(m,g,p)=>{this.resetLoader(e,c),l(new oo({type:ze.NETWORK_ERROR,details:de.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:p,stats:m}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/s),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const a=r.loading,o=i.loading;a.start?a.first+=o.first-o.start:(a.start=o.start,a.first=o.first),a.end=o.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function RP(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(Pe(i)&&Pe(s)){var a;let o=i,l=s;if(t.sn==="initSegment"&&((a=t.decryptdata)==null?void 0:a.method)==="AES-128"){const c=s-i;c%16&&(l=s+(16-c%16)),i!==0&&(r.resetIV=!0,o=i-16)}r.rangeStart=o,r.rangeEnd=l}return r}function NP(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:ze.MEDIA_ERROR,details:de.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new oo(r)}class oo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class nFe{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class rFe{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function iFe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?Au(t,0,e-n):t}class sFe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],a=r[2],o=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],h=l[3],m=new Uint32Array(256);let g=0,p=0,_=0;for(_=0;_<256;_++)_<128?m[_]=_<<1:m[_]=_<<1^283;for(_=0;_<256;_++){let y=p^p<<1^p<<2^p<<3^p<<4;y=y>>>8^y&255^99,e[g]=y,n[y]=g;const v=m[g],E=m[v],x=m[E];let C=m[y]*257^y*16843008;i[g]=C<<24|C>>>8,s[g]=C<<16|C>>>16,a[g]=C<<8|C>>>24,o[g]=C,C=x*16843009^E*65537^v*257^g*16843008,c[y]=C<<24|C>>>8,u[y]=C<<16|C>>>16,d[y]=C<<8|C>>>24,h[y]=C,g?(g=v^m[m[m[x^v]]],p^=m[m[p]]):g=p=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let o,l;const c=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,h=this.rcon,m=this.invSubMix,g=m[0],p=m[1],_=m[2],y=m[3];let v,E;for(o=0;o<a;o++){if(o<s){v=c[o]=n[o];continue}E=v,o%s===0?(E=E<<8|E>>>24,E=d[E>>>24]<<24|d[E>>>16&255]<<16|d[E>>>8&255]<<8|d[E&255],E^=h[o/s|0]<<24):s>6&&o%s===4&&(E=d[E>>>24]<<24|d[E>>>16&255]<<16|d[E>>>8&255]<<8|d[E&255]),c[o]=v=(c[o-s]^E)>>>0}for(l=0;l<a;l++)o=a-l,l&3?E=c[o]:E=c[o-4],l<4||o<=4?u[l]=E:u[l]=g[d[E>>>24]]^p[d[E>>>16&255]]^_[d[E>>>8&255]]^y[d[E&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],h=this.uint8ArrayToUint32Array_(r);let m=h[0],g=h[1],p=h[2],_=h[3];const y=new Int32Array(e),v=new Int32Array(y.length);let E,x,C,R,D,U,K,V,X,he,ie,pe,ne,oe;const _e=this.networkToHostOrderSwap;for(;n<y.length;){for(X=_e(y[n]),he=_e(y[n+1]),ie=_e(y[n+2]),pe=_e(y[n+3]),D=X^s[0],U=pe^s[1],K=ie^s[2],V=he^s[3],ne=4,oe=1;oe<i;oe++)E=l[D>>>24]^c[U>>16&255]^u[K>>8&255]^d[V&255]^s[ne],x=l[U>>>24]^c[K>>16&255]^u[V>>8&255]^d[D&255]^s[ne+1],C=l[K>>>24]^c[V>>16&255]^u[D>>8&255]^d[U&255]^s[ne+2],R=l[V>>>24]^c[D>>16&255]^u[U>>8&255]^d[K&255]^s[ne+3],D=E,U=x,K=C,V=R,ne=ne+4;E=a[D>>>24]<<24^a[U>>16&255]<<16^a[K>>8&255]<<8^a[V&255]^s[ne],x=a[U>>>24]<<24^a[K>>16&255]<<16^a[V>>8&255]<<8^a[D&255]^s[ne+1],C=a[K>>>24]<<24^a[V>>16&255]<<16^a[D>>8&255]<<8^a[U&255]^s[ne+2],R=a[V>>>24]<<24^a[D>>16&255]<<16^a[U>>8&255]<<8^a[K&255]^s[ne+3],v[n]=_e(E^m),v[n+1]=_e(R^g),v[n+2]=_e(C^p),v[n+3]=_e(x^_),m=X,g=he,p=ie,_=pe,n=n+4}return v.buffer}}const aFe=16;class Aw{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?iFe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const a=this.flush();a?i(a.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=vs(a,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;i&&(r=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new sFe),l.expandKey(n);const c=s;return this.currentResult=l.decrypt(o.buffer,0,r),this.currentIV=Au(o,-16).buffer,c||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new rFe(this.subtle,n)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new nFe(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(ae.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%aFe;return r!==e.length&&(n=Au(e,0,r),this.remainderData=Au(e,r)),n}logOnce(e){this.logEnabled&&(ae.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const oFe={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},ke={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class ww extends KUe{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ke.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=ae.log.bind(ae,`${i}:`),this.warn=ae.warn.bind(ae,`${i}:`),this.hls=e,this.fragmentLoader=new tFe(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new Aw(e.config),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ke.STOPPED}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return Lt.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===ke.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,a=r?r.currentTime:0,o=Lt.bufferInfo(i||r,a,e.maxBufferHole);if(this.log(`media seeking to ${Pe(a)?a.toFixed(3):a}, state: ${s}`),this.state===ke.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,u=n.start+n.duration+l;if(!o.len||u<o.start||c>o.end){const d=a>u;(a<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off($.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=ke.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const a=this.state;if(this.fragContextChanged(e)){(a===ke.FRAG_LOADING||!this.fragCurrent&&a===ke.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=ke.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger($.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===ke.STOPPED||this.state===ke.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===Kn.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Kn.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger($.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,a=e.decryptdata;if(s&&s.byteLength>0&&a!=null&&a.key&&a.iv&&a.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),a.key.buffer,a.iv.buffer).catch(l=>{throw i.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return i.trigger($.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:o,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===ke.STOPPED||this.state===ke.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=ke.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,i,s,a;const o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Ve.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${o?oFe.toString(Lt.getBuffered(o)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==Ve.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=ke.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=ke.IDLE,o&&(!this.loadedmetadata&&e.type==Ve.MAIN&&o.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((a=this.fragPrevious)==null?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,a=!s||s.length===0||s.some(l=>!l),o=new kw(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);n.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const a=n==null?void 0:n.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=ke.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger($.KEY_LOADED,u),this.state===ke.KEY_LOADING&&(this.state=ke.IDLE),u}),this.hls.trigger($.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=a.partList;if(u&&i){r>e.end&&a.fragmentHint&&(e=a.fragmentHint);const d=this.getNextPart(u,e,r);if(d>-1){const h=u[d];this.log(`Loading part sn: ${e.sn} p: ${h.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=ke.FRAG_LOADING;let m;return o?m=o.then(g=>!g||this.fragContextChanged(g.frag)?null:this.doFragPartsLoad(e,h,n,i)).catch(g=>this.handleFragLoadError(g)):m=this.doFragPartsLoad(e,h,n,i).catch(g=>this.handleFragLoadError(g)),this.hls.trigger($.FRAG_LOADING,{frag:e,part:h,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):m}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),Pe(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ke.FRAG_LOADING;const l=this.config.progressive;let c;return l&&o?c=o.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,i)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?i:void 0),o]).then(([u])=>(!l&&u&&i&&i(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger($.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,i){return new Promise((s,a)=>{var o;const l=[],c=(o=r.details)==null?void 0:o.partList,u=d=>{this.fragmentLoader.loadPart(e,d,i).then(h=>{l[d.index]=h;const m=h.part;this.hls.trigger($.FRAG_LOADED,h);const g=kP(r,e.sn,d.index+1)||JK(c,e.sn,d.index+1);if(g)u(g);else return s({frag:e,part:m,partsLoaded:l})}).catch(a)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===de.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger($.ERROR,n)}else this.hls.trigger($.ERROR,{type:ze.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==ke.PARSING){!this.fragCurrent&&this.state!==ke.STOPPED&&this.state!==ke.ERROR&&(this.state=ke.IDLE);return}const{frag:r,part:i,level:s}=n,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:a}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const o=n[i],l=a>-1?kP(o,s,a):null,c=l?l.fragment:xUe(o,s,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:o}):null}bufferFragmentData(e,n,r,i,s){var a;if(!e||this.state!==ke.PARSING)return;const{data1:o,data2:l}=e;let c=o;if(o&&l&&(c=vs(o,l)),!((a=c)!=null&&a.length))return;const u={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:c};if(this.hls.trigger($.BUFFER_APPENDING,u),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Lt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=Lt.bufferInfo(n,r,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),o=Math.max(Math.min(e.start-a,i.end-a),r+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return Pe(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=Lt.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(n,r);if(a&&s.nextStart<a.end)return Lt.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=Ve.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Ve.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,a=r[0].start;let o;if(n.live){const l=s.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a)&&(o=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=a&&(o=r[0]);if(!o){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;o=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===Kn.OK||r===Kn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const a=e.gap,o=this.getNextFragment(this.nextLoadPosition,n);if(o===null)return o;if(e=o,a&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(l!==null&&r.len+l.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,a=!0;for(let o=0,l=e.length;o<l;o++){const c=e[o];if(a=a&&!c.independent,i>-1&&r<c.start)break;const u=c.loaded;u?i=-1:(s||c.independent||a)&&c.fragment===n&&(i=o),s=u}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=RUe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=n[s-e.startSN];r.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=DUe(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:a,endSN:o}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=i,u=r.partList,d=!!(i.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(a=a.concat(l),o=l.sn);let h;if(e<n){const m=e>n-c?0:c;h=jv(s,a,e,m)}else h=a[a.length-1];if(h){const m=h.sn-r.startSN,g=this.fragmentTracker.getState(h);if((g===Kn.OK||g===Kn.PARTIAL&&h.gap)&&(s=h),s&&h.sn===s.sn&&(!d||u[0].fragment.sn>h.sn)&&s&&h.level===s.level){const _=a[m+1];h.sn<o&&this.fragmentTracker.getState(_)!==Kn.OK?h=_:h=null}}return h}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,a=e.fragments[0].start,o=e.edge,l=s>=a-n.maxFragLookUpTolerance&&s<=o;if(i!==null&&r.duration>i&&(s<i||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||s<o-c)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,a=!n,o=e.alignedSliding&&Pe(s);if(a||!o&&!s){const{fragPrevious:l}=this;JUe(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${i}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&Pe(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ke.FRAG_LOADING_WAITING_RETRY)&&(this.state=ke.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const u=this.getCurrentContext(n.chunkMeta);u&&(n.frag=u.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===de.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const a=n.errorAction,{action:o,retryCount:l=0,retryConfig:c}=a||{};if(a&&o===or.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=Sw(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),a.resolved=!0,this.retryDate=self.performance.now()+u,this.state=ke.FRAG_LOADING_WAITING_RETRY}else if(c&&a)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!s&&o!==or.RemoveAlternatePermanently&&(a.resolved=!0);else{ae.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(a==null?void 0:a.action)===or.SendAlternateToPenaltyBox?this.state=ke.WAITING_LEVEL:this.state=ke.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===ke.PARSING||this.state===ke.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Ve.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==ke.STOPPED&&(this.state=ke.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=Lt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===ke.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=ke.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const a=r.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const h=i?0:XK(a,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger($.LEVEL_PTS_UPDATED,{details:a,level:r,drift:h,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=ke.PARSED,this.hls.trigger($.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class iY{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=lFe(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function lFe(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function cFe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function uFe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function dFe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function ba(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Cw{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=vs(this.cachedData,e),this.cachedData=null);let r=Z1(e,0),i=r?r.length:0,s;const a=this._audioTrack,o=this._id3Track,l=r?bw(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Pe(l))&&(this.basePTS=hFe(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Fs.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,s=i):i=c}else O$e(e,i)?(r=Z1(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Fs.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===c&&s!==c){const u=Au(e,s);this.cachedData?this.cachedData=vs(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:ba(),id3Track:o,textTrack:ba()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:ba(),id3Track:this._id3Track,textTrack:ba()}}destroy(){}}const hFe=(t,e,n)=>{if(Pe(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function mFe(t,e,n,r){let i,s,a,o;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>u.length-1){const h=new Error(`invalid ADTS sampling index:${d}`);t.emit($.ERROR,$.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!0,error:h,reason:h.message});return}return a=(e[n+2]&1)<<2,a|=(e[n+3]&192)>>>6,ae.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,o=new Array(4),s=d-3):(i=2,o=new Array(2),s=d):l.indexOf("android")!==-1?(i=2,o=new Array(2),s=d):(i=5,o=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?s=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&a===1||/vivaldi/i.test(l))||!r&&a===1)&&(i=2,o=new Array(2)),s=d)),o[0]=i<<3,o[0]|=(d&14)>>1,o[1]|=(d&1)<<7,o[1]|=a<<3,i===5&&(o[1]|=(s&14)>>1,o[2]=(s&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:a,codec:"mp4a.40."+i,manifestCodec:c}}function sY(t,e){return t[e]===255&&(t[e+1]&246)===240}function aY(t,e){return t[e+1]&1?7:9}function Iw(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function pFe(t,e){return e+5<t.length}function Hv(t,e){return e+1<t.length&&sY(t,e)}function fFe(t,e){return pFe(t,e)&&sY(t,e)&&Iw(t,e)<=t.length-e}function gFe(t,e){if(Hv(t,e)){const n=aY(t,e);if(e+n>=t.length)return!1;const r=Iw(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||Hv(t,i)}return!1}function oY(t,e,n,r,i){if(!t.samplerate){const s=mFe(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,ae.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function lY(t){return 1024*9e4/t}function yFe(t,e){const n=aY(t,e);if(e+n<=t.length){const r=Iw(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function cY(t,e,n,r,i){const s=lY(t.samplerate),a=r+i*s,o=yFe(e,n);let l;if(o){const{frameLength:d,headerLength:h}=o,m=h+d,g=Math.max(0,n+m-e.length);g?(l=new Uint8Array(m-h),l.set(e.subarray(n+h,e.length),0)):l=e.subarray(n+h,n+m);const p={unit:l,pts:a};return g||t.samples.push(p),{sample:p,length:m,missing:g}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:a},length:c,missing:-1}}let vy=null;const TFe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],vFe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],_Fe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],bFe=[0,1,1,4];function uY(t,e,n,r,i){if(n+24>e.length)return;const s=dY(e,n);if(s&&n+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,o=r+i*a,l={unit:e.subarray(n,n+s.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function dY(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const a=t[e+2]>>1&1,o=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=TFe[l*14+i-1]*1e3,d=vFe[(n===3?0:n===2?1:2)*3+s],h=o===3?1:2,m=_Fe[n][r],g=bFe[r],p=m*8*g,_=Math.floor(m*c/d+a)*g;if(vy===null){const E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);vy=E?parseInt(E[1]):0}return!!vy&&vy<=87&&r===2&&c>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:h,frameLength:_,samplesPerFrame:p}}}function xw(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function hY(t,e){return e+1<t.length&&xw(t,e)}function SFe(t,e){return xw(t,e)&&4<=t.length-e}function mY(t,e){if(e+1<t.length&&xw(t,e)){const r=dY(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||hY(t,s)}return!1}class EFe extends Cw{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Z1(e,0);let r=(n==null?void 0:n.length)||0;if(mY(e,r))return!1;for(let i=e.length;r<i;r++)if(gFe(e,r))return ae.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return fFe(e,n)}appendFrame(e,n,r){oY(e,this.observer,n,r,e.manifestCodec);const i=cY(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const kFe=/\/emsg[-/]ID3/i;class AFe{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=ba("video",1),a=this.audioTrack=ba("audio",1),o=this.txtTrack=ba("text",1);if(this.id3Track=ba("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=HK(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;s.id=c,s.timescale=o.timescale=u,s.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;a.id=c,a.timescale=u,a.codec=d}o.id=BK.text,s.sampleDuration=0,s.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return V$e(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=vs(this.remainderData,e));const o=Q$e(r);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=r;const a=this.extractID3Track(i,n);return s.samples=sP(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=sP(e,n),{videoTrack:n,audioTrack:ba(),id3Track:i,textTrack:ba()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=Ze(e.samples,["emsg"]);i&&i.forEach(s=>{const a=J$e(s);if(kFe.test(a.schemeIdUri)){const o=Pe(a.presentationTime)?a.presentationTime/a.timeScale:n+a.presentationTimeDelta/a.timeScale;let l=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=a.payload;r.samples.push({data:c,len:c.byteLength,dts:o,pts:o,type:Fs.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const pY=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=t[e];const o=Math.min(r,8),l=8-o;s[0]=4278190080>>>24+l<<l,i[0]=(a[0]&s[0])>>l,n=n?n<<o|i[0]:i[0],e+=1,r-=o}return n};class wFe extends Cw{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=fY(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Z1(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&bw(n)!==void 0&&pY(e,r)<16}}function fY(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const o=[48e3,44100,32e3][s],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let h=0;d===2?h+=2:(d&1&&d!==1&&(h+=2),d&4&&(h+=2));const m=(e[n+6]<<8|e[n+7])>>12-h&1,p=[2,1,2,3,3,4,4,5][d]+m,_=e[n+5]>>3,y=e[n+5]&7,v=new Uint8Array([s<<6|_<<1|y>>2,(y&3)<<6|d<<3|m<<2|l>>4,l<<4&224]),E=1536/o*9e4,x=r+i*E,C=e.subarray(n,n+u);return t.config=v,t.channelCount=p,t.samplerate=o,t.samples.push({unit:C,pts:x}),u}class CFe{constructor(){this.VideoSample=null}createVideoSample(e,n,r,i){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&ae.log(e.pts+"/"+e.dts+":"+e.debug)}}class OP{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&ae.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,a,o;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),h=this.skipBits.bind(this),m=this.skipEG.bind(this),g=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);l();const _=l();if(c(5),h(3),l(),g(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const R=u();if(R===3&&h(1),g(),g(),h(1),d())for(a=R!==3?8:12,o=0;o<a;o++)d()&&(o<6?p(16):p(64))}g();const y=u();if(y===0)u();else if(y===1)for(h(1),m(),m(),s=u(),o=0;o<s;o++)m();g(),h(1);const v=u(),E=u(),x=c(1);x===0&&h(1),h(1),d()&&(e=u(),n=u(),r=u(),i=u());let C=[1,1];if(d()&&d())switch(l()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:{C=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((v+1)*16-e*2-n*2),height:(2-x)*(E+1)*16-(x?2:4)*(r+i),pixelRatio:C}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class IFe extends CFe{parseAVCPES(e,n,r,i,s){const a=this.parseAVCNALu(e,r.data);let o=this.VideoSample,l,c=!1;r.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),a.forEach(u=>{var d;switch(u.type){case 1:{let p=!1;l=!0;const _=u.data;if(c&&_.length>4){const y=new OP(_).readSliceType();(y===2||y===4||y===7||y===9)&&(p=!0)}if(p){var h;(h=o)!=null&&h.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),o.frame=!0,o.key=p;break}case 5:l=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),o.key=!0,o.frame=!0;break;case 6:{l=!0,qK(u.data,1,r.pts,n.samples);break}case 7:{var m,g;l=!0,c=!0;const p=u.data,y=new OP(p).readSPS();if(!e.sps||e.width!==y.width||e.height!==y.height||((m=e.pixelRatio)==null?void 0:m[0])!==y.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==y.pixelRatio[1]){e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.sps=[p],e.duration=s;const v=p.subarray(1,4);let E="avc1.";for(let x=0;x<3;x++){let C=v[x].toString(16);C.length<2&&(C="0"+C),E+=C}e.codec=E}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,o&&(o.debug+="unknown NAL "+u.type+" ");break}o&&l&&o.units.push(u)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,a=[];let o=0,l,c,u,d=-1,h=0;for(i===-1&&(d=0,h=n[0]&31,i=0,o=1);o<r;){if(l=n[o++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(c=o-i-1,d>=0){const m={data:n.subarray(d,c),type:h};a.push(m)}else{const m=this.getLastNalUnit(e.samples);m&&(s&&o<=4-s&&m.state&&(m.data=m.data.subarray(0,m.data.byteLength-s)),c>0&&(m.data=vs(m.data,n.subarray(0,c)),m.state=0))}o<r?(u=n[o]&31,d=o,h=u,i=0):i=-1}else i=0}if(d>=0&&i>=0){const m={data:n.subarray(d,r),type:h,state:i};a.push(m)}if(a.length===0){const m=this.getLastNalUnit(e.samples);m&&(m.data=vs(m.data,n))}return e.naluState=i,a}}class xFe{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Aw(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(o=>{const l=new Uint8Array(o);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const a=zK(s.data),o=this.getAvcEncryptedData(a);this.decryptBuffer(o.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(a,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const a=s[r];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,n,r,i,a),!this.decrypter.isSync()))return}}}}const Vn=188;class wl{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new IFe}static probe(e){const n=wl.syncOffset(e);return n>0&&ae.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(Vn*5,n-Vn)+1,i=0;for(;i<r;){let s=!1,a=-1,o=0;for(let l=i;l<n;l+=Vn)if(e[l]===71&&(n-l===Vn||e[l+Vn]===71)){if(o++,a===-1&&(a=l,a!==0&&(r=Math.min(a+Vn*99,e.length-Vn)+1)),s||(s=c6(e,l)===0),s&&o>1&&(a===0&&o>2||l+Vn>r))return a}else{if(o)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:BK[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=wl.createTrack("video"),this._audioTrack=wl.createTrack("audio",i),this._id3Track=wl.createTrack("id3"),this._txtTrack=wl.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const a=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=a.pid,d=a.pesData,h=o.pid,m=l.pid,g=o.pesData,p=l.pesData,_=null,y=this.pmtParsed,v=this._pmtId,E=e.length;if(this.remainderData&&(e=vs(this.remainderData,e),E=e.length,this.remainderData=null),E<Vn&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};const x=Math.max(0,wl.syncOffset(e));E-=(E-x)%Vn,E<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,E,e.buffer.byteLength-E));let C=0;for(let D=x;D<E;D+=Vn)if(e[D]===71){const U=!!(e[D+1]&64),K=c6(e,D),V=(e[D+3]&48)>>4;let X;if(V>1){if(X=D+5+e[D+4],X===D+Vn)continue}else X=D+4;switch(K){case u:U&&(d&&(s=wd(d))&&this.videoParser.parseAVCPES(a,c,s,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(X,D+Vn)),d.size+=D+Vn-X);break;case h:if(U){if(g&&(s=wd(g)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,s);break;case"mp3":this.parseMPEGPES(o,s);break;case"ac3":this.parseAC3PES(o,s);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(X,D+Vn)),g.size+=D+Vn-X);break;case m:U&&(p&&(s=wd(p))&&this.parseID3PES(l,s),p={data:[],size:0}),p&&(p.data.push(e.subarray(X,D+Vn)),p.size+=D+Vn-X);break;case 0:U&&(X+=e[X]+1),v=this._pmtId=LFe(e,X);break;case v:{U&&(X+=e[X]+1);const he=RFe(e,X,this.typeSupported,r,this.observer);u=he.videoPid,u>0&&(a.pid=u,a.segmentCodec=he.segmentVideoCodec),h=he.audioPid,h>0&&(o.pid=h,o.segmentCodec=he.segmentAudioCodec),m=he.id3Pid,m>0&&(l.pid=m),_!==null&&!y&&(ae.warn(`MPEG-TS PMT found at ${D} after unknown PID '${_}'. Backtracking to sync byte @${x} to parse all TS packets.`),_=null,D=x-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:_=K;break}}else C++;C>0&&Gv(this.observer,new Error(`Found ${C} TS packet/s that do not start with 0x47`)),a.pesData=d,o.pesData=g,l.pesData=p;const R={audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(R),R}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,a=r.pesData,o=n.pesData,l=i.pesData;let c;if(a&&(c=wd(a))?(this.videoParser.parseAVCPES(r,s,c,!0,this._duration),r.pesData=null):r.pesData=a,o&&(c=wd(o))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else o!=null&&o.size&&ae.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=o;l&&(c=wd(l))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new xFe(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const d=i.missing,h=i.sample.unit.byteLength;if(d===-1)s=vs(i.sample.unit,s);else{const m=h-d;i.sample.unit.set(s.subarray(0,d),m),e.samples.push(i.sample),r=i.missing}}let a,o;for(a=r,o=s.length;a<o-1&&!Hv(s,a);a++);if(a!==r){let d;const h=a<o-1;if(h?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",Gv(this.observer,new Error(d),h),!h)return}oY(e,this.observer,s,a,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const d=lY(e.samplerate);l=i.sample.pts+d}else{ae.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;a<o;)if(u=cY(e,s,a,l,c),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;a<o-1&&!Hv(s,a);a++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,a=0;const o=n.pts;if(o===void 0){ae.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(hY(r,a)){const l=uY(e,r,a,o,s);if(l)a+=l.length,s++;else break}else a++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){ae.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let a=0,o=0,l;for(;o<s&&(l=fY(e,r,o,i,a++))>0;)o+=l}}parseID3PES(e,n){if(n.pts===void 0){ae.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Ln({},n,{type:this._videoTrack?Fs.emsg:Fs.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function c6(t,e){return((t[e+1]&31)<<8)+t[e+2]}function LFe(t,e){return(t[e+10]&31)<<8|t[e+11]}function RFe(t,e,n,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],o=e+3+a-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<o;){const c=c6(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){OS("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!r){OS("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?ae.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!r){OS("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):ae.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&u>0){let d=e+5,h=u;for(;h>2;){switch(t[d]){case 106:n.ac3!==!0?ae.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const g=t[d+1]+2;d+=g,h-=g}}break;case 194:case 135:return Gv(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return Gv(i,new Error("Unsupported HEVC in M2TS found")),s}e+=u+5}return s}function Gv(t,e,n){ae.warn(`parsing error: ${e.message}`),t.emit($.ERROR,$.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function OS(t){ae.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function wd(t){let e=0,n,r,i,s,a;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;)o[0]=vs(o[0],o[1]),o.splice(1,1);if(n=o[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(a=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-a>60*9e4&&(ae.warn(`${Math.round((s-a)/9e4)}s delta between PTS and DTS, align them`),s=a)):a=s),i=n[8];let u=i+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let h=0,m=o.length;h<m;h++){n=o[h];let g=n.byteLength;if(u)if(u>g){u-=g;continue}else n=n.subarray(u),g-=u,u=0;d.set(n,e),e+=g}return r&&(r-=i+3),{data:d,pts:s,dts:a,len:r}}return null}class NFe extends Cw{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Z1(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&bw(n)!==void 0&&pY(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(mY(e,r))return ae.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return SFe(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return uY(e,n,r,this.basePTS,this.frameIndex)}}class DP{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const yl=Math.pow(2,32)-1;class ce{static init(){ce.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in ce.types)ce.types.hasOwnProperty(e)&&(ce.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ce.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);ce.STTS=ce.STSC=ce.STCO=s,ce.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ce.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ce.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ce.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);ce.FTYP=ce.box(ce.types.ftyp,a,l,a,o),ce.DINF=ce.box(ce.types.dinf,ce.box(ce.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const a=new Uint8Array(r);for(a[0]=r>>24&255,a[1]=r>>16&255,a[2]=r>>8&255,a[3]=r&255,a.set(e,4),i=0,r=8;i<s;i++)a.set(n[i],r),r+=n[i].byteLength;return a}static hdlr(e){return ce.box(ce.types.hdlr,ce.HDLR_TYPES[e])}static mdat(e){return ce.box(ce.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(yl+1)),i=Math.floor(n%(yl+1));return ce.box(ce.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return ce.box(ce.types.mdia,ce.mdhd(e.timescale,e.duration),ce.hdlr(e.type),ce.minf(e))}static mfhd(e){return ce.box(ce.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?ce.box(ce.types.minf,ce.box(ce.types.smhd,ce.SMHD),ce.DINF,ce.stbl(e)):ce.box(ce.types.minf,ce.box(ce.types.vmhd,ce.VMHD),ce.DINF,ce.stbl(e))}static moof(e,n,r){return ce.box(ce.types.moof,ce.mfhd(e),ce.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=ce.trak(e[n]);return ce.box.apply(null,[ce.types.moov,ce.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(ce.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=ce.trex(e[n]);return ce.box.apply(null,[ce.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(yl+1)),i=Math.floor(n%(yl+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ce.box(ce.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return ce.box(ce.types.sdtp,r)}static stbl(e){return ce.box(ce.types.stbl,ce.stsd(e),ce.box(ce.types.stts,ce.STTS),ce.box(ce.types.stsc,ce.STSC),ce.box(ce.types.stsz,ce.STSZ),ce.box(ce.types.stco,ce.STCO))}static avc1(e){let n=[],r=[],i,s,a;for(i=0;i<e.sps.length;i++)s=e.sps[i],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));const o=ce.box(ce.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return ce.box(ce.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,ce.box(ce.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ce.box(ce.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return ce.box(ce.types.mp4a,ce.audioStsd(e),ce.box(ce.types.esds,ce.esds(e)))}static mp3(e){return ce.box(ce.types[".mp3"],ce.audioStsd(e))}static ac3(e){return ce.box(ce.types["ac-3"],ce.audioStsd(e),ce.box(ce.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?ce.box(ce.types.stsd,ce.STSD,ce.mp3(e)):e.segmentCodec==="ac3"?ce.box(ce.types.stsd,ce.STSD,ce.ac3(e)):ce.box(ce.types.stsd,ce.STSD,ce.mp4a(e)):ce.box(ce.types.stsd,ce.STSD,ce.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,a=Math.floor(r/(yl+1)),o=Math.floor(r%(yl+1));return ce.box(ce.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=ce.sdtp(e),i=e.id,s=Math.floor(n/(yl+1)),a=Math.floor(n%(yl+1));return ce.box(ce.types.traf,ce.box(ce.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),ce.box(ce.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),ce.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,ce.box(ce.types.trak,ce.tkhd(e),ce.mdia(e))}static trex(e){const n=e.id;return ce.box(ce.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,a=new Uint8Array(s);let o,l,c,u,d,h;for(n+=8+s,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),o=0;o<i;o++)l=r[o],c=l.duration,u=l.size,d=l.flags,h=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,h>>>24&255,h>>>16&255,h>>>8&255,h&255],12+16*o);return ce.box(ce.types.trun,a)}static initSegment(e){ce.types||ce.init();const n=ce.moov(e);return vs(ce.FTYP,n)}}ce.types=void 0;ce.HDLR_TYPES=void 0;ce.STTS=void 0;ce.STSC=void 0;ce.STCO=void 0;ce.STSZ=void 0;ce.VMHD=void 0;ce.SMHD=void 0;ce.STSD=void 0;ce.FTYP=void 0;ce.DINF=void 0;const gY=9e4;function Lw(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function OFe(t,e,n=1,r=!1){return Lw(t,e,1/n,r)}function Wp(t,e=!1){return Lw(t,1e3,1/gY,e)}function DFe(t,e=1){return Lw(t,gY,1/e)}const PFe=10*1e3,PP=1024,MFe=1152,$Fe=1536;let Cd=null,DS=null;class N2{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Cd===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Cd=a?parseInt(a[1]):0}if(DS===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);DS=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){ae.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){ae.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){ae.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e.reduce((i,s)=>{const a=s.pts-i;return a<-4294967296?(n=!0,Ji(i,s.pts)):a>0?i:s.pts},e[0].pts);return n&&ae.debug("PTS rollover detected"),r}remux(e,n,r,i,s,a,o,l){let c,u,d,h,m,g,p=s,_=s;const y=e.pid>-1,v=n.pid>-1,E=n.samples.length,x=e.samples.length>0,C=o&&E>0||E>1;if((!y||x)&&(!v||C)||this.ISGenerated||o){if(this.ISGenerated){var D,U,K,V;const pe=this.videoTrackConfig;pe&&(n.width!==pe.width||n.height!==pe.height||((D=n.pixelRatio)==null?void 0:D[0])!==((U=pe.pixelRatio)==null?void 0:U[0])||((K=n.pixelRatio)==null?void 0:K[1])!==((V=pe.pixelRatio)==null?void 0:V[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,s,a);const X=this.isVideoContiguous;let he=-1,ie;if(C&&(he=UFe(n.samples),!X&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,he>0){ae.warn(`[mp4-remuxer]: Dropped ${he} out of ${E} video samples due to a missing keyframe`);const pe=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(he),n.dropped+=he,_+=(n.samples[0].pts-pe)/n.inputTimeScale,ie=_}else he===-1&&(ae.warn(`[mp4-remuxer]: No keyframe found out of ${E} video samples`),g=!1);if(this.ISGenerated){if(x&&C){const pe=this.getVideoStartPts(n.samples),oe=(Ji(e.samples[0].pts,pe)-pe)/n.inputTimeScale;p+=Math.max(0,oe),_+=Math.max(0,-oe)}if(x){if(e.samplerate||(ae.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,s,a)),u=this.remuxAudio(e,p,this.isAudioContiguous,a,v||C||l===Ve.AUDIO?_:void 0),C){const pe=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(ae.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,s,a)),c=this.remuxVideo(n,_,X,pe)}}else C&&(c=this.remuxVideo(n,_,X,0));c&&(c.firstKeyFrame=he,c.independent=he!==-1,c.firstKeyFramePTS=ie)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(m=yY(r,s,this._initPTS,this._initDTS)),i.samples.length&&(h=TY(i,s,this._initPTS))),{audio:u,video:c,initSegment:d,independent:g,text:h,id3:m}}generateIS(e,n,r,i){const s=e.samples,a=n.samples,o=this.typeSupported,l={},c=this._initPTS;let u=!c||i,d="audio/mp4",h,m,g;if(u&&(h=m=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(d="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):ce.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(g=e.inputTimeScale,!c||g!==c.timescale?h=m=s[0].pts-Math.round(g*r):u=!1)}if(n.sps&&n.pps&&a.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:ce.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(g=n.inputTimeScale,!c||g!==c.timescale){const p=this.getVideoStartPts(a),_=Math.round(g*r);m=Math.min(m,Ji(a[0].dts,p)-_),h=Math.min(h,p-_)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:h,timescale:g},this._initDTS={baseTime:m,timescale:g}):h=g=void 0,{tracks:l,initPTS:h,timescale:g}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,a=e.samples,o=[],l=a.length,c=this._initPTS;let u=this.nextAvcDts,d=8,h=this.videoSampleDuration,m,g,p=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY,y=!1;if(!r||u===null){const te=n*s,re=a[0].pts-Ji(a[0].dts,a[0].pts);Cd&&u!==null&&Math.abs(te-re-u)<15e3?r=!0:u=te-re}const v=c.baseTime*s/c.timescale;for(let te=0;te<l;te++){const re=a[te];re.pts=Ji(re.pts-v,u),re.dts=Ji(re.dts-v,u),re.dts<a[te>0?te-1:te].dts&&(y=!0)}y&&a.sort(function(te,re){const Ae=te.dts-re.dts,W=te.pts-re.pts;return Ae||W}),m=a[0].dts,g=a[a.length-1].dts;const E=g-m,x=E?Math.round(E/(l-1)):h||e.inputTimeScale/30;if(r){const te=m-u,re=te>x,Ae=te<-1;if((re||Ae)&&(re?ae.warn(`AVC: ${Wp(te,!0)} ms (${te}dts) hole between fragments detected at ${n.toFixed(3)}`):ae.warn(`AVC: ${Wp(-te,!0)} ms (${te}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!Ae||u>=a[0].pts||Cd)){m=u;const W=a[0].pts-te;if(re)a[0].dts=m,a[0].pts=W;else for(let J=0;J<a.length&&!(a[J].dts>W);J++)a[J].dts-=te,a[J].pts-=te;ae.log(`Video: Initial PTS/DTS adjusted: ${Wp(W,!0)}/${Wp(m,!0)}, delta: ${Wp(te,!0)} ms`)}}m=Math.max(0,m);let C=0,R=0,D=m;for(let te=0;te<l;te++){const re=a[te],Ae=re.units,W=Ae.length;let J=0;for(let le=0;le<W;le++)J+=Ae[le].data.length;R+=J,C+=W,re.length=J,re.dts<D?(re.dts=D,D+=x/4|0||1):D=re.dts,p=Math.min(re.pts,p),_=Math.max(re.pts,_)}g=a[l-1].dts;const U=R+4*C+8;let K;try{K=new Uint8Array(U)}catch(te){this.observer.emit($.ERROR,$.ERROR,{type:ze.MUX_ERROR,details:de.REMUX_ALLOC_ERROR,fatal:!1,error:te,bytes:U,reason:`fail allocating video mdat ${U}`});return}const V=new DataView(K.buffer);V.setUint32(0,U),K.set(ce.types.mdat,4);let X=!1,he=Number.POSITIVE_INFINITY,ie=Number.POSITIVE_INFINITY,pe=Number.NEGATIVE_INFINITY,ne=Number.NEGATIVE_INFINITY;for(let te=0;te<l;te++){const re=a[te],Ae=re.units;let W=0;for(let ve=0,Re=Ae.length;ve<Re;ve++){const Me=Ae[ve],Ue=Me.data,Ge=Me.data.byteLength;V.setUint32(d,Ge),d+=4,K.set(Ue,d),d+=Ge,W+=4+Ge}let J;if(te<l-1)h=a[te+1].dts-re.dts,J=a[te+1].pts-re.pts;else{const ve=this.config,Re=te>0?re.dts-a[te-1].dts:x;if(J=te>0?re.pts-a[te-1].pts:x,ve.stretchShortVideoTrack&&this.nextAudioPts!==null){const Me=Math.floor(ve.maxBufferHole*s),Ue=(i?p+i*s:this.nextAudioPts)-re.pts;Ue>Me?(h=Ue-Re,h<0?h=Re:X=!0,ae.log(`[mp4-remuxer]: It is approximately ${Ue/90} ms to the next segment; using duration ${h/90} ms for the last video frame.`)):h=Re}else h=Re}const le=Math.round(re.pts-re.dts);he=Math.min(he,h),pe=Math.max(pe,h),ie=Math.min(ie,J),ne=Math.max(ne,J),o.push(new MP(re.key,h,W,le))}if(o.length){if(Cd){if(Cd<70){const te=o[0].flags;te.dependsOn=2,te.isNonSync=0}}else if(DS&&ne-ie<pe-he&&x/pe<.025&&o[0].cts===0){ae.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let te=m;for(let re=0,Ae=o.length;re<Ae;re++){const W=te+o[re].duration,J=te+o[re].cts;if(re<Ae-1){const le=W+o[re+1].cts;o[re].duration=le-J}else o[re].duration=re?o[re-1].duration:x;o[re].cts=0,te=W}}}h=X||!h?x:h,this.nextAvcDts=u=g+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;const Y={data1:ce.moof(e.sequenceNumber++,m,Ln({},e,{samples:o})),data2:K,startPTS:p/s,endPTS:(_+h)/s,startDTS:m/s,endDTS:u/s,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Y}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return MFe;case"ac3":return $Fe;default:return PP}}remuxAudio(e,n,r,i,s){const a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,l=a/o,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,h=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],g=s!==void 0;let p=e.samples,_=h?0:8,y=this.nextAudioPts||-1;const v=n*a,E=d.baseTime*a/d.timescale;if(this.isAudioContiguous=r=r||p.length&&y>0&&(i&&Math.abs(v-y)<9e3||Math.abs(Ji(p[0].pts-E,v)-y)<20*u),p.forEach(function(oe){oe.pts=Ji(oe.pts-E,v)}),!r||y<0){if(p=p.filter(oe=>oe.pts>=0),!p.length)return;s===0?y=0:i&&!g?y=Math.max(0,v):y=p[0].pts}if(e.segmentCodec==="aac"){const oe=this.config.maxAudioFramesDrift;for(let _e=0,Y=y;_e<p.length;_e++){const te=p[_e],re=te.pts,Ae=re-Y,W=Math.abs(1e3*Ae/a);if(Ae<=-oe*u&&g)_e===0&&(ae.warn(`Audio frame @ ${(re/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Ae/a)} ms.`),this.nextAudioPts=y=Y=re);else if(Ae>=oe*u&&W<PFe&&g){let J=Math.round(Ae/u);Y=re-J*u,Y<0&&(J--,Y+=u),_e===0&&(this.nextAudioPts=y=Y),ae.warn(`[mp4-remuxer]: Injecting ${J} audio frame @ ${(Y/a).toFixed(3)}s due to ${Math.round(1e3*Ae/a)} ms gap.`);for(let le=0;le<J;le++){const ve=Math.max(Y,0);let Re=DP.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Re||(ae.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Re=te.unit.subarray()),p.splice(_e,0,{unit:Re,pts:ve}),Y+=u,_e++}}te.pts=Y,Y+=u}}let x=null,C=null,R,D=0,U=p.length;for(;U--;)D+=p[U].unit.byteLength;for(let oe=0,_e=p.length;oe<_e;oe++){const Y=p[oe],te=Y.unit;let re=Y.pts;if(C!==null){const W=m[oe-1];W.duration=Math.round((re-C)/l)}else if(r&&e.segmentCodec==="aac"&&(re=y),x=re,D>0){D+=_;try{R=new Uint8Array(D)}catch(W){this.observer.emit($.ERROR,$.ERROR,{type:ze.MUX_ERROR,details:de.REMUX_ALLOC_ERROR,fatal:!1,error:W,bytes:D,reason:`fail allocating audio mdat ${D}`});return}h||(new DataView(R.buffer).setUint32(0,D),R.set(ce.types.mdat,4))}else return;R.set(te,_);const Ae=te.byteLength;_+=Ae,m.push(new MP(!0,c,Ae,0)),C=re}const K=m.length;if(!K)return;const V=m[m.length-1];this.nextAudioPts=y=C+l*V.duration;const X=h?new Uint8Array(0):ce.moof(e.sequenceNumber++,x/l,Ln({},e,{samples:m}));e.samples=[];const he=x/a,ie=y/a,ne={data1:X,data2:R,startPTS:he,endPTS:ie,startDTS:he,endDTS:ie,type:"audio",hasAudio:!0,hasVideo:!1,nb:K};return this.isAudioContiguous=!0,ne}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,a=e.samplerate?e.samplerate:s,o=s/a,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:i.startDTS*s)+u,h=i.endDTS*s+u,m=o*PP,g=Math.ceil((h-d)/m),p=DP.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(ae.warn("[mp4-remuxer]: remux empty Audio"),!p){ae.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const _=[];for(let y=0;y<g;y++){const v=d+y*m;_.push({unit:p,pts:v,dts:v})}return e.samples=_,this.remuxAudio(e,n,r,!1)}}function Ji(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function UFe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function yY(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let o=0;o<i;o++){const l=t.samples[o];l.pts=Ji(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=Ji(l.dts-r.baseTime*s/r.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function TY(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let a=0;a<r;a++){const o=t.samples[a];o.pts=Ji(o.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((a,o)=>a.pts-o.pts);const s=t.samples;return t.samples=[],{samples:s}}class MP{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class FFe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(q$e(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=HK(e);i.audio&&(n=$P(i.audio,yt.AUDIO)),i.video&&(r=$P(i.video,yt.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:ae.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,a){var o,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};Pe(u)||(u=this.lastEndTime=s||0);const h=n.samples;if(!(h!=null&&h.length))return d;const m={initPTS:void 0,timescale:1};let g=this.initData;if((o=g)!=null&&o.length||(this.generateInitSegment(h),g=this.initData),!((l=g)!=null&&l.length))return ae.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const p=W$e(h,g),_=z$e(g,h),y=_===null?s:_;(BFe(c,y,s,p)||m.timescale!==c.timescale&&a)&&(m.initPTS=y-s,c&&c.timescale===1&&ae.warn(`Adjusting initPTS by ${m.initPTS-c.baseTime}`),this.initPTS=c={baseTime:m.initPTS,timescale:1});const v=e?y-c.baseTime/c.timescale:u,E=v+p;Y$e(g,h,c.baseTime/c.timescale),p>0?this.lastEndTime=E:(ae.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const x=!!g.audio,C=!!g.video;let R="";x&&(R+="audio"),C&&(R+="video");const D={data1:h,startPTS:v,startDTS:v,endPTS:E,endDTS:E,type:R,hasAudio:x,hasVideo:C,nb:1,dropped:0};return d.audio=D.type==="audio"?D:void 0,d.video=D.type!=="audio"?D:void 0,d.initSegment=m,d.id3=yY(r,s,c,c),i.samples.length&&(d.text=TY(i,s,c)),d}}function BFe(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function $P(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===yt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return $v(n,!1);const r="mp4a.40.5";return ae.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return ae.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let lo;try{lo=self.performance.now.bind(self.performance)}catch{ae.debug("Unable to use Performance API on this environment"),lo=Cm==null?void 0:Cm.Date.now}const O2=[{demux:AFe,remux:FFe},{demux:wl,remux:N2},{demux:EFe,remux:N2},{demux:NFe,remux:N2}];O2.splice(2,0,{demux:wFe,remux:N2});class UP{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=lo();let a=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:h,timeOffset:m,initSegmentChange:g}=i||o,{audioCodec:p,videoCodec:_,defaultInitPts:y,duration:v,initSegmentData:E}=l,x=jFe(a,n);if(x&&x.method==="AES-128"){const U=this.getDecrypter();if(U.isSync()){let K=U.softwareDecrypt(a,x.key.buffer,x.iv.buffer);if(r.part>-1&&(K=U.flush()),!K)return s.executeEnd=lo(),PS(r);a=new Uint8Array(K)}else return this.decryptionPromise=U.webCryptoDecrypt(a,x.key.buffer,x.iv.buffer).then(K=>{const V=this.push(K,null,r);return this.decryptionPromise=null,V}),this.decryptionPromise}const C=this.needsProbing(u,d);if(C){const U=this.configureTransmuxer(a);if(U)return ae.warn(`[transmuxer] ${U.message}`),this.observer.emit($.ERROR,$.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,error:U,reason:U.message}),s.executeEnd=lo(),PS(r)}(u||d||g||C)&&this.resetInitSegment(E,p,_,v,n),(u||g||C)&&this.resetInitialTimestamp(y),c||this.resetContiguity();const R=this.transmux(a,x,m,h,r),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,s.executeEnd=lo(),R}flush(e){const n=e.transmuxing;n.executeStart=lo();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const a=[],{timeOffset:o}=i;if(r){const d=r.flush();d&&a.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=lo(),[PS(e)];const u=l.flush(o);return D2(u)?u.then(d=>(this.flushRemux(a,d,e),a)):(this.flushRemux(a,u,e),a)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:o}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;ae.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(i,s,a,o,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=lo()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:a,remuxer:o}=this;!a||!o||(a.resetInitSegment(e,n,r,i),o.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let a;return n&&n.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,n,r,i,s):a=this.transmuxUnencrypted(e,r,i,s),a}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:a,id3Track:o,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,o,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let a;for(let h=0,m=O2.length;h<m;h++){var o;if((o=O2[h].demux)!=null&&o.probe(e)){a=O2[h];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=a.remux,d=a.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(r,n,i,s)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,n,i),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Aw(this.config)),e}}function jFe(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const PS=t=>({remuxResult:{},chunkMeta:t});function D2(t){return"then"in t&&t.then instanceof Function}class VFe{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class HFe{constructor(e,n,r,i,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=a}}var vY={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,g=new Array(m);h<m;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,m,g){var p=n?n+c:c;if(!this._events[p])return!1;var _=this._events[p],y=arguments.length,v,E;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),y){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,d),!0;case 4:return _.fn.call(_.context,u,d,h),!0;case 5:return _.fn.call(_.context,u,d,h,m),!0;case 6:return _.fn.call(_.context,u,d,h,m,g),!0}for(E=1,v=new Array(y-1);E<y;E++)v[E-1]=arguments[E];_.fn.apply(_.context,v)}else{var x=_.length,C;for(E=0;E<x;E++)switch(_[E].once&&this.removeListener(c,_[E].fn,void 0,!0),y){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,u);break;case 3:_[E].fn.call(_[E].context,u,d);break;case 4:_[E].fn.call(_[E].context,u,d,h);break;default:if(!v)for(C=1,v=new Array(y-1);C<y;C++)v[C-1]=arguments[C];_[E].fn.apply(_[E].context,v)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&a(this,m);else{for(var p=0,_=[],y=g.length;p<y;p++)(g[p].fn!==u||h&&!g[p].once||d&&g[p].context!==d)&&_.push(g[p]);_.length?this._events[m]=_.length===1?_[0]:_:a(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(vY);var GFe=vY.exports,Rw=m$e(GFe);class _Y{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const a=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===$.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new Rw,this.observer.on($.FRAG_DECRYPTED,a),this.observer.on($.ERROR,a);const o=Bu(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:o.isTypeSupported("audio/mpeg"),mp3:o.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:o.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||cFe())){try{s.workerPath?(ae.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=dFe(s.workerPath)):(ae.log(`injecting Web Worker for "${n}"`),this.workerContext=uFe()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const h=new Error(`${d.message}  (${d.filename}:${d.lineno})`);s.enableWorker=!1,ae.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger($.ERROR,{type:ze.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:h})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(s)})}catch(u){ae.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new UP(this.observer,l,s,"",n)}return}this.transmuxer=new UP(this.observer,l,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,a,o,l,c,u){var d,h;c.transmuxing.start=self.performance.now();const{transmuxer:m}=this,g=a?a.start:s.start,p=s.decryptdata,_=this.frag,y=!(_&&s.cc===_.cc),v=!(_&&c.level===_.level),E=_?c.sn-_.sn:-1,x=this.part?c.part-this.part.index:-1,C=E===0&&c.id>1&&c.id===(_==null?void 0:_.stats.chunkCount),R=!v&&(E===1||E===0&&(x===1||C&&x<=0)),D=self.performance.now();(v||E||s.stats.parsing.start===0)&&(s.stats.parsing.start=D),a&&(x||!R)&&(a.stats.parsing.start=D);const U=!(_&&((d=s.initSegment)==null?void 0:d.url)===((h=_.initSegment)==null?void 0:h.url)),K=new HFe(y,R,l,v,g,U);if(!R||y||U){ae.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${y}
        trackSwitch: ${v}
        contiguous: ${R}
        accurateTimeOffset: ${l}
        timeOffset: ${g}
        initSegmentChange: ${U}`);const V=new VFe(r,i,n,o,u);this.configureTransmuxer(V)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:p,chunkMeta:c,state:K},e instanceof ArrayBuffer?[e]:[]);else if(m){const V=m.push(e,p,c,K);D2(V)?(m.async=!0,V.then(X=>{this.handleTransmuxComplete(X)}).catch(X=>{this.transmuxerError(X,c,"transmuxer-interface push error")})):(m.async=!1,this.handleTransmuxComplete(V))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);D2(r)||n.async?(D2(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){ae.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":ae[n.data.logType]&&ae[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function bY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!xm(t[n].attrs,e[n].attrs))return!1;return!0}function xm(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function u6(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}const FP=100;class qFe extends ww{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Ve.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.ERROR,this.onError,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.ERROR,this.onError,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const a=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${a} found from main: ${i}`),this.videoTrackCC=a,this.state===ke.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=ke.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(FP),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=ke.IDLE):(this.loadedmetadata=!1,this.state=ke.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case ke.IDLE:this.doTickIdle();break;case ke.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=ke.WAITING_INIT_PTS}break}case ke.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:a}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[a])||null),this.state=ke.IDLE}break}case ke.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:a,complete:o}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=ke.FRAG_LOADING;const l=a.flush(),c={frag:i,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=Lt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);l6(c.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=ke.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=ke.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!r&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[i]))return;const a=n[i],o=a.details;if(!o||o.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(o)){this.state=ke.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,yt.AUDIO,Ve.AUDIO));const c=this.getFwdBufferInfo(l,Ve.AUDIO);if(c===null)return;const{bufferedTrack:u,switchingTrack:d}=this;if(!d&&this._streamEnded(c,o)){e.trigger($.BUFFER_EOS,{type:"audio"}),this.state=ke.ENDED;return}const h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Ve.MAIN),m=c.len,g=this.getMaxBufferLength(h==null?void 0:h.len),p=o.fragments,_=p[0].start;let y=this.flushing?this.getLoadPosition():c.end;if(d&&r){const C=this.getLoadPosition();u&&!xm(d.attrs,u.attrs)&&(y=C),o.PTSKnown&&C<_&&(c.end>_||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=_+.05)}if(m>=g&&!d&&y<p[p.length-1].start)return;let v=this.getNextFragment(y,o),E=!1;if(v&&this.isLoopLoading(v,y)&&(E=!!v.gap,v=this.getNextFragmentLoopLoading(v,o,c,Ve.MAIN,g)),!v){this.bufferFlushed=!0;return}const x=h&&v.start>h.end+o.targetduration;if(x||!(h!=null&&h.len)&&c.len){const C=this.getAppendedFrag(v.start,Ve.MAIN);if(C===null||(E||(E=!!C.gap||!!x&&h.len===0),x&&!E||E&&c.nextStart&&c.nextStart<C.end))return}this.loadFragment(v,a,y)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new Im(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(FP):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=ke.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=ke.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger($.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:a}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${a}`);return}this.log(`Audio track ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const o=i[a];let l=0;if(s.live||(r=o.details)!=null&&r.live){this.checkLiveUpdate(s);const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;if(!o.details&&s.hasProgramDateTime&&u.hasProgramDateTime)Vv(s,u),l=s.fragments[0].start;else{var c;l=this.alignPlaylists(s,o.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}o.details=s,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.state===ke.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=ke.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:a,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[o];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new _Y(this.hls,Ve.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[r.cc],g=(n=r.initSegment)==null?void 0:n.data;if(m!==void 0){const _=i?i.index:-1,y=_!==-1,v=new kw(r.level,r.sn,r.stats.chunkCount,s.byteLength,_,y);h.push(s,g,d,"",r,i,u.totalduration,!1,v,m)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${o}`);const{cache:p}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new iY,complete:!1};p.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=ke.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Ve.AUDIO){if(!this.loadedmetadata&&r.type===Ve.MAIN){const s=this.videoBuffer||this.media;s&&Lt.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger($.AUDIO_TRACK_SWITCHED,er({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=ke.ERROR;return}switch(n.details){case de.FRAG_GAP:case de.FRAG_PARSING_ERROR:case de.FRAG_DECRYPT_ERROR:case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ve.AUDIO,n);break;case de.AUDIO_TRACK_LOAD_ERROR:case de.AUDIO_TRACK_LOAD_TIMEOUT:case de.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ke.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===st.AUDIO_TRACK&&(this.state=ke.IDLE);break;case de.BUFFER_APPEND_ERROR:case de.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===de.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case de.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==yt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==yt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ke.ENDED&&(this.state=ke.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Ve.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{details:d}=u,{audio:h,text:m,id3:g,initSegment:p}=s;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=ke.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),p!=null&&p.tracks){const _=l.initSegment||l;this._bufferInitSegment(u,p.tracks,_,a),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:_,id:r,tracks:p.tracks})}if(h){const{startPTS:_,endPTS:y,startDTS:v,endDTS:E}=h;c&&(c.elementaryStreams[yt.AUDIO]={startPTS:_,endPTS:y,startDTS:v,endDTS:E}),l.setElementaryStreamInfo(yt.AUDIO,_,y,v,E),this.bufferFragmentData(h,l,c,a)}if(g!=null&&(n=g.samples)!=null&&n.length){const _=Ln({id:r,frag:l,details:d},g);i.trigger($.FRAG_PARSING_METADATA,_)}if(m){const _=Ln({id:r,frag:l,details:d},m);i.trigger($.FRAG_PARSING_USERDATA,_)}}_bufferInitSegment(e,n,r,i){if(this.state!==ke.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger($.BUFFER_CODECS,n);const o=s.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:o};this.hls.trigger($.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Kn.NOT_LOADED||i===Kn.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ke.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragments[0].start!==n.details.fragments[0].start&&Vv(n.details,a)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:n,bufferedTrack:r}=this,i=r==null?void 0:r.attrs,s=e.attrs;n&&i&&(i.CHANNELS!==s.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger($.AUDIO_TRACK_SWITCHED,er({},e))}}class zFe extends Ew{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=n.details,this.log(`Audio track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,o)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,m)=>{h.id=m});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!s&&l){const h=La(l,o,kd);if(h>-1)s=o[h];else{const m=La(l,this.tracks);s=this.tracks[m]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger($.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(o.length&&d===-1){var a;const h=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${o.length}`);this.warn(h.message),this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===st.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Vh(e,i,kd))return i;const s=La(e,this.tracksInGroup,kd);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(i){let a=n.loadLevel;a===-1&&(a=n.firstAutoLevel);const o=zUe(e,n.levels,r,a,kd);if(o===-1)return null;n.nextLoadLevel=o}if(e.channels||e.audioCodec){const a=La(e,r);if(a>-1)return r[a]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger($.AUDIO_TRACK_SWITCHING,er({},i)),s))return;const a=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(a)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Vh(e,i,kd)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:a,audioCodec:o,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(Vh({name:r,lang:i,assocLang:s,characteristics:a,audioCodec:o,channels:l},u,kd))return c}for(let c=0;c<n.length;c++){const u=n[c];if(xm(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(xm(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger($.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const BP=500;class WFe extends ww{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Ve.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.ERROR,this.onError,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.ERROR,this.onError,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=ke.IDLE,this.setInterval(BP),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=ke.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const o=r.start;for(let c=0;c<s.length;c++)if(o>=s[c].start&&o<=s[c].end){a=s[c];break}const l=r.start+r.duration;a?a.end=l:(a={start:o,end:l},s.push(a)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let o=0;o<a.length;){if(a[o].end<=s){a.shift();continue}else if(a[o].start<s)a[o].start=s;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Ve.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Ve.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Ve.SUBTITLE&&(n.details===de.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ke.STOPPED&&(this.state=ke.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&bY(this.levels,n)){this.levels=n.map(r=>new Im(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new Im(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ve.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(BP)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:a,id:o}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=s[o];if(o>=s.length||!l)return;this.log(`Subtitle track ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(a.deltaUpdateFailed||!d)return;const h=d.fragments[0];if(!l.details)a.hasProgramDateTime&&d.hasProgramDateTime?(Vv(a,d),c=a.fragments[0].start):h&&(c=h.start,o6(a,c));else{var u;c=this.alignPlaylists(a,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&h&&(c=h.start,o6(a,c))}}l.details=a,this.levelLastLoaded=l,o===i&&(!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(this.mainDetails||a,c),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===ke.IDLE&&(jv(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const a=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(o=>{throw s.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:n}),o}).then(o=>{const l=performance.now();s.trigger($.FRAG_DECRYPTED,{frag:n,payload:o,stats:{tstart:a,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=ke.IDLE})}}doTick(){if(!this.media){this.state=ke.IDLE;return}if(this.state===ke.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),a=Lt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:o,len:l}=a,c=this.getFwdBufferInfo(this.media,Ve.MAIN),u=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const h=u.fragments,m=h.length,g=u.edge;let p=null;const _=this.fragPrevious;if(o<g){const y=i.maxFragLookUpTolerance,v=o>g-y?0:y;p=jv(_,h,Math.max(h[0].start,o),v),!p&&_&&_.start<h[0].start&&(p=h[0])}else p=h[m-1];if(!p)return;if(p=this.mapToInitFragWhenRequired(p),p.sn!=="initSegment"){const y=p.sn-u.startSN,v=h[y-1];v&&v.cc===p.cc&&this.fragmentTracker.getState(v)===Kn.NOT_LOADED&&(p=v)}this.fragmentTracker.getState(p)===Kn.NOT_LOADED&&this.loadFragment(p,r,o)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new KFe(this.tracksBuffered[this.currentTrackId]||[])}}class KFe{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class YFe extends Ew{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=x2(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),x2(this.media.textTracks).forEach(n=>{hh(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,a=this.tracksInGroup[r];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=n.details,this.log(`Subtitle track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,o)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,d)=>{u.id=d});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const o=this.hls.config.subtitlePreference;if(!s&&o){this.selectDefaultTrack=!1;const u=La(o,a);if(u>-1)s=a[u];else{const d=La(o,this.tracks);s=this.tracks[d]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger($.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Vh(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(xm(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(xm(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(u6(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===st.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Vh(e,r))return r;const i=La(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=La(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger($.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=x2(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>u6(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!Pe(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:o="",name:l,type:c,url:u}=i;this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:c,url:u});const d=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(d)}}class QFe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(i){ae.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const jP=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class XFe{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger($.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&ae.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=aUe(Bu(e.config.preferManagedMediaSource)),this.log=ae.log.bind(ae,n),this.warn=ae.warn.bind(ae,n),this.error=ae.error.bind(ae,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_APPENDING,this.onBufferAppending,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.BUFFER_EOS,this.onBufferEos,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.FRAG_PARSED,this.onFragParsed,this),e.on($.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_APPENDING,this.onBufferAppending,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.BUFFER_EOS,this.onBufferEos,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.FRAG_PARSED,this.onFragParsed,this),e.off($.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new QFe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,i=Bu(this.appendSource);if(r&&i){var s;const a=this.mediaSource=new i;this.log(`created media source: ${(s=a.constructor)==null?void 0:s.name}`),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));const o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&a instanceof l,VP(r),ZFe(r,o),r.load()}catch{r.src=o}else r.src=o;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&VP(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger($.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,i=Object.keys(n);if(i.forEach(a=>{if(r){const l=this.tracks[a];if(l&&typeof l.buffer.changeType=="function"){var o;const{id:c,codec:u,levelCodec:d,container:h,metadata:m}=n[a],g=cP(l.codec,l.levelCodec),p=g==null?void 0:g.replace(jP,"$1");let _=cP(u,d);const y=(o=_)==null?void 0:o.replace(jP,"$1");if(_&&p!==y){a.slice(0,5)==="audio"&&(_=$v(_,this.appendSource));const v=`${h};codecs=${_}`;this.appendChangeType(a,v),this.log(`switching codec ${g} to ${_}`),this.tracks[a]={buffer:l.buffer,codec:u,container:h,levelCodec:d,metadata:m,id:c}}}}else this.pendingTracks[a]=n[a]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:a,type:o,frag:l,part:c,chunkMeta:u}=n,d=u.buffering[o],h=self.performance.now();d.start=h;const m=l.stats.buffering,g=c?c.stats.buffering:null;m.start===0&&(m.start=h),g&&g.start===0&&(g.start=h);const p=s.audio;let _=!1;o==="audio"&&(p==null?void 0:p.container)==="audio/mpeg"&&(_=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const y=l.start,v={execute:()=>{if(d.executeStart=self.performance.now(),_){const E=this.sourceBuffer[o];if(E){const x=y-E.timestampOffset;Math.abs(x)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${y} (delta: ${x}) sn: ${l.sn})`),E.timestampOffset=y)}}this.appendExecutor(a,o)},onStart:()=>{},onComplete:()=>{const E=self.performance.now();d.executeEnd=d.end=E,m.first===0&&(m.first=E),g&&g.first===0&&(g.first=E);const{sourceBuffer:x}=this,C={};for(const R in x)C[R]=Lt.getBuffered(x[R]);this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger($.BUFFER_APPENDED,{type:o,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:C})},onError:E=>{const x={type:ze.MEDIA_ERROR,parent:l.type,details:de.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:l,part:c,chunkMeta:u,error:E,err:E,fatal:!1};if(E.code===DOMException.QUOTA_EXCEEDED_ERR)x.details=de.BUFFER_FULL_ERROR;else{const C=++this.appendErrors[o];x.details=de.BUFFER_APPEND_ERROR,this.warn(`Failed ${C}/${r.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer`),C>=r.config.appendErrorMaxRetry&&(x.fatal=!0)}r.trigger($.ERROR,x)}};i.append(v,o,!!this.pendingTracks[o])}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger($.BUFFER_FLUSHED,{type:s})},onError:a=>{this.warn(`Failed to remove from ${s} SourceBuffer`,a)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],a=i?i.elementaryStreams:r.elementaryStreams;a[yt.AUDIOVIDEO]?s.push("audiovideo"):(a[yt.AUDIO]&&s.push("audio"),a[yt.VIDEO]&&s.push("video"));const o=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:r.stats;this.hls.trigger($.FRAG_BUFFERED,{frag:r,part:i,stats:c,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(o,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const a=this.sourceBuffer[s];return a&&(!n.type||n.type===s)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!a||a.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const a=this.sourceBuffer[s];a&&(a.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,a=r.currentTime,o=n.levelTargetDuration,l=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(Pe(l)&&l>0){const c=Math.max(l,o),u=Math.floor(a/o)*o-c;this.flushBackBuffer(a,o,u)}if(Pe(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const c=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),u=Math.max(c,o),d=Math.floor(a/o)*o+u;this.flushFrontBuffer(a,o,d)}}flushBackBuffer(e,n,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(o=>{const l=s[o];if(l){const c=Lt.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger($.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger($.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:o})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(a=>{const o=i[a];if(o){const l=Lt.getBuffered(o),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(r>u||e>=u&&e<=d)return;if(o.ended&&e-d<2*n){this.log(`Cannot flush ${a} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger($.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,a=r.duration,o=Pe(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>o&&s>a||!Pe(a))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),a=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${a}.`),n.setLiveSeekableRange(s,a)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger($.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(a=>{n.executeNext(a)});else{const a=new Error("could not create source buffer for media codec(s)");this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var i;const a=e[s];if(!a)throw Error(`source buffer exists for track ${s}, however track does not`);let o=((i=a.levelCodec)==null?void 0:i.indexOf(","))===-1?a.levelCodec:a.codec;o&&s.slice(0,5)==="audio"&&(o=$v(o,this.appendSource));const l=`${a.container};codecs=${o}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[s]=r.addSourceBuffer(l),u=s;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,h)=>{const m=h.removedRanges;m!=null&&m.length&&this.hls.trigger($.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:c,codec:o,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:l})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:a,sourceBuffer:o}=this,l=o[e];if(!i||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),a.shiftAndExecuteNext(e);return}const c=Pe(i.duration)?i.duration:1/0,u=Pe(s.duration)?s.duration:1/0,d=Math.max(0,n),h=Math.min(r,c,u);h>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${h}] from the ${e} SourceBuffer`),l.remove(d,h)):a.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const a=this.sourceBuffer[s];a!=null&&a.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function VP(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function ZFe(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const JFe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},SY=t=>String.fromCharCode(JFe[t]||t),Rs=15,eo=100,eBe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},tBe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},nBe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},rBe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},iBe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class sBe{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;ae.log(`${this.time} [${e}] ${r}`)}}}const jc=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class EY{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class aBe{constructor(){this.uchar=" ",this.penState=new EY}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class oBe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new EY,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<eo;n++)this.chars.push(new aBe);this.logger=e}equals(e){for(let n=0;n<eo;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<eo;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<eo;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>eo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=eo)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=SY(e);if(this.pos>=eo){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<eo;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<eo;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class MS{constructor(e){this.rows=[],this.currRow=Rs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Rs;n++)this.rows.push(new oBe(e));this.logger=e}reset(){for(let e=0;e<Rs;e++)this.rows[e].clear();this.currRow=Rs-1}equals(e){let n=!0;for(let r=0;r<Rs;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<Rs;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<Rs;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let o=0;o<Rs;o++)this.rows[o].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const o=a.rows[s].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(a.rows[s+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<Rs;s++){const a=this.rows[s].getTextString();a&&(i=s+1,e?n.push("Row "+i+": '"+a+"'"):n.push(a.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class HP{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new MS(r),this.nonDisplayedMemory=new MS(r),this.lastOutputScreen=new MS(r),this.currRollUpRow=this.displayedMemory.rows[Rs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Rs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class GP{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=cBe(),this.logger=void 0;const i=this.logger=new sBe;this.channels=[null,new HP(e,n,i),new HP(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let a=!1,o=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+jc([n[r],n[r+1]])+"] -> ("+jc([i,s])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(lBe(i,s,l)){_y(null,null,l),this.logger.log(3,()=>"Repeated command ("+jc([i,s])+") is dropped");continue}_y(i,s,this.cmdHistory),a=this.parseCmd(i,s),a||(a=this.parseMidrow(i,s)),a||(a=this.parsePAC(i,s)),a||(a=this.parseBackgroundAttributes(i,s))}else _y(null,null,l);if(!a&&(o=this.parseChars(i,s),o)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+jc([i,s])+" orig: "+jc([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+jc([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const a=e<=23?1:2;n>=64&&n<=95?r=a===1?eBe[e]:nBe[e]:r=a===1?tBe[e]:rBe[e];const o=this.channels[a];return o?(o.setPAC(this.interpretPAC(r,n)),this.currentChannel=a,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let a;s===17?a=n+80:s===18?a=n+112:a=n+144,this.logger.log(2,()=>"Special char '"+SY(a)+"' in channel "+r),i=[a]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+jc(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const a={};e===16||e===24?(s=Math.floor((n-32)/2),a.background=iBe[s],n%2===1&&(a.background=a.background+"_semi")):n===45?a.background="transparent":(a.foreground="black",n===47&&(a.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}_y(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function _y(t,e,n){n.a=t,n.b=e}function lBe(t,e,n){return n.a===t&&n.b===e}function cBe(){return{a:null,b:null}}class by{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Nw=function(){if(Cm!=null&&Cm.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const c=l.toLowerCase();return~o.indexOf(c)?c:!1}function r(o){return n(t,o)}function i(o){return n(e,o)}function s(o,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)o[d]=u[d]}return o}function a(o,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let h="",m=!1,g=o,p=l,_=c,y=null,v="",E=!0,x="auto",C="start",R=50,D="middle",U=50,K="middle";Object.defineProperty(u,"id",s({},d,{get:function(){return h},set:function(V){h=""+V}})),Object.defineProperty(u,"pauseOnExit",s({},d,{get:function(){return m},set:function(V){m=!!V}})),Object.defineProperty(u,"startTime",s({},d,{get:function(){return g},set:function(V){if(typeof V!="number")throw new TypeError("Start time must be set to a number.");g=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",s({},d,{get:function(){return p},set:function(V){if(typeof V!="number")throw new TypeError("End time must be set to a number.");p=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",s({},d,{get:function(){return _},set:function(V){_=""+V,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",s({},d,{get:function(){return y},set:function(V){y=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",s({},d,{get:function(){return v},set:function(V){const X=r(V);if(X===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=X,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",s({},d,{get:function(){return E},set:function(V){E=!!V,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",s({},d,{get:function(){return x},set:function(V){if(typeof V!="number"&&V!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");x=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",s({},d,{get:function(){return C},set:function(V){const X=i(V);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");C=X,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",s({},d,{get:function(){return R},set:function(V){if(V<0||V>100)throw new Error("Position must be between 0 and 100.");R=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",s({},d,{get:function(){return D},set:function(V){const X=i(V);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");D=X,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",s({},d,{get:function(){return U},set:function(V){if(V<0||V>100)throw new Error("Size must be between 0 and 100.");U=V,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",s({},d,{get:function(){return K},set:function(V){const X=i(V);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");K=X,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class uBe{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function kY(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(a||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class dBe{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function AY(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const a=i[s].split(n);if(a.length!==2)continue;const o=a[0],l=a[1];e(o,l)}}const d6=new Nw(0,0,""),Sy=d6.align==="middle"?"middle":"center";function hBe(t,e,n){const r=t;function i(){const o=kY(t);if(o===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){const c=new dBe;AY(o,function(h,m){let g;switch(h){case"region":for(let p=n.length-1;p>=0;p--)if(n[p].id===m){c.set(h,n[p].region);break}break;case"vertical":c.alt(h,m,["rl","lr"]);break;case"line":g=m.split(","),c.integer(h,g[0]),c.percent(h,g[0])&&c.set("snapToLines",!1),c.alt(h,g[0],["auto"]),g.length===2&&c.alt("lineAlign",g[1],["start",Sy,"end"]);break;case"position":g=m.split(","),c.percent(h,g[0]),g.length===2&&c.alt("positionAlign",g[1],["start",Sy,"end","line-left","line-right","auto"]);break;case"size":c.percent(h,m);break;case"align":c.alt(h,m,["start",Sy,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&d6.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Sy);let d=c.get("position","auto");d==="auto"&&d6.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),a(),e.endTime=i(),a(),s(t,e)}function wY(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class mBe{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new uBe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,a=0;for(s=wY(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const o=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,n.buffer=s.slice(a),o}function i(s){AY(s,function(a,o){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const o=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let a=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new Nw(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{hBe(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const o=s.indexOf("-->")!==-1;if(!s||o&&(a=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const pBe=/\r\n|\n\r|\n|\r/g,$S=function(e,n,r=0){return e.slice(r,r+n.length)===n},fBe=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Pe(n)||!Pe(r)||!Pe(i)||!Pe(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},US=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function Ow(t,e,n){return US(t.toString())+US(e.toString())+US(n)}const gBe=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function yBe(t,e,n,r,i,s,a){const o=new mBe,l=Ua(new Uint8Array(t)).trim().replace(pBe,`
`).split(`
`),c=[],u=e?DFe(e.baseTime,e.timescale):0;let d="00:00.000",h=0,m=0,g,p=!0;o.oncue=function(_){const y=n[r];let v=n.ccOffset;const E=(h-u)/9e4;if(y!=null&&y.new&&(m!==void 0?v=n.ccOffset=y.start:gBe(n,r,E)),E){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}v=E-n.presentationOffset}const x=_.endTime-_.startTime,C=Ji((_.startTime+v-m)*9e4,i*9e4)/9e4;_.startTime=Math.max(C,0),_.endTime=Math.max(C+x,0);const R=_.text.trim();_.text=decodeURIComponent(encodeURIComponent(R)),_.id||(_.id=Ow(_.startTime,_.endTime,R)),_.endTime>0&&c.push(_)},o.onparsingerror=function(_){g=_},o.onflush=function(){if(g){a(g);return}s(c)},l.forEach(_=>{if(p)if($S(_,"X-TIMESTAMP-MAP=")){p=!1,_.slice(16).split(",").forEach(y=>{$S(y,"LOCAL:")?d=y.slice(6):$S(y,"MPEGTS:")&&(h=parseInt(y.slice(7)))});try{m=fBe(d)/1e3}catch(y){g=y}return}else _===""&&(p=!1);o.parse(_+`
`)}),o.flush()}const FS="stpp.ttml.im1t",CY=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,IY=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,TBe={left:"start",center:"center",right:"end",start:"start",end:"end"};function qP(t,e,n,r){const i=Ze(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(o=>Ua(o)),a=OFe(e.baseTime,1,e.timescale);try{s.forEach(o=>n(vBe(o,a)))}catch(o){r(o)}}function vBe(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((d,h)=>(d[h]=i.getAttribute(`ttp:${h}`)||s[h],d),{}),o=i.getAttribute("xml:space")!=="preserve",l=zP(BS(i,"styling","style")),c=zP(BS(i,"layout","region")),u=BS(i,"body","[begin]");return[].map.call(u,d=>{const h=xY(d,o);if(!h||!d.hasAttribute("begin"))return null;const m=VS(d.getAttribute("begin"),a),g=VS(d.getAttribute("dur"),a);let p=VS(d.getAttribute("end"),a);if(m===null)throw WP(d);if(p===null){if(g===null)throw WP(d);p=m+g}const _=new Nw(m-e,p-e,h);_.id=Ow(_.startTime,_.endTime,_.text);const y=c[d.getAttribute("region")],v=l[d.getAttribute("style")],E=_Be(y,v,l),{textAlign:x}=E;if(x){const C=TBe[x];C&&(_.lineAlign=C),_.align=x}return Ln(_,E),_}).filter(d=>d!==null)}function BS(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function zP(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function xY(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?xY(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function _Be(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(i=n[a]),s.reduce((o,l)=>{const c=jS(e,r,l)||jS(t,r,l)||jS(i,r,l);return c&&(o[l]=c),o},{})}function jS(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function WP(t){return new Error(`Could not parse ttml timestamp ${t}`)}function VS(t,e){if(!t)return null;let n=kY(t);return n===null&&(CY.test(t)?n=bBe(t,e):IY.test(t)&&(n=SBe(t,e))),n}function bBe(t,e){const n=CY.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function SBe(t,e){const n=IY.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class EBe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YP(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new by(this,"textTrack1"),n=new by(this,"textTrack2"),r=new by(this,"textTrack3"),i=new by(this,"textTrack4");this.cea608Parser1=new GP(1,e,n),this.cea608Parser2=new GP(3,r,i)}}addCues(e,n,r,i,s){let a=!1;for(let o=s.length;o--;){const l=s[o],c=kBe(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),a=!0,c/(r-n)>.5))return}if(a||s.push([n,r]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,n,r,i)}else{const o=this.Cues.newCue(null,n,r,i);this.hls.trigger($.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:a}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),a.length&&(this.unparsedVttFrags=[],a.forEach(o=>{this.onFragLoaded($.FRAG_LOADED,o)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(KP(s,{name:e,lang:n,attrs:{}}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:a}=n[e],o=this.getExistingTrack(s,a);if(o)r[e]=o,hh(r[e]),YK(r[e],i);else{const l=this.createTextTrack("captions",s,a);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{hh(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YP(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)hh(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===FS);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(bY(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const a=this.media,o=a?x2(a.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(o){let d=null;for(let h=0;h<o.length;h++)if(o[h]&&KP(o[h],l)){d=o[h],o[h]=null;break}d&&(u=d)}if(u)hh(u);else{const d=LY(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),o!=null&&o.length){const l=o.filter(c=>c!==null).map(c=>c.label);l.length&&ae.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,a=this.captionsProperties[s];a&&(a.label=r.name,r.lang&&(a.languageCode=r.lang),a.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Ve.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:a,lastSn:o}=this,{cc:l,sn:c}=n.frag,u=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&a&&(c!==o+1||c===o&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Ve.SUBTITLE)if(i.byteLength){const s=r.decryptdata,a="stats"in n;if(s==null||!s.encrypted||a){const o=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),o&&o.textCodec===FS?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;qP(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{ae.log(`Failed to parse IMSC1: ${i}`),r.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:a}=this,o=s.length-1;if(!s[r.cc]&&o===-1){a.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?vs(r.initSegment.data,new Uint8Array(i)):i;yBe(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(r,i),ae.log(`Failed to parse VTT cue: ${u}`),!(d&&o>r.cc)&&l.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||qP(n,this.initPTS[e.cc],()=>{r.textCodec=FS,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>QK(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger($.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Ve.SUBTITLE&&this.onFragLoaded($.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:a}=n;if(!(s.type===Ve.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let o=0;o<a.length;o++){const l=a[o].bytes;if(l){const c=this.extractCea608Data(l);r.addData(a[o].pts,c[0]),i.addData(a[o].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:a}=this;if(!(!a||a.currentTime<r)){if(!s||s==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>i6(o[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>i6(o[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const a=e[i++],o=127&e[i++],l=127&e[i++];if(o===0&&l===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(n[u].push(o),n[u].push(l))}}return n}}function LY(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function KP(t,e){return!!t&&t.kind===LY(e)&&u6(e,t)}function kBe(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function YP(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Dw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&Pe(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&ae.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,Dw.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let s=e.length-1;const a=Math.max(n,r);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=a||l.height>=a)&&i(l,e[o+1])){s=o;break}}return s}}class ABe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on($.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,a=r-this.lastDroppedFrames,o=n-this.lastDecodedFrames,l=1e3*a/s,c=this.hls;if(c.trigger($.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*o){let u=c.currentLevel;ae.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger($.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Ey="[eme]";class Hh{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Hh.CDMCleanupPromise?[Hh.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=ae.debug.bind(ae,Ey),this.log=ae.log.bind(ae,Ey),this.warn=ae.warn.bind(ae,Ey),this.error=ae.error.bind(ae,Ey),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on($.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off($.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===Rt.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(a,o,l)=>!!a&&l.indexOf(a)===o,i=n.map(a=>a.audioCodec).filter(r),s=n.map(a=>a.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,o)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,i,s).then(d=>a({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof Xi?o(d):o(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return MK===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=R$e(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let a=s==null?void 0:s.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),a=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),a.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),o.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),o.mediaKeys})}return a.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${ga.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return ga.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${ga.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=kS(this.config),s=e.map(tP).filter(a=>!!a&&i.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:a})=>{const o=rP(a);o?n(o):r(new Error(`Unable to find format for key-system "${a}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:a,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(a,o).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:n});return this.generateRequestWithPreferredKeySession(l,"cenc",n.pssh,"playlist-key")}))),s.catch(a=>this.handleError(a))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Xi?this.hls.trigger($.ERROR,e.data):this.hls.trigger($.ERROR,{type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=tP(e.keyFormat),s=i?[i]:kS(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=kS(this.config)),e.length===0)throw new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:r}=e,i=`"${e.type}" event: init data type: "${n}"`;if(this.debug(i),r===null)return;let s,a;if(n==="sinf"&&this.config.drmSystems[Rt.FAIRPLAY]){const d=Nn(new Uint8Array(r));try{const h=vw(JSON.parse(d).sinf),m=GK(new Uint8Array(h));if(!m)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s=m.subarray(8,24),a=Rt.FAIRPLAY}catch(h){this.warn(`${i} Failed to parse sinf: ${h}`);return}}else{const d=nUe(r),h=d.filter(m=>m.systemId===_f.WIDEVINE)[0];if(!h){d.length===0||d.some(m=>!m.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${d.map(m=>nP(m.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(a=nP(h.systemId),h.version===0&&h.data){const m=h.data.length-22;s=h.data.subarray(m,m+16)}}if(!a||!s)return;const o=ga.hexDump(s),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let u=l[o];for(let d=0;d<c.length;d++){const h=c[d],m=h.decryptdata;if(!m.keyId)continue;const g=ga.hexDump(m.keyId);if(o===g||m.uri.replace(/-/g,"").indexOf(o)!==-1){if(u=l[g],m.pssh)break;delete l[g],m.pssh=new Uint8Array(r),m.keyId=s,u=l[o]=u.then(()=>this.generateRequestWithPreferredKeySession(h,n,r,"encrypted-event-key-match"));break}}u||(u=l[o]=this.getKeySystemSelectionPromise([a]).then(({keySystem:d,mediaKeys:h})=>{var m;this.throwIfDestroyed();const g=new J1("ISO-23001-7",o,(m=rP(d))!=null?m:"");return g.pssh=new Uint8Array(r),g.keyId=s,this.attemptSetMediaKeys(d,h).then(()=>{this.throwIfDestroyed();const p=this.createMediaKeySessionContext({decryptdata:g,keySystem:d,mediaKeys:h});return this.generateRequestWithPreferredKeySession(p,n,r,"encrypted-event-no-match")})})),u.catch(d=>this.handleError(d))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,a;const o=(s=this.config.drmSystems)==null||(a=s[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const g=o.call(this.hls,n,r,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");n=g.initDataType,r=e.decryptdata.pssh=g.initData?new Uint8Array(g.initData):null}catch(g){var l;if(this.warn(g.message),(l=this.hls)!=null&&l.config.debug)throw g}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const u=new Rw,d=e._onmessage=g=>{const p=e.mediaKeysSession;if(!p){u.emit("error",new Error("invalid state"));return}const{messageType:_,message:y}=g;this.log(`"${_}" message event for session "${p.sessionId}" message size: ${y.byteLength}`),_==="license-request"||_==="license-renewal"?this.renewLicense(e,y).catch(v=>{this.handleError(v),u.emit("error",v)}):_==="license-release"?e.keySystem===Rt.FAIRPLAY&&(this.updateKeySession(e,n6("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${_}"`)},h=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const _=e.keyStatus;u.emit("keyStatus",_),_==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",h);const m=new Promise((g,p)=>{u.on("error",p),u.on("keyStatus",_=>{_.startsWith("usable")?g():_==="output-restricted"?p(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):_==="internal-error"?p(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${_}"`)):_==="expired"?p(new Error("key expired while generating request")):this.warn(`unhandled key status change "${_}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var g;this.log(`Request generated for key-session "${(g=e.mediaKeysSession)==null?void 0:g.sessionId}" keyId: ${c}`)}).catch(g=>{throw new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_SESSION,error:g,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>m).catch(g=>{throw u.removeAllListeners(),this.removeSession(e),g}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${ga.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${ga.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,o)=>{const l={responseType:"arraybuffer",url:s},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,m,g,p)=>{a(h.data)},onError:(h,m,g,p)=>{o(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:er({url:l.url,data:void 0},h)},`"${e}" certificate request failed (${s}). Status: ${h.code} (${h.text})`))},onTimeout:(h,m,g)=>{o(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(h,m,g)=>{o(new Error("aborted"))}};i.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(a=>{s(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let u;for(let d=0,h=s.length;d<h;d++){var a,o;u=s[d];const m=(a=u.querySelector("name"))==null?void 0:a.textContent,g=(o=u.querySelector("value"))==null?void 0:o.textContent;m&&g&&e.setRequestHeader(m,g)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return n6(atob(c))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(a=>{if(!r.decryptdata)throw a;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(a=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const a=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${a}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,o,a,e)}catch(u){this.error(u)}i(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||o.status>=400&&o.status<500)s(new Xi({type:ze.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${a}). Status: ${o.status} (${o.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,a,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==Rt.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},J1.clearKeyUriToKeyIdMap();const r=n.length;Hh.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}Hh.CDMCleanupPromise=void 0;class Xi extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var Sr;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(Sr||(Sr={}));var h6;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(h6||(h6={}));var uu;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(uu||(uu={}));const wBe={[uu.OBJECT]:["br","d","ot","tb"],[uu.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[uu.SESSION]:["cid","pr","sf","sid","st","v"],[uu.STATUS]:["bs","rtp"]};class Lm{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof Lm?r:new Lm(r))),this.value=e,this.params=n}}class RY{constructor(e){this.description=void 0,this.description=e}}const CBe="Dict";function IBe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function xBe(t,e,n,r){return new Error(`failed to ${t} "${IBe(e)}" as ${n}`,{cause:r})}const QP="Bare Item",LBe="Boolean",RBe="Byte Sequence",NBe="Decimal",OBe="Integer";function DBe(t){return t<-999999999999999||999999999999999<t}const PBe=/[\x00-\x1f\x7f]+/,MBe="Token",$Be="Key";function Ka(t,e,n){return xBe("serialize",t,e,n)}function UBe(t){if(typeof t!="boolean")throw Ka(t,LBe);return t?"?1":"?0"}function FBe(t){return btoa(String.fromCharCode(...t))}function BBe(t){if(ArrayBuffer.isView(t)===!1)throw Ka(t,RBe);return`:${FBe(t)}:`}function NY(t){if(DBe(t))throw Ka(t,OBe);return t.toString()}function jBe(t){return`@${NY(t.getTime()/1e3)}`}function OY(t,e){if(t<0)return-OY(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}function VBe(t){const e=OY(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Ka(t,NBe);const n=e.toString();return n.includes(".")?n:`${n}.0`}const HBe="String";function GBe(t){if(PBe.test(t))throw Ka(t,HBe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function qBe(t){return t.description||t.toString().slice(7,-1)}function XP(t){const e=qBe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Ka(e,MBe);return e}function m6(t){switch(typeof t){case"number":if(!Pe(t))throw Ka(t,QP);return Number.isInteger(t)?NY(t):VBe(t);case"string":return GBe(t);case"symbol":return XP(t);case"boolean":return UBe(t);case"object":if(t instanceof Date)return jBe(t);if(t instanceof Uint8Array)return BBe(t);if(t instanceof RY)return XP(t);default:throw Ka(t,QP)}}function p6(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Ka(t,$Be);return t}function Pw(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${p6(e)}`:`;${p6(e)}=${m6(n)}`).join("")}function DY(t){return t instanceof Lm?`${m6(t.value)}${Pw(t.params)}`:m6(t)}function zBe(t){return`(${t.value.map(DY).join(" ")})${Pw(t.params)}`}function WBe(t,e={whitespace:!0}){if(typeof t!="object")throw Ka(t,CBe);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof Lm||(s=new Lm(s));let a=p6(i);return s.value===!0?a+=Pw(s.params):(a+="=",Array.isArray(s.value)?a+=zBe(s):a+=DY(s)),a}).join(`,${r}`)}function KBe(t,e){return WBe(t,e)}const YBe=t=>t==="ot"||t==="sf"||t==="st",QBe=t=>typeof t=="number"?Pe(t):t!=null&&t!==""&&t!==!1;function XBe(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function ZBe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}const P2=t=>Math.round(t),JBe=(t,e)=>(e!=null&&e.baseUrl&&(t=XBe(t,e.baseUrl)),encodeURIComponent(t)),ky=t=>P2(t/100)*100,eje={br:P2,d:P2,bl:ky,dl:ky,mtp:ky,nor:JBe,rtp:ky,tb:P2};function tje(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),i=Ln({},eje,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(a=>{if(s!=null&&s(a))return;let o=t[a];const l=i[a];l&&(o=l(o,e)),!(a==="v"&&o===1)&&(a=="pr"&&o===1||QBe(o)&&(YBe(a)&&typeof o=="string"&&(o=new RY(o)),n[a]=o))}),n}function PY(t,e={}){return t?KBe(tje(t,e),Ln({whitespace:!1},e)):""}function nje(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(wBe).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=n.reduce((s,a)=>{var o,l;const[c,u]=a,d=((o=r.find(h=>h[1].includes(c)))==null?void 0:o[0])||uu.REQUEST;return(l=s[d])!=null||(s[d]={}),s[d][c]=u,s},{});return Object.entries(i).reduce((s,[a,o])=>(s[a]=PY(o,e),s),{})}function rje(t,e,n){return Ln(t,nje(e,n))}const ije="CMCD";function sje(t,e={}){if(!t)return"";const n=PY(t,e);return`${ije}=${encodeURIComponent(n)}`}const ZP=/CMCD=[^&#]+/;function aje(t,e,n){const r=sje(e,n);if(!r)return t;if(ZP.test(t))return t.replace(ZP,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class oje{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Sr.MANIFEST,su:!this.initialized})}catch(s){ae.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,a=this.hls.levels[s.level],o=this.getObjectType(s),l={d:s.duration*1e3,ot:o};(o===Sr.VIDEO||o===Sr.AUDIO||o==Sr.MUXED)&&(l.br=a.bitrate/1e3,l.tb=this.getTopBandwidth(o)/1e3,l.bl=this.getBufferLength(o)),this.apply(i,l)}catch(s){ae.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||ZBe(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHED,this.onMediaDetached,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHED,this.onMediaDetached,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:h6.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Ln(n,this.createData());const r=n.ot===Sr.INIT||n.ot===Sr.VIDEO||n.ot===Sr.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((s,a)=>(i.includes(a)&&(s[a]=n[a]),s),{})),this.useHeaders?(e.headers||(e.headers={}),rje(e.headers,n)):e.url=aje(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Sr.TIMED_TEXT;if(e.sn==="initSegment")return Sr.INIT;if(n==="audio")return Sr.AUDIO;if(n==="main")return this.hls.audioTracks.length?Sr.VIDEO:Sr.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===Sr.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,a=s>-1?s+1:i.levels.length;r=i.levels.slice(0,a)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===Sr.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:Lt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){n(s),this.loader.load(s,a,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){n(s),this.loader.load(s,a,o)}}}}const lje=3e5;class cje{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=ae.log.bind(ae,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===or.SendAlternateToPenaltyBox&&r.flags===xs.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,a=this.pathwayId;if(n.context){const{groupId:o,pathwayId:l,type:c}=n.context;o&&i?a=this.getPathwayForGroupId(o,c,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&i&&(s=i.reduce((o,l)=>(o.indexOf(l.pathwayId)===-1&&o.push(l.pathwayId),o),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==a),r.resolved||ae.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>lje&&delete r[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in r)continue;if(a===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(n=this.getLevelsForPathway(a),n.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,eY(n),this.hls.trigger($.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[o];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===st.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===st.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:a,"BASE-ID":o,"URI-REPLACEMENT":l}=s;if(n.some(u=>u.pathwayId===a))return;const c=this.getLevelsForPathway(o).map(u=>{const d=new Wt(u.attrs);d["PATHWAY-ID"]=a;const h=d.AUDIO&&`${d.AUDIO}_clone_${a}`,m=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;h&&(r[d.AUDIO]=h,d.AUDIO=h),m&&(i[d.SUBTITLES]=m,d.SUBTITLES=m);const g=MY(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),p=new Im({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:g,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let _=1;_<u.audioGroups.length;_++)p.addGroupId("audio",`${u.audioGroups[_]}_clone_${a}`);if(u.subtitleGroups)for(let _=1;_<u.subtitleGroups.length;_++)p.addGroupId("text",`${u.subtitleGroups[_]}_clone_${a}`);return p});n.push(...c),JP(this.audioTracks,r,l,a),JP(this.subtitleTracks,i,l,a)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const s={responseType:"json",url:i.href},a=n.steeringManifestLoadPolicy.default,o=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(u,d,h,m)=>{this.log(`Loaded steering manifest: "${i}"`);const g=u.data;if(g.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":p,"PATHWAY-CLONES":_,"PATHWAY-PRIORITY":y}=g;if(p)try{this.uri=new self.URL(p,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${p}`);return}this.scheduleRefresh(this.uri||h.url),_&&this.clonePathways(_);const v={steeringManifest:g,url:i.toString()};this.hls.trigger($.STEERING_MANIFEST_LOADED,v),y&&this.updatePathwayPriority(y)},onError:(u,d,h,m)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let g=this.timeToLoad*1e3;if(u.code===429){const p=this.loader;if(typeof(p==null?void 0:p.getResponseHeader)=="function"){const _=p.getResponseHeader("Retry-After");_&&(g=parseFloat(_)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,g)},onTimeout:(u,d,h)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function JP(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(a=>a.groupId===i).map(a=>{const o=Ln({},a);return o.details=void 0,o.attrs=new Wt(o.attrs),o.url=o.attrs.URI=MY(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=r,o});t.push(...s)})}function MY(t,e,n,r){const{HOST:i,PARAMS:s,[n]:a}=r;let o;e&&(o=a==null?void 0:a[e],o&&(t=o));const l=new self.URL(t);return i&&!o&&(l.host=i),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}const uje=/^age:\s*[\d.]+\s*$/im;class $Y{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new C_,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(a=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(a=>{this.callbacks.onError({code:r.status,text:a.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=r.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&Pe(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const a=n.status,o=n.responseType!=="text";if(a>=200&&a<300&&(o&&n.response||n.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=o?n.response:n.responseText,c=n.responseType==="arraybuffer"?l.byteLength:l.length;if(r.loaded=r.total=c,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const u=this.callbacks.onProgress;if(u&&u(r,e,l,n),!this.callbacks)return;const d={url:n.responseURL,data:l,code:a};this.callbacks.onSuccess(d,r,e,n)}else{const l=s.loadPolicy.errorRetry,c=r.retry,u={url:e.url,data:void 0,code:a};Bv(l,c,!1,u)?this.retry(l):(ae.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:n.statusText},e,n,r))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Bv(e,n,!0))this.retry(e);else{var r;ae.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=Sw(e,r.retry),r.retry++,ae.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&uje.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function dje(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const hje=/(\d+)-(\d+)\/(\d+)/;class eM{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||gje,this.controller=new self.AbortController,this.stats=new C_}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=mje(e,this.controller.signal),a=r.onProgress,o=e.responseType==="arraybuffer",l=o?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=c&&Pe(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const h=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},u-(h-i.loading.start)),!d.ok){const{status:m,statusText:g}=d;throw new yje(g||"fetch, bad network response",m,d)}return i.loading.first=h,i.total=fje(d.headers)||i.total,a&&Pe(n.highWaterMark)?this.loadProgressively(d,i,e,n.highWaterMark,a):o?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const h=this.response;if(!h)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const m=d[l];m&&(i.loaded=i.total=m);const g={url:h.url,data:d,code:h.status};a&&!Pe(n.highWaterMark)&&a(i,e,d,h),r.onSuccess(g,i,e,h)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const h=d&&d.code||0,m=d?d.message:null;r.onError({code:h,text:m},e,d?d.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const a=new iY,o=e.body.getReader(),l=()=>o.read().then(c=>{if(c.done)return a.dataLength&&s(n,r,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<i||a.dataLength?(a.push(u),a.dataLength>=i&&s(n,r,a.flush(),e)):s(n,r,u,e),l()}).catch(()=>Promise.reject());return l()}}function mje(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Ln({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function pje(t){const e=hje.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function fje(t){const e=t.get("Content-Range");if(e){const r=pje(e);if(Pe(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function gje(t,e){return new self.Request(t.url,e)}class yje extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const Tje=/\s/,vje={newCue(t,e,n,r){const i=[];let s,a,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(s=r.rows[h],o=!0,l=0,c="",!s.isEmpty()){var d;for(let p=0;p<s.chars.length;p++)Tje.test(s.chars[p].uchar)&&o?l++:(c+=s.chars[p].uchar,o=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const m=wY(c.trim()),g=Ow(e,n,m);t!=null&&(d=t.cues)!=null&&d.getCueById(g)||(a=new u(e,n,m),a.id=g,a.line=h+1,a.align="left",a.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((h,m)=>h.line==="auto"||m.line==="auto"?0:h.line>8&&m.line>8?m.line-h.line:h.line-m.line),i.forEach(h=>QK(t,h))),i}},_je={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},UY=er(er({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:$Y,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:WUe,bufferController:XFe,capLevelController:Dw,errorController:PUe,fpsController:ABe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:MK,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:_je},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},bje()),{},{subtitleStreamController:WFe,subtitleTrackController:YFe,timelineController:EBe,audioStreamController:qFe,audioTrackController:zFe,emeController:Hh,cmcdController:oje,contentSteeringController:cje});function bje(){return{cueHandler:vje,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Sje(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=f6(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const a=`${s==="level"?"playlist":s}LoadPolicy`,o=e[a]===void 0,l=[];i.forEach(c=>{const u=`${s}Loading${c}`,d=e[u];if(d!==void 0&&o){l.push(u);const h=n[a].default;switch(e[a]={default:h},c){case"TimeOut":h.maxLoadTimeMs=d,h.maxTimeToFirstByteMs=d;break;case"MaxRetry":h.errorRetry.maxNumRetry=d,h.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":h.errorRetry.retryDelayMs=d,h.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":h.errorRetry.maxRetryDelayMs=d,h.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&ae.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`)}),er(er({},n),e)}function f6(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(f6):Object.keys(t).reduce((e,n)=>(e[n]=f6(t[n]),e),{}):t}function Eje(t){const e=t.loader;e!==eM&&e!==$Y?(ae.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):dje()&&(t.loader=eM,t.progressive=!0,t.enableSoftwareAES=!0,ae.log("[config]: Progressive streaming enabled, using FetchLoader"))}let HS;class kje extends Ew{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},a={};let o=!1,l=!1,c=!1;n.levels.forEach(u=>{var d,h;const m=u.attrs;let{audioCodec:g,videoCodec:p}=u;((d=g)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(HS||(HS=/chrome|firefox/i.test(navigator.userAgent)),HS&&(u.audioCodec=g=void 0)),g&&(u.audioCodec=g=$v(g,r)),((h=p)==null?void 0:h.indexOf("avc1"))===0&&(p=u.videoCodec=uUe(p));const{width:_,height:y,unknownCodecs:v}=u;if(o||(o=!!(_&&y)),l||(l=!!p),c||(c=!!g),v!=null&&v.length||g&&!IS(g,"audio",r)||p&&!IS(p,"video",r))return;const{CODECS:E,"FRAME-RATE":x,"HDCP-LEVEL":C,"PATHWAY-ID":R,RESOLUTION:D,"VIDEO-RANGE":U}=m,V=`${`${R||"."}-`}${u.bitrate}-${D}-${x}-${E}-${U}-${C}`;if(s[V])if(s[V].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const X=a[V]+=1;u.attrs["PATHWAY-ID"]=new Array(X+1).join(".");const he=new Im(u);s[V]=he,i.push(he)}else s[V].addGroupId("audio",m.AUDIO),s[V].addGroupId("text",m.SUBTITLES);else{const X=new Im(u);s[V]=X,a[V]=1,i.push(X)}}),this.filterAndSortMediaOptions(i,n,o,l,c)}filterAndSortMediaOptions(e,n,r,i,s){let a=[],o=[],l=e;if((r||i)&&s&&(l=l.filter(({videoCodec:g,videoRange:p,width:_,height:y})=>(!!g||!!(_&&y))&&EUe(p))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const g=new Error("no level with compatible codecs found in manifest");this.hls.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:g,reason:g.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:g}=this.hls.config;a=n.audioTracks.filter(p=>!p.audioCodec||IS(p.audioCodec,"audio",g)),tM(a)}n.subtitles&&(o=n.subtitles,tM(o));const c=l.slice(0);l.sort((g,p)=>{if(g.attrs["HDCP-LEVEL"]!==p.attrs["HDCP-LEVEL"])return(g.attrs["HDCP-LEVEL"]||"")>(p.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&g.height!==p.height)return g.height-p.height;if(g.frameRate!==p.frameRate)return g.frameRate-p.frameRate;if(g.videoRange!==p.videoRange)return Uv.indexOf(g.videoRange)-Uv.indexOf(p.videoRange);if(g.videoCodec!==p.videoCodec){const _=lP(g.videoCodec),y=lP(p.videoCodec);if(_!==y)return y-_}if(g.uri===p.uri&&g.codecSet!==p.codecSet){const _=Mv(g.codecSet),y=Mv(p.codecSet);if(_!==y)return y-_}return g.averageBitrate!==p.averageBitrate?g.averageBitrate-p.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let g=0;g<c.length;g++)if(c[g].pathwayId===l[0].pathwayId){u=c[g];break}}this._levels=l;for(let g=0;g<l.length;g++)if(l[g]===u){var d;this._firstLevel=g;const p=u.bitrate,_=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${p}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const y=Math.min(p,this.hls.config.abrEwmaDefaultEstimateMax);y>_&&_===UY.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=y)}break}const h=s&&!i,m={levels:l,audioTracks:a,subtitleTracks:o,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:!h&&a.some(g=>!!g.url)};this.hls.trigger($.MANIFEST_PARSED,m),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger($.ERROR,{type:ze.OTHER_ERROR,details:de.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,a=n[e],o=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,r===e&&a.details&&i&&s===o)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${o?" with Pathway "+o:""} from level ${r}${s?" with Pathway "+s:""}`);const l={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger($.LEVEL_SWITCHING,l);const c=a.details;if(!c||c.live){const u=this.switchParams(a.uri,i==null?void 0:i.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===st.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Ve.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,a=this._levels[i];if(!a){var o;this.warn(`Invalid level index ${i}`),(o=n.deliveryDirectives)!=null&&o.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(a.fragmentError===0&&(a.loadError=0),this.playlistLoaded(i,n,a.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger($.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(a=>a.level=-1)),!1));eY(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger($.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger($.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function tM(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class Aje{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=de.KEY_LOAD_ERROR,r,i,s){return new oo({type:ze.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const a=n[s];if(i<=a.cc&&(r==="initSegment"||a.sn==="initSegment"||r<a.sn)){this.emeController.selectKeySystemFormat(a).then(o=>{a.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,c))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let o=this.keyUriToKeyInfo[a];if((r=o)!=null&&r.decryptdata.key)return s.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[a]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,o)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,m,g,p)=>{const{frag:_,keyInfo:y,url:v}=g;if(!_.decryptdata||y!==this.keyUriToKeyInfo[v])return o(this.createKeyLoadError(_,de.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),p));y.decryptdata.key=_.decryptdata.key=new Uint8Array(h.data),_.keyLoader=null,y.loader=null,a({frag:_,keyInfo:y})},onError:(h,m,g,p)=>{this.resetLoader(m),o(this.createKeyLoadError(n,de.KEY_LOAD_ERROR,new Error(`HTTP Error ${h.code} loading key ${h.text}`),g,er({url:l.url,data:void 0},h)))},onTimeout:(h,m,g)=>{this.resetLoader(m),o(this.createKeyLoadError(n,de.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(h,m,g)=>{this.resetLoader(m),o(this.createKeyLoadError(n,de.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};s.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function FY(){return self.SourceBuffer||self.WebKitSourceBuffer}function BY(){if(!Bu())return!1;const e=FY();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function wje(){if(!BY())return!1;const t=Bu();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(eg(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(eg(e,"audio"))))}function Cje(){var t;const e=FY();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Ije=250,M2=2,xje=.1,Lje=.05;class Rje{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:a,seeking:o}=i,l=this.seeking&&!o,c=!this.seeking&&o;if(this.seeking=o,a!==e){if(this.moved=!0,o||(this.nudgeRetry=0),s!==null){if(this.stallReported){const _=self.performance.now()-s;ae.warn(`playback not stuck anymore @${a}, after ${Math.round(_)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(i.paused&&!o||i.ended||i.playbackRate===0||!Lt.getBuffered(i).length){this.nudgeRetry=0;return}const u=Lt.bufferInfo(i,a,0),d=u.nextStart||0;if(o){const _=u.len>M2,y=!d||n&&n.start<=a||d-a>M2&&!this.fragmentTracker.getPartialFragment(a);if(_||y)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var h;if(!(u.len>0)&&!d)return;const y=Math.max(d,u.start||0)-a,v=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,x=(v==null||(h=v.details)==null?void 0:h.live)?v.details.targetduration*2:M2,C=this.fragmentTracker.getPartialFragment(a);if(y>0&&(y<=x||C)){i.paused||this._trySkipBufferHole(C);return}}const m=self.performance.now();if(s===null){this.stalled=m;return}const g=m-s;if(!o&&g>=Ije&&(this._reportStall(u),!this.media))return;const p=Lt.bufferInfo(i,a,r.maxBufferHole);this._tryFixBufferStall(p,g)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const a=s.currentTime,o=i.getPartialFragment(a);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-a<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(ae.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);ae.warn(s.message),n.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,a=Lt.bufferInfo(i,s,0),o=s<a.start?a.start:a.nextStart;if(o){const l=a.len<=n.maxBufferHole,c=a.len>0&&a.len<1&&i.readyState<3,u=o-s;if(u>0&&(l||c)){if(u>n.maxBufferHole){const{fragmentTracker:h}=this;let m=!1;if(s===0){const g=h.getAppendedFrag(0,Ve.MAIN);g&&o<g.end&&(m=!0)}if(!m){const g=e||h.getAppendedFrag(s,Ve.MAIN);if(g){let p=!1,_=g.end;for(;_<o;){const y=h.getPartialFragment(_);if(y)_+=y.duration;else{p=!0;break}}if(p)return 0}}}const d=Math.max(o+Lje,s+xje);if(ae.warn(`skipping hole, adjusting currentTime from ${s} to ${d}`),this.moved=!0,this.stalled=null,i.currentTime=d,e&&!e.gap){const h=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${d}`);r.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const a=s+(i+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${s} to ${a}`);ae.warn(o.message),r.currentTime=a,n.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const a=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);ae.error(a.message),n.trigger($.ERROR,{type:ze.MEDIA_ERROR,details:de.BUFFER_STALLED_ERROR,error:a,fatal:!0})}}}const Nje=100;class Oje extends ww{constructor(e,n,r){super(e,n,r,"[stream-controller]",Ve.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on($.ERROR,this.onError,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off($.ERROR,this.onError,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(Nje),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=ke.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=ke.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ke.WAITING_LEVEL:{const{levels:n,level:r}=this,i=n==null?void 0:n[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=ke.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ke.IDLE;break}break}case ke.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,a=i==null?void 0:i[s];this.resetStartWhenNotLoaded(a||null),this.state=ke.IDLE}}break}this.state===ke.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=e.nextLoadLevel;if(!(r!=null&&r[s]))return;const a=r[s],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const p={};this.altAudio&&(p.type="video"),this.hls.trigger($.BUFFER_EOS,p),this.state=ke.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=a.details;if(!c||this.state===ke.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a){this.level=s,this.state=ke.WAITING_LEVEL;return}const u=o.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:o.end;let m=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&m&&m.sn!=="initSegment"&&this.fragmentTracker.getState(m)!==Kn.OK){var g;const _=((g=this.backtrackFragment)!=null?g:m).sn-c.startSN,y=c.fragments[_-1];y&&m.cc===y.cc&&(m=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,h)){if(!m.gap){const _=this.audioOnly&&!this.altAudio?yt.AUDIO:yt.VIDEO,y=(_===yt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,_,Ve.MAIN)}m=this.getNextFragmentLoopLoading(m,c,o,Ve.MAIN,d)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,a,h))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Kn.NOT_LOADED||i===Kn.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Ve.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<s.targetduration*2)return}if(!n.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const a=this.getBufferedFrag(n.currentTime+r);if(a){const o=this.followingBufferedFrag(a);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,u=Math.max(a.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ke.KEY_LOADING:case ke.FRAG_LOADING:case ke.FRAG_LOADING_WAITING_RETRY:case ke.PARSING:case ke.PARSED:this.state=ke.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Rje(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;Pe(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger($.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,i=!1;n.levels.forEach(s=>{const a=s.audioCodec;a&&(r=r||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!Cje(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==ke.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=ke.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,a=n.details,o=a.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${o}`);const l=i[s],c=this.fragCurrent;c&&(this.state===ke.FRAG_LOADING||this.state===ke.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let u=0;if(a.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=a,this.levelLastLoaded=l,this.hls.trigger($.LEVEL_UPDATED,{details:a,level:s}),this.state===ke.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=ke.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const o=a[r.level],l=o.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=o.videoCodec,u=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,h=this._getAudioCodec(o),m=this.transmuxer=this.transmuxer||new _Y(this.hls,Ve.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,p=g!==-1,_=new kw(r.level,r.sn,r.stats.chunkCount,s.byteLength,g,p),y=this.initPTS[r.cc];m.push(s,d,h,c,r,i,l.totalduration,u,_,y)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger($.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,a=!1;for(const o in r){const l=r[o];if(l.id==="main"){if(s=o,i=l,o==="video"){const c=r[o];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==Ve.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ke.PARSED&&(this.state=ke.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=ke.ERROR;return}switch(n.details){case de.FRAG_GAP:case de.FRAG_PARSING_ERROR:case de.FRAG_DECRYPT_ERROR:case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ve.MAIN,n);break;case de.LEVEL_LOAD_ERROR:case de.LEVEL_LOAD_TIMEOUT:case de.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ke.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===st.LEVEL&&(this.state=ke.IDLE);break;case de.BUFFER_APPEND_ERROR:case de.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===de.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case de.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!Lt.getBuffered(e).length){const r=this.state!==ke.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=ke.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==yt.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===yt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Ve.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=Lt.getBuffered(e),a=(i.length?i.start(0):0)-r;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${a} to match buffer start`),r+=a,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=ke.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger($.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{video:d,text:h,id3:m,initSegment:g}=s,{details:p}=u,_=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=ke.PARSING,g){if(g!=null&&g.tracks){const E=l.initSegment||l;this._bufferInitSegment(u,g.tracks,E,a),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:E,id:r,tracks:g.tracks})}const y=g.initPTS,v=g.timescale;Pe(y)&&(this.initPTS[l.cc]={baseTime:y,timescale:v},i.trigger($.INIT_PTS_FOUND,{frag:l,id:r,initPTS:y,timescale:v}))}if(d&&p&&l.sn!=="initSegment"){const y=p.fragments[l.sn-1-p.startSN],v=l.sn===p.startSN,E=!y||l.cc>y.cc;if(s.independent!==!1){const{startPTS:x,endPTS:C,startDTS:R,endDTS:D}=d;if(c)c.elementaryStreams[d.type]={startPTS:x,endPTS:C,startDTS:R,endDTS:D};else if(d.firstKeyFrame&&d.independent&&a.id===1&&!E&&(this.couldBacktrack=!0),d.dropped&&d.independent){const U=this.getMainFwdBufferInfo(),K=(U?U.end:this.getLoadPosition())+this.config.maxBufferHole,V=d.firstKeyFramePTS?d.firstKeyFramePTS:x;if(!v&&K<V-this.config.maxBufferHole&&!E){this.backtrack(l);return}else E&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,C,l.start,D,!0)}else v&&x>M2&&(l.gap=!0);l.setElementaryStreamInfo(d.type,x,C,R,D),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,a,v||E)}else if(v||E)l.gap=!0;else{this.backtrack(l);return}}if(_){const{startPTS:y,endPTS:v,startDTS:E,endDTS:x}=_;c&&(c.elementaryStreams[yt.AUDIO]={startPTS:y,endPTS:v,startDTS:E,endDTS:x}),l.setElementaryStreamInfo(yt.AUDIO,y,v,E,x),this.bufferFragmentData(_,l,c,a)}if(p&&m!=null&&(n=m.samples)!=null&&n.length){const y={id:r,frag:l,details:p,samples:m.samples};i.trigger($.FRAG_PARSING_METADATA,y)}if(p&&h){const y={id:r,frag:l,details:p,samples:h.samples};i.trigger($.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,r,i){if(this.state!==ke.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:a,audiovideo:o}=n;if(s){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=s.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),this.hls.trigger($.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const u=n[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger($.BUFFER_APPENDING,{type:l,data:u,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Ve.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ke.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(Lt.isBuffered(e,r)?n=this.getAppendedFrag(r):Lt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger($.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger($.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&Pe(n)&&Pe(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Ul{static get version(){return"1.5.17"}static isMSESupported(){return BY()}static isSupported(){return wje()}static getMediaSource(){return Bu()}static get Events(){return $}static get ErrorTypes(){return ze}static get ErrorDetails(){return de}static get DefaultConfig(){return Ul.defaultConfig?Ul.defaultConfig:UY}static set DefaultConfig(e){Ul.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Rw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,b$e(e.debug||!1,"Hls instance");const n=this.config=Sje(Ul.DefaultConfig,e);this.userConfig=e,n.progressive&&Eje(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:a,fpsController:o}=n,l=new a(this),c=this.abrController=new r(this),u=this.bufferController=new i(this),d=this.capLevelController=new s(this),h=new o(this),m=new fUe(this),g=new _Ue(this),p=n.contentSteeringController,_=p?new p(this):null,y=this.levelController=new kje(this,_),v=new YUe(this),E=new Aje(this.config),x=this.streamController=new Oje(this,v,E);d.setStreamController(x),h.setStreamController(x);const C=[m,y,x];_&&C.splice(1,0,_),this.networkControllers=C;const R=[c,u,d,h,g,v];this.audioTrackController=this.createController(n.audioTrackController,C);const D=n.audioStreamController;D&&C.push(new D(this,v,E)),this.subtitleTrackController=this.createController(n.subtitleTrackController,C);const U=n.subtitleStreamController;U&&C.push(new U(this,v,E)),this.createController(n.timelineController,R),E.emeController=this.emeController=this.createController(n.emeController,R),this.cmcdController=this.createController(n.cmcdController,R),this.latencyController=this.createController(bUe,R),this.coreComponents=R,C.push(l);const K=l.onErrorOut;typeof K=="function"&&this.on($.ERROR,K,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(ae.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===$.ERROR;this.trigger($.ERROR,{type:ze.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){ae.log("destroy"),this.trigger($.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){ae.log("attachMedia"),this._media=e,this.trigger($.MEDIA_ATTACHING,{media:e})}detachMedia(){ae.log("detachMedia"),this.trigger($.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=Tw.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,ae.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger($.MANIFEST_LOADING,{url:e})}startLoad(e=-1){ae.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){ae.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){ae.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){ae.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){ae.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){ae.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){ae.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){ae.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){ae.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(ae.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){SUe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Ul.defaultConfig=void 0;const Dje=bt.video`
    object-fit: contain;
    width: 100%;
    height: 100%;
`,Pje=bt.iframe`
    object-fit: contain;
    width: 100%;
    height: 100%;
    border: none;
    margin: 0;
    padding: 0;
`,Mje=bt.div`
    width: 100%;
    padding-top: 28.125%;
    padding-bottom: 28.125%;
    text-align: center;

    > img {
        width: 60px;
        height: 60px;

        animation: spin 2s linear infinite;

        @keyframes spin {
            from {
                transform:rotate(0deg);
            }
            to {
                transform:rotate(360deg);
            }
        }
    }
`,$je=bt.div`
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    backdrop-filter: blur(1px);
    cursor: pointer;

    display: flex;
    align-items: center;
    justify-content: center;
`,Uje=({interacted:t,setInteracted:e,muted:n})=>{const r=N.useRef(),i=N.useRef(),s=jm(),[a,o]=N.useState(""),[l,c]=N.useState(!1);return N.useEffect(()=>{if(s)return s.streamSummary().subscribe(u=>{var d,h;(h=(d=u.data)==null?void 0:d.summary)!=null&&h.stream&&o(u.data.summary.stream)})},[s]),N.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),N.useEffect(()=>{if(a&&a.includes("m3u8"))if(Ul.isSupported()&&r.current){const u=new Ul({debug:!1});u.loadSource(a),u.attachMedia(r.current)}else o("");r.current&&(r.current.volume=.1,r.current.play().then(()=>e(!0)).catch(()=>{c(!0)}))},[a]),N.useEffect(()=>{var u;t&&l&&((u=r.current)==null||u.play())},[t,l]),a?a.includes("player.castr.com")?S.jsx(Pje,{src:`${a}?loop=on&fullscreen=off&airplay=off&cast=off&pip=off`,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allow:"autoplay"}):S.jsxs(S.Fragment,{children:[S.jsx(Dje,{src:a,ref:r,muted:n,autoPlay:!0,loop:!0,playsInline:!0,controls:!0,controlsList:"nodownload nofullscreen noremoteplayback"}),!t&&l&&S.jsx($je,{children:"Click to start"})]}):S.jsx(Mje,{children:S.jsx("img",{src:"https://cdn.streamlayer.io/sdk-web-demo/loader.png"})})};var Fje={};const wc=Fje.SL_DEBUG==="true",Bje=bt.div`
  ${wc&&"background: green;"}
  width: 100%;
  height: 100%;

  display: flex;

  --banner-height: 155px;
  --banner-padding: 17px;
  --sidebar-width: 450px;
  --video-player-position: absolute;
  --transition-duration: .5s;

  --show-in-animation: show-in .3s ease forwards var(--transition-duration);

  @keyframes show-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
  }

  ${Fu(`
    --banner-height: 95px;
    --banner-padding: 10px;
    --sidebar-width: 300px;
  `)}

  ${Ws(`
    flex-direction: column;
    height: auto;

    --video-player-position: static;
    --banner-height: 0px;
    --banner-padding: 0px;
    --sidebar-width: 0px;
  `)}
`,jje=bt.div`
  ${wc&&"background: blue;"}
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;

  transition: width .5s ease;
`,Vje=bt.div`
  ${wc&&"background: orange;"}
  overflow: hidden;

  transition: width .5s ease;
`,Hje=bt.div`
  ${wc&&"background: purple;"}
  margin: auto;
  width: 100%;
  max-width: 450px;
  display: block;

  @keyframes grow-in-sidebar {
      from {
          max-width: 0px;
      }
      to {
          max-width: 450px;
      }
  }
`,Gje=bt.div`
  ${wc&&"background: yellow;"}
  width: 100%;

  transition: height .5s ease;
  box-sizing: border-box;
`,qje=bt.div`
  ${wc&&"background: red;"}
  flex: 1 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: height .5s ease;
`,zje=bt.div`
  width: 100%;
  aspect-ratio: 16/9;
  position: relative;
`,Wje=bt.div`
  ${wc&&"background: black;"}
  position: var(--video-player-position);
  height: 100%;
  inset: 0;
`,Kje=bt.div`
   position: absolute;
    bottom: 41px;
    left: 56px;
    z-index: 11;
    background: transparent;
    flex-shrink: 0;
    max-width: 450px;
    max-height: min(640px, 100%);
    display: flex;
    border-radius: 24px;
    overflow: hidden;
    width: 100%;

    .PromoOverlayContainer {
        animation: grow-in-overlay .3s ease forwards;
        transform-origin: bottom;

        @keyframes grow-in-overlay {
            from {
                transform: scaleY(0);
            }
            to {
                transform: scaleY(1);
            }
        }

        > div {
            opacity: 0;
            animation: show-in-overlay .3s ease forwards .3s;

            @keyframes show-in-overlay {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
        }
    }

    > div {
        max-width: 100%;
        width: 100%;
    }

    .PromoOverlay {
        max-height: 640px;

        ${Fu(`
            max-height: min(377px, calc(100dvh - 16px));
        `)}
    }

    ${Fu(`
        max-width: 300px;
        max-height: min(377px, calc(100dvh - 16px));
        left: 16px;
        bottom: 8px;
    `)}
`,Yje=bt.div`
  position: absolute;
  width: 100%;
  bottom: 0;
  left: 0;

  ${wc&&"background: brown;"}

  ${Ws(`
      position: static;
      margin-top: -4px;
  `)}

  .SL_Rich_Notification {
    margin-left: 56px;
    margin-bottom: 20px;

    ${Fu(`
      margin-left: 32px;
      margin-bottom: -4px;
    `)}

    ${Ws(`
        margin-top: -35px;
        margin-left: 8px;
        margin-right: 8px;
    `)}
  }

  .SL_Lower_Third_Notification {
    ${Ws(`
      transform: translateY(-100%);
    `)}

    @media only screen and (max-width: 768px) and (orientation: portrait) {
      transform: translateY(0);
    }
  }
`,Qje=bt.div`
  position: absolute;
  top: 15px;
  left: 15px;
`,Xje=bt.div`
  position: absolute;
  bottom: 20px;
  left: 20px;
`;var jY="Expected a function",nM=NaN,Zje="[object Symbol]",Jje=/^\s+|\s+$/g,eVe=/^[-+]0x[0-9a-f]+$/i,tVe=/^0b[01]+$/i,nVe=/^0o[0-7]+$/i,rVe=parseInt,iVe=typeof a0=="object"&&a0&&a0.Object===Object&&a0,sVe=typeof self=="object"&&self&&self.Object===Object&&self,aVe=iVe||sVe||Function("return this")(),oVe=Object.prototype,lVe=oVe.toString,cVe=Math.max,uVe=Math.min,GS=function(){return aVe.Date.now()};function dVe(t,e,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(jY);e=rM(e)||0,qv(n)&&(u=!!n.leading,d="maxWait"in n,s=d?cVe(rM(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(R){var D=r,U=i;return r=i=void 0,c=R,a=t.apply(U,D),a}function g(R){return c=R,o=setTimeout(y,e),u?m(R):a}function p(R){var D=R-l,U=R-c,K=e-D;return d?uVe(K,s-U):K}function _(R){var D=R-l,U=R-c;return l===void 0||D>=e||D<0||d&&U>=s}function y(){var R=GS();if(_(R))return v(R);o=setTimeout(y,p(R))}function v(R){return o=void 0,h&&r?m(R):(r=i=void 0,a)}function E(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function x(){return o===void 0?a:v(GS())}function C(){var R=GS(),D=_(R);if(r=arguments,i=this,l=R,D){if(o===void 0)return g(l);if(d)return o=setTimeout(y,e),m(l)}return o===void 0&&(o=setTimeout(y,e)),a}return C.cancel=E,C.flush=x,C}function hVe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jY);return qv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dVe(t,e,{leading:r,maxWait:e,trailing:i})}function qv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function mVe(t){return!!t&&typeof t=="object"}function pVe(t){return typeof t=="symbol"||mVe(t)&&lVe.call(t)==Zje}function rM(t){if(typeof t=="number")return t;if(pVe(t))return nM;if(qv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Jje,"");var n=tVe.test(t);return n||nVe.test(t)?rVe(t.slice(2),n?2:8):eVe.test(t)?nM:+t}var fVe=hVe;const gVe=iM(fVe),yVe=()=>{const[t,e]=N.useState("desktop");return N.useEffect(()=>{const n=gVe(()=>{const r=window.innerWidth,i=window.innerHeight,s=r>i?"landscape":"portrait";e(r<1024&&s==="portrait"?"mobile":"desktop")},200);return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t},TVe=({mode:t,interacted:e,points:n,sidebar:r,overlay:i,appNotification:s,adNotification:a,banner:o,video:l})=>{const c=G3(),u=N.useRef(null),d=N.useRef(null),h=N.useCallback(()=>{const x=d.current,C=u.current;if(!x||!C)return;const{width:R,height:D}=x.getBoundingClientRect(),{width:U,height:K}=C.getBoundingClientRect();(R>U||D>K)&&(x.style.width==="100%"?(x.style.height="100%",x.style.width="auto"):(x.style.width="100%",x.style.height="auto"))},[]);N.useEffect(()=>{if(u.current){const x=new ResizeObserver(C=>{for(const R of C)R.contentBoxSize&&h()});return x.observe(u.current),()=>{x.disconnect()}}},[]),N.useEffect(h);const m=yVe();let g=(t==="l-bar"||t==="side-panel")&&(c.app||c.promotionSidebar),p=t==="overlay"&&(c.promotionOverlay||c.promotionSidebar);const _=t==="l-bar"&&c.promotionBanner,y=c.promotionNotification&&!c.onboardingNotification,v=c.appNotification||c.onboardingNotification;let E=c.promotionBanner||c.promotionOverlay||c.promotionSidebar||c.promotionNotification;return!e&&c.promotionExternalAd&&(g=!1,p=!1,E=!1),S.jsxs(Bje,{className:"Container",children:[S.jsxs(jje,{className:"ContentContainer",style:{width:g?"calc(100% - var(--sidebar-width))":"100%"},children:[S.jsx(qje,{className:"VideoContainer",ref:u,style:{height:t==="l-bar"?"calc(100% - var(--banner-height))":"100%"},children:S.jsxs(zje,{ref:d,className:"VideoBox",children:[S.jsx(Wje,{className:"VideoPlayer",children:l}),!E&&S.jsx(Qje,{children:n}),v&&s&&S.jsx(Xje,{children:s})]})}),S.jsx(Gje,{className:"Banner",style:{height:_?"var(--banner-height)":"0px",padding:_?"var(--banner-padding)":"0px"},children:_&&o}),y&&a&&S.jsx(Yje,{children:a}),p&&m==="desktop"&&S.jsx(Kje,{className:"Overlay",children:i})]}),m==="desktop"&&S.jsx(Vje,{style:{width:g?"var(--sidebar-width)":"0px"},className:"Sidebar",children:g&&r}),(g||p)&&m==="mobile"&&S.jsx(Hje,{className:"Demo-SideBarOverlay",children:i})]})},vVe=()=>{const t=jm();return N.useEffect(()=>{t==null||t.anonymousAuthorization()},[t]),null},_Ve=bt.div`
    width: 100dvw;
    height: 100dvh;
    background: rgba(0, 22, 43, 0.90);
`,bVe=bt.div`
    height: calc(100% - var(--nav-bar-height));

    .SL-AdvertisementUIWrap {
        font-size: 24px !important;

        ${Fu(`
            font-size: 16px !important;
        `)}
    }
`,SVe=bt.div`
    backdrop-filter: blur(1px);
`,EVe=new Set([rMe]);function kVe(){const[t,e]=N.useState("side-panel"),[n,r]=N.useState("dark"),[i,s]=N.useState(!1),[a,o]=N.useState(!1),[l,c]=N.useState(!1),u=N.useCallback(g=>{g.target instanceof HTMLButtonElement&&e(g.target.name),g.target instanceof HTMLSelectElement&&e(g.target.value)},[]),d=N.useCallback(g=>{g.target instanceof HTMLButtonElement&&r(g.target.name),g.target instanceof HTMLSelectElement&&r(g.target.value)},[]),h=({stage:g,type:p})=>{console.log("onContentActivate",{stage:g,type:p}),s(g==="activate"&&p==="advertisement")},m=({muted:g})=>{console.log("videoPlayerController",g),o(g)};return N.useEffect(()=>{const g=window.localStorage.getItem("with-theme"),p=window.localStorage.getItem("SL_DEBUG");g&&window.localStorage.setItem("with-theme",g),p&&window.localStorage.setItem("SL_DEBUG",p)},[]),S.jsxs(_Ve,{className:GMe("app-container",n),onClick:()=>c(!0),children:[S.jsx(h$e,{mode:t,tabs:i,toggleMode:u,theme:n,toggleTheme:d}),S.jsxs(Gbe,{themeMode:n==="dark"?"dark":"light",videoPlayerController:m,onContentActivate:h,plugins:EVe,withAdNotification:!0,sdkKey:qMe,theme:"custom-theme",production:RK,event:Jk,children:[S.jsx(vVe,{}),S.jsx(bVe,{children:S.jsx(TVe,{mode:t,interacted:l,points:S.jsx(SVe,{children:S.jsx(AEe,{})}),sidebar:S.jsxs(S.Fragment,{children:[S.jsx(xR,{withSidebarNotification:!1}),S.jsx(vd,{sidebar:"right",persistent:!0,skipTypeCheck:!0}),l&&S.jsx(vd,{sidebar:"right",persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),banner:S.jsx(vd,{banner:"bottom",persistent:!0}),video:S.jsx(Uje,{setInteracted:c,muted:a,interacted:l}),overlay:S.jsxs(S.Fragment,{children:[S.jsx(xR,{withSidebarNotification:!1}),S.jsx(vd,{persistent:!0,skipTypeCheck:!0}),l&&S.jsx(vd,{persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),appNotification:S.jsx(pEe,{}),adNotification:S.jsx(vd,{notification:!0,persistent:!0})})})]})]})}qS.createRoot(document.getElementById("root")).render(S.jsx(kVe,{}));const VY=Object.freeze(Object.defineProperty({__proto__:null,default:$3e},Symbol.toStringTag,{value:"Module"}));
